(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8715],{71039:(e,t,r)=>{"use strict";r.d(t,{TE:()=>a,U4:()=>f,Xk:()=>c,Y1:()=>O,_x:()=>d,hE:()=>g,l5:()=>y,ph:()=>b,vp:()=>l,x4:()=>_});var n=r(92336),i=r(69183),o=r(69341);function a(e,t,r,n){var i=e-r,o=t-n;return Math.sqrt(i*i+o*o)}function s(e,t){var r=Math.min.apply(Math,(0,n.ev)([],(0,n.CR)(e),!1)),i=Math.min.apply(Math,(0,n.ev)([],(0,n.CR)(t),!1));return{x:r,y:i,width:Math.max.apply(Math,(0,n.ev)([],(0,n.CR)(e),!1))-r,height:Math.max.apply(Math,(0,n.ev)([],(0,n.CR)(t),!1))-i}}function l(e,t,r,n,i,o,a){for(var s=Math.atan(-n/r*Math.tan(i)),l=1/0,u=-1/0,c=[o,a],f=-(2*Math.PI);f<=2*Math.PI;f+=Math.PI){var d=s+f;o<a?o<d&&d<a&&c.push(d):a<d&&d<o&&c.push(d)}for(var f=0;f<c.length;f++){var p,h=r*Math.cos(i)*Math.cos(p=c[f])-n*Math.sin(i)*Math.sin(p)+e;h<l&&(l=h),h>u&&(u=h)}for(var y=Math.atan(n/(r*Math.tan(i))),b=1/0,g=-1/0,m=[o,a],f=-(2*Math.PI);f<=2*Math.PI;f+=Math.PI){var v=y+f;o<a?o<v&&v<a&&m.push(v):a<v&&v<o&&m.push(v)}for(var f=0;f<m.length;f++){var _,O=r*Math.sin(i)*Math.cos(_=m[f])+n*Math.cos(i)*Math.sin(_)+t;O<b&&(b=O),O>g&&(g=O)}return{x:l,y:b,width:u-l,height:g-b}}function u(e,t,r,i,o,s){var l=-1,u=1/0,c=[r,i],f=20;s&&s>200&&(f=s/10);for(var d=1/f,p=d/10,h=0;h<=f;h++){var y=h*d,b=[o.apply(void 0,(0,n.ev)([],(0,n.CR)(e.concat([y])),!1)),o.apply(void 0,(0,n.ev)([],(0,n.CR)(t.concat([y])),!1))],g=a(c[0],c[1],b[0],b[1]);g<u&&(l=y,u=g)}if(0===l)return{x:e[0],y:t[0]};if(1===l){var m=e.length;return{x:e[m-1],y:t[m-1]}}u=1/0;for(var h=0;h<32&&!(p<1e-4);h++){var v=l-p,_=l+p,b=[o.apply(void 0,(0,n.ev)([],(0,n.CR)(e.concat([v])),!1)),o.apply(void 0,(0,n.ev)([],(0,n.CR)(t.concat([v])),!1))],g=a(c[0],c[1],b[0],b[1]);if(v>=0&&g<u)l=v,u=g;else{var O=[o.apply(void 0,(0,n.ev)([],(0,n.CR)(e.concat([_])),!1)),o.apply(void 0,(0,n.ev)([],(0,n.CR)(t.concat([_])),!1))],w=a(c[0],c[1],O[0],O[1]);_<=1&&w<u?(l=_,u=w):p*=.5}}return{x:o.apply(void 0,(0,n.ev)([],(0,n.CR)(e.concat([l])),!1)),y:o.apply(void 0,(0,n.ev)([],(0,n.CR)(t.concat([l])),!1))}}function c(e,t,r,n){return a(e,t,r,n)}function f(e,t,r,n,i){return{x:(1-i)*e+i*r,y:(1-i)*t+i*n}}function d(e,t,r,n,i,a){var s=[r-e,n-t];if(o.I6(s,[0,0]))return Math.sqrt((i-e)*(i-e)+(a-t)*(a-t));var l=[-s[1],s[0]];return o.Fv(l,l),Math.abs(o.AK([i-e,a-t],l))}function p(e,t,r,n,i){var o=1-i;return o*o*o*e+3*t*i*o*o+3*r*i*i*o+n*i*i*i}function h(e,t,r,n){var o,a,s,l=-3*e+9*t-9*r+3*n,u=6*e-12*t+6*r,c=3*t-3*e,f=[];if((0,i.Z)(l,0))!(0,i.Z)(u,0)&&(o=-c/u)>=0&&o<=1&&f.push(o);else{var d=u*u-4*l*c;(0,i.Z)(d,0)?f.push(-u/(2*l)):d>0&&(o=(-u+(s=Math.sqrt(d)))/(2*l),a=(-u-s)/(2*l),o>=0&&o<=1&&f.push(o),a>=0&&a<=1&&f.push(a))}return f}function y(e,t,r,n,i,o,a,l){for(var u=[e,a],c=[t,l],f=h(e,r,i,a),d=h(t,n,o,l),y=0;y<f.length;y++)u.push(p(e,r,i,a,f[y]));for(var y=0;y<d.length;y++)c.push(p(t,n,o,l,d[y]));return s(u,c)}function b(e,t,r,n,i,o,s,l,c,f,d){var h=u([e,r,i,s],[t,n,o,l],c,f,p,d);return a(h.x,h.y,c,f)}function g(e){return function(e){if(e.length<2)return 0;for(var t=0,r=0;r<e.length-1;r++){var n=e[r],i=e[r+1];t+=a(n[0],n[1],i[0],i[1])}return t}(e)}function m(e,t,r,n){var i=1-n;return i*i*e+2*n*i*t+n*n*r}function v(e,t,r){var n=e+r-2*t;if((0,i.Z)(n,0))return[.5];var o=(e-t)/n;return o<=1&&o>=0?[o]:[]}function _(e,t,r,n,i,o){var a=v(e,r,i)[0],l=v(t,n,o)[0],u=[e,i],c=[t,o];return void 0!==a&&u.push(m(e,r,i,a)),void 0!==l&&c.push(m(t,n,o,l)),s(u,c)}function O(e,t,r,n,i,o,s,l){var c=u([e,r,i],[t,n,o],s,l,m);return a(c.x,c.y,s,l)}},58028:(e,t,r)=>{"use strict";r.d(t,{kL:()=>mi});var n,i,o,a,s,l={};r.r(l),r.d(l,{geoAlbers:()=>d6.Z,geoAlbersUsa:()=>d3.Z,geoAzimuthalEqualArea:()=>d8.Z,geoAzimuthalEqualAreaRaw:()=>d8.l,geoAzimuthalEquidistant:()=>d9.Z,geoAzimuthalEquidistantRaw:()=>d9.N,geoConicConformal:()=>d7.Z,geoConicConformalRaw:()=>d7.l,geoConicEqualArea:()=>pe.Z,geoConicEqualAreaRaw:()=>pe.v,geoConicEquidistant:()=>pt.Z,geoConicEquidistantRaw:()=>pt.o,geoEqualEarth:()=>pr.Z,geoEqualEarthRaw:()=>pr.i,geoEquirectangular:()=>pn.Z,geoEquirectangularRaw:()=>pn.k,geoGnomonic:()=>pi.Z,geoGnomonicRaw:()=>pi.M,geoIdentity:()=>po.Z,geoMercator:()=>ps.ZP,geoMercatorRaw:()=>ps.hk,geoNaturalEarth1:()=>pl.Z,geoNaturalEarth1Raw:()=>pl.K,geoOrthographic:()=>pu.Z,geoOrthographicRaw:()=>pu.I,geoProjection:()=>pa.Z,geoProjectionMutator:()=>pa.r,geoStereographic:()=>pc.Z,geoStereographicRaw:()=>pc.T,geoTransverseMercator:()=>pf.Z,geoTransverseMercatorRaw:()=>pf.F});var u={};r.r(u),r.d(u,{frequency:()=>ha,id:()=>hs,name:()=>hl,weight:()=>ho});var c={};r.r(c),r.d(c,{area:()=>bm,bottom:()=>bx,bottomLeft:()=>bx,bottomRight:()=>bx,inside:()=>bx,left:()=>bx,outside:()=>bk,right:()=>bx,spider:()=>bA,surround:()=>bM,top:()=>bx,topLeft:()=>bx,topRight:()=>bx});let f=()=>[["cartesian"]];f.props={};let d=(e={})=>Object.assign(Object.assign({},{startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,outerRadius:1}),e),p=e=>{let{startAngle:t,endAngle:r,innerRadius:n,outerRadius:i}=d(e);return[["translate",0,.5],["reflect.y"],["translate",0,-.5],["polar",t,r,n,i]]};p.props={};let h=()=>[["transpose"],["translate",.5,.5],["reflect.x"],["translate",-.5,-.5]];h.props={transform:!0};let y=(e={})=>Object.assign(Object.assign({},{startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,outerRadius:1}),e),b=e=>{let{startAngle:t,endAngle:r,innerRadius:n,outerRadius:i}=y(e);return[...h(),...p({startAngle:t,endAngle:r,innerRadius:n,outerRadius:i})]};b.props={};let g=()=>[["parallel",0,1,0,1]];g.props={};let m=({focusX:e=0,focusY:t=0,distortionX:r=2,distortionY:n=2,visual:i=!1})=>[["fisheye",e,t,r,n,i]];m.props={transform:!0};let v=(e={})=>Object.assign(Object.assign({},{startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,outerRadius:1}),e),_=e=>{let{startAngle:t,endAngle:r,innerRadius:n,outerRadius:i}=v(e);return[["transpose"],["translate",.5,.5],["reflect"],["translate",-.5,-.5],...p({startAngle:t,endAngle:r,innerRadius:n,outerRadius:i})]};_.props={};let O=e=>{let{startAngle:t=-Math.PI/2,endAngle:r=3*Math.PI/2,innerRadius:n=0,outerRadius:i=1}=e;return[...g(),...p({startAngle:t,endAngle:r,innerRadius:n,outerRadius:i})]};O.props={};let w=({value:e})=>t=>t.map(()=>e);w.props={};let S=({value:e})=>t=>t.map(t=>t[e]);S.props={};let E=({value:e})=>t=>t.map(e);E.props={};let x=({value:e})=>()=>e;x.props={};var P=r(53746);function j(e,t){if(null!==e)return{type:"column",value:e,field:t}}function T(e,t){return Object.assign(Object.assign({},j(e,t)),{inferred:!0})}function k(e,t){if(null!==e)return{type:"column",value:e,field:t,visual:!0}}function C(e,t){let r=[];for(let n of e)r[n]=t;return r}function A(e,t){let r=e[t];if(!r)return[null,null];let{value:n,field:i=null}=r;return[n,i]}function R(e,...t){for(let r of t){if("string"!=typeof r)return[r,null];{let[t,n]=A(e,r);if(null!==t)return[t,n]}}return[null,null]}function M(e){return!(e instanceof Date)&&"object"==typeof e}let I=()=>(e,t)=>{let{encode:r}=t,{y1:n}=r;return void 0!==n?[e,t]:[e,(0,P.Z)({},t,{encode:{y1:T(C(e,0))}})]};I.props={};let N=()=>(e,t)=>{let{encode:r}=t,{x:n}=r;return void 0!==n?[e,t]:[e,(0,P.Z)({},t,{encode:{x:T(C(e,0))},scale:{x:{guide:null}}})]};N.props={};var L=r(49055);function D(e){let{transformations:t}=e.getOptions();return t.map(([e])=>e).filter(e=>"transpose"===e).length%2!=0}function z(e){let{transformations:t}=e.getOptions();return t.some(([e])=>"polar"===e)}function F(e){let{transformations:t}=e.getOptions();return t.some(([e])=>"reflect"===e)&&t.some(([e])=>e.startsWith("transpose"))}function B(e){let{transformations:t}=e.getOptions();return t.some(([e])=>"helix"===e)}function U(e){let{transformations:t}=e.getOptions();return t.some(([e])=>"parallel"===e)}function W(e){let{transformations:t}=e.getOptions();return t.some(([e])=>"fisheye"===e)}function Z(e){return B(e)||z(e)}function V(e){let{transformations:t}=e.getOptions(),[,,,r,n]=t.find(e=>"polar"===e[0]);return[+r,+n]}function q(e,t=!0){let{transformations:r}=e.getOptions(),[,n,i]=r.find(e=>"polar"===e[0]);return t?[180*+n/Math.PI,180*+i/Math.PI]:[n,i]}var $=r(18139),H=r(94154),G=r(54335),Y=r(50411),K=r(2786),X=r(92401),Q=r(62329),J=function(e){function t(){var t=e.apply(this,(0,H.ev)([],(0,H.CR)(arguments),!1))||this;return t.landmarks=[],t}return(0,H.ZT)(t,e),t.prototype.rotate=function(e,t,r){if(this.relElevation=(0,$._O)(t),this.relAzimuth=(0,$._O)(e),this.relRoll=(0,$._O)(r),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===$.iM.EXPLORING){var n=K.yY(K.Ue(),[1,0,0],(0,$.Vl)((this.rotateWorld?1:-1)*this.relElevation)),i=K.yY(K.Ue(),[0,1,0],(0,$.Vl)((this.rotateWorld?1:-1)*this.relAzimuth)),o=K.yY(K.Ue(),[0,0,1],(0,$.Vl)(this.relRoll)),a=K.Jp(K.Ue(),i,n);a=K.Jp(K.Ue(),a,o);var s=X.fromQuat(X.create(),a);X.translate(this.matrix,this.matrix,[0,0,-this.distance]),X.multiply(this.matrix,this.matrix,s),X.translate(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===$.iM.ORBITING||this.type===$.iM.EXPLORING?this._getPosition():this.type===$.iM.TRACKING&&this._getFocalPoint(),this._update(),this},t.prototype.pan=function(e,t){var r=(0,$.O4)(e,t,0),n=Q.d9(this.position);return Q.IH(n,n,Q.bA(Q.Ue(),this.right,r[0])),Q.IH(n,n,Q.bA(Q.Ue(),this.up,r[1])),this._setPosition(n),this.triggerUpdate(),this},t.prototype.dolly=function(e){var t=this.forward,r=Q.d9(this.position),n=e*this.dollyingStep;return n=Math.max(Math.min(this.distance+e*this.dollyingStep,this.maxDistance),this.minDistance)-this.distance,r[0]+=n*t[0],r[1]+=n*t[1],r[2]+=n*t[2],this._setPosition(r),this.type===$.iM.ORBITING||this.type===$.iM.EXPLORING?this._getDistance():this.type===$.iM.TRACKING&&Q.IH(this.focalPoint,r,this.distanceVector),this.triggerUpdate(),this},t.prototype.cancelLandmarkAnimation=function(){void 0!==this.landmarkAnimationID&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)},t.prototype.createLandmark=function(e,t){void 0===t&&(t={});var r,n,i,o,a=t.position,s=void 0===a?this.position:a,l=t.focalPoint,u=void 0===l?this.focalPoint:l,c=t.roll,f=t.zoom,d=new $.GZ.CameraContribution;d.setType(this.type,void 0),d.setPosition(s[0],null!==(r=s[1])&&void 0!==r?r:this.position[1],null!==(n=s[2])&&void 0!==n?n:this.position[2]),d.setFocalPoint(u[0],null!==(i=u[1])&&void 0!==i?i:this.focalPoint[1],null!==(o=u[2])&&void 0!==o?o:this.focalPoint[2]),d.setRoll(null!=c?c:this.roll),d.setZoom(null!=f?f:this.zoom);var p={name:e,matrix:X.clone(d.getWorldTransform()),right:Q.d9(d.right),up:Q.d9(d.up),forward:Q.d9(d.forward),position:Q.d9(d.getPosition()),focalPoint:Q.d9(d.getFocalPoint()),distanceVector:Q.d9(d.getDistanceVector()),distance:d.getDistance(),dollyingStep:d.getDollyingStep(),azimuth:d.getAzimuth(),elevation:d.getElevation(),roll:d.getRoll(),relAzimuth:d.relAzimuth,relElevation:d.relElevation,relRoll:d.relRoll,zoom:d.getZoom()};return this.landmarks.push(p),p},t.prototype.gotoLandmark=function(e,t){var r=this;void 0===t&&(t={});var n=(0,G.Z)(e)?this.landmarks.find(function(t){return t.name===e}):e;if(n){var i,o=(0,Y.Z)(t)?{duration:t}:t,a=o.easing,s=o.duration,l=void 0===s?100:s,u=o.easingFunction,c=o.onfinish,f=void 0===c?void 0:c,d=o.onframe,p=void 0===d?void 0:d;if(0===l){this.syncFromLandmark(n),f&&f();return}this.cancelLandmarkAnimation();var h=n.position,y=n.focalPoint,b=n.zoom,g=n.roll,m=(void 0===u?void 0:u)||$.GZ.EasingFunction(void 0===a?"linear":a),v=function(){r.setFocalPoint(y),r.setPosition(h),r.setRoll(g),r.setZoom(b),r.computeMatrix(),r.triggerUpdate(),f&&f()},_=function(e){void 0===i&&(i=e);var t=e-i;if(t>l){v();return}var n=m(t/l),o=Q.Ue(),a=Q.Ue(),s=1,u=0;if(Q.t7(o,r.focalPoint,y,n),Q.t7(a,r.position,h,n),u=r.roll*(1-n)+g*n,s=r.zoom*(1-n)+b*n,r.setFocalPoint(o),r.setPosition(a),r.setRoll(u),r.setZoom(s),Q.TK(o,y)+Q.TK(a,h)<=.01&&void 0==b&&void 0==g){v();return}r.computeMatrix(),r.triggerUpdate(),t<l&&(p&&p(n),r.landmarkAnimationID=r.canvas.requestAnimationFrame(_))};this.canvas.requestAnimationFrame(_)}},t.prototype.syncFromLandmark=function(e){this.matrix=X.copy(this.matrix,e.matrix),this.right=Q.JG(this.right,e.right),this.up=Q.JG(this.up,e.up),this.forward=Q.JG(this.forward,e.forward),this.position=Q.JG(this.position,e.position),this.focalPoint=Q.JG(this.focalPoint,e.focalPoint),this.distanceVector=Q.JG(this.distanceVector,e.distanceVector),this.azimuth=e.azimuth,this.elevation=e.elevation,this.roll=e.roll,this.relAzimuth=e.relAzimuth,this.relElevation=e.relElevation,this.relRoll=e.relRoll,this.dollyingStep=e.dollyingStep,this.distance=e.distance,this.zoom=e.zoom},t}($.V1);$.GZ.CameraContribution=J;var ee=function(){function e(e,t){this.type=e,this.target=t,this.addedNodes=[],this.attributeName=null,this.attributeNamespace=null,this.nextSibling=null,this.oldValue=null,this.previousSibling=null,this.removedNodes=[]}return e.copy=function(t){var r=new e(t.type,t.target);return r.addedNodes=t.addedNodes.slice(),r.removedNodes=t.removedNodes.slice(),r.previousSibling=t.previousSibling,r.nextSibling=t.nextSibling,r.attributeName=t.attributeName,r.attributeNamespace=t.attributeNamespace,r.oldValue=t.oldValue,r},e}(),et=0,er=new WeakMap,en=function(){function e(e,t,r){this.observer=e,this.target=t,this.options=r,this.transientObservedNodes=[]}return e.prototype.enqueue=function(e){var t,r=this.observer.records,n=r.length;if(r.length>0){var a,s=(a=r[n-1],a===e?a:o&&(a===o||a===i)?o:null);if(s){r[n-1]=s;return}}else t=this.observer,ea.push(t),eo||(eo=!0,void 0!==$.GZ.globalThis?$.GZ.globalThis.setTimeout(es):es());r[n]=e},e.prototype.addListeners=function(){this.addListeners_(this.target)},e.prototype.addListeners_=function(e){var t=this.options;t.attributes&&e.addEventListener($.Dk.ATTR_MODIFIED,this,!0),t.childList&&e.addEventListener($.Dk.INSERTED,this,!0),(t.childList||t.subtree)&&e.addEventListener($.Dk.REMOVED,this,!0)},e.prototype.removeListeners=function(){this.removeListeners_(this.target)},e.prototype.removeListeners_=function(e){var t=this.options;t.attributes&&e.removeEventListener($.Dk.ATTR_MODIFIED,this,!0),t.childList&&e.removeEventListener($.Dk.INSERTED,this,!0),(t.childList||t.subtree)&&e.removeEventListener($.Dk.REMOVED,this,!0)},e.prototype.removeTransientObservers=function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=er.get(e),r=0;r<t.length;r++)if(t[r]===this){t.splice(r,1);break}},this)},e.prototype.handleEvent=function(e){switch(e.stopImmediatePropagation(),e.type){case $.Dk.ATTR_MODIFIED:var t,r,n=e.attrName,a=e.relatedNode.namespaceURI;(t=i=new ee("attributes",r=e.target)).attributeName=n,t.attributeNamespace=a;var s=e.attrChange===$.jd.ADDITION?null:e.prevValue;ei(r,function(e){if(e.attributes)return e.attributeFilter&&e.attributeFilter.length&&-1===e.attributeFilter.indexOf(n)&&-1===e.attributeFilter.indexOf(a)?void 0:e.attributeOldValue?(o||((o=ee.copy(i)).oldValue=s),o):t});break;case $.Dk.REMOVED:case $.Dk.INSERTED:r=e.relatedNode;var l=e.target,u=void 0,c=void 0;e.type===$.Dk.INSERTED?(u=[l],c=[]):(u=[],c=[l]);var f=l.previousSibling,d=l.nextSibling;(t=i=new ee("childList",r)).addedNodes=u,t.removedNodes=c,t.previousSibling=f,t.nextSibling=d,ei(r,function(e){if(e.childList)return t})}i=o=void 0},e}();function ei(e,t){for(var r=e;r;r=r.parentNode){var n=er.get(r);if(n)for(var i=0;i<n.length;i++){var o=n[i],a=o.options;if(r===e||a.subtree){var s=t(a);s&&o.enqueue(s)}}}}!function(){function e(e){this.callback=e,this.nodes=[],this.records=[],this.uid=et++}e.prototype.observe=function(e,t){if(!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw SyntaxError();var r,n=er.get(e);n||er.set(e,n=[]);for(var i=0;i<n.length;i++)if(n[i].observer===this){(r=n[i]).removeListeners(),r.options=t;break}r||(r=new en(this,e,t),n.push(r),this.nodes.push(e)),r.addListeners()},e.prototype.disconnect=function(){var e=this;this.nodes.forEach(function(t){for(var r=er.get(t),n=0;n<r.length;n++){var i=r[n];if(i.observer===e){i.removeListeners(),r.splice(n,1);break}}},this),this.records=[]},e.prototype.takeRecords=function(){var e=this.records;return this.records=[],e}}();var eo=!1,ea=[];function es(){eo=!1;var e=ea;ea=[],e.sort(function(e,t){return e.uid-t.uid});var t=!1;e.forEach(function(e){var r=e.takeRecords();(function(e){e.nodes.forEach(function(t){var r=er.get(t);r&&r.forEach(function(t){t.observer===e&&t.removeTransientObservers()})})})(e),r.length&&(e.callback(r,e),t=!0)}),t&&es()}var el=r(67224),eu=r(55972),ec=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.currentTime=n,o.timelineTime=i,o.target=r,o.type="finish",o.bubbles=!1,o.currentTarget=r,o.defaultPrevented=!1,o.eventPhase=o.AT_TARGET,o.timeStamp=Date.now(),o.currentTime=n,o.timelineTime=i,o}return(0,H.ZT)(t,e),t}($.xA),ef=0,ed=function(){function e(e,t){var r;this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=e,e.animation=this,this.timeline=t,this.id="".concat(ef++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number(null===(r=this.effect)||void 0===r?void 0:r.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return Object.defineProperty(e.prototype,"pending",{get:function(){return null===this._startTime&&!this._paused&&0!==this.playbackRate||this.currentTimePending},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playState",{get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){var e=this;return this.readyPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(t,r){e.resolveReadyPromise=function(){t(e)},e.rejectReadyPromise=function(){r(Error())}}),this.pending||this.resolveReadyPromise()),this.readyPromise},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finished",{get:function(){var e=this;return this.finishedPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(t,r){e.resolveFinishedPromise=function(){t(e)},e.rejectFinishedPromise=function(){r(Error())}}),"finished"===this.playState&&this.resolveFinishedPromise()),this.finishedPromise},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(e){var t;if(!isNaN(e=Number(e))){if(this.timeline.restart(),this._paused||null===this._startTime||(this._startTime=Number(null===(t=this.timeline)||void 0===t?void 0:t.currentTime)-e/this.playbackRate),this.currentTimePending=!1,this._currentTime===e)return;this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(e,!0),this.timeline.applyDirtiedAnimation(this)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startTime",{get:function(){return this._startTime},set:function(e){null!==e&&(this.updatePromises(),!isNaN(e=Number(e))&&(this._paused||this._idle||(this._startTime=e,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises())))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(e){if(e!==this._playbackRate){this.updatePromises();var t=this.currentTime;this._playbackRate=e,this.startTime=null,"paused"!==this.playState&&"idle"!==this.playState&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),null!==t&&(this.currentTime=t),this.updatePromises()}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_isFinished",{get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&0>=Number(this._currentTime))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalDuration",{get:function(){return this._totalDuration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_needsTick",{get:function(){return this.pending||"running"===this.playState||!this._finishedFlag},enumerable:!1,configurable:!0}),e.prototype.updatePromises=function(){var e=this.oldPlayState,t=this.pending?"pending":this.playState;return this.readyPromise&&t!==e&&("idle"===t?(this.rejectReadyPromise(),this.readyPromise=void 0):"pending"===e?this.resolveReadyPromise():"pending"===t&&(this.readyPromise=void 0)),this.finishedPromise&&t!==e&&("idle"===t?(this.rejectFinishedPromise(),this.finishedPromise=void 0):"finished"===t?this.resolveFinishedPromise():"finished"===e&&(this.finishedPromise=void 0)),this.oldPlayState=t,this.readyPromise||this.finishedPromise},e.prototype.play=function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),-1===this.timeline.animations.indexOf(this)&&this.timeline.animations.push(this),this.updatePromises()},e.prototype.pause=function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._isFinished||this._paused||this._idle?this._idle&&(this.rewind(),this._idle=!1):this.currentTimePending=!0,this._startTime=null,this._paused=!0,this.updatePromises()},e.prototype.finish=function(){this.updatePromises(),this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())},e.prototype.cancel=function(){var e=this;if(this.updatePromises(),this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var t=new ec(null,this,this.currentTime,null);setTimeout(function(){e.oncancel(t)})}},e.prototype.reverse=function(){this.updatePromises();var e=this.currentTime;this.playbackRate*=-1,this.play(),null!==e&&(this.currentTime=e),this.updatePromises()},e.prototype.updatePlaybackRate=function(e){this.playbackRate=e},e.prototype.targetAnimations=function(){var e;return(null===(e=this.effect)||void 0===e?void 0:e.target).getAnimations()},e.prototype.markTarget=function(){var e=this.targetAnimations();-1===e.indexOf(this)&&e.push(this)},e.prototype.unmarkTarget=function(){var e=this.targetAnimations(),t=e.indexOf(this);-1!==t&&e.splice(t,1)},e.prototype.tick=function(e,t){this._idle||this._paused||(null===this._startTime?t&&(this.startTime=e-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((e-this._startTime)*this.playbackRate)),t&&(this.currentTimePending=!1,this.fireEvents(e))},e.prototype.rewind=function(){if(this.playbackRate>=0)this.currentTime=0;else if(this._totalDuration<1/0)this.currentTime=this._totalDuration;else throw Error("Unable to rewind negative playback rate animation with infinite duration")},e.prototype.persist=function(){throw Error($.jf)},e.prototype.addEventListener=function(e,t,r){throw Error($.jf)},e.prototype.removeEventListener=function(e,t,r){throw Error($.jf)},e.prototype.dispatchEvent=function(e){throw Error($.jf)},e.prototype.commitStyles=function(){throw Error($.jf)},e.prototype.ensureAlive=function(){var e,t;this.playbackRate<0&&0===this.currentTime?this._inEffect=!!(null===(e=this.effect)||void 0===e?void 0:e.update(-1)):this._inEffect=!!(null===(t=this.effect)||void 0===t?void 0:t.update(this.currentTime)),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,this.timeline.animations.push(this))},e.prototype.tickCurrentTime=function(e,t){e!==this._currentTime&&(this._currentTime=e,this._isFinished&&!t&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())},e.prototype.fireEvents=function(e){var t=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var r=new ec(null,this,this.currentTime,e);setTimeout(function(){t.onfinish&&t.onfinish(r)})}this._finishedFlag=!0}}else{if(this.onframe&&"running"===this.playState){var n=new ec(null,this,this.currentTime,e);this.onframe(n)}this._finishedFlag=!1}},e}(),ep="function"==typeof Float32Array,eh=function(e,t){return 1-3*t+3*e},ey=function(e,t){return 3*t-6*e},eb=function(e){return 3*e},eg=function(e,t,r){return((eh(t,r)*e+ey(t,r))*e+eb(t))*e},em=function(e,t,r){return 3*eh(t,r)*e*e+2*ey(t,r)*e+eb(t)},ev=function(e,t,r,n,i){var o,a,s=0;do(o=eg(a=t+(r-t)/2,n,i)-e)>0?r=a:t=a;while(Math.abs(o)>1e-7&&++s<10);return a},e_=function(e,t,r,n){for(var i=0;i<4;++i){var o=em(t,r,n);if(0===o)break;var a=eg(t,r,n)-e;t-=a/o}return t},eO=function(e,t,r,n){if(!(0<=e&&e<=1&&0<=r&&r<=1))throw Error("bezier x values must be in [0, 1] range");if(e===t&&r===n)return function(e){return e};for(var i=ep?new Float32Array(11):Array(11),o=0;o<11;++o)i[o]=eg(.1*o,e,r);var a=function(t){for(var n=0,o=1;10!==o&&i[o]<=t;++o)n+=.1;var a=n+(t-i[--o])/(i[o+1]-i[o])*.1,s=em(a,e,r);return s>=.001?e_(t,a,e,r):0===s?a:ev(t,n,n+.1,e,r)};return function(e){return 0===e||1===e?e:eg(a(e),t,n)}},ew=function(e){return Math.pow(e,2)},eS=function(e){return Math.pow(e,3)},eE=function(e){return Math.pow(e,4)},ex=function(e){return Math.pow(e,5)},eP=function(e){return Math.pow(e,6)},ej=function(e){return 1-Math.cos(e*Math.PI/2)},eT=function(e){return 1-Math.sqrt(1-e*e)},ek=function(e){return e*e*(3*e-2)},eC=function(e){for(var t,r=4;e<((t=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((3*t-2)/22-e,2)},eA=function(e,t){void 0===t&&(t=[]);var r=(0,H.CR)(t,2),n=r[0],i=r[1],o=(0,el.Z)(Number(void 0===n?1:n),1,10),a=(0,el.Z)(Number(void 0===i?.5:i),.1,2);return 0===e||1===e?e:-o*Math.pow(2,10*(e-1))*Math.sin(2*Math.PI*(e-1-a/(2*Math.PI)*Math.asin(1/o))/a)},eR=function(e,t,r){void 0===t&&(t=[]);var n=(0,H.CR)(t,4),i=n[0],o=void 0===i?1:i,a=n[1],s=void 0===a?100:a,l=n[2],u=void 0===l?10:l,c=n[3],f=void 0===c?0:c;o=(0,el.Z)(o,.1,1e3),s=(0,el.Z)(s,.1,1e3),u=(0,el.Z)(u,.1,1e3),f=(0,el.Z)(f,.1,1e3);var d=Math.sqrt(s/o),p=u/(2*Math.sqrt(s*o)),h=p<1?d*Math.sqrt(1-p*p):0,y=p<1?(p*d+-f)/h:-f+d,b=r?r*e/1e3:e;return(b=p<1?Math.exp(-b*p*d)*(1*Math.cos(h*b)+y*Math.sin(h*b)):(1+y*b)*Math.exp(-b*d),0===e||1===e)?e:1-b},eM=function(e,t){void 0===t&&(t=[]);var r=(0,H.CR)(t,2),n=r[0],i=void 0===n?10:n;return("start"==r[1]?Math.ceil:Math.floor)((0,el.Z)(e,0,1)*i)/i},eI=function(e,t){void 0===t&&(t=[]);var r=(0,H.CR)(t,4);return eO(r[0],r[1],r[2],r[3])(e)},eN=eO(.42,0,1,1),eL=function(e){return function(t,r,n){return void 0===r&&(r=[]),1-e(1-t,r,n)}},eD=function(e){return function(t,r,n){return void 0===r&&(r=[]),t<.5?e(2*t,r,n)/2:1-e(-2*t+2,r,n)/2}},ez=function(e){return function(t,r,n){return void 0===r&&(r=[]),t<.5?(1-e(1-2*t,r,n))/2:(e(2*t-1,r,n)+1)/2}},eF={steps:eM,"step-start":function(e){return eM(e,[1,"start"])},"step-end":function(e){return eM(e,[1,"end"])},linear:function(e){return e},"cubic-bezier":eI,ease:function(e){return eI(e,[.25,.1,.25,1])},in:eN,out:eL(eN),"in-out":eD(eN),"out-in":ez(eN),"in-quad":ew,"out-quad":eL(ew),"in-out-quad":eD(ew),"out-in-quad":ez(ew),"in-cubic":eS,"out-cubic":eL(eS),"in-out-cubic":eD(eS),"out-in-cubic":ez(eS),"in-quart":eE,"out-quart":eL(eE),"in-out-quart":eD(eE),"out-in-quart":ez(eE),"in-quint":ex,"out-quint":eL(ex),"in-out-quint":eD(ex),"out-in-quint":ez(ex),"in-expo":eP,"out-expo":eL(eP),"in-out-expo":eD(eP),"out-in-expo":ez(eP),"in-sine":ej,"out-sine":eL(ej),"in-out-sine":eD(ej),"out-in-sine":ez(ej),"in-circ":eT,"out-circ":eL(eT),"in-out-circ":eD(eT),"out-in-circ":ez(eT),"in-back":ek,"out-back":eL(ek),"in-out-back":eD(ek),"out-in-back":ez(ek),"in-bounce":eC,"out-bounce":eL(eC),"in-out-bounce":eD(eC),"out-in-bounce":ez(eC),"in-elastic":eA,"out-elastic":eL(eA),"in-out-elastic":eD(eA),"out-in-elastic":ez(eA),spring:eR,"spring-in":eR,"spring-out":eL(eR),"spring-in-out":eD(eR),"spring-out-in":ez(eR)},eB=function(e){var t;return("-"===(t=(t=e).replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())})).charAt(0)?t.substring(1):t).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},eU=function(e){return e};function eW(e,t){return function(r){if(r>=1)return 1;var n=1/e;return(r+=t*n)-r%n}}var eZ="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",eV=RegExp("cubic-bezier\\("+eZ+","+eZ+","+eZ+","+eZ+"\\)"),eq=/steps\(\s*(\d+)\s*\)/,e$=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function eH(e){var t=eV.exec(e);if(t)return eO.apply(void 0,(0,H.ev)([],(0,H.CR)(t.slice(1).map(Number)),!1));var r=eq.exec(e);if(r)return eW(Number(r[1]),0);var n=e$.exec(e);return n?eW(Number(n[1]),{start:1,middle:.5,end:0}[n[2]]):eF[eB(e)]||eF.linear}function eG(e){return"offset"!==e&&"easing"!==e&&"composite"!==e&&"computedOffset"!==e}var eY=function(e,t,r){return function(n){var i=function e(t,r,n){if("number"==typeof t&&"number"==typeof r)return t*(1-n)+r*n;if("boolean"==typeof t&&"boolean"==typeof r||"string"==typeof t&&"string"==typeof r)return n<.5?t:r;if(Array.isArray(t)&&Array.isArray(r)){for(var i=t.length,o=r.length,a=Math.max(i,o),s=[],l=0;l<a;l++)s.push(e(t[l<i?l:i-1],r[l<o?l:o-1],n));return s}throw Error("Mismatched interpolation arguments "+t+":"+r)}(e,t,n);return!$.GZ.enableCSSParsing&&(0,Y.Z)(i)?i:r(i)}},eK=function(){function e(){this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=eU,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return Object.defineProperty(e.prototype,"easing",{get:function(){return this._easing},set:function(e){this.easingFunction=eH(e),this._easing=e},enumerable:!1,configurable:!0}),e}();function eX(e,t){if(null===e)return[];Array.isArray(e)||(e=function(e){var t=[];for(var r in e)if(!(r in["easing","offset","composite"])){var n=e[r];Array.isArray(n)||(n=[n]);for(var i=n.length,o=0;o<i;o++){if(!t[o]){var a={};"offset"in e&&(a.offset=Number(e.offset)),"easing"in e&&(a.easing=e.easing),"composite"in e&&(a.composite=e.composite),t[o]=a}void 0!==n[o]&&null!==n[o]&&(t[o][r]=n[o])}}return t.sort(function(e,t){return(e.computedOffset||0)-(t.computedOffset||0)}),t}(e));for(var r=e.map(function(e){var r={};for(var n in(null==t?void 0:t.composite)&&(r.composite="auto"),e){var i=e[n];if("offset"===n){if(null!==i){if(!isFinite(i=Number(i)))throw Error("Keyframe offsets must be numbers.");if(i<0||i>1)throw Error("Keyframe offsets must be between 0 and 1.");r.computedOffset=i}}else if("composite"===n&&-1===["replace","add","accumulate","auto"].indexOf(i))throw Error("".concat(i," compositing is not supported"));r[n]=i}return void 0===r.offset&&(r.offset=null),void 0===r.easing&&(r.easing=(null==t?void 0:t.easing)||"linear"),void 0===r.composite&&(r.composite="auto"),r}),n=!0,i=-1/0,o=0;o<r.length;o++){var a=r[o].offset;if((0,eu.Z)(a))n=!1;else{if(a<i)throw TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");i=a}}return r=r.filter(function(e){return Number(e.offset)>=0&&1>=Number(e.offset)}),n||function(){var e,t,n=r.length;r[n-1].computedOffset=Number(null!==(e=r[n-1].offset)&&void 0!==e?e:1),n>1&&(r[0].computedOffset=Number(null!==(t=r[0].offset)&&void 0!==t?t:0));for(var i=0,o=Number(r[0].computedOffset),a=1;a<n;a++){var s=r[a].computedOffset;if(!(0,eu.Z)(s)&&!(0,eu.Z)(o)){for(var l=1;l<a-i;l++)r[i+l].computedOffset=o+(Number(s)-o)*l/(a-i);i=a,o=Number(s)}}}(),r}var eQ="backwards|forwards|both|none".split("|"),eJ="reverse|alternate|alternate-reverse".split("|"),e0=function(){function e(e,t,r){var n,i,o,a,s,l,u,c,f,d,p,h,y=this;this.composite="replace",this.iterationComposite="replace",this.target=e,this.timing=("number"==typeof(n=null!=(a=r)?a:{duration:"auto"})&&(n=isNaN(n)?{duration:"auto"}:{duration:n}),s=a=n,l=new eK,"number"!=typeof s||isNaN(s)?void 0!==s&&Object.keys(s).forEach(function(e){void 0===s[e]||null===s[e]||"auto"===s[e]||("number"==typeof l[e]||"duration"===e)&&("number"!=typeof s[e]||isNaN(s[e]))||"fill"===e&&-1===eQ.indexOf(s[e])||"direction"===e&&-1===eJ.indexOf(s[e])||(l[e]=s[e])}):l.duration=s,l),this.timing.effect=this,this.timing.activeDuration=Math.abs((0===(i=u=this.timing).duration||0===i.iterations?0:("auto"===i.duration?0:Number(i.duration))*(null!==(o=i.iterations)&&void 0!==o?o:1))/(u.playbackRate||1)),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=eX(t,this.timing),this.interpolations=(c=this.normalizedKeyframes,f=this.timing,d=this.target,h=function(e,t){var r=[];for(var n in e)for(var i=e[n],o=0;o<i.length-1;o++){var a=o,s=o+1,l=i[a].computedOffset,u=i[s].computedOffset,c=l,f=u;0===o&&(c=-1/0,0===u&&(s=a)),o===i.length-2&&(f=1/0,1===l&&(a=s)),r.push({applyFrom:c,applyTo:f,startOffset:i[a].computedOffset,endOffset:i[s].computedOffset,easingFunction:i[a].easingFunction,property:n,interpolation:function(e,t,r,n){var i=$.N1[e];if(i&&i.syntax&&i.int){var o=$.GZ.styleValueRegistry.getPropertySyntax(i.syntax);if(o){var a=void 0,s=void 0;if($.GZ.enableCSSParsing){var l=$.GZ.styleValueRegistry.parseProperty(e,t,n,!1),u=$.GZ.styleValueRegistry.parseProperty(e,r,n,!1);a=$.GZ.styleValueRegistry.computeProperty(e,l,n,!1),s=$.GZ.styleValueRegistry.computeProperty(e,u,n,!1)}else{var c=o.parserWithCSSDisabled;a=c?c(t,n):t,s=c?c(r,n):r}var f=o.mixer(a,s,n);if(f){var d=eY.apply(void 0,(0,H.ev)([],(0,H.CR)(f),!1));return function(e){return 0===e?t:1===e?r:d(e)}}}}return eY(!1,!0,function(e){return e?r:t})}(n,i[a].value,i[s].value,t)})}return r.sort(function(e,t){return e.startOffset-t.startOffset}),r}(p=function(e,t){for(var r={},n=0;n<e.length;n++)for(var i in e[n])if(eG(i)){var o={offset:e[n].offset,computedOffset:e[n].computedOffset,easing:e[n].easing,easingFunction:eH(e[n].easing)||t.easingFunction,value:e[n][i]};r[i]=r[i]||[],r[i].push(o)}return r}(c,f),d),function(e,t){if(null!==t)h.filter(function(e){return t>=e.applyFrom&&t<e.applyTo}).forEach(function(r){var n=t-r.startOffset,i=r.endOffset-r.startOffset,o=0===i?0:r.easingFunction(n/i);e.setAttribute(r.property,r.interpolation(o),!1,!1)});else for(var r in p)eG(r)&&e.setAttribute(r,null)});var b=$.GZ.globalThis.Proxy;this.computedTiming=b?new b(this.timing,{get:function(e,t){return"duration"===t?"auto"===e.duration?0:e.duration:"fill"===t?"auto"===e.fill?"none":e.fill:"localTime"===t?y.animation&&y.animation.currentTime||null:"currentIteration"===t?y.animation&&"running"===y.animation.playState?e.currentIteration||0:null:"progress"===t?y.animation&&"running"===y.animation.playState?e.progress||0:null:e[t]},set:function(){return!0}}):this.timing}return e.prototype.applyInterpolations=function(){this.interpolations(this.target,Number(this.timeFraction))},e.prototype.update=function(e){return null!==e&&(this.timeFraction=function(e,t,r){var n,i,o,a,s,l,u=function(e,t,r){if(null===t)return 0;var n=r.endTime;return t<Math.min(r.delay,n)?1:t>=Math.min(r.delay+e+r.endDelay,n)?2:3}(e,t,r),c=function(e,t,r,n,i){switch(n){case 1:if("backwards"===t||"both"===t)return 0;return null;case 3:return r-i;case 2:if("forwards"===t||"both"===t)return e;return null;case 0:return null}}(e,r.fill,t,u,r.delay);if(null===c)return null;var f="auto"===r.duration?0:r.duration,d=(n=r.iterations,i=r.iterationStart,0===f?1!==u&&(i+=n):i+=c/f,i),p=(o=r.iterationStart,a=r.iterations,0==(s=d===1/0?o%1:d%1)&&2===u&&0!==a&&(0!==c||0===f)&&(s=1),s),h=(l=r.iterations,2===u&&l===1/0?1/0:1===p?Math.floor(d)-1:Math.floor(d)),y=function(e,t,r){var n=e;if("normal"!==e&&"reverse"!==e){var i=t;"alternate-reverse"===e&&(i+=1),n="normal",i!==1/0&&i%2!=0&&(n="reverse")}return"normal"===n?r:1-r}(r.direction,h,p);return r.currentIteration=h,r.progress=y,r.easingFunction(y)}(this.timing.activeDuration,e,this.timing),null!==this.timeFraction)},e.prototype.getKeyframes=function(){return this.normalizedKeyframes},e.prototype.setKeyframes=function(e){this.normalizedKeyframes=eX(e)},e.prototype.getComputedTiming=function(){return this.computedTiming},e.prototype.getTiming=function(){return this.timing},e.prototype.updateTiming=function(e){var t=this;Object.keys(e||{}).forEach(function(r){t.timing[r]=e[r]})},e}();function e1(e,t){return Number(e.id)-Number(t.id)}var e2=function(){function e(e){var t=this;this.document=e,this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(e){t.currentTime=e,t.discardAnimations(),0===t.animations.length?t.timelineTicking=!1:t.requestAnimationFrame(t.webAnimationsNextTick)},this.processRafCallbacks=function(e){var r=t.rafCallbacks;t.rafCallbacks=[],e<Number(t.currentTime)&&(e=Number(t.currentTime)),t.animations.sort(e1),t.animations=t.tick(e,!0,t.animations)[0],r.forEach(function(t){t[1](e)}),t.applyPendingEffects()}}return e.prototype.getAnimations=function(){return this.discardAnimations(),this.animations.slice()},e.prototype.isTicking=function(){return this.inTick},e.prototype.play=function(e,t,r){var n=new ed(new e0(e,t,r),this);return this.animations.push(n),this.restartWebAnimationsNextTick(),n.updatePromises(),n.play(),n.updatePromises(),n},e.prototype.applyDirtiedAnimation=function(e){var t=this;if(!this.inTick){e.markTarget();var r=e.targetAnimations();r.sort(e1),this.tick(Number(this.currentTime),!1,r.slice())[1].forEach(function(e){var r=t.animations.indexOf(e);-1!==r&&t.animations.splice(r,1)}),this.applyPendingEffects()}},e.prototype.restart=function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame},e.prototype.destroy=function(){this.document.defaultView.cancelAnimationFrame(this.frameId)},e.prototype.applyPendingEffects=function(){this.pendingEffects.forEach(function(e){null==e||e.applyInterpolations()}),this.pendingEffects=[]},e.prototype.updateAnimationsPromises=function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(e){return e.updatePromises()})},e.prototype.discardAnimations=function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(e){return"finished"!==e.playState&&"idle"!==e.playState})},e.prototype.restartWebAnimationsNextTick=function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))},e.prototype.rAF=function(e){var t=this.rafId++;return 0===this.rafCallbacks.length&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([t,e]),t},e.prototype.requestAnimationFrame=function(e){var t=this;return this.rAF(function(r){t.updateAnimationsPromises(),e(r),t.updateAnimationsPromises()})},e.prototype.tick=function(e,t,r){var n,i,o=this;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=e,this.ticking=!1;var a=[],s=[],l=[],u=[];return r.forEach(function(r){r.tick(e,t),r._inEffect?(s.push(r.effect),r.markTarget()):(a.push(r.effect),r.unmarkTarget()),r._needsTick&&(o.ticking=!0);var n=r._inEffect||r._needsTick;r._inTimeline=n,n?l.push(r):u.push(r)}),(n=this.pendingEffects).push.apply(n,(0,H.ev)([],(0,H.CR)(a),!1)),(i=this.pendingEffects).push.apply(i,(0,H.ev)([],(0,H.CR)(s),!1)),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[l,u]},e}();$.GZ.EasingFunction=eH,$.GZ.AnimationTimeline=e2;var e5=r(68936),e4=r(66515),e3=r(92891);function e6(e){return e}function e8(e){return e.reduce((e,t)=>(r,...n)=>t(e(r,...n),...n),e6)}function e9(e){return e.replace(/( |^)[a-z]/g,e=>e.toUpperCase())}function e7(e=""){throw Error(e)}function te(e,t){let{attributes:r}=t,n=new Set(["id","className"]);for(let[t,i]of Object.entries(r))n.has(t)||("transform"===t&&e.attr(t,""),e.attr(t,i))}function tt(e){return null!=e&&!Number.isNaN(e)}function tr(e,t){return tn(e,t)||{}}function tn(e,t){let r=Object.entries(e||{}).filter(([e])=>e.startsWith(t)).map(([e,r])=>[(0,e4.Z)(e.replace(t,"").trim()),r]).filter(([e])=>!!e);return 0===r.length?null:Object.fromEntries(r)}function ti(e,...t){return Object.fromEntries(Object.entries(e).filter(([e])=>t.every(t=>!e.startsWith(t))))}function to(e,t){if(void 0===e)return null;if("number"==typeof e)return e;let r=+e.replace("%","");return Number.isNaN(r)?null:r/100*t}function ta(e){return"object"==typeof e&&!(e instanceof Date)&&null!==e&&!Array.isArray(e)}function ts(e){return null===e||!1===e}function tl(e){return new tu([e],null,e,e.ownerDocument)}class tu{constructor(e=null,t=null,r=null,n=null,i=[null,null,null,null,null],o=[],a=[]){this._elements=Array.from(e),this._data=t,this._parent=r,this._document=n,this._enter=i[0],this._update=i[1],this._exit=i[2],this._merge=i[3],this._split=i[4],this._transitions=o,this._facetElements=a}selectAll(e){return new tu("string"==typeof e?this._parent.querySelectorAll(e):e,null,this._elements[0],this._document)}selectFacetAll(e){let t="string"==typeof e?this._parent.querySelectorAll(e):e;return new tu(this._elements,null,this._parent,this._document,void 0,void 0,t)}select(e){let t="string"==typeof e?this._parent.querySelectorAll(e)[0]||null:e;return new tu([t],null,t,this._document)}append(e){let t="function"==typeof e?e:()=>this.createElement(e),r=[];if(null!==this._data){for(let e=0;e<this._data.length;e++){let n=this._data[e],[i,o]=Array.isArray(n)?n:[n,null],a=t(i,e);a.__data__=i,null!==o&&(a.__fromElements__=o),this._parent.appendChild(a),r.push(a)}return new tu(r,null,this._parent,this._document)}for(let e=0;e<this._elements.length;e++){let n=this._elements[e],i=t(n.__data__,e);n.appendChild(i),r.push(i)}return new tu(r,null,r[0],this._document)}maybeAppend(e,t,r){let n=this._elements[0],i=n.getElementById(e);if(i)return new tu([i],null,this._parent,this._document);let o="string"==typeof t?this.createElement(t):t();return o.id=e,r&&(o.className=r),n.appendChild(o),new tu([o],null,this._parent,this._document)}data(e,t=e=>e,r=()=>null){let n=[],i=[],o=new Set(this._elements),a=[],s=new Set,l=new Map(this._elements.map((e,r)=>[t(e.__data__,r),e])),u=new Map(this._facetElements.map((e,r)=>[t(e.__data__,r),e])),c=(0,e5.ZP)(this._elements,e=>r(e.__data__));for(let f=0;f<e.length;f++){let d=e[f],p=t(d,f),h=r(d,f);if(l.has(p)){let e=l.get(p);e.__data__=d,e.__facet__=!1,i.push(e),o.delete(e),l.delete(p)}else if(u.has(p)){let e=u.get(p);e.__data__=d,e.__facet__=!0,i.push(e),u.delete(p)}else if(c.has(p)){let e=c.get(p);for(let t of(a.push([d,e]),e))o.delete(t);c.delete(p)}else if(l.has(h)){let e=l.get(h);e.__toData__?e.__toData__.push(d):e.__toData__=[d],s.add(e),o.delete(e)}else n.push(d)}let f=[new tu([],n,this._parent,this._document),new tu(i,null,this._parent,this._document),new tu(o,null,this._parent,this._document),new tu([],a,this._parent,this._document),new tu(s,null,this._parent,this._document)];return new tu(this._elements,null,this._parent,this._document,f)}merge(e){let t=[...this._elements,...e._elements],r=[...this._transitions,...e._transitions];return new tu(t,null,this._parent,this._document,void 0,r)}createElement(e){if(this._document)return this._document.createElement(e,{});let t=tu.registry[e];return t?new t:e7(`Unknown node type: ${e}`)}join(e=e=>e,t=e=>e,r=e=>e.remove(),n=e=>e,i=e=>e.remove()){let o=e(this._enter),a=t(this._update),s=r(this._exit),l=n(this._merge),u=i(this._split);return a.merge(o).merge(s).merge(l).merge(u)}remove(){for(let e=0;e<this._elements.length;e++){let t=this._transitions[e];t?Promise.all((Array.isArray(t)?t:[t]).map(e=>e.finished)).then(()=>{this._elements[e].remove()}):this._elements[e].remove()}return new tu([],null,this._parent,this._document,void 0,this._transitions)}each(e){for(let t=0;t<this._elements.length;t++){let r=this._elements[t];e(r.__data__,t,r)}return this}attr(e,t){let r="function"!=typeof t?()=>t:t;return this.each(function(n,i,o){void 0!==t&&(o[e]=r(n,i,o))})}style(e,t){let r="function"!=typeof t?()=>t:t;return this.each(function(n,i,o){void 0!==t&&(o.style[e]=r(n,i,o))})}transition(e){let t="function"!=typeof e?()=>e:e,{_transitions:r}=this;return this.each(function(e,n,i){r[n]=t(e,n,i)})}on(e,t){return this.each(function(r,n,i){i.addEventListener(e,t)}),this}call(e,...t){return e(this,...t),this}node(){return this._elements[0]}nodes(){return this._elements}transitions(){return this._transitions}parent(){return this._parent}}function tc([e,t],[r,n]){return[e-r,t-n]}function tf([e,t],[r,n]){return Math.sqrt(Math.pow(e-r,2)+Math.pow(t-n,2))}function td([e,t]){return Math.atan2(t,e)}function tp([e,t]){return td([e,t])+Math.PI/2}function th(e,t){let r=td(e),n=td(t);return r<n?n-r:2*Math.PI-(r-n)}function ty(e){let t=1/0,r=-1/0,n=1/0,i=-1/0;for(let[o,a]of e)t=Math.min(o,t),r=Math.max(o,r),n=Math.min(a,n),i=Math.max(a,i);let o=r-t,a=i-n;return[t,n,o,a]}function tb([e,t],[r,n]){return[(e+r)/2,(t+n)/2]}function tg(e,t,r){return Math.max(t,Math.min(e,r))}function tm(e,t=10){return"number"!=typeof e?e:1e-15>Math.abs(e)?e:parseFloat(e.toFixed(t))}tu.registry={g:$.ZA,rect:$.UL,circle:$.Cd,path:$.y$,text:$.xv,ellipse:$.Pj,image:$.Ee,line:$.x1,polygon:$.mg,polyline:$.aH,html:$.k9};var tv=r(80039),t_=r(87186);function tO(e,t){return Object.entries(e).reduce((r,[n,i])=>(r[n]=t(i,n,e),r),{})}function tw(e){return e.map((e,t)=>t)}function tS(e){return e[e.length-1]}function tE(e,t){let r=[[],[]];return e.forEach(e=>{r[t(e)?0:1].push(e)}),r}function tx(e,t){for(let[r,n]of Object.entries(t))e.style(r,n)}function tP(e,t,r,n,i){let o=td(tc(n,t))+Math.PI,a=td(tc(n,r))+Math.PI;return e.arc(n[0],n[1],i,o,a,a-o<0),e}function tj(e,t,r,n="y",i="between",o=!1){let a="y"===n||!0===n?r:t,s=tw(a),[l,u]=(0,t_.Z)(s,e=>a[e]),c=new tv.b({domain:[l,u],range:[0,100]}),f=e=>c.map(a[e]),d={between:t=>`${e[t]} ${f(t)}%`,start:t=>0===t?`${e[t]} ${f(t)}%`:`${e[t-1]} ${f(t)}%, ${e[t]} ${f(t)}%`,end:t=>t===e.length-1?`${e[t]} ${f(t)}%`:`${e[t]} ${f(t)}%, ${e[t+1]} ${f(t)}%`},p=s.sort((e,t)=>f(e)-f(t)).map(d[i]||d.between).join(",");return`linear-gradient(${"y"===n||!0===n?o?180:90:o?90:0}deg, ${p})`}function tT(e){let[t,r,n,i]=e;return[i,t,r,n]}function tk(e,t,r){let[n,i,,o]=D(e)?tT(t):t,[a,s]=r,l=e.getCenter(),u=tp(tc(n,l)),c=tp(tc(i,l)),f=c===u&&a!==s?c+2*Math.PI:c;return{startAngle:u,endAngle:f-u>=0?f:2*Math.PI+f,innerRadius:tf(o,l),outerRadius:tf(n,l)}}function tC(e){let{colorAttribute:t,opacityAttribute:r=t}=e;return`${r}Opacity`}function tA(e,t){if(!z(e))return"";let r=e.getCenter(),{transform:n}=t;return`translate(${r[0]}, ${r[1]}) ${n||""}`}function tR(e){if(1===e.length)return e[0];let[[t,r,n=0],[i,o,a=0]]=e;return[(t+i)/2,(r+o)/2,(n+a)/2]}var tM=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function tI(e,t,r,n,i={}){let{inset:o=0,radius:a=0,insetLeft:s=o,insetTop:l=o,insetRight:u=o,insetBottom:c=o,radiusBottomLeft:f=a,radiusBottomRight:d=a,radiusTopLeft:p=a,radiusTopRight:h=a,minWidth:y=-1/0,maxWidth:b=1/0,minHeight:g=-1/0}=i,m=tM(i,["inset","radius","insetLeft","insetTop","insetRight","insetBottom","radiusBottomLeft","radiusBottomRight","radiusTopLeft","radiusTopRight","minWidth","maxWidth","minHeight"]);if(!z(n)&&!B(n)){let r=!!D(n),[i,,o]=r?tT(t):t,[a,v]=i,[_,O]=tc(o,i),w=Math.abs(_),S=Math.abs(O),E=(_>0?a:a+_)+s,x=(O>0?v:v+O)+l,P=w-(s+u),j=S-(l+c),T=r?tg(P,g,1/0):tg(P,y,b),k=r?tg(j,y,b):tg(j,g,1/0),C=r?E:E-(T-P)/2,A=r?x-(k-j)/2:x-(k-j);return tl(e.createElement("rect",{})).style("x",C).style("y",A).style("width",T).style("height",k).style("radius",[p,h,d,f]).call(tx,m).node()}let{y:v,y1:_}=r,O=n.getCenter(),w=tk(n,t,[v,_]),S=(0,L.Z)().cornerRadius(a).padAngle(o*Math.PI/180);return tl(e.createElement("path",{})).style("path",S(w)).style("transform",`translate(${O[0]}, ${O[1]})`).style("radius",a).style("inset",o).call(tx,m).node()}let tN=(e,t)=>{let{colorAttribute:r,opacityAttribute:n="fill",first:i=!0,last:o=!0}=e,a=tM(e,["colorAttribute","opacityAttribute","first","last"]),{coordinate:s,document:l}=t;return(t,n,u)=>{let{color:c,radius:f=0}=u,d=tM(u,["color","radius"]),p=d.lineWidth||1,{stroke:h,radius:y=f,radiusTopLeft:b=y,radiusTopRight:g=y,radiusBottomRight:m=y,radiusBottomLeft:v=y,innerRadius:_=0,innerRadiusTopLeft:O=_,innerRadiusTopRight:w=_,innerRadiusBottomRight:S=_,innerRadiusBottomLeft:E=_,lineWidth:x="stroke"===r||h?p:0,inset:P=0,insetLeft:j=P,insetRight:T=P,insetBottom:k=P,insetTop:C=P,minWidth:A,maxWidth:R,minHeight:M}=a,I=tM(a,["stroke","radius","radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft","innerRadius","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","lineWidth","inset","insetLeft","insetRight","insetBottom","insetTop","minWidth","maxWidth","minHeight"]),{color:N=c,opacity:L}=n,z=[i?b:O,i?g:w,o?m:S,o?v:E],F=["radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft"];return D(s)&&F.push(F.shift()),tl(tI(l,t,n,s,Object.assign(Object.assign({radius:y},Object.fromEntries(F.map((e,t)=>[e,z[t]]))),{inset:P,insetLeft:j,insetRight:T,insetBottom:k,insetTop:C,minWidth:A,maxWidth:R,minHeight:M}))).call(tx,d).style("fill","transparent").style(r,N).style(tC(e),L).style("lineWidth",x).style("stroke",void 0===h?N:h).call(tx,I).node()}};tN.props={defaultEnterAnimation:"scaleInY",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};let tL=(e,t)=>tN(Object.assign({colorAttribute:"fill"},e),t);tL.props=Object.assign(Object.assign({},tN.props),{defaultMarker:"square"});let tD=(e,t)=>tN(Object.assign({colorAttribute:"stroke"},e),t);tD.props=Object.assign(Object.assign({},tN.props),{defaultMarker:"hollowSquare"});var tz=r(68680),tF=r(38732),tB=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function tU(e,t,r){let[n,i,o,a]=e;return D(r)?[n,[t?t[0][0]:i[0],i[1]],[t?t[3][0]:o[0],o[1]],a]:[n,[i[0],t?t[0][1]:i[1]],[o[0],t?t[3][1]:o[1]],a]}let tW=(e,t)=>{let{adjustPoints:r=tU}=e,n=tB(e,["adjustPoints"]),{coordinate:i,document:o}=t;return(e,t,a,s)=>{let{index:l}=t,{color:u}=a,c=tB(a,["color"]),f=r(e,s[l+1],i),[d,p,h,y]=D(i)?tT(f):f,{color:b=u,opacity:g}=t,m=(0,tz.Z)().curve(tF.Z)([d,p,h,y]);return tl(o.createElement("path",{})).call(tx,c).style("path",m).style("fill",b).style("fillOpacity",g).call(tx,n).node()}};function tZ(e,t,r){let[n,i,o,a]=e;return D(r)?[n,[t?t[0][0]:(i[0]+o[0])/2,i[1]],[t?t[3][0]:(i[0]+o[0])/2,o[1]],a]:[n,[i[0],t?t[0][1]:(i[1]+o[1])/2],[o[0],t?t[3][1]:(i[1]+o[1])/2],a]}tW.props={defaultMarker:"square"};let tV=(e,t)=>tW(Object.assign({adjustPoints:tZ},e),t);tV.props={defaultMarker:"square"};var tq=r(93844),t$=r(83089);function tH(e){return Math.abs(e)>10?String(e):e.toString().padStart(2,"0")}let tG=(e={})=>{let{channel:t="x"}=e;return(e,r)=>{let{encode:n}=r,{tooltip:i}=r;if(ts(i))return[e,r];let{title:o}=i;if(void 0!==o)return[e,r];let a=Object.keys(n).filter(e=>e.startsWith(t)).filter(e=>!n[e].inferred).map(e=>A(n,e)).filter(([e])=>e).map(e=>e[0]);if(0===a.length)return[e,r];let s=[];for(let t of e)s[t]={value:a.map(e=>e[t]instanceof Date?function(e){let t=e.getFullYear(),r=tH(e.getMonth()+1),n=tH(e.getDate()),i=`${t}-${r}-${n}`,o=e.getHours(),a=e.getMinutes(),s=e.getSeconds();return o||a||s?`${i} ${tH(o)}:${tH(a)}:${tH(s)}`:i}(e[t]):e[t]).join(", ")};return[e,(0,P.Z)({},r,{tooltip:{title:s}})]}};tG.props={};let tY=e=>{let{channel:t}=e;return(e,r)=>{let{encode:n,tooltip:i}=r;if(ts(i))return[e,r];let{items:o=[]}=i;if(!o||o.length>0)return[e,r];let a=(Array.isArray(t)?t:[t]).flatMap(e=>Object.keys(n).filter(t=>t.startsWith(e)).map(e=>{let{field:t,value:r,inferred:i=!1,aggregate:o}=n[e];return i?null:o&&r?{channel:e}:t?{field:t}:r?{channel:e}:null}).filter(e=>null!==e));return[e,(0,P.Z)({},r,{tooltip:{items:a}})]}};tY.props={};var tK=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let tX=()=>(e,t)=>{let{encode:r}=t,{key:n}=r,i=tK(r,["key"]);if(void 0!==n)return[e,t];let o=Object.values(i).map(({value:e})=>e),a=e.map(e=>o.filter(Array.isArray).map(t=>t[e]).join("-"));return[e,(0,P.Z)({},t,{encode:{key:j(a)}})]};function tQ(e={}){let{shapes:t}=e;return[{name:"color"},{name:"opacity"},{name:"shape",range:t},{name:"enterType"},{name:"enterDelay",scaleKey:"enter"},{name:"enterDuration",scaleKey:"enter"},{name:"enterEasing"},{name:"key",scale:"identity"},{name:"groupKey",scale:"identity"},{name:"label",scale:"identity"}]}function tJ(e={}){return[...tQ(e),{name:"title",scale:"identity"}]}function t0(){return[{type:tG,channel:"color"},{type:tY,channel:["x","y"]}]}function t1(){return[{type:tG,channel:"x"},{type:tY,channel:["y"]}]}function t2(e={}){return tQ(e)}function t5(){return[{type:tX}]}function t4(e,t){return e.getBandWidth(e.invert(t))}function t3(e,t,r={}){let{x:n,y:i,series:o}=t,{x:a,y:s,series:l}=e,{style:{bandOffset:u=l?0:.5,bandOffsetX:c=u,bandOffsetY:f=u}={}}=r,d=!!(null==a?void 0:a.getBandWidth),p=!!(null==s?void 0:s.getBandWidth),h=!!(null==l?void 0:l.getBandWidth);return d||p?(e,t)=>{let r=d?t4(a,n[t]):0,u=p?t4(s,i[t]):0,y=h&&o?(t4(l,o[t])/2+ +o[t])*r:0,[b,g]=e;return[b+c*r+y,g+f*u]}:e=>e}function t6(e){return parseFloat(e)/100}function t8(e,t,r,n){let{x:i,y:o}=r,{innerWidth:a,innerHeight:s}=n.getOptions(),l=Array.from(e,e=>{let t=i[e],r=o[e];return[["string"==typeof t?t6(t)*a:+t,"string"==typeof r?t6(r)*s:+r]]});return[e,l]}function t9(e){return"function"==typeof e?e:t=>t[e]}function t7(e,t){return Array.from(e,t9(t))}function re(e,t){let{source:r=e=>e.source,target:n=e=>e.target,value:i=e=>e.value}=t,{links:o,nodes:a}=e,s=t7(o,r),l=t7(o,n),u=t7(o,i);return{links:o.map((e,t)=>({target:l[t],source:s[t],value:u[t]})),nodes:a||Array.from(new Set([...s,...l]),e=>({key:e}))}}function rt(e,t){return e.getBandWidth(e.invert(t))}tX.props={};let rr={rect:tL,hollow:tD,funnel:tW,pyramid:tV},rn=()=>(e,t,r,n)=>{let{x:i,y:o,y1:a,series:s,size:l}=r,u=t.x,c=t.series,[f]=n.getSize(),d=l?l.map(e=>+e/f):null,p=l?(e,t,r)=>{let n=e+t/2,i=d[r];return[n-i/2,n+i/2]}:(e,t,r)=>[e,e+t],h=Array.from(e,e=>{let t=rt(u,i[e]),r=c?rt(c,null==s?void 0:s[e]):1,l=(+(null==s?void 0:s[e])||0)*t,[f,d]=p(+i[e]+l,t*r,e),h=+o[e],y=+a[e];return[[f,h],[d,h],[d,y],[f,y]].map(e=>n.map(e))});return[e,h]};rn.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:rr,channels:[...tJ({shapes:Object.keys(rr)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size"}],preInference:[...t5(),{type:I},{type:N}],postInference:[...t1()],interaction:{shareTooltip:!0}};let ri={rect:tL,hollow:tD},ro=()=>(e,t,r,n)=>{let{x:i,x1:o,y:a,y1:s}=r,l=Array.from(e,e=>{let t=[+i[e],+a[e]];return[t,[+o[e],+a[e]],[+o[e],+s[e]],[+i[e],+s[e]]].map(e=>n.map(e))});return[e,l]};ro.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,shape:ri,channels:[...tJ({shapes:Object.keys(ri)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...t5(),{type:I}],postInference:[...t1()],interaction:{shareTooltip:!0}};var ra=r(18878),rs=r(16232);function rl(e){let t="function"==typeof e?e:e.render;return class extends $.b_{connectedCallback(){this.draw()}attributeChangedCallback(){this.draw()}draw(){t(this)}}}var ru=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let rc=rl(e=>{let{d1:t,d2:r,style1:n,style2:i}=e.attributes,o=e.ownerDocument;tl(e).maybeAppend("line",()=>o.createElement("path",{})).style("d",t).call(tx,n),tl(e).maybeAppend("line1",()=>o.createElement("path",{})).style("d",r).call(tx,i)}),rf=(e,t)=>{let{curve:r,gradient:n=!1,gradientColor:i="between",defined:o=e=>!Number.isNaN(e)&&null!=e,connect:a=!1}=e,s=ru(e,["curve","gradient","gradientColor","defined","connect"]),{coordinate:l,document:u}=t;return(e,t,c)=>{let f;let{color:d,lineWidth:p}=c,h=ru(c,["color","lineWidth"]),{color:y=d,size:b=p,seriesColor:g,seriesX:m,seriesY:v}=t,_=tA(l,t),O=D(l),w=n&&g?tj(g,m,v,n,i,O):y,S=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},h),w&&{stroke:w}),b&&{lineWidth:b}),_&&{transform:_}),s);if(z(l)){let e=l.getCenter();f=t=>(0,rs.Z)().angle((r,n)=>tp(tc(t[n],e))).radius((r,n)=>tf(t[n],e)).defined(([e,t])=>o(e)&&o(t)).curve(r)(t)}else f=(0,tz.Z)().x(e=>e[0]).y(e=>e[1]).defined(([e,t])=>o(e)&&o(t)).curve(r);let[E,x]=function(e,t){let r=[],n=[],i=!1,o=null;for(let a of e)t(a[0])&&t(a[1])?(r.push(a),i&&(i=!1,n.push([o,a])),o=a):i=!0;return[r,n]}(e,o),P=tr(S,"connect"),j=!!x.length;return j&&(!a||Object.keys(P).length)?j&&!a?tl(u.createElement("path",{})).style("d",f(e)).call(tx,S).node():tl(new rc).style("style1",Object.assign(Object.assign({},S),P)).style("style2",S).style("d1",x.map(f).join(",")).style("d2",f(e)).node():tl(u.createElement("path",{})).style("d",f(E)||[]).call(tx,S).node()}};rf.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};let rd=(e,t)=>{let{coordinate:r}=t;return(...n)=>rf(Object.assign({curve:z(r)?tF.Z:ra.Z},e),t)(...n)};rd.props=Object.assign(Object.assign({},rf.props),{defaultMarker:"line"});var rp=r(24372),rh=r(54948),ry=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let rb=(e,t)=>{let r=ry(e,[]),{coordinate:n}=t;return(...e)=>rf(Object.assign({curve:z(n)?rp.Z:D(n)?rh.s:rh.Z},r),t)(...e)};rb.props=Object.assign(Object.assign({},rf.props),{defaultMarker:"smooth"});var rg=r(5337);let rm=(e,t)=>rf(Object.assign({curve:rg.cD},e),t);rm.props=Object.assign(Object.assign({},rf.props),{defaultMarker:"hv"});let rv=(e,t)=>rf(Object.assign({curve:rg.RN},e),t);rv.props=Object.assign(Object.assign({},rf.props),{defaultMarker:"vh"});let r_=(e,t)=>rf(Object.assign({curve:rg.ZP},e),t);r_.props=Object.assign(Object.assign({},rf.props),{defaultMarker:"hvh"});var rO=r(72490),rw=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let rS=(e,t)=>{let{document:r}=t;return(t,n,i)=>{let{seriesSize:o,color:a}=n,{color:s}=i,l=rw(i,["color"]),u=(0,rO.ET)();for(let e=0;e<t.length-1;e++){let r=t[e],n=t[e+1],i=o[e],a=o[e+1];[...r,...n].every(tt)&&function(e,t,r,n,i){let o=td(tc(r,t)),a=o+Math.PI/2,s=[n/2*Math.cos(a),n/2*Math.sin(a)],l=[i/2*Math.cos(a),i/2*Math.sin(a)],u=[i/2*Math.cos(o),i/2*Math.sin(o)],c=[n/2*Math.cos(o),n/2*Math.sin(o)],f=function([e,t],[r,n]){return[e+r,t+n]}(t,s),d=function([e,t],[r,n]){return[e+r,t+n]}(r,l),p=function([e,t],[r,n]){return[e+r,t+n]}(d,u),h=function([e,t],[r,n]){return[e+r,t+n]}(r,u),y=tc(h,l),b=tc(r,l),g=tc(t,s),m=tc(g,c),v=tc(t,c),_=tc(f,c);e.moveTo(...f),e.lineTo(...d),e.arcTo(...p,...h,i/2),e.arcTo(...y,...b,i/2),e.lineTo(...g),e.arcTo(...m,...v,n/2),e.arcTo(..._,...f,n/2),e.closePath()}(u,r,n,i,a)}return tl(r.createElement("path",{})).call(tx,l).style("fill",a||s).style("d",u.toString()).call(tx,e).node()}};rS.props=Object.assign(Object.assign({},rf.props),{defaultMarker:"line"});let rE=()=>(e,t)=>{let{style:r={},encode:n}=t,{series:i}=n,{gradient:o}=r;return!o||i?[e,t]:[e,(0,P.Z)({},t,{encode:{series:k(C(e,void 0))}})]};rE.props={};let rx=()=>(e,t)=>{let{encode:r}=t,{series:n,color:i}=r;if(void 0!==n||void 0===i)return[e,t];let[o,a]=A(r,"color");return[e,(0,P.Z)({},t,{encode:{series:j(o,a)}})]};rx.props={};let rP={line:rd,smooth:rb,hv:rm,vh:rv,hvh:r_,trail:rS},rj=(e,t,r,n)=>{var i,o;let{series:a,x:s,y:l}=r,{x:u,y:c}=t;if(void 0===s||void 0===l)throw Error("Missing encode for x or y channel.");let f=a?Array.from((0,e5.ZP)(e,e=>a[e]).values()):[e],d=f.map(e=>e[0]).filter(e=>void 0!==e),p=((null===(i=null==u?void 0:u.getBandWidth)||void 0===i?void 0:i.call(u))||0)/2,h=((null===(o=null==c?void 0:c.getBandWidth)||void 0===o?void 0:o.call(c))||0)/2;return[d,Array.from(f,e=>e.map(e=>n.map([+s[e]+p,+l[e]+h]))),f]},rT=(e,t,r,n)=>{let i=Object.entries(r).filter(([e])=>e.startsWith("position")).map(([,e])=>e);if(0===i.length)throw Error("Missing encode for position channel.");let o=Array.from(e,e=>{let t=i.map(t=>+t[e]),r=n.map(t),o=[];for(let e=0;e<r.length;e+=2)o.push([r[e],r[e+1]]);return o});return[e,o]},rk=()=>(e,t,r,n)=>(U(n)?rT:rj)(e,t,r,n);rk.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:rP,channels:[...tJ({shapes:Object.keys(rP)}),{name:"x"},{name:"y"},{name:"position",independent:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...t5(),{type:rE},{type:rx}],postInference:[...t1(),{type:tG,channel:"color"},{type:tY,channel:["position"]}],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};var rC=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let rA=(e,t,r)=>[["M",e-r,t],["A",r,r,0,1,0,e+r,t],["A",r,r,0,1,0,e-r,t],["Z"]];rA.style=["fill"];let rR=rA.bind(void 0);rR.style=["stroke","lineWidth"];let rM=(e,t,r)=>[["M",e-r,t-r],["L",e+r,t-r],["L",e+r,t+r],["L",e-r,t+r],["Z"]];rM.style=["fill"];let rI=rM.bind(void 0);rI.style=["fill"];let rN=rM.bind(void 0);rN.style=["stroke","lineWidth"];let rL=(e,t,r)=>{let n=.618*r;return[["M",e-n,t],["L",e,t-r],["L",e+n,t],["L",e,t+r],["Z"]]};rL.style=["fill"];let rD=rL.bind(void 0);rD.style=["stroke","lineWidth"];let rz=(e,t,r)=>{let n=r*Math.sin(1/3*Math.PI);return[["M",e-r,t+n],["L",e,t-n],["L",e+r,t+n],["Z"]]};rz.style=["fill"];let rF=rz.bind(void 0);rF.style=["stroke","lineWidth"];let rB=(e,t,r)=>{let n=r*Math.sin(1/3*Math.PI);return[["M",e-r,t-n],["L",e+r,t-n],["L",e,t+n],["Z"]]};rB.style=["fill"];let rU=rB.bind(void 0);rU.style=["stroke","lineWidth"];let rW=(e,t,r)=>{let n=r/2*Math.sqrt(3);return[["M",e,t-r],["L",e+n,t-r/2],["L",e+n,t+r/2],["L",e,t+r],["L",e-n,t+r/2],["L",e-n,t-r/2],["Z"]]};rW.style=["fill"];let rZ=rW.bind(void 0);rZ.style=["stroke","lineWidth"];let rV=(e,t,r)=>{let n=r-1.5;return[["M",e-r,t-n],["L",e+r,t+n],["L",e+r,t-n],["L",e-r,t+n],["Z"]]};rV.style=["fill"];let rq=rV.bind(void 0);rq.style=["stroke","lineWidth"];let r$=(e,t,r)=>[["M",e,t+r],["L",e,t-r]];r$.style=["stroke","lineWidth"];let rH=(e,t,r)=>[["M",e-r,t-r],["L",e+r,t+r],["M",e+r,t-r],["L",e-r,t+r]];rH.style=["stroke","lineWidth"];let rG=(e,t,r)=>[["M",e-r/2,t-r],["L",e+r/2,t-r],["M",e,t-r],["L",e,t+r],["M",e-r/2,t+r],["L",e+r/2,t+r]];rG.style=["stroke","lineWidth"];let rY=(e,t,r)=>[["M",e-r,t],["L",e+r,t],["M",e,t-r],["L",e,t+r]];rY.style=["stroke","lineWidth"];let rK=(e,t,r)=>[["M",e-r,t],["L",e+r,t]];rK.style=["stroke","lineWidth"];let rX=(e,t,r)=>[["M",e-r,t],["L",e+r,t]];rX.style=["stroke","lineWidth"];let rQ=rX.bind(void 0);rQ.style=["stroke","lineWidth"];let rJ=(e,t,r)=>[["M",e-r,t],["A",r/2,r/2,0,1,1,e,t],["A",r/2,r/2,0,1,0,e+r,t]];rJ.style=["stroke","lineWidth"];let r0=(e,t,r)=>[["M",e-r-1,t-2.5],["L",e,t-2.5],["L",e,t+2.5],["L",e+r+1,t+2.5]];r0.style=["stroke","lineWidth"];let r1=(e,t,r)=>[["M",e-r-1,t+2.5],["L",e,t+2.5],["L",e,t-2.5],["L",e+r+1,t-2.5]];r1.style=["stroke","lineWidth"];let r2=(e,t,r)=>[["M",e-(r+1),t+2.5],["L",e-r/2,t+2.5],["L",e-r/2,t-2.5],["L",e+r/2,t-2.5],["L",e+r/2,t+2.5],["L",e+r+1,t+2.5]];r2.style=["stroke","lineWidth"];let r5=(e,t,r)=>[["M",e-5,t+2.5],["L",e-5,t],["L",e,t],["L",e,t-3],["L",e,t+3],["L",e+6.5,t+3]];r5.style=["stroke","lineWidth"];let r4=new Map([["bowtie",rV],["cross",rH],["dash",rQ],["diamond",rL],["dot",rX],["hexagon",rW],["hollowBowtie",rq],["hollowDiamond",rD],["hollowHexagon",rZ],["hollowPoint",rR],["hollowSquare",rN],["hollowTriangle",rF],["hollowTriangleDown",rU],["hv",r0],["hvh",r2],["hyphen",rK],["line",r$],["plus",rY],["point",rA],["rect",rI],["smooth",rJ],["square",rM],["tick",rG],["triangleDown",rB],["triangle",rz],["vh",r1],["vhv",r5]]);var r3=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let r6=(e,t)=>{let{colorAttribute:r,symbol:n,mode:i="auto"}=e,o=r3(e,["colorAttribute","symbol","mode"]),a=r4.get(n)||r4.get("point"),{coordinate:s,document:l}=t;return(t,n,u)=>{let{lineWidth:c,color:f}=u,d=o.stroke?c||1:c,{color:p=f,transform:h,opacity:y}=n,[b,g]=tR(t),m=function(e,t,r,n){if(1===t.length)return;let{size:i}=r;if("fixed"===e)return i;if("normal"===e||W(n)){let[[e,r],[n,i]]=t;return Math.max(0,(Math.abs((n-e)/2)+Math.abs((i-r)/2))/2)}return i}(i,t,n,s)||o.r||u.r;return tl(l.createElement("path",{})).call(tx,u).style("fill","transparent").style("d",a(b,g,m)).style("lineWidth",d).style("transform",h).style("stroke",p).style(tC(e),y).style(r,p).call(tx,o).node()}};r6.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};let r8=(e,t)=>r6(Object.assign({colorAttribute:"stroke",symbol:"point"},e),t);r8.props=Object.assign({defaultMarker:"hollowPoint"},r6.props);let r9=(e,t)=>r6(Object.assign({colorAttribute:"stroke",symbol:"diamond"},e),t);r9.props=Object.assign({defaultMarker:"hollowDiamond"},r6.props);let r7=(e,t)=>r6(Object.assign({colorAttribute:"stroke",symbol:"hexagon"},e),t);r7.props=Object.assign({defaultMarker:"hollowHexagon"},r6.props);let ne=(e,t)=>r6(Object.assign({colorAttribute:"stroke",symbol:"square"},e),t);ne.props=Object.assign({defaultMarker:"hollowSquare"},r6.props);let nt=(e,t)=>r6(Object.assign({colorAttribute:"stroke",symbol:"triangle-down"},e),t);nt.props=Object.assign({defaultMarker:"hollowTriangleDown"},r6.props);let nr=(e,t)=>r6(Object.assign({colorAttribute:"stroke",symbol:"triangle"},e),t);nr.props=Object.assign({defaultMarker:"hollowTriangle"},r6.props);let nn=(e,t)=>r6(Object.assign({colorAttribute:"stroke",symbol:"bowtie"},e),t);nn.props=Object.assign({defaultMarker:"hollowBowtie"},r6.props);let ni=(e,t)=>r6(Object.assign({colorAttribute:"fill",symbol:"point"},e),t);ni.props=Object.assign({defaultMarker:"point"},r6.props);let no=(e,t)=>r6(Object.assign({colorAttribute:"stroke",symbol:"plus"},e),t);no.props=Object.assign({defaultMarker:"plus"},r6.props);let na=(e,t)=>r6(Object.assign({colorAttribute:"fill",symbol:"diamond"},e),t);na.props=Object.assign({defaultMarker:"diamond"},r6.props);let ns=(e,t)=>r6(Object.assign({colorAttribute:"fill",symbol:"square"},e),t);ns.props=Object.assign({defaultMarker:"square"},r6.props);let nl=(e,t)=>r6(Object.assign({colorAttribute:"fill",symbol:"triangle"},e),t);nl.props=Object.assign({defaultMarker:"triangle"},r6.props);let nu=(e,t)=>r6(Object.assign({colorAttribute:"fill",symbol:"hexagon"},e),t);nu.props=Object.assign({defaultMarker:"hexagon"},r6.props);let nc=(e,t)=>r6(Object.assign({colorAttribute:"stroke",symbol:"cross"},e),t);nc.props=Object.assign({defaultMarker:"cross"},r6.props);let nf=(e,t)=>r6(Object.assign({colorAttribute:"fill",symbol:"bowtie"},e),t);nf.props=Object.assign({defaultMarker:"bowtie"},r6.props);let nd=(e,t)=>r6(Object.assign({colorAttribute:"stroke",symbol:"hyphen"},e),t);nd.props=Object.assign({defaultMarker:"hyphen"},r6.props);let np=(e,t)=>r6(Object.assign({colorAttribute:"stroke",symbol:"line"},e),t);np.props=Object.assign({defaultMarker:"line"},r6.props);let nh=(e,t)=>r6(Object.assign({colorAttribute:"stroke",symbol:"tick"},e),t);nh.props=Object.assign({defaultMarker:"tick"},r6.props);let ny=(e,t)=>r6(Object.assign({colorAttribute:"fill",symbol:"triangle-down"},e),t);ny.props=Object.assign({defaultMarker:"triangleDown"},r6.props);let nb=()=>(e,t)=>{let{encode:r}=t,{y:n}=r;return void 0!==n?[e,t]:[e,(0,P.Z)({},t,{encode:{y:T(C(e,0))},scale:{y:{guide:null}}})]};nb.props={};let ng=()=>(e,t)=>{let{encode:r}=t,{size:n}=r;return void 0!==n?[e,t]:[e,(0,P.Z)({},t,{encode:{size:k(C(e,3))}})]};ng.props={};let nm={hollow:r8,hollowDiamond:r9,hollowHexagon:r7,hollowSquare:ne,hollowTriangleDown:nt,hollowTriangle:nr,hollowBowtie:nn,point:ni,plus:no,diamond:na,square:ns,triangle:nl,hexagon:nu,cross:nc,bowtie:nf,hyphen:nd,line:np,tick:nh,triangleDown:ny},nv=e=>(t,r,n,i)=>{let{x:o,y:a,x1:s,y1:l,size:u,dx:c,dy:f}=n,[d,p]=i.getSize(),h=t3(r,n,e),y=e=>{let t=+((null==c?void 0:c[e])||0),r=+((null==f?void 0:f[e])||0);return[(s?(+o[e]+ +s[e])/2:+o[e])+t,(l?(+a[e]+ +l[e])/2:+a[e])+r]},b=u?Array.from(t,e=>{let[t,r]=y(e),n=+u[e],o=n/d,a=n/p;return[i.map(h([t-o,r-a],e)),i.map(h([t+o,r+a],e))]}):Array.from(t,e=>[i.map(h(y(e),e))]);return[t,b]};nv.props={defaultShape:"hollow",defaultLabelShape:"label",composite:!1,shape:nm,channels:[...tJ({shapes:Object.keys(nm)}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",quantitative:"sqrt"},{name:"dx",scale:"identity"},{name:"dy",scale:"identity"}],preInference:[...t5(),{type:N},{type:nb}],postInference:[{type:ng},...t0()]};var n_=r(92336),nO=r(1139);function nw(e){nE(e,!0)}function nS(e){nE(e,!1)}function nE(e,t){var r=t?"visible":"hidden";!function e(t,r){r(t),t.children&&t.children.forEach(function(t){t&&e(t,r)})}(e,function(e){e.attr("visibility",r)})}var nx=r(25997),nP=function(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=5),Object.entries(t).forEach(function(i){var o=(0,n_.CR)(i,2),a=o[0],s=o[1];Object.prototype.hasOwnProperty.call(t,a)&&(s?(0,e3.Z)(s)?((0,e3.Z)(e[a])||(e[a]={}),r<n?nP(e[a],s,r+1,n):e[a]=t[a]):(0,nx.Z)(s)?(e[a]=[],e[a]=e[a].concat(s)):e[a]=s:e[a]=s)})},nj=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0;n<t.length;n+=1)nP(e,t[n]);return e},nT=function(e){function t(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=e.apply(this,(0,n_.ev)([],(0,n_.CR)(t),!1))||this;return n.addEventListener($.Dk.INSERTED,function(){nS(n)}),n}return(0,n_.ZT)(t,e),t}($.ZA);function nk(e){var t=e.appendChild(new nT({class:"offscreen"}));return nS(t),t}function nC(){nE(this,"hidden"!==this.attributes.visibility)}var nA=function(e){function t(t,r){void 0===r&&(r={});var n=e.call(this,nj({},{style:r},t))||this;return n.initialized=!1,n._defaultOptions=r,n}return(0,n_.ZT)(t,e),Object.defineProperty(t.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=nk(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),t.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},t.prototype.disconnectedCallback=function(){var e;null===(e=this._offscreen)||void 0===e||e.destroy()},t.prototype.attributeChangedCallback=function(e){"visibility"===e&&nC.call(this)},t.prototype.update=function(e,t){var r;return this.attr(nj({},this.attributes,e||{})),null===(r=this.render)||void 0===r?void 0:r.call(this,this.attributes,this,t)},t.prototype.clear=function(){this.removeChildren()},t.prototype.bindEvents=function(e,t){},t.prototype.getSubShapeStyle=function(e){return e.x,e.y,e.transform,e.transformOrigin,e.class,e.className,e.zIndex,(0,n_._T)(e,["x","y","transform","transformOrigin","class","className","zIndex"])},t}($.b_);function nR(e,t,r,n,i){return(void 0===n&&(n=!0),void 0===i&&(i=function(e){e.node().removeChildren()}),e)?r(t):(n&&i(t),null)}var nM=function(e){function t(t){void 0===t&&(t={});var r=t.style,n=(0,n_._T)(t,["style"]);return e.call(this,(0,n_.pi)({style:(0,n_.pi)({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},r)},n))||this}return(0,n_.ZT)(t,e),Object.defineProperty(t.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=nk(this)),this._offscreen},enumerable:!1,configurable:!0}),t.prototype.disconnectedCallback=function(){var e;null===(e=this._offscreen)||void 0===e||e.destroy()},t}($.xv),nI=function(){var e,t,r;function n(t,r,n,i,o,a,s){void 0===t&&(t=null),void 0===r&&(r=null),void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=[null,null,null,null,null]),void 0===a&&(a=[]),void 0===s&&(s=[]),e.add(this),this._elements=Array.from(t),this._data=r,this._parent=n,this._document=i,this._enter=o[0],this._update=o[1],this._exit=o[2],this._merge=o[3],this._split=o[4],this._transitions=a,this._facetElements=s}return n.prototype.selectAll=function(e){var r="string"==typeof e?this._parent.querySelectorAll(e):e;return new t(r,null,this._elements[0],this._document)},n.prototype.selectFacetAll=function(e){var r="string"==typeof e?this._parent.querySelectorAll(e):e;return new t(this._elements,null,this._parent,this._document,void 0,void 0,r)},n.prototype.select=function(e){var r="string"==typeof e?this._parent.querySelectorAll(e)[0]||null:e;return new t([r],null,r,this._document)},n.prototype.append=function(e){var r=this,n="function"==typeof e?e:function(){return r.createElement(e)},i=[];if(null!==this._data){for(var o=0;o<this._data.length;o++){var a=this._data[o],s=(0,n_.CR)(Array.isArray(a)?a:[a,null],2),l=s[0],u=s[1],c=n(l,o);c.__data__=l,null!==u&&(c.__fromElements__=u),this._parent.appendChild(c),i.push(c)}return new t(i,null,this._parent,this._document)}for(var o=0;o<this._elements.length;o++){var f=this._elements[o],l=f.__data__,c=n(l,o);f.appendChild(c),i.push(c)}return new t(i,null,i[0],this._document)},n.prototype.maybeAppend=function(t,n){var i=(0,n_.Q_)(this,e,"m",r).call(this,"#"===t[0]?t:"#".concat(t),n);return i.attr("id",t),i},n.prototype.maybeAppendByClassName=function(t,n){var i=t.toString(),o=(0,n_.Q_)(this,e,"m",r).call(this,"."===i[0]?i:".".concat(i),n);return o.attr("className",i),o},n.prototype.maybeAppendByName=function(t,n){var i=(0,n_.Q_)(this,e,"m",r).call(this,'[name="'.concat(t,'"]'),n);return i.attr("name",t),i},n.prototype.data=function(e,r,n){void 0===r&&(r=function(e){return e}),void 0===n&&(n=function(){return null});for(var i,o,a,s,l,u=[],c=[],f=new Set(this._elements),d=[],p=new Set,h=new Map(this._elements.map(function(e,t){return[r(e.__data__,t),e]})),y=new Map(this._facetElements.map(function(e,t){return[r(e.__data__,t),e]})),b=(i=this._elements,o=function(e){return n(e.__data__)},a=new Map,i.forEach(function(e){var t=o(e);a.has(t)||a.set(t,[]),a.get(t).push(e)}),a),g=0;g<e.length;g++){var m=e[g],v=r(m,g),_=n(m,g);if(h.has(v)){var O=h.get(v);O.__data__=m,O.__facet__=!1,c.push(O),f.delete(O),h.delete(v)}else if(y.has(v)){var O=y.get(v);O.__data__=m,O.__facet__=!0,c.push(O),y.delete(v)}else if(b.has(v)){var w=b.get(v);d.push([m,w]);try{for(var S=(s=void 0,(0,n_.XA)(w)),E=S.next();!E.done;E=S.next()){var O=E.value;f.delete(O)}}catch(e){s={error:e}}finally{try{E&&!E.done&&(l=S.return)&&l.call(S)}finally{if(s)throw s.error}}b.delete(v)}else if(h.has(_)){var O=h.get(_);O.__toData__?O.__toData__.push(m):O.__toData__=[m],p.add(O),f.delete(O)}else u.push(m)}var x=[new t([],u,this._parent,this._document),new t(c,null,this._parent,this._document),new t(f,null,this._parent,this._document),new t([],d,this._parent,this._document),new t(p,null,this._parent,this._document)];return new t(this._elements,null,this._parent,this._document,x)},n.prototype.merge=function(e){var r=(0,n_.ev)((0,n_.ev)([],(0,n_.CR)(this._elements),!1),(0,n_.CR)(e._elements),!1),n=(0,n_.ev)((0,n_.ev)([],(0,n_.CR)(this._transitions),!1),(0,n_.CR)(e._transitions),!1);return new t(r,null,this._parent,this._document,void 0,n)},n.prototype.createElement=function(e){if(this._document)return this._document.createElement(e,{});var r=t.registry[e];return r?new r:function(e){throw Error(e)}("Unknown node type: ".concat(e))},n.prototype.join=function(e,t,r,n,i){void 0===e&&(e=function(e){return e}),void 0===t&&(t=function(e){return e}),void 0===r&&(r=function(e){return e.remove()}),void 0===n&&(n=function(e){return e}),void 0===i&&(i=function(e){return e.remove()});var o=e(this._enter),a=t(this._update),s=r(this._exit),l=n(this._merge),u=i(this._split);return a.merge(o).merge(s).merge(l).merge(u)},n.prototype.remove=function(){for(var e=this,r=0;r<this._elements.length;r++)!function(t){var r=e._elements[t],n=e._transitions[t];n?n.then(function(){return r.remove()}):r.remove()}(r);return new t([],null,this._parent,this._document,void 0,this._transitions)},n.prototype.each=function(e){for(var t=0;t<this._elements.length;t++){var r=this._elements[t],n=r.__data__;e.call(r,n,t)}return this},n.prototype.attr=function(e,t){var r="function"!=typeof t?function(){return t}:t;return this.each(function(n,i){void 0!==t&&(this[e]=r.call(this,n,i))})},n.prototype.style=function(e,t,r){void 0===r&&(r=!0);var n="function"==typeof t&&r?t:function(){return t};return this.each(function(r,i){void 0!==t&&(this.style[e]=n.call(this,r,i))})},n.prototype.styles=function(e,t){return void 0===e&&(e={}),void 0===t&&(t=!0),this.each(function(r,n){var i=this;Object.entries(e).forEach(function(e){var o=(0,n_.CR)(e,2),a=o[0],s=o[1],l="function"==typeof s&&t?s:function(){return s};void 0!==s&&i.attr(a,l.call(i,r,n))})})},n.prototype.update=function(e,t){void 0===t&&(t=!0);var r="function"==typeof e&&t?e:function(){return e};return this.each(function(t,n){e&&this.update&&this.update(r.call(this,t,n))})},n.prototype.maybeUpdate=function(e,t){void 0===t&&(t=!0);var r="function"==typeof e&&t?e:function(){return e};return this.each(function(t,n){e&&this.update&&this.update(r.call(this,t,n))})},n.prototype.transition=function(e){var t=this._transitions;return this.each(function(r,n){t[n]=e.call(this,r,n)})},n.prototype.on=function(e,t){return this.each(function(){this.addEventListener(e,t)}),this},n.prototype.call=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return e.call.apply(e,(0,n_.ev)([this._parent,this],(0,n_.CR)(t),!1)),this},n.prototype.node=function(){return this._elements[0]},n.prototype.nodes=function(){return this._elements},n.prototype.transitions=function(){return this._transitions.filter(function(e){return!!e})},n.prototype.parent=function(){return this._parent},t=n,e=new WeakSet,r=function(e,r){var n=this._elements[0],i=n.querySelector(e);if(i)return new t([i],null,this._parent,this._document);var o="string"==typeof r?this.createElement(r):r();return n.appendChild(o),new t([o],null,this._parent,this._document)},n.registry={g:$.ZA,rect:$.UL,circle:$.Cd,path:$.y$,text:nM,ellipse:$.Pj,image:$.Ee,line:$.x1,polygon:$.mg,polyline:$.aH,html:$.k9},n}();function nN(e){return new nI([e],null,e,e.ownerDocument)}var nL=function(e,t,r){return[["M",e-r,t],["A",r,r,0,1,0,e+r,t],["A",r,r,0,1,0,e-r,t],["Z"]]},nD=function(e,t,r){return[["M",e,t+r],["L",e,t-r]]},nz=function(e,t,r){return[["M",e-r,t],["L",e+r,t]]},nF=r(12492),nB=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n_.ZT)(t,e),t.prototype.render=function(e,r){var n,i=this.getSubShapeStyle(e),o=i.symbol,a=i.size,s=void 0===a?16:a,l=(0,n_._T)(i,["symbol","size"]),u=["base64","url","image"].includes(n=function(e){var t="default";if((0,nF.Z)(e)&&e instanceof Image)t="image";else if((0,nO.Z)(e))t="symbol";else if((0,G.Z)(e)){var r=RegExp("data:(image|text)");t=e.match(r)?"base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(e)?"url":"symbol"}return t}(o))?"image":o&&"symbol"===n?"path":null;nR(!!u,nN(r),function(e){e.maybeAppendByClassName("marker",u).attr("className","marker ".concat(u,"-marker")).call(function(e){if("image"===u){var r=2*s;e.styles({img:o,width:r,height:r,x:-s,y:-s})}else{var r=s/2,n=(0,nO.Z)(o)?o:t.getSymbol(o);e.styles((0,n_.pi)({path:null==n?void 0:n(0,0,r)},l))}})})},t.MARKER_SYMBOL_MAP=new Map,t.registerSymbol=function(e,r){t.MARKER_SYMBOL_MAP.set(e,r)},t.getSymbol=function(e){return t.MARKER_SYMBOL_MAP.get(e)},t.getSymbols=function(){return Array.from(t.MARKER_SYMBOL_MAP.keys())},t}(nA);nB.registerSymbol("cross",function(e,t,r){return[["M",e-r,t-r],["L",e+r,t+r],["M",e+r,t-r],["L",e-r,t+r]]}),nB.registerSymbol("hyphen",function(e,t,r){return[["M",e-r,t],["L",e+r,t]]}),nB.registerSymbol("line",nD),nB.registerSymbol("plus",function(e,t,r){return[["M",e-r,t],["L",e+r,t],["M",e,t-r],["L",e,t+r]]}),nB.registerSymbol("tick",function(e,t,r){return[["M",e-r/2,t-r],["L",e+r/2,t-r],["M",e,t-r],["L",e,t+r],["M",e-r/2,t+r],["L",e+r/2,t+r]]}),nB.registerSymbol("circle",nL),nB.registerSymbol("point",nL),nB.registerSymbol("bowtie",function(e,t,r){var n=r-1.5;return[["M",e-r,t-n],["L",e+r,t+n],["L",e+r,t-n],["L",e-r,t+n],["Z"]]}),nB.registerSymbol("hexagon",function(e,t,r){var n=r/2*Math.sqrt(3);return[["M",e,t-r],["L",e+n,t-r/2],["L",e+n,t+r/2],["L",e,t+r],["L",e-n,t+r/2],["L",e-n,t-r/2],["Z"]]}),nB.registerSymbol("square",function(e,t,r){return[["M",e-r,t-r],["L",e+r,t-r],["L",e+r,t+r],["L",e-r,t+r],["Z"]]}),nB.registerSymbol("diamond",function(e,t,r){return[["M",e-r,t],["L",e,t-r],["L",e+r,t],["L",e,t+r],["Z"]]}),nB.registerSymbol("triangle",function(e,t,r){var n=r*Math.sin(1/3*Math.PI);return[["M",e-r,t+n],["L",e,t-n],["L",e+r,t+n],["Z"]]}),nB.registerSymbol("triangle-down",function(e,t,r){var n=r*Math.sin(1/3*Math.PI);return[["M",e-r,t-n],["L",e+r,t-n],["L",e,t+n],["Z"]]}),nB.registerSymbol("line",nD),nB.registerSymbol("dot",nz),nB.registerSymbol("dash",nz),nB.registerSymbol("smooth",function(e,t,r){return[["M",e-r,t],["A",r/2,r/2,0,1,1,e,t],["A",r/2,r/2,0,1,0,e+r,t]]}),nB.registerSymbol("hv",function(e,t,r){return[["M",e-r-1,t-2.5],["L",e,t-2.5],["L",e,t+2.5],["L",e+r+1,t+2.5]]}),nB.registerSymbol("vh",function(e,t,r){return[["M",e-r-1,t+2.5],["L",e,t+2.5],["L",e,t-2.5],["L",e+r+1,t-2.5]]}),nB.registerSymbol("hvh",function(e,t,r){return[["M",e-(r+1),t+2.5],["L",e-r/2,t+2.5],["L",e-r/2,t-2.5],["L",e+r/2,t-2.5],["L",e+r/2,t+2.5],["L",e+r+1,t+2.5]]}),nB.registerSymbol("vhv",function(e,t){return[["M",e-5,t+2.5],["L",e-5,t],["L",e,t],["L",e,t-3],["L",e,t+3],["L",e+6.5,t+3]]});var nU=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let nW=(e,t,r)=>{let n=tf(e,t),i=tf(t,r);return(Math.pow(n,2)+Math.pow(i,2)-Math.pow(tf(r,e),2))/(2*n*i)},nZ=rl(e=>{let t;let r=e.attributes,{className:n,class:i,transform:o,rotate:a,labelTransform:s,labelTransformOrigin:l,x:u,y:c,x0:f=u,y0:d=c,text:p,background:h,connector:y,startMarker:b,endMarker:g,coordCenter:m,innerHTML:v}=r,_=nU(r,["className","class","transform","rotate","labelTransform","labelTransformOrigin","x","y","x0","y0","text","background","connector","startMarker","endMarker","coordCenter","innerHTML"]);if([u,c,f,d].some(e=>!(0,Y.Z)(e))){e.children.forEach(e=>e.remove());return}let O=tr(_,"background"),{padding:w}=O,S=nU(O,["padding"]),E=tr(_,"connector"),{points:x=[]}=E,P=nU(E,["points"]),j=[[+f,+d],[+u,+c]];t=v?tl(e).maybeAppend("html","html",n).style("zIndex",0).style("innerHTML",v).call(tx,Object.assign({transform:s,transformOrigin:l},_)).node():tl(e).maybeAppend("text","text").style("zIndex",0).style("text",p).call(tx,Object.assign({textBaseline:"middle",transform:s,transformOrigin:l},_)).node();let T=function(e,t,r,n){let[[i,o],[a,s]]=t,[l,u]=function(e){let{min:[t,r],max:[n,i]}=e.getLocalBounds(),o=0,a=0;return t>0&&(o=t),n<0&&(o=n),r>0&&(a=r),i<0&&(a=i),[o,a]}(e);if(i===a&&o===s)return(0,tz.Z)()([[0,0],[l,u]]);let c=[[i-a,o-s]].concat(r.length?r:[[0,0]]),f=[n[0]-a,n[1]-s],[d,p]=c;if(nW(f,d,p)>0){let t=(()=>{let{min:t,max:r}=e.getLocalBounds(),n=d[0]+(d[1]-f[1])*(d[1]-0)/(d[0]-f[0]);return r[0]<f[0]?Math.min(r[0],n):Math.max(t[0],n)})();c.splice(1,1,[t,0])}return(0,tz.Z)()(c)}(tl(e).maybeAppend("background","rect").style("zIndex",-1).call(tx,function(e,t=[]){let[r=0,n=0,i=r,o=n]=t,a=e.parentNode,s=a.getEulerAngles();a.setEulerAngles(0);let{min:l,halfExtents:u}=e.getLocalBounds(),[c,f]=l,[d,p]=u;return a.setEulerAngles(s),{x:c-o,y:f-r,width:2*d+o+n,height:2*p+r+i}}(t,w)).call(tx,h?S:{}).node(),j,x,m),k=b&&new nB({id:"startMarker",style:Object.assign({x:0,y:0},tr(_,"startMarker"))}),C=g&&new nB({id:"endMarker",style:Object.assign({x:0,y:0},tr(_,"endMarker"))});tl(e).maybeAppend("connector","path").style("zIndex",0).style("path",T).style("markerStart",k).style("markerEnd",C).call(tx,y?P:{})}),nV=(e,t)=>{let{coordinate:r}=t;return(t,n,i)=>{let{color:o,text:a="",fontSize:s,rotate:l=0,transform:u=""}=n,c={text:String(a),stroke:o,fill:o,fontSize:s},[[f,d]]=t;return tl(new nZ).style("x",f).style("y",d).call(tx,i).style("transform",`${u}rotate(${+l})`).style("coordCenter",r.getCenter()).call(tx,c).call(tx,e).node()}};nV.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var nq=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let n$=rl(e=>{let t=e.attributes,{class:r,x:n,y:i}=t,o=nq(t,["class","x","y"]),a=tr(o,"marker"),{size:s=24}=a,l=()=>(function(e){let t=e/Math.sqrt(2),r=e*Math.sqrt(2),[n,i]=[-t,t-r],[o,a]=[0,0],[s,l]=[t,t-r];return[["M",n,i],["A",e,e,0,1,1,s,l],["L",o,a],["Z"]]})(s/2),[u,c]=function(e){let{min:t,max:r}=e.getLocalBounds();return[(t[0]+r[0])*.5,(t[1]+r[1])*.5]}(tl(e).maybeAppend("marker",()=>new nB({})).call(e=>e.node().update(Object.assign({symbol:l},a))).node());tl(e).maybeAppend("text","text").style("x",u).style("y",c).call(tx,o)}),nH=(e,t)=>{let r=nq(e,[]);return(e,t,n)=>{let{color:i}=n,o=nq(n,["color"]),{color:a=i,text:s=""}=t,l={text:String(s),stroke:a,fill:a},[[u,c]]=e;return tl(new n$).call(tx,o).style("x",u).style("y",c).call(tx,l).call(tx,r).node()}};nH.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};let nG=()=>(e,t)=>{let{data:r}=t;if(!Array.isArray(r)||r.some(M))return[e,t];let n=Array.isArray(r[0])?r:[r],i=n.map(e=>e[0]),o=n.map(e=>e[1]);return[e,(0,P.Z)({},t,{encode:{x:j(i),y:j(o)}})]};nG.props={};var nY=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let nK=()=>(e,t)=>{let{data:r,style:n={}}=t,i=nY(t,["data","style"]),{x:o,y:a}=n,s=nY(n,["x","y"]);return void 0==o||void 0==a?[e,t]:[[0],(0,P.Z)({},i,{data:[0],cartesian:!0,encode:{x:j([o||0]),y:j([a||0])},scale:{x:{type:"identity",independent:!0,guide:null},y:{type:"identity",independent:!0,guide:null}},style:s})]};nK.props={};let nX={text:nV,badge:nH},nQ=e=>{let{cartesian:t=!1}=e;return t?t8:(t,r,n,i)=>{let{x:o,y:a}=n,s=t3(r,n,e),l=Array.from(t,e=>{let t=[+o[e],+a[e]];return[i.map(s(t,e))]});return[t,l]}};nQ.props={defaultShape:"text",defaultLabelShape:"label",composite:!1,shape:nX,channels:[...tJ({shapes:Object.keys(nX)}),{name:"x",required:!0},{name:"y",required:!0},{name:"text",scale:"identity"},{name:"fontSize"},{name:"rotate"}],preInference:[...t5(),{type:nG},{type:nK}],postInference:[...t0()]};let nJ=()=>(e,t)=>[e,(0,P.Z)({scale:{x:{padding:0},y:{padding:0}}},t)];nJ.props={};let n0={cell:tL,hollow:tD},n1=()=>(e,t,r,n)=>{let{x:i,y:o}=r,a=t.x,s=t.y,l=Array.from(e,e=>{let t=a.getBandWidth(a.invert(+i[e])),r=s.getBandWidth(s.invert(+o[e])),l=+i[e],u=+o[e];return[[l,u],[l+t,u],[l+t,u+r],[l,u+r]].map(e=>n.map(e))});return[e,l]};n1.props={defaultShape:"cell",defaultLabelShape:"label",shape:n0,composite:!1,channels:[...tJ({shapes:Object.keys(n0)}),{name:"x",required:!0,scale:"band"},{name:"y",required:!0,scale:"band"}],preInference:[...t5(),{type:N},{type:nb},{type:nJ}],postInference:[...t0()]};var n2=r(8137),n5=r(49632),n4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let n3=rl(e=>{let{areaPath:t,connectPath:r,areaStyle:n,connectStyle:i}=e.attributes,o=e.ownerDocument;tl(e).maybeAppend("connect-path",()=>o.createElement("path",{})).style("d",r).call(tx,i),tl(e).maybeAppend("area-path",()=>o.createElement("path",{})).style("d",t).call(tx,n)}),n6=(e,t)=>{let{curve:r,gradient:n=!1,defined:i=e=>!Number.isNaN(e)&&null!=e,connect:o=!1}=e,a=n4(e,["curve","gradient","defined","connect"]),{coordinate:s,document:l}=t;return(e,t,u)=>{let{color:c}=u,{color:f=c,seriesColor:d,seriesX:p,seriesY:h}=t,y=D(s),b=tA(s,t),g=n&&d?tj(d,p,h,n,void 0,y):f,m=Object.assign(Object.assign(Object.assign(Object.assign({},u),{stroke:g,fill:g}),b&&{transform:b}),a),[v,_]=function(e,t){let r=[],n=[],i=[],o=!1,a=null,s=e.length/2;for(let l=0;l<s;l++){let u=e[l],c=e[l+s];if([...u,...c].some(e=>!t(e)))o=!0;else{if(r.push(u),n.push(c),o&&a){o=!1;let[e,t]=a;i.push([e,u,t,c])}a=[u,c]}}return[r.concat(n),i]}(e,i),O=tr(m,"connect"),w=!!_.length,S=e=>tl(l.createElement("path",{})).style("d",e||"").call(tx,m).node();if(z(s)){let t=e=>{let t=s.getCenter(),n=e.slice(0,e.length/2),o=e.slice(e.length/2);return(0,n5.Z)().angle((e,r)=>tp(tc(n[r],t))).outerRadius((e,r)=>tf(n[r],t)).innerRadius((e,r)=>tf(o[r],t)).defined((e,t)=>[...n[t],...o[t]].every(i)).curve(r)(o)};return w&&(!o||Object.keys(O).length)?w&&!o?S(t(e)):tl(new n3).style("areaStyle",m).style("connectStyle",Object.assign(Object.assign({},O),a)).style("areaPath",t(e)).style("connectPath",_.map(t).join("")).node():S(t(v))}{let t=e=>{let t=e.slice(0,e.length/2),n=e.slice(e.length/2);return y?(0,n2.Z)().y((e,r)=>t[r][1]).x1((e,r)=>t[r][0]).x0((e,t)=>n[t][0]).defined((e,r)=>[...t[r],...n[r]].every(i)).curve(r)(t):(0,n2.Z)().x((e,r)=>t[r][0]).y1((e,r)=>t[r][1]).y0((e,t)=>n[t][1]).defined((e,r)=>[...t[r],...n[r]].every(i)).curve(r)(t)};return w&&(!o||Object.keys(O).length)?w&&!o?S(t(e)):tl(new n3).style("areaStyle",m).style("connectStyle",Object.assign(Object.assign({},O),a)).style("areaPath",t(e)).style("connectPath",_.map(t).join("")).node():S(t(v))}}};n6.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};let n8=(e,t)=>{let{coordinate:r}=t;return(...n)=>n6(Object.assign({curve:z(r)?tF.Z:ra.Z},e),t)(...n)};n8.props=Object.assign(Object.assign({},n6.props),{defaultMarker:"square"});var n9=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let n7=(e,t)=>{let r=n9(e,[]),{coordinate:n}=t;return(...e)=>n6(Object.assign({curve:z(n)?rp.Z:D(n)?rh.s:rh.Z},r),t)(...e)};n7.props=Object.assign(Object.assign({},n6.props),{defaultMarker:"smooth"});let ie=(e,t)=>(...r)=>n6(Object.assign({curve:rg.ZP},e),t)(...r);ie.props=Object.assign(Object.assign({},n6.props),{defaultMarker:"hvh"});let it=(e,t)=>(...r)=>n6(Object.assign({curve:rg.RN},e),t)(...r);it.props=Object.assign(Object.assign({},n6.props),{defaultMarker:"vh"});let ir=(e,t)=>(...r)=>n6(Object.assign({curve:rg.cD},e),t)(...r);ir.props=Object.assign(Object.assign({},n6.props),{defaultMarker:"hv"});let ii={area:n8,smooth:n7,hvh:ie,vh:it,hv:ir},io=()=>(e,t,r,n)=>{var i,o;let{x:a,y:s,y1:l,series:u}=r,{x:c,y:f}=t,d=u?Array.from((0,e5.ZP)(e,e=>u[e]).values()):[e],p=d.map(e=>e[0]).filter(e=>void 0!==e),h=((null===(i=null==c?void 0:c.getBandWidth)||void 0===i?void 0:i.call(c))||0)/2,y=((null===(o=null==f?void 0:f.getBandWidth)||void 0===o?void 0:o.call(f))||0)/2;return[p,Array.from(d,e=>{let t=e.length,r=Array(2*t);for(let i=0;i<e.length;i++){let o=e[i];r[i]=n.map([+a[o]+h,+s[o]+y]),r[t+i]=n.map([+a[o]+h,+l[o]+y])}return r}),d]};io.props={defaultShape:"area",defaultLabelShape:"label",composite:!1,shape:ii,channels:[...tJ({shapes:Object.keys(ii)}),{name:"x",required:!0},{name:"y",required:!0},{name:"size"},{name:"series",scale:"band"}],preInference:[...t5(),{type:rx},{type:I},{type:nJ}],postInference:[...t1()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};let ia=()=>(e,t)=>{let{encode:r}=t,{y1:n}=r;if(n)return[e,t];let[i]=A(r,"y");return[e,(0,P.Z)({},t,{encode:{y1:j([...i])}})]};ia.props={};let is=()=>(e,t)=>{let{encode:r}=t,{x1:n}=r;if(n)return[e,t];let[i]=A(r,"x");return[e,(0,P.Z)({},t,{encode:{x1:j([...i])}})]};is.props={};var il=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let iu=(e,t)=>{let{arrow:r=!0,arrowSize:n="40%"}=e,i=il(e,["arrow","arrowSize"]),{document:o}=t;return(e,t,a)=>{let{defaultColor:s}=a,l=il(a,["defaultColor"]),{color:u=s,transform:c}=t,[f,d]=e,p=(0,rO.ET)();if(p.moveTo(...f),p.lineTo(...d),r){let[e,t]=function(e,t,r){let{arrowSize:n}=r,i="string"==typeof n?+parseFloat(n)/100*tf(e,t):n,o=Math.PI/6,a=Math.atan2(t[1]-e[1],t[0]-e[0]),s=Math.PI/2-a-o,l=[t[0]-i*Math.sin(s),t[1]-i*Math.cos(s)],u=a-o;return[l,[t[0]-i*Math.cos(u),t[1]-i*Math.sin(u)]]}(f,d,{arrowSize:n});p.moveTo(...d),p.lineTo(...e),p.moveTo(...d),p.lineTo(...t)}return tl(o.createElement("path",{})).call(tx,l).style("d",p.toString()).style("stroke",u).style("transform",c).call(tx,i).node()}};iu.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};let ic=(e,t)=>{let{arrow:r=!1}=e;return(...n)=>iu(Object.assign(Object.assign({},e),{arrow:r}),t)(...n)};ic.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var id=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let ip=(e,t)=>{let r=id(e,[]),{coordinate:n,document:i}=t;return(e,t,o)=>{let{color:a}=o,s=id(o,["color"]),{color:l=a,transform:u}=t,[c,f]=e,d=(0,rO.ET)();if(d.moveTo(c[0],c[1]),z(n)){let e=n.getCenter();d.quadraticCurveTo(e[0],e[1],f[0],f[1])}else{let e=tb(c,f),t=tf(c,f)/2;tP(d,c,f,e,t)}return tl(i.createElement("path",{})).call(tx,s).style("d",d.toString()).style("stroke",l).style("transform",u).call(tx,r).node()}};ip.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var ih=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let iy=(e,t)=>{let r=ih(e,[]),{document:n}=t;return(e,t,i)=>{let{color:o}=i,a=ih(i,["color"]),{color:s=o,transform:l}=t,[u,c]=e,f=(0,rO.ET)();return f.moveTo(u[0],u[1]),f.bezierCurveTo(u[0]/2+c[0]/2,u[1],u[0]/2+c[0]/2,c[1],c[0],c[1]),tl(n.createElement("path",{})).call(tx,a).style("d",f.toString()).style("stroke",s).style("transform",l).call(tx,r).node()}};iy.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var ib=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let ig=(e,t)=>{let{cornerRatio:r=1/3}=e,n=ib(e,["cornerRatio"]),{coordinate:i,document:o}=t;return(e,t,a)=>{let{defaultColor:s}=a,l=ib(a,["defaultColor"]),{color:u=s,transform:c}=t,[f,d]=e,p=function(e,t,r,n){let i=(0,rO.ET)();if(z(r)){let o=r.getCenter(),a=tf(e,o),s=tf(t,o);return i.moveTo(e[0],e[1]),tP(i,e,t,o,(s-a)*n+a),i.lineTo(t[0],t[1]),i}return D(r)?(i.moveTo(e[0],e[1]),i.lineTo(e[0]+(t[0]-e[0])*n,e[1]),i.lineTo(e[0]+(t[0]-e[0])*n,t[1])):(i.moveTo(e[0],e[1]),i.lineTo(e[0],e[1]+(t[1]-e[1])*n),i.lineTo(t[0],e[1]+(t[1]-e[1])*n)),i.lineTo(t[0],t[1]),i}(f,d,i,r);return tl(o.createElement("path",{})).call(tx,l).style("d",p.toString()).style("stroke",u).style("transform",c).call(tx,n).node()}};ig.props={defaultMarker:"vhv",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};let im={link:ic,arc:ip,smooth:iy,vhv:ig},iv=e=>(t,r,n,i)=>{let{x:o,y:a,x1:s=o,y1:l=a}=n,u=t3(r,n,e),c=t.map(e=>[i.map(u([+o[e],+a[e]],e)),i.map(u([+s[e],+l[e]],e))]);return[t,c]};iv.props={defaultShape:"link",defaultLabelShape:"label",composite:!1,shape:im,channels:[...tJ({shapes:Object.keys(im)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...t5(),{type:ia},{type:is}],postInference:[...t0()]};var i_=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let iO=(e,t)=>{let{coordinate:r,document:n}=t;return(t,i,o)=>{let{color:a}=o,s=i_(o,["color"]),{color:l=a,src:u="",size:c=32,transform:f=""}=i,{width:d=c,height:p=c}=e,[[h,y]]=t,[b,g]=r.getSize();d="string"==typeof d?t6(d)*b:d,p="string"==typeof p?t6(p)*g:p;let m=h-Number(d)/2,v=y-Number(p)/2;return tl(n.createElement("image",{})).call(tx,s).style("x",m).style("y",v).style("img",u).style("stroke",l).style("transform",f).call(tx,e).style("width",d).style("height",p).node()}};iO.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};let iw={image:iO},iS=e=>{let{cartesian:t}=e;return t?t8:(t,r,n,i)=>{let{x:o,y:a}=n,s=t3(r,n,e),l=Array.from(t,e=>{let t=[+o[e],+a[e]];return[i.map(s(t,e))]});return[t,l]}};iS.props={defaultShape:"image",defaultLabelShape:"label",composite:!1,shape:iw,channels:[...tJ({shapes:Object.keys(iw)}),{name:"x",required:!0},{name:"y",required:!0},{name:"src",scale:"identity"},{name:"size"}],preInference:[...t5(),{type:nG},{type:nK}],postInference:[...t0()]};var iE=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let ix=(e,t)=>{let{coordinate:r,document:n}=t;return(t,i,o)=>{let{color:a}=o,s=iE(o,["color"]),{color:l=a,transform:u}=i,c=function(e,t){let r=(0,rO.ET)();if(z(t)){let n=t.getCenter(),i=[...e,e[0]],o=i.map(e=>tf(e,n));return i.forEach((t,i)=>{if(0===i){r.moveTo(t[0],t[1]);return}let a=o[i],s=e[i-1],l=o[i-1];void 0!==l&&1e-10>Math.abs(a-l)?tP(r,s,t,n,a):r.lineTo(t[0],t[1])}),r.closePath(),r}return e.forEach((e,t)=>0===t?r.moveTo(e[0],e[1]):r.lineTo(e[0],e[1])),r.closePath(),r}(t,r);return tl(n.createElement("path",{})).call(tx,s).style("d",c.toString()).style("stroke",l).style("fill",l).style("transform",u).call(tx,e).node()}};ix.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var iP=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let ij=(e,t)=>{let r=iP(e,[]),{coordinate:n,document:i}=t;return(e,t,o)=>{let{color:a}=o,s=iP(o,["color"]),{color:l=a,transform:u}=t,c=function(e,t){let[r,n,i,o]=e,a=(0,rO.ET)();if(z(t)){let e=t.getCenter(),s=tf(e,r);return a.moveTo(r[0],r[1]),a.quadraticCurveTo(e[0],e[1],i[0],i[1]),tP(a,i,o,e,s),a.quadraticCurveTo(e[0],e[1],n[0],n[1]),tP(a,n,r,e,s),a.closePath(),a}return a.moveTo(r[0],r[1]),a.bezierCurveTo(r[0]/2+i[0]/2,r[1],r[0]/2+i[0]/2,i[1],i[0],i[1]),a.lineTo(o[0],o[1]),a.bezierCurveTo(o[0]/2+n[0]/2,o[1],o[0]/2+n[0]/2,n[1],n[0],n[1]),a.lineTo(r[0],r[1]),a.closePath(),a}(e,n);return tl(i.createElement("path",{})).call(tx,s).style("d",c.toString()).style("fill",l||a).style("stroke",l||a).style("transform",u).call(tx,r).node()}};ij.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};let iT={polygon:ix,ribbon:ij},ik=()=>(e,t,r,n)=>{let i=Object.entries(r).filter(([e])=>e.startsWith("x")).map(([,e])=>e),o=Object.entries(r).filter(([e])=>e.startsWith("y")).map(([,e])=>e),a=e.map(e=>{let t=[];for(let r=0;r<i.length;r++){let a=i[r][e];if(void 0===a)break;let s=o[r][e];t.push(n.map([+a,+s]))}return t});return[e,a]};ik.props={defaultShape:"polygon",defaultLabelShape:"label",composite:!1,shape:iT,channels:[...tJ({shapes:Object.keys(iT)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...t5()],postInference:[...t0()]};var iC=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let iA=(e,t)=>{let{coordinate:r,document:n}=t;return(t,i,o)=>{let{color:a,transform:s}=i,{color:l,fill:u=l,stroke:c=l}=o,f=iC(o,["color","fill","stroke"]),d=function(e,t){let r=(0,rO.ET)();if(z(t)){let n=t.getCenter(),[i,o]=n,a=td(tc(e[0],n)),s=td(tc(e[1],n)),l=tf(n,e[2]),u=tf(n,e[3]),c=tf(n,e[8]),f=tf(n,e[10]),d=tf(n,e[11]);r.moveTo(...e[0]),r.arc(i,o,l,a,s),r.arc(i,o,l,s,a,!0),r.moveTo(...e[2]),r.lineTo(...e[3]),r.moveTo(...e[4]),r.arc(i,o,u,a,s),r.lineTo(...e[6]),r.arc(i,o,f,s,a,!0),r.closePath(),r.moveTo(...e[8]),r.arc(i,o,c,a,s),r.arc(i,o,c,s,a,!0),r.moveTo(...e[10]),r.lineTo(...e[11]),r.moveTo(...e[12]),r.arc(i,o,d,a,s),r.arc(i,o,d,s,a,!0)}else r.moveTo(...e[0]),r.lineTo(...e[1]),r.moveTo(...e[2]),r.lineTo(...e[3]),r.moveTo(...e[4]),r.lineTo(...e[5]),r.lineTo(...e[6]),r.lineTo(...e[7]),r.closePath(),r.moveTo(...e[8]),r.lineTo(...e[9]),r.moveTo(...e[10]),r.lineTo(...e[11]),r.moveTo(...e[12]),r.lineTo(...e[13]);return r}(t,r);return tl(n.createElement("path",{})).call(tx,f).style("d",d.toString()).style("stroke",c).style("fill",a||u).style("transform",s).call(tx,e).node()}};iA.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var iR=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let iM=(e,t)=>{let{coordinate:r,document:n}=t;return(t,i,o)=>{let{color:a,transform:s}=i,{color:l,fill:u=l,stroke:c=l}=o,f=iR(o,["color","fill","stroke"]),d=function(e,t,r=4){let n=(0,rO.ET)();if(!z(t))return n.moveTo(...e[2]),n.lineTo(...e[3]),n.lineTo(e[3][0]-r,e[3][1]),n.lineTo(e[10][0]-r,e[10][1]),n.lineTo(e[10][0]+r,e[10][1]),n.lineTo(e[3][0]+r,e[3][1]),n.lineTo(...e[3]),n.closePath(),n.moveTo(...e[10]),n.lineTo(...e[11]),n.moveTo(e[3][0]+r/2,e[8][1]),n.arc(e[3][0],e[8][1],r/2,0,2*Math.PI),n.closePath(),n;let i=t.getCenter(),[o,a]=i,s=tf(i,e[3]),l=tf(i,e[8]),u=tf(i,e[10]),c=td(tc(e[2],i)),f=Math.asin(r/l),d=c-f,p=c+f;n.moveTo(...e[2]),n.lineTo(...e[3]),n.moveTo(Math.cos(d)*s+o,Math.sin(d)*s+a),n.arc(o,a,s,d,p),n.lineTo(Math.cos(p)*u+o,Math.sin(p)*u+a),n.arc(o,a,u,p,d,!0),n.lineTo(Math.cos(d)*s+o,Math.sin(d)*s+a),n.closePath(),n.moveTo(...e[10]),n.lineTo(...e[11]);let h=(d+p)/2;return n.moveTo(Math.cos(h)*(l+r/2)+o,Math.sin(h)*(l+r/2)+a),n.arc(Math.cos(h)*l+o,Math.sin(h)*l+a,r/2,h,2*Math.PI+h),n.closePath(),n}(t,r,4);return tl(n.createElement("path",{})).call(tx,f).style("d",d.toString()).style("stroke",c).style("fill",a||u).style("transform",s).call(tx,e).node()}};iM.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};let iI={box:iA,violin:iM},iN=()=>(e,t,r,n)=>{let{x:i,y:o,y1:a,y2:s,y3:l,y4:u,series:c}=r,f=t.x,d=t.series,p=Array.from(e,e=>{let t=f.getBandWidth(f.invert(+i[e])),r=t*(d?d.getBandWidth(d.invert(+(null==c?void 0:c[e]))):1),p=(+(null==c?void 0:c[e])||0)*t,h=+i[e]+p+r/2,[y,b,g,m,v]=[+o[e],+a[e],+s[e],+l[e],+u[e]];return[[h-r/2,v],[h+r/2,v],[h,v],[h,m],[h-r/2,m],[h+r/2,m],[h+r/2,b],[h-r/2,b],[h-r/2,g],[h+r/2,g],[h,b],[h,y],[h-r/2,y],[h+r/2,y]].map(e=>n.map(e))});return[e,p]};iN.props={defaultShape:"box",defaultLabelShape:"label",composite:!1,shape:iI,channels:[...tJ({shapes:Object.keys(iI)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"}],preInference:[...t5(),{type:N}],postInference:[...t1()],interaction:{shareTooltip:!0}};let iL={vector:iu},iD=()=>(e,t,r,n)=>{let{x:i,y:o,size:a,rotate:s}=r,[l,u]=n.getSize(),c=e.map(e=>{let t=+s[e]/180*Math.PI,r=+a[e],c=r/l*Math.cos(t),f=-(r/u)*Math.sin(t);return[n.map([+i[e]-c/2,+o[e]-f/2]),n.map([+i[e]+c/2,+o[e]+f/2])]});return[e,c]};iD.props={defaultShape:"vector",defaultLabelShape:"label",composite:!1,shape:iL,channels:[...tJ({shapes:Object.keys(iL)}),{name:"x",required:!0},{name:"y",required:!0},{name:"rotate",required:!0,scale:"identity"},{name:"size",required:!0}],preInference:[...t5()],postInference:[...t0()]};var iz=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let iF=(e,t)=>{let{arrow:r,arrowSize:n=4}=e,i=iz(e,["arrow","arrowSize"]),{coordinate:o,document:a}=t;return(e,t,s)=>{let{color:l,lineWidth:u}=s,c=iz(s,["color","lineWidth"]),{color:f=l,size:d=u}=t,p=r?function(e,t,r){return e.createElement("path",{style:Object.assign({path:`M ${t},${t} L -${t},0 L ${t},-${t} L 0,0 Z`,anchor:"0.5 0.5",transformOrigin:"center"},r)})}(a,n,Object.assign({fill:i.stroke||f,stroke:i.stroke||f},tr(i,"arrow"))):null,h=function(e,t){if(!z(t))return(0,tz.Z)().x(e=>e[0]).y(e=>e[1])(e);let r=t.getCenter();return(0,L.Z)()({startAngle:0,endAngle:2*Math.PI,outerRadius:tf(e[0],r),innerRadius:tf(e[1],r)})}(e,o),y=function(e,t){if(!z(e))return t;let[r,n]=e.getCenter();return`translate(${r}, ${n}) ${t||""}`}(o,t.transform);return tl(a.createElement("path",{})).call(tx,c).style("d",h).style("stroke",f).style("lineWidth",d).style("transform",y).style("markerEnd",p).call(tx,i).node()}};iF.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};let iB=()=>(e,t)=>{let{data:r}=t;return!Array.isArray(r)||r.some(M)?[e,t]:[e,(0,P.Z)({},t,{encode:{x:j(r)}})]};iB.props={};let iU={line:iF},iW=e=>(t,r,n,i)=>{let{x:o}=n,a=t3(r,n,(0,P.Z)({style:{bandOffset:0}},e)),s=Array.from(t,e=>[[o[e],1],[o[e],0]].map(t=>i.map(a(t,e))));return[t,s]};iW.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:iU,channels:[...t2({shapes:Object.keys(iU)}),{name:"x",required:!0}],preInference:[...t5(),{type:iB}],postInference:[]};let iZ=()=>(e,t)=>{let{data:r}=t;return!Array.isArray(r)||r.some(M)?[e,t]:[e,(0,P.Z)({},t,{encode:{y:j(r)}})]};iZ.props={};let iV={line:iF},iq=e=>(t,r,n,i)=>{let{y:o}=n,a=t3(r,n,(0,P.Z)({style:{bandOffset:0}},e)),s=Array.from(t,e=>[[0,o[e]],[1,o[e]]].map(t=>i.map(a(t,e))));return[t,s]};iq.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,shape:iV,channels:[...t2({shapes:Object.keys(iV)}),{name:"y",required:!0}],preInference:[...t5(),{type:iZ}],postInference:[]};var i$=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function iH(e,t,r){return[["M",e,t],["L",e+2*r,t-r],["L",e+2*r,t+r],["Z"]]}let iG=(e,t)=>{let{offset:r=0,offset1:n=r,offset2:i=r,connectLength1:o,endMarker:a=!0}=e,s=i$(e,["offset","offset1","offset2","connectLength1","endMarker"]),{coordinate:l}=t;return(e,t,r)=>{let{color:u,connectLength1:c}=r,f=i$(r,["color","connectLength1"]),{color:d,transform:p}=t,h=function(e,t,r,n,i=0){let[[o,a],[s,l]]=t;if(D(e)){let e=o+r,t=e+i;return[[e,a],[t,a],[t,l],[s+n,l]]}let u=a-r,c=u-i;return[[o,u],[o,c],[s,c],[s,l-n]]}(l,e,n,i,null!=o?o:c),y=tr(Object.assign(Object.assign({},s),r),"endMarker");return tl(new $.y$).call(tx,f).style("path",(0,tz.Z)().x(e=>e[0]).y(e=>e[1])(h)).style("stroke",d||u).style("transform",p).style("markerEnd",a?new nB({className:"marker",style:Object.assign(Object.assign({},y),{symbol:iH})}):null).call(tx,s).node()}};iG.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};let iY={connector:iG},iK=(...e)=>iv(...e);function iX(e,t,r,n){if(t)return()=>[0,1];let{[e]:i,[`${e}1`]:o}=r;return e=>{var t;let r=(null===(t=n.getBandWidth)||void 0===t?void 0:t.call(n,n.invert(+o[e])))||0;return[i[e],o[e]+r]}}function iQ(e={}){let{extendX:t=!1,extendY:r=!1}=e;return(e,n,i,o)=>{let a=iX("x",t,i,n.x),s=iX("y",r,i,n.y),l=Array.from(e,e=>{let[t,r]=a(e),[n,i]=s(e);return[[t,n],[r,n],[r,i],[t,i]].map(e=>o.map(e))});return[e,l]}}iK.props={defaultShape:"connector",defaultLabelShape:"label",composite:!1,shape:iY,channels:[...t2({shapes:Object.keys(iY)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...t5()],postInference:[]};let iJ={range:tL},i0=()=>iQ();i0.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:iJ,channels:[...t2({shapes:Object.keys(iJ)}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...t5()],postInference:[]};let i1=()=>(e,t)=>{let{data:r}=t;if(Array.isArray(r)&&(r.every(Array.isArray)||!r.some(M))){let n=(e,t)=>Array.isArray(e[0])?e.map(e=>e[t]):[e[t]];return[e,(0,P.Z)({},t,{encode:{x:j(n(r,0)),x1:j(n(r,1))}})]}return[e,t]};i1.props={};let i2={range:tL},i5=()=>iQ({extendY:!0});i5.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:i2,channels:[...t2({shapes:Object.keys(i2)}),{name:"x",required:!0}],preInference:[...t5(),{type:i1}],postInference:[]};let i4=()=>(e,t)=>{let{data:r}=t;if(Array.isArray(r)&&(r.every(Array.isArray)||!r.some(M))){let n=(e,t)=>Array.isArray(e[0])?e.map(e=>e[t]):[e[t]];return[e,(0,P.Z)({},t,{encode:{y:j(n(r,0)),y1:j(n(r,1))}})]}return[e,t]};i4.props={};let i3={range:tL},i6=()=>iQ({extendX:!0});i6.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,shape:i3,channels:[...t2({shapes:Object.keys(i3)}),{name:"y",required:!0}],preInference:[...t5(),{type:i4}],postInference:[]};var i8=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let i9=(e,t)=>{let{arrow:r,colorAttribute:n}=e,i=i8(e,["arrow","colorAttribute"]),{coordinate:o,document:a}=t;return(e,t,r)=>{let{color:s,stroke:l}=r,u=i8(r,["color","stroke"]),{d:c,color:f=s}=t,[d,p]=o.getSize();return tl(a.createElement("path",{})).call(tx,u).style("d","function"==typeof c?c({width:d,height:p}):c).style(n,f).call(tx,i).node()}};i9.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};let i7=(e,t)=>i9(Object.assign({colorAttribute:"fill"},e),t);i7.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};let oe=(e,t)=>i9(Object.assign({fill:"none",colorAttribute:"stroke"},e),t);oe.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};let ot={path:i7,hollow:oe},or=e=>(e,t,r,n)=>[e,e.map(()=>[[0,0]])];or.props={defaultShape:"path",defaultLabelShape:"label",shape:ot,composite:!1,channels:[...tJ({shapes:Object.keys(ot)}),{name:"d",scale:"identity"}],preInference:[...t5()],postInference:[]};var on=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let oi=(e,t)=>{let{render:r}=e,n=on(e,["render"]);return e=>{let[[i,o]]=e;return r(Object.assign(Object.assign({},n),{x:i,y:o}),t)}};oi.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};let oo=()=>(e,t)=>{let{style:r={}}=t;return[e,(0,P.Z)({},t,{style:Object.assign(Object.assign({},r),Object.fromEntries(Object.entries(r).filter(([,e])=>"function"==typeof e).map(([e,t])=>[e,()=>t])))})]};oo.props={};let oa=e=>{let{cartesian:t}=e;return t?t8:(t,r,n,i)=>{let{x:o,y:a}=n,s=t3(r,n,e),l=Array.from(t,e=>{let t=[+o[e],+a[e]];return[i.map(s(t,e))]});return[t,l]}};oa.props={defaultShape:"shape",defaultLabelShape:"label",composite:!1,shape:{shape:oi},channels:[{name:"x",required:!0},{name:"y",required:!0}],preInference:[...t5(),{type:nG},{type:nK},{type:oo}]};var os=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let ol=(e,t)=>{let{document:r}=t;return(t,n,i)=>{let{transform:o}=n,{color:a}=i,s=os(i,["color"]),{color:l=a}=n,[u,...c]=t,f=(0,rO.ET)();return f.moveTo(...u),c.forEach(([e,t])=>{f.lineTo(e,t)}),f.closePath(),tl(r.createElement("path",{})).call(tx,s).style("d",f.toString()).style("stroke",l||a).style("fill",l||a).style("fillOpacity",.4).style("transform",o).call(tx,e).node()}};ol.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};let ou={density:ol},oc=()=>(e,t,r,n)=>{let{x:i,series:o}=r,a=Object.entries(r).filter(([e])=>e.startsWith("y")).map(([,e])=>e),s=Object.entries(r).filter(([e])=>e.startsWith("size")).map(([,e])=>e);if(void 0===i||void 0===a||void 0===s)throw Error("Missing encode for x or y or size channel.");let l=t.x,u=t.series,c=Array.from(e,t=>{let r=l.getBandWidth(l.invert(+i[t])),c=u?u.getBandWidth(u.invert(+(null==o?void 0:o[t]))):1,f=(+(null==o?void 0:o[t])||0)*r,d=+i[t]+f+r*c/2;return[...a.map((r,n)=>[d+ +s[n][t]/e.length,+a[n][t]]),...a.map((r,n)=>[d-+s[n][t]/e.length,+a[n][t]]).reverse()].map(e=>n.map(e))});return[e,c]};oc.props={defaultShape:"density",defaultLabelShape:"label",composite:!1,shape:ou,channels:[...tJ({shapes:Object.keys(ou)}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"size",required:!0},{name:"series",scale:"band"},{name:"size",required:!0,scale:"identity"}],preInference:[...t5(),{type:I},{type:N}],postInference:[...t1()],interaction:{shareTooltip:!0}};var of=r(89591),od=r(85091),op=r(31705);function oh(e,t,r){let n=e?e():document.createElement("canvas");return n.width=t,n.height=r,n}(0,op.Z)(3);let oy=function(e,t=(...e)=>`${e[0]}`,r=16){let n=(0,op.Z)(r);return(...r)=>{let i=t(...r),o=n.get(i);return n.has(i)?n.get(i):(o=e(...r),n.set(i,o),o)}}((e,t,r)=>{let n=oh(r,2*e,2*e),i=n.getContext("2d");if(1===t)i.beginPath(),i.arc(e,e,e,0,2*Math.PI,!1),i.fillStyle="rgba(0,0,0,1)",i.fill();else{let r=i.createRadialGradient(e,e,e*t,e,e,e);r.addColorStop(0,"rgba(0,0,0,1)"),r.addColorStop(1,"rgba(0,0,0,0)"),i.fillStyle=r,i.fillRect(0,0,2*e,2*e)}return n},e=>`${e}`);var ob=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let og=(e,t)=>{let{gradient:r,opacity:n,maxOpacity:i,minOpacity:o,blur:a,useGradientOpacity:s}=e,l=ob(e,["gradient","opacity","maxOpacity","minOpacity","blur","useGradientOpacity"]),{coordinate:u,createCanvas:c,document:f}=t;return(e,t,d)=>{let{transform:p}=t,[h,y]=u.getSize(),b=e.map(e=>({x:e[0],y:e[1],value:e[2],radius:e[3]})),g=(0,of.Z)(e,e=>e[2]),m=(0,od.Z)(e,e=>e[2]),v=h&&y?function(e,t,r,n,i,o,a){let s=Object.assign({blur:.85,minOpacity:0,opacity:.6,maxOpacity:1,gradient:[[.25,"rgb(0,0,255)"],[.55,"rgb(0,255,0)"],[.85,"yellow"],[1,"rgb(255,0,0)"]]},o);s.minOpacity*=255,s.opacity*=255,s.maxOpacity*=255;let l=oh(a,e,t).getContext("2d"),u=function(e,t){let r=oh(t,256,1).getContext("2d"),n=r.createLinearGradient(0,0,256,1);return("string"==typeof e?e.split(" ").map(e=>{let[t,r]=e.split(":");return[+t,r]}):e).forEach(([e,t])=>{n.addColorStop(e,t)}),r.fillStyle=n,r.fillRect(0,0,256,1),r.getImageData(0,0,256,1).data}(s.gradient,a);l.clearRect(0,0,e,t),function(e,t,r,n,i,o){let{blur:a}=i,s=n.length;for(;s--;){let{x:i,y:l,value:u,radius:c}=n[s],f=Math.min(u,r),d=i-c,p=l-c,h=oy(c,1-a,o),y=(f-t)/(r-t);e.globalAlpha=Math.max(y,.001),e.drawImage(h,d,p)}}(l,r,n,i,s,a);let c=function(e,t,r,n,i){let{minOpacity:o,opacity:a,maxOpacity:s,useGradientOpacity:l}=i,u=e.getImageData(0,0,t,r),c=u.data,f=c.length;for(let e=3;e<f;e+=4){let t=c[e],r=4*t;if(!r)continue;let i=a||Math.max(0,Math.min(s,Math.max(o,t)));c[e-3]=n[r],c[e-2]=n[r+1],c[e-1]=n[r+2],c[e]=l?n[r+3]:i}return u}(l,e,t,u,s),f=oh(a,e,t).getContext("2d");return f.putImageData(c,0,0),f}(h,y,g,m,b,function(e,t){return Object.keys(e).reduce((r,n)=>{let i=e[n];return t(i,n)||(r[n]=i),r},{})}({gradient:r,opacity:n,minOpacity:o,maxOpacity:i,blur:a,useGradientOpacity:s},e=>void 0===e),c):{canvas:null};return tl(f.createElement("image",{})).call(tx,d).style("x",0).style("y",0).style("width",h).style("height",y).style("src",v.canvas).style("transform",p).call(tx,l).node()}};og.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};let om={heatmap:og},ov=e=>(e,t,r,n)=>{let{x:i,y:o,size:a,color:s}=r;return[[0],[Array.from(e,e=>{let t=a?+a[e]:40;return[...n.map([+i[e],+o[e]]),s[e],t]})]]};ov.props={defaultShape:"heatmap",defaultLabelShape:"label",composite:!1,shape:om,channels:[...tJ({shapes:Object.keys(om)}),{name:"x",required:!0},{name:"y",required:!0},{name:"color",scale:"identity",required:!0},{name:"size"}],preInference:[...t5(),{type:N},{type:nb}],postInference:[...t0()]};let o_=()=>["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"];o_.props={};let oO=()=>["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"];oO.props={};let ow=e=>new tv.b(e);ow.props={};var oS=r(18886);let oE=e=>new oS.r(e);oE.props={};var ox=r(41021);let oP=e=>new ox.t(e);oP.props={};var oj=r(55420);let oT=e=>new oj.i(e);oT.props={};var ok=r(65286);let oC=e=>new ok.E(e);oC.props={};var oA=r(89916);let oR=e=>new oA.q(e);oR.props={};var oM=r(55166);let oI=e=>new oM.Z(e);oI.props={};var oN=r(72427);let oL=e=>new oN.p(e);oL.props={};var oD=r(81174);let oz=e=>new oD.F(e);oz.props={};var oF=r(27178);let oB=e=>new oF.M(e);oB.props={};var oU=r(92305);let oW=e=>new oU.c(e);oW.props={};var oZ=r(2898);let oV=e=>new oZ.J(e);oV.props={};var oq=r(98660);let o$=e=>new oq.s(e);o$.props={};var oH=r(18498);let oG=e=>new oH.s(e);function oY({colorDefault:e,colorBlack:t,colorWhite:r,colorStroke:n,colorBackground:i,padding1:o,padding2:a,padding3:s,alpha90:l,alpha65:u,alpha45:c,alpha25:f,alpha10:d,category10:p,category20:h,sizeDefault:y=1,padding:b="auto",margin:g=16}){return{padding:b,margin:g,size:y,color:e,category10:p,category20:h,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},view:{viewFill:i,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent"},line:{line:{fill:"",strokeOpacity:1,lineWidth:1,lineCap:"round"}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:t,lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:12,strokeWidth:0,connectorStroke:n,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:n,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,strokeWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:n,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:n,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:n,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:n,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:n,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:n,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:n,endMarkerFillOpacity:.95}},axis:{arrow:!1,gridLineDash:[3,4],gridLineWidth:.5,gridStroke:t,gridStrokeOpacity:d,labelAlign:"horizontal",labelFill:t,labelOpacity:c,labelFontSize:12,labelFontWeight:"normal",labelSpacing:o,line:!1,lineLineWidth:.5,lineStroke:t,lineStrokeOpacity:c,tickLength:4,tickLineWidth:1,tickStroke:t,tickOpacity:c,titleFill:t,titleOpacity:l,titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,titleTransformOrigin:"center",lineArrowOffset:6,lineArrowSize:6},axisTop:{gridDirection:"positive",labelDirection:"negative",tickDirection:"negative",titlePosition:"top",titleSpacing:12,labelSpacing:4,titleTextBaseline:"middle"},axisBottom:{gridDirection:"negative",labelDirection:"positive",tickDirection:"positive",titlePosition:"bottom",titleSpacing:12,labelSpacing:4,titleTextBaseline:"bottom"},axisLeft:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"left",titleSpacing:12,titleTextBaseline:"middle",titleDirection:"vertical",titleTransformOrigin:"center"},axisRight:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"right",titleSpacing:12,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleSpacing:0},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",label:!1,tick:!1,titlePosition:"start"},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:t,itemLabelFillOpacity:l,itemLabelFontSize:12,itemLabelFontWeight:"normal",itemMarkerFillOpacity:1,itemMarkerSize:8,itemSpacing:[o,o],itemValueFill:t,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"normal",navButtonFill:t,navButtonFillOpacity:.65,navPageNumFill:t,navPageNumFillOpacity:.45,navPageNumFontSize:12,padding:8,title:!1,titleFill:t,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,tickStroke:t,tickStrokeOpacity:.25,rowPadding:o,colPadding:a,maxRows:3,maxCols:3},legendContinuous:{handleHeight:12,handleLabelFill:t,handleLabelFillOpacity:c,handleLabelFontSize:12,handleLabelFontWeight:"normal",handleMarkerFill:t,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:t,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:t,labelFillOpacity:c,labelFontSize:12,labelFontWeight:"normal",labelSpacing:3,tick:!0,tickLength:12,ribbonSize:12,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:12/1.8,indicator:!1,titleFontSize:12,titleSpacing:4,titleFontWeight:"normal",titleFillOpacity:l,tickStroke:t,tickStrokeOpacity:c},label:{fill:t,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:t,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:r,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},htmlLabel:{fontSize:12,opacity:.65,color:t,fontWeight:"normal"},slider:{trackSize:16,trackFill:n,trackFillOpacity:1,selectionFill:e,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:t,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:t,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{padding:[0,0,0,0],trackSize:6,isRound:!0,slidable:!0,scrollable:!0,trackFill:"#e5e5e5",trackFillOpacity:0,thumbFill:"#000",thumbFillOpacity:.15,thumbHighlightedFillOpacity:.2},title:{spacing:8,titleFill:t,titleFillOpacity:l,titleFontSize:16,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:t,subtitleFillOpacity:u,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"}}}oG.props={};let oK=oY({colorBlack:"#1D2129",colorWhite:"#ffffff",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"transparent",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1}),oX=e=>(0,P.Z)({},oK,e);oX.props={};let oQ=e=>(0,P.Z)({},oX(),{category10:"category10",category20:"category20"},e);oQ.props={};let oJ=oY({colorBlack:"#fff",colorWhite:"#000",colorStroke:"#416180",colorDefault:"#1783FF",colorBackground:"#141414",category10:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F"],category20:["#1783FF","#00C9C9","#F0884D","#D580FF","#7863FF","#60C42D","#BD8F24","#FF80CA","#2491B3","#17C76F","#AABA01","#BC7CFC","#237CBC","#2DE379","#CE8032","#FF7AF4","#545FD3","#AFE410","#D8C608","#FFA1E0"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.25}),o0=e=>(0,P.Z)({},oJ,{tooltip:{crosshairsStroke:"#fff",crosshairsLineWidth:1,crosshairsStrokeOpacity:.25,css:{".g2-tooltip":{background:"#1f1f1f",opacity:.95},".g2-tooltip-title":{color:"#A6A6A6"},".g2-tooltip-list-item-name-label":{color:"#A6A6A6"},".g2-tooltip-list-item-value":{color:"#A6A6A6"}}}},e),o1=e=>Object.assign({},o0(),{category10:"category10",category20:"category20"},e);o1.props={};let o2=oY({colorBlack:"#000",colorWhite:"#fff",colorStroke:"#888",colorDefault:"#4e79a7",colorBackground:"transparent",category10:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],category20:["#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#bab0ab"],padding1:8,padding2:12,padding3:20,alpha90:.9,alpha65:.65,alpha45:.45,alpha25:.25,alpha10:.1}),o5=e=>(0,P.Z)({},o2,{text:{text:{fontSize:10}},axis:{gridLineDash:[0,0],gridLineWidth:1,gridStroke:"#ddd",gridStrokeOpacity:1,labelOpacity:1,labelStrokeOpacity:1,labelFontSize:10,line:!0,lineLineWidth:1,lineStroke:"#888",lineStrokeOpacity:1,tickLength:5,tickStrokeOpacity:1,titleOpacity:1,titleStrokeOpacity:1,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},axisLeft:{gridFilter:(e,t)=>0!==t},axisRight:{gridFilter:(e,t)=>0!==t},legendCategory:{itemLabelFillOpacity:1,itemLabelFontSize:10,itemValueFillOpacity:1,itemValueFontSize:10,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold"},legendContinuous:{handleLabelFontSize:10,labelFillOpacity:.45,labelFontSize:10},label:{fontSize:10},innerLabel:{fontSize:10},htmlLabel:{fontSize:10},slider:{handleLabelFontSize:10,trackFillOpacity:.05}},e);function o4(e){if(!e)return{enter:!1,update:!1,exit:!1};var t=["enter","update","exit"],r=Object.fromEntries(Object.entries(e).filter(function(e){var r=(0,n_.CR)(e,1)[0];return!t.includes(r)}));return Object.fromEntries(t.map(function(t){return"boolean"!=typeof e&&"enter"in e&&"update"in e&&"exit"in e?!1===e[t]?[t,!1]:[t,(0,n_.pi)((0,n_.pi)({},e[t]),r)]:[t,r]}))}function o3(e,t){e?e.finished.then(t):t()}function o6(e,t){"update"in e?e.update(t):e.attr(t)}function o8(e,t,r){return 0===t.length?null:r?e.animate(t,r):(o6(e,{style:t.slice(-1)[0]}),null)}function o9(e,t,r){var n={},i={};return(Object.entries(t).forEach(function(t){var r=(0,n_.CR)(t,2),o=r[0],a=r[1];if(!(0,eu.Z)(a)){var s=e.style[o]||e.parsedStyle[o]||0;s!==a&&(n[o]=s,i[o]=a)}}),r)?o8(e,[n,i],(0,n_.pi)({fill:"both"},r)):(o6(e,i),null)}o5.props={};var o7=function(e,t){var r=function(e){return"".concat(t,"-").concat(e)},n=Object.fromEntries(Object.entries(e).map(function(e){var t=(0,n_.CR)(e,2),n=t[0],i=r(t[1]);return[n,{name:i,class:".".concat(i),id:"#".concat(i),toString:function(){return i}}]}));return Object.assign(n,{prefix:r}),n},ae={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new $.y$({style:{path:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],anchor:"0.5 0.5",fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]};(0,P.Z)({},ae,{style:{type:"arc"}}),(0,P.Z)({},ae,{style:{}});var at=o7({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis");function ar(e,t){return[e[0]*t,e[1]*t]}function an(e,t){return[e[0]+t[0],e[1]+t[1]]}function ai(e,t){return[e[0]-t[0],e[1]-t[1]]}function ao(e,t){return[Math.min(e[0],t[0]),Math.min(e[1],t[1])]}function aa(e,t){return[Math.max(e[0],t[0]),Math.max(e[1],t[1])]}function as(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function al(e){if(0===e[0]&&0===e[1])return[0,0];var t=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2));return[e[0]/t,e[1]/t]}function au(e){return e*Math.PI/180}function ac(e){return Number((180*e/Math.PI).toPrecision(5))}function af(e){return e.toString().charAt(0).toUpperCase()+e.toString().slice(1)}function ad(e,t,r){void 0===r&&(r=!0);var n,i=t||(null===(n=e.match(/^([a-z][a-z0-9]+)/))||void 0===n?void 0:n[0])||"",o=e.replace(new RegExp("^(".concat(i,")")),"");return r?o.toString().charAt(0).toLowerCase()+o.toString().slice(1):o}var ap=function(e,t){if(!(null==e?void 0:e.startsWith(t)))return!1;var r=e[t.length];return r>="A"&&r<="Z"};function ah(e,t,r){void 0===r&&(r=!1);var n={};return Object.entries(e).forEach(function(e){var i=(0,n_.CR)(e,2),o=i[0],a=i[1];if("className"===o||"class"===o);else if(ap(o,"show")&&ap(ad(o,"show"),t)!==r)o==="".concat("show").concat(af(t))?n[o]=a:n[o.replace(new RegExp(af(t)),"")]=a;else if(!ap(o,"show")&&ap(o,t)!==r){var s=ad(o,t);"filter"===s&&"function"==typeof a||(n[s]=a)}}),n}function ay(e,t){return Object.entries(e).reduce(function(e,r){var n=(0,n_.CR)(r,2),i=n[0],o=n[1];return i.startsWith("show")?e["show".concat(t).concat(i.slice(4))]=o:e["".concat(t).concat(af(i))]=o,e},{})}function ab(e,t){void 0===t&&(t=["x","y","class","className"]);var r=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],n={},i={};return Object.entries(e).forEach(function(e){var o=(0,n_.CR)(e,2),a=o[0],s=o[1];t.includes(a)||(-1!==r.indexOf(a)?i[a]=s:n[a]=s)}),[n,i]}function ag(e,t){return(0,nO.Z)(e)?e.apply(void 0,(0,n_.ev)([],(0,n_.CR)(t),!1)):e}function am(e,t){return e.style.opacity||(e.style.opacity=1),o9(e,{opacity:0},t)}var av=["$el","anchor","cx","cy","d","defX","defY","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function a_(e){var t={};for(var r in e)av.includes(r)&&(t[r]=e[r]);return t}var aO=o7({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function aw(e){return e.reduce(function(e,t,r){return e.push((0,n_.ev)([0===r?"M":"L"],(0,n_.CR)(t),!1)),e},[])}function aS(e,t,r){return"surround"===t.type?function(e,t,r){var n=t.connect,i=t.center;if("line"===(void 0===n?"line":n))return aw(e);if(!i)return[];var o=as(e[0],i),a=r?0:1;return e.reduce(function(e,t,r){return 0===r?e.push((0,n_.ev)(["M"],(0,n_.CR)(t),!1)):e.push((0,n_.ev)(["A",o,o,0,0,a],(0,n_.CR)(t),!1)),e},[])}(e,t,r):aw(e)}var aE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n_.ZT)(t,e),t.prototype.render=function(e,t){e.type,e.center,e.areaFill,e.closed;var r,n,i,o,a,s=(0,n_._T)(e,["type","center","areaFill","closed"]),l=(n=void 0===(r=e.data)?[]:r,e.closed?n.map(function(e){var t=e.points,r=(0,n_.CR)(t,1)[0];return(0,n_.pi)((0,n_.pi)({},e),{points:(0,n_.ev)((0,n_.ev)([],(0,n_.CR)(t),!1),[r],!1)})}):n),u=nN(t).maybeAppendByClassName(aO.lineGroup,"g"),c=nN(t).maybeAppendByClassName(aO.regionGroup,"g"),f=(i=e.animate,o=e.isBillboard,a=l.map(function(t,r){return{id:t.id||"grid-line-".concat(r),path:aS(t.points,e)}}),u.selectAll(aO.line.class).data(a,function(e){return e.id}).join(function(e){return e.append("path").each(function(e,t){var r=ag(a_((0,n_.pi)({path:e.path},s)),[e,t,a]);this.attr((0,n_.pi)({class:aO.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:o},r))})},function(e){return e.transition(function(e,t){return o9(this,ag(a_((0,n_.pi)({path:e.path},s)),[e,t,a]),i.update)})},function(e){return e.transition(function(){var e=this,t=am(this,i.exit);return o3(t,function(){return e.remove()}),t})}).transitions()),d=function(e,t,r){var n=r.animate,i=r.connect,o=r.areaFill;if(t.length<2||!o||!i)return[];for(var a=Array.isArray(o)?o:[o,"transparent"],s=[],l=0;l<t.length-1;l++){var u=(0,n_.CR)([t[l].points,t[l+1].points],2),c=function(e,t,r){var n=r.type,i=r.connect,o=r.center,a=r.closed?[["Z"]]:[],s=(0,n_.CR)([aS(e,r),aS(t.slice().reverse(),r,!0)],2),l=s[0],u=s[1],c=(0,n_.CR)([e[0],t.slice(-1)[0]],2),f=c[0],d=c[1],p=function(e,t){return[l,e,u,t,a].flat()};if("line"===i||"surround"===n)return p([(0,n_.ev)(["L"],(0,n_.CR)(d),!1)],[(0,n_.ev)(["L"],(0,n_.CR)(f),!1)]);if(!o)throw Error("Arc grid need to specified center");var h=(0,n_.CR)([as(d,o),as(f,o)],2),y=h[0],b=h[1];return p([(0,n_.ev)(["A",y,y,0,0,1],(0,n_.CR)(d),!1),(0,n_.ev)(["L"],(0,n_.CR)(d),!1)],[(0,n_.ev)(["A",b,b,0,0,0],(0,n_.CR)(f),!1),(0,n_.ev)(["L"],(0,n_.CR)(f),!1)])}(u[0],u[1],r);s.push({path:c,fill:a[l%a.length]})}return e.selectAll(aO.region.class).data(s,function(e,t){return t}).join(function(e){return e.append("path").each(function(e,t){var r=ag(e,[e,t,s]);this.attr(r)}).attr("className",aO.region.name)},function(e){return e.transition(function(e,t){return o9(this,ag(e,[e,t,s]),n.update)})},function(e){return e.transition(function(){var e=this,t=am(this,n.exit);return o3(t,function(){return e.remove()}),t})}).transitions()}(c,l,e);return(0,n_.ev)((0,n_.ev)([],(0,n_.CR)(f),!1),(0,n_.CR)(d),!1)},t}(nA),ax=r(86569);function aP(e){return"function"==typeof e?e():(0,G.Z)(e)||(0,Y.Z)(e)?new nM({style:{text:String(e)}}):e}function aj(e,t,r){void 0===r&&(r=!1);var n=e.getBBox(),i=t/Math.max(n.width,n.height);return r&&e.scale(i),i}function aT(e,t){var r={},n=Array.isArray(t)?t:[t];for(var i in e)n.includes(i)||(r[i]=e[i]);return r}function ak(e,t){return Object.fromEntries(Object.entries(e).map(function(e){var r=(0,n_.CR)(e,2);return[r[0],ag(r[1],t)]}))}function aC(e,t){return t&&(0,nO.Z)(t)?e.filter(t):e}function aA(e,t){var r=t.startAngle;return(t.endAngle-r)*e+r}function aR(e,t){if("linear"===t.type){var r=(0,n_.CR)(t.startPos,2),n=r[0],i=r[1],o=(0,n_.CR)(t.endPos,2),a=o[0],s=o[1],l=(0,n_.CR)([a-n,s-i],2);return al([l[0],l[1]])}var u=au(aA(e,t));return[-Math.sin(u),Math.cos(u)]}function aM(e,t,r){var n;return n=aR(e,r),"positive"!==t?[n[1],-n[0]]:[-n[1],n[0]]}function aI(e,t){return aM(e,t.labelDirection,t)}function aN(e,t){var r,n,i,o,a,s,l,u,c,f,d,p;return"linear"===t.type?(n=(r=(0,n_.CR)(t.startPos,2))[0],i=r[1],a=(o=(0,n_.CR)(t.endPos,2))[0],s=o[1],l=(0,n_.CR)([a-n,s-i],2),[n+l[0]*e,i+l[1]*e]):(u=t.radius,f=(c=(0,n_.CR)(t.center,2))[0],d=c[1],[f+u*Math.cos(p=au(aA(e,t))),d+u*Math.sin(p)])}function aL(e){return 0===aR(0,e)[1]}function aD(e){return 0===aR(0,e)[0]}function az(e,t,r,n,i){var o=t-e,a=(0,n_.CR)([i,i],2),s=a[0],l=a[1],u=(0,n_.CR)([au(e),au(t)],2),c=u[0],f=u[1],d=function(e){return[r+i*Math.cos(e),n+i*Math.sin(e)]},p=(0,n_.CR)(d(c),2),h=p[0],y=p[1],b=(0,n_.CR)(d(f),2),g=b[0],m=b[1];if(t-e==360){var v=(0,n_.CR)(d((f+c)/2),2);return[["M",h,y],["A",s,l,0,1,0,v[0],v[1]],["A",s,l,0,1,0,g,m]]}return"M".concat(h,",").concat(y,",A").concat(s,",").concat(l,",0,").concat(o>180?1:0,",").concat(e>t?0:1,",").concat(g,",").concat(m)}function aF(e){var t=(0,n_.CR)(e,2),r=(0,n_.CR)(t[0],2),n=r[0],i=r[1],o=(0,n_.CR)(t[1],2);return{x1:n,y1:i,x2:o[0],y2:o[1]}}function aB(e){var t=e.type,r=e.gridCenter;return"linear"===t?r:r||e.center}function aU(e,t,r,n,i){return void 0===n&&(n=!0),void 0===i&&(i=!1),!!n&&e===t||!!i&&e===r||e>t&&e<r}var aW=(0,r(89806).Z)(function(e,t){var r=t.fontSize,n=t.fontFamily,i=t.fontWeight,o=t.fontStyle,l=t.fontVariant;return s?s(e,r):(a||(a=$.GZ.offscreenCanvasCreator.getOrCreateContext(void 0)),a.font=[o,l,i,"".concat(r,"px"),n].join(" "),a.measureText(e).width)},function(e,t){return[e,Object.values(t||aZ(e)).join()].join("")},4096),aZ=function(e){var t=e.style.fontFamily||"sans-serif",r=e.style.fontWeight||"normal",n=e.style.fontStyle||"normal",i=e.style.fontVariant,o=e.style.fontSize;return{fontSize:o="object"==typeof o?o.value:o,fontFamily:t,fontWeight:r,fontStyle:n,fontVariant:i}};function aV(e){return"text"===e.nodeName?e:"g"===e.nodeName&&1===e.children.length&&"text"===e.children[0].nodeName?e.children[0]:null}function aq(e,t){var r=aV(e);r&&r.attr(t)}function a$(e,t,r){void 0===r&&(r="..."),aq(e,{wordWrap:!0,wordWrapWidth:t,maxLines:1,textOverflow:r})}function aH(e,t){if(t)try{var r=t.replace(/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,function(t,r,n){var i,o,a,s;return"translate(".concat((o=(i=e.getBBox()).width,a=i.height,[(s=(0,n_.CR)([r,n].map(function(e,t){var r;return e.includes("%")?parseFloat((null===(r=e.match(/[+-]?([0-9]*[.])?[0-9]+/))||void 0===r?void 0:r[0])||"0")/100*(0===t?o:a):e}),2))[0],s[1]]),")")});e.attr("transform",r)}catch(e){}}var aG=function(e){return void 0!==e&&null!=e&&!Number.isNaN(e)};function aY(e){if((0,Y.Z)(e))return[e,e,e,e];if((0,nx.Z)(e)){var t=e.length;if(1===t)return[e[0],e[0],e[0],e[0]];if(2===t)return[e[0],e[1],e[0],e[1]];if(3===t)return[e[0],e[1],e[2],e[1]];if(4===t)return e}return[0,0,0,0]}var aK=function(){function e(e,t,r,n){this.set(e,t,r,n)}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),e.prototype.rotatedPoints=function(e,t,r){var n=this.x1,i=this.y1,o=this.x2,a=this.y2,s=Math.cos(e),l=Math.sin(e),u=t-t*s+r*l,c=r-t*l-r*s;return[[s*n-l*a+u,l*n+s*a+c],[s*o-l*a+u,l*o+s*a+c],[s*n-l*i+u,l*n+s*i+c],[s*o-l*i+u,l*o+s*i+c]]},e.prototype.set=function(e,t,r,n){return r<e?(this.x2=e,this.x1=r):(this.x1=e,this.x2=r),n<t?(this.y2=t,this.y1=n):(this.y1=t,this.y2=n),this},e.prototype.defined=function(e){return this[e]!==Number.MAX_VALUE&&this[e]!==-Number.MAX_VALUE},e}();function aX(e,t){var r=e.getEulerAngles()||0;e.setEulerAngles(0);var n=e.getLocalBounds(),i=(0,n_.CR)(n.min,2),o=i[0],a=i[1],s=(0,n_.CR)(n.max,2),l=s[0],u=s[1],c=aQ(e),f=c.width,d=c.height,p=0,h=0,y=o,b=a,g=aV(e);if(g){d-=1.5;var m=g.style.textAlign,v=g.style.textBaseline;"center"===m?y=(o+l)/2:("right"===m||"end"===m)&&(y=l),"middle"===v?b=(a+u)/2:"bottom"===v&&(b=u)}var _=(0,n_.CR)(aY(t),4),O=_[0],w=void 0===O?0:O,S=_[1],E=void 0===S?0:S,x=_[2],P=_[3],j=new aK((p+=o)-(void 0===P?E:P),(h+=a)-w,p+f+E,h+d+(void 0===x?w:x));return e.setEulerAngles(r),j.rotatedPoints(au(r),y,b)}function aQ(e){return e.__bbox__?e.__bbox__:e.getBBox()}function aJ(e,t){return t[0]<=Math.max(e[0][0],e[1][0])&&t[0]<=Math.min(e[0][0],e[1][0])&&t[1]<=Math.max(e[0][1],e[1][1])&&t[1]<=Math.min(e[0][1],e[1][1])}function a0(e,t,r){var n=(t[1]-e[1])*(r[0]-t[0])-(t[0]-e[0])*(r[1]-t[1]);return 0===n?0:n<0?2:1}function a1(e,t,r){var n,i,o=t.crossPadding,a=new Set,s=null,l=function(e,t){var r=e.type,n=e.labelDirection,i=e.crossSize;if(!i)return!1;if("arc"===r){var o=e.center,a=e.radius,s=(0,n_.CR)(o,2),l=s[0],u=s[1],c="negative"===n?0:i,f=-a-c,d=a+c,p=(0,n_.CR)(aY(t),4),h=p[0],y=p[1],b=p[2];return new aK(l+f-p[3],u+f-h,l+d+y,u+d+b)}var g=(0,n_.CR)(e.startPos,2),m=g[0],v=g[1],_=(0,n_.CR)(e.endPos,2),O=_[0],w=_[1],S=(0,n_.CR)(aD(e)?[-t,0,t,0]:[0,t,0,-t],4),E=S[0],x=S[1],P=S[2],j=S[3],T=ar(aI(0,e),i),k=new aK(m,v,O,w);return k.x1+=j,k.y1+=E,k.x2+=x+T[0],k.y2+=P+T[1],k}(t,o);try{for(var u=(0,n_.XA)(e),c=u.next();!c.done;c=u.next()){var f,d=c.value;!function(e){if(l){var t,r,n,i,o,a;return t=l.x1,r=l.x2,n=l.y1,i=l.y2,o=aX(e,void 0),a=[[t,n],[r,n],[r,i],[t,i]],o.every(function(e){return function(e,t){var r=e.length;if(r<3)return!1;var n=[t,[9999,t[1]]],i=0,o=0;do{var a=[e[o],e[(o+1)%r]];if(function(e,t){var r=a0(e[0],e[1],t[0]),n=a0(e[0],e[1],t[1]),i=a0(t[0],t[1],e[0]),o=a0(t[0],t[1],e[1]);return!!(r!==n&&i!==o||0===r&&aJ(e,t[0])||0===n&&aJ(e,t[1])||0===i&&aJ(t,e[0])||0===o&&aJ(t,e[1]))}(a,n)){if(0===a0(a[0],t,a[1]))return aJ(a,t);i++}o=(o+1)%r}while(0!==o);return!!(1&i)}(a,e)})}return!0}(d)?a.add(d):s&&((f=s)?function(e,t,r){var n,i,o=aX(e,r).flat(1),a=aX(t,r).flat(1),s=[[o[0],o[1],o[2],o[3]],[o[0],o[1],o[4],o[5]],[o[4],o[5],o[6],o[7]],[o[2],o[3],o[6],o[7]]];try{for(var l=(0,n_.XA)(s),u=l.next();!u.done;u=l.next()){var c=u.value;if(function(e,t){return[[e[0],e[1],e[2],e[3]],[e[2],e[3],e[4],e[5]],[e[4],e[5],e[6],e[7]],[e[6],e[7],e[0],e[1]]].some(function(e){return function(e,t){var r=(0,n_.CR)(e,4),n=r[0],i=r[1],o=r[2],a=r[3],s=(0,n_.CR)(t,4),l=s[0],u=s[1],c=s[2],f=s[3],d=o-n,p=a-i,h=c-l,y=f-u,b=d*y-h*p;if(0===b)return!1;var g=b>0,m=n-l,v=i-u,_=d*v-p*m;if(_<0===g)return!1;var O=h*v-y*m;return O<0!==g&&_>b!==g&&O>b!==g}(t,e)})}(a,c))return!0}}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return!1}(f,d,aY(r)):0)?(a.add(s),a.add(d)):s=d}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return Array.from(a)}function a2(e,t){return(void 0===t&&(t={}),(0,eu.Z)(e))?0:"number"==typeof e?e:Math.floor(aW(e,t))}function a5(e){var t=e.getLocalBounds(),r=t.min,n=t.max,i=(0,n_.CR)([r,n],2),o=(0,n_.CR)(i[0],2),a=o[0],s=o[1],l=(0,n_.CR)(i[1],2),u=l[0],c=l[1];return{x:a,y:s,width:u-a,height:c-s,left:a,bottom:c,top:s,right:u}}function a4(e,t){var r=(0,n_.CR)(e,2),n=r[0],i=r[1],o=(0,n_.CR)(t,2),a=o[0],s=o[1];return n!==a&&i===s}var a3={parity:function(e,t){var r=t.seq,n=void 0===r?2:r;return e.filter(function(e,t){return!(t%n)||(nS(e),!1)})}},a6=new Map([["hide",function(e,t,r,n){var i,o,a=e.length,s=t.keepHeader,l=t.keepTail;if(!(a<=1)&&(2!==a||!s||!l)){var u=a3.parity,c=function(e){return e.forEach(n.show),e},f=2,d=e.slice(),p=e.slice(),h=Math.min.apply(Math,(0,n_.ev)([1],(0,n_.CR)(e.map(function(e){return aQ(e).width})),!1));if("linear"===r.type&&(aL(r)||aD(r))){var y=a5(e[0]).left,b=Math.abs(a5(e[a-1]).right-y)||1;f=Math.max(Math.floor(a*h/b),f)}for(s&&(i=d.splice(0,1)[0]),l&&(o=d.splice(-1,1)[0],d.reverse()),c(d);f<e.length&&a1((o?(0,n_.ev)((0,n_.ev)([o],(0,n_.CR)(p),!1),[i],!1):(0,n_.ev)([i],(0,n_.CR)(p),!1)).filter(aG),r,null==t?void 0:t.margin).length;){if(o&&!i&&f%2==0){var g=d.splice(0,1);g.forEach(n.hide)}else if(o&&i){var g=d.splice(0,1);g.forEach(n.hide)}p=u(c(d),{seq:f}),f++}}}],["rotate",function(e,t,r,n){var i,o,a=t.optionalAngles,s=t.margin,l=t.recoverWhenFailed,u=e.map(function(e){return e.getLocalEulerAngles()}),c=function(t){return e.forEach(function(e,r){var i=Array.isArray(t)?t[r]:t;n.rotate(e,+i)})};try{for(var f=(0,n_.XA)(void 0===a?[0,45,90]:a),d=f.next();!d.done;d=f.next()){var p=d.value;if(c(p),a1(e,r,s).length<1)return}}catch(e){i={error:e}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}(void 0===l||l)&&c(u)}],["ellipsis",function(e,t,r,n){if(!(e.length<=1)){var i=t.suffix,o=void 0===i?"...":i,a=t.minLength,s=t.maxLength,l=void 0===s?1/0:s,u=t.step,c=t.margin,f=void 0===c?[0,0,0,0]:c,d=aZ(n.getTextShape(e[0])),p=a2(void 0===u?" ":u,d),h=a?a2(a,d):p,y=a2(l,d);((0,eu.Z)(y)||y===1/0)&&(y=Math.max.apply(null,e.map(function(e){return aQ(e).width})));var b=e.slice(),g=(0,n_.CR)(f,4);g[0],g[1],g[2],g[3];for(var m=function(t){if(b.forEach(function(e){n.ellipsis(n.getTextShape(e),t,o)}),(b=a1(e,r,f)).length<1)return{value:void 0}},v=y;v>h+p;v-=p){var _=m(v);if("object"==typeof _)return _.value}}}],["wrap",function(e,t,r,n){var i,o,a=t.wordWrapWidth,s=void 0===a?50:a,l=t.maxLines,u=void 0===l?3:l,c=t.recoverWhenFailed,f=t.margin,d=void 0===f?[0,0,0,0]:f,p=e.map(function(e){return e.attr("maxLines")||1}),h=Math.min.apply(Math,(0,n_.ev)([],(0,n_.CR)(p),!1)),y=(i=r.type,o=r.labelDirection,"linear"===i&&aL(r)?"negative"===o?"bottom":"top":"middle"),b=function(t){return e.forEach(function(e,r){var i=Array.isArray(t)?t[r]:t;n.wrap(e,s,i,y)})};if(!(h>u)){for(var g=h;g<=u;g++)if(b(g),a1(e,r,d).length<1)return;(void 0===c||c)&&b(p)}}]]);function a8(e){for(var t=e;t<0;)t+=360;return Math.round(t%360)}function a9(e,t){var r=(0,n_.CR)(e,2),n=r[0],i=r[1],o=(0,n_.CR)(t,2),a=o[0],s=o[1],l=(0,n_.CR)([n*a+i*s,n*s-i*a],2),u=l[0];return Math.atan2(l[1],u)}function a7(e,t,r){var n=r.type,i=r.labelAlign,o=aI(e,r),a=a8(t),s=a8(ac(a9([1,0],o))),l="center",u="middle";return"linear"===n?[90,270].includes(s)&&0===a?(l="center",u=1===o[1]?"top":"bottom"):!(s%180)&&[90,270].includes(a)?l="center":0===s?aU(a,0,90,!1,!0)?l="start":(aU(a,0,90)||aU(a,270,360))&&(l="start"):90===s?aU(a,0,90,!1,!0)?l="start":(aU(a,90,180)||aU(a,270,360))&&(l="end"):270===s?aU(a,0,90,!1,!0)?l="end":(aU(a,90,180)||aU(a,270,360))&&(l="start"):180===s&&(90===a?l="start":(aU(a,0,90)||aU(a,270,360))&&(l="end")):"parallel"===i?u=aU(s,0,180,!0)?"top":"bottom":"horizontal"===i?aU(s,90,270,!1)?l="end":(aU(s,270,360,!1)||aU(s,0,90))&&(l="start"):"perpendicular"===i&&(l=aU(s,90,270)?"end":"start"),{textAlign:l,textBaseline:u}}function se(e,t,r){var n=r.showTick,i=r.tickLength,o=r.tickDirection,a=r.labelDirection,s=r.labelSpacing,l=t.indexOf(e),u=ag(s,[e,l,t]),c=(0,n_.CR)([aI(e.value,r),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(function(e,t){return e*("positive"===t?-1:1)},1)}(a,o)],2),f=c[0],d=1===c[1]?ag(n?i:0,[e,l,t]):0,p=(0,n_.CR)(an(ar(f,u+d),aN(e.value,r)),2);return{x:p[0],y:p[1]}}function st(e,t){"text"===e.nodeName&&e.attr(t)}function sr(e){var t,r,n,i;t=this.node().childNodes,r={hide:nS,show:nw,rotate:function(t,r){!function(e,t,r){t.setLocalEulerAngles(e);var n=a7(t.__data__.value,e,r),i=t.querySelector(at.labelItem.class);i&&st(i,n)}(+r,t,e)},ellipsis:function(e,t,r){e&&a$(e,t||1/0,r)},wrap:function(e,t,r){var n,i;e&&(void 0===(n=r)&&(n=2),void 0===i&&(i="top"),aq(e,{wordWrap:!0,wordWrapWidth:t,maxLines:n,textBaseline:i}))},getTextShape:function(e){return e.querySelector("text")}},(i=void 0===(n=e.labelOverlap)?[]:n).length&&i.forEach(function(n){var i=n.type,o=a6.get(i);e.labelOverlap.length<1||("hide"===i?function(e){for(var t=e;t;){if("offscreen"===t.className)return!0;t=t.parent}return!1}(t[0]):"rotate"===i?t.some(function(e){var t;return!!(null===(t=e.attr("transform"))||void 0===t?void 0:t.includes("rotate"))}):("ellipsis"===i||"wrap"===i)&&!(t.filter(function(e){return e.querySelector("text")}).length>1))||null==o||o(t,n,e,r)})}function sn(e,t,r,n,i){var o,a=r.indexOf(t),s=nN(e).append((o=i.labelFormatter,(0,nO.Z)(o)?function(){return aP(ag(o,[t,a,r,aI(t.value,i)]))}:function(){return aP(t.label||"")})).attr("className",at.labelItem.name).node(),l=(0,n_.CR)(ab(ak(n,[t,a,r])),2),u=l[0],c=l[1],f=c.transform,d=(0,n_._T)(c,["transform"]);aH(e,f);var p=function(e,t,r){var n,i,o=r.labelAlign;if(null===(i=t.style.transform)||void 0===i?void 0:i.includes("rotate"))return t.getLocalEulerAngles();var a=0,s=aI(e.value,r),l=aR(e.value,r);return"horizontal"===o?0:(aU(n=(ac(a="perpendicular"===o?a9([1,0],s):a9([l[0]<0?-1:1,0],l))+360)%180,-90,90)||(n+=180),n)}(t,e,i);return e.setLocalEulerAngles(+p),st(s,(0,n_.pi)((0,n_.pi)({},a7(t.value,p,i)),u)),aH(e,f),e.attr(d),s}function si(e,t){return aM(e,t.tickDirection,t)}function so(e,t,r,n,i,o){var a,s,l,u,c,f,d,p,h,y,b,g,m,v,_,O,w,S,E,x,P,j=(a=nN(this),s=n.tickFormatter,l=si(e.value,n),u="line",(0,nO.Z)(s)&&(u=function(){return ag(s,[e,t,r,l])}),a.append(u).attr("className",at.tickItem.name));c=si(e.value,n),_=(f=n.tickLength,h=(0,n_.CR)((d=ag(f,[e,t,r]),[[0,0],[(p=(0,n_.CR)(c,2))[0]*d,p[1]*d]]),2),b=(y=(0,n_.CR)(h[0],2))[0],g=y[1],v={x1:b,x2:(m=(0,n_.CR)(h[1],2))[0],y1:g,y2:m[1]}).x1,O=v.x2,w=v.y1,S=v.y2,x=(E=(0,n_.CR)(ab(ak(i,[e,t,r,c])),2))[0],P=E[1],"line"===j.node().nodeName&&j.styles((0,n_.pi)({x1:_,x2:O,y1:w,y2:S},x)),this.attr(P),j.styles(x);var T=(0,n_.CR)(aN(e.value,n),2);return o9(this,{x:T[0],y:T[1]},o)}var sa=function(){function e(e,t,r,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=e,this.y=t,this.width=r,this.height=n}return Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},e.prototype.isPointIn=function(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom},e}(),ss=o7({text:"text"},"title");function sl(e){return/\S+-\S+/g.test(e)?e.split("-").map(function(e){return e[0]}):e.length>2?[e[0]]:e.split("")}function su(e,t){var r=Object.entries(t).reduce(function(t,r){var n=(0,n_.CR)(r,2),i=n[0],o=n[1];return e.node().attr(i)||(t[i]=o),t},{});e.styles(r)}var sc=function(e){function t(t){return e.call(this,t,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return(0,n_.ZT)(t,e),t.prototype.getAvailableSpace=function(){var e=this.attributes,t=e.width,r=e.height,n=e.position,i=e.spacing,o=e.inset,a=this.querySelector(ss.text.class);if(!a)return new sa(0,0,+t,+r);var s=a.getBBox(),l=s.width,u=s.height,c=(0,n_.CR)(aY(i),4),f=c[0],d=c[1],p=c[2],h=c[3],y=(0,n_.CR)([0,0,+t,+r],4),b=y[0],g=y[1],m=y[2],v=y[3],_=sl(n);if(_.includes("i"))return new sa(b,g,m,v);_.forEach(function(e,n){var i,o;"t"===e&&(g=(i=(0,n_.CR)(0===n?[u+p,+r-u-p]:[0,+r],2))[0],v=i[1]),"r"===e&&(m=(0,n_.CR)([+t-l-h],1)[0]),"b"===e&&(v=(0,n_.CR)([+r-u-f],1)[0]),"l"===e&&(b=(o=(0,n_.CR)(0===n?[l+d,+t-l-d]:[0,+t],2))[0],m=o[1])});var O=(0,n_.CR)(aY(o),4),w=O[0],S=O[1],E=O[2],x=O[3],P=(0,n_.CR)([x+S,w+E],2),j=P[0],T=P[1];return new sa(b+x,g+w,m-j,v-T)},t.prototype.getBBox=function(){return this.title?this.title.getBBox():new sa(0,0,0,0)},t.prototype.render=function(e,t){var r,n,i,o,a,s,l,u,c,f,d,p,h,y,b,g,m=this;e.width,e.height,e.position,e.spacing;var v=(0,n_._T)(e,["width","height","position","spacing"]),_=(0,n_.CR)(ab(v),1)[0],O=(a=e.width,s=e.height,l=e.position,c=(u=(0,n_.CR)([+a/2,+s/2],2))[0],f=u[1],p=(d=(0,n_.CR)([+c,+f,"center","middle"],4))[0],h=d[1],y=d[2],b=d[3],(g=sl(l)).includes("l")&&(p=(r=(0,n_.CR)([0,"start"],2))[0],y=r[1]),g.includes("r")&&(p=(n=(0,n_.CR)([+a,"end"],2))[0],y=n[1]),g.includes("t")&&(h=(i=(0,n_.CR)([0,"top"],2))[0],b=i[1]),g.includes("b")&&(h=(o=(0,n_.CR)([+s,"bottom"],2))[0],b=o[1]),{x:p,y:h,textAlign:y,textBaseline:b}),w=O.x,S=O.y,E=O.textAlign,x=O.textBaseline;nR(!!v.text,nN(t),function(e){m.title=e.maybeAppendByClassName(ss.text,"text").styles(_).call(su,{x:w,y:S,textAlign:E,textBaseline:x}).node()})},t}(nA);function sf(e,t,r,n,i){var o=ah(n,"title"),a=(0,n_.CR)(ab(o),2),s=a[0],l=a[1],u=l.transform,c=(0,n_._T)(l,["transform"]);e.styles(s),t.styles(c);var f=u||function(e,t,r){var n=e.cloneNode(!0);n.style.transform="scale(1, 1)",n.style.transform="none";var i=n.getBBox().height;if("vertical"===t){if("left"===r)return"rotate(-90) translate(0, ".concat(i/2,")");if("right"===r)return"rotate(-90) translate(0, -".concat(i/2,")")}return""}(e.node(),s.direction,s.position);aH(e.node(),f);var d=function(e,t,r){var n=r.titlePosition,i=void 0===n?"lb":n,o=r.titleSpacing,a=sl(i),s=e.node().getLocalBounds(),l=(0,n_.CR)(s.min,2),u=l[0],c=l[1],f=(0,n_.CR)(s.halfExtents,2),d=f[0],p=f[1],h=(0,n_.CR)(t.node().getLocalBounds().halfExtents,2),y=h[0],b=h[1],g=(0,n_.CR)([u+d,c+p],2),m=g[0],v=g[1],_=(0,n_.CR)(aY(o),4),O=_[0],w=_[1],S=_[2],E=_[3];if(["start","end"].includes(i)&&"linear"===r.type){var x=r.startPos,P=r.endPos,j=(0,n_.CR)("start"===i?[x,P]:[P,x],2),T=j[0],k=j[1],C=al([-k[0]+T[0],-k[1]+T[1]]),A=(0,n_.CR)(ar(C,O),2),R=A[0],M=A[1];return{x:T[0]+R,y:T[1]+M}}return a.includes("t")&&(v-=p+b+O),a.includes("r")&&(m+=d+y+w),a.includes("l")&&(m-=d+2*y+E),a.includes("b")&&(v+=p+2*b+S),{x:m,y:v}}(nN(r._offscreen||r.querySelector(at.mainGroup.class)),t,n),p=d.x,h=d.y,y=o9(t.node(),{x:p,y:h},i);return aH(e.node(),f),y}function sd(e,t,r,n){var i=e.showLine,o=e.showTick,a=e.showLabel,s=nR(i,t.maybeAppendByClassName(at.lineGroup,"g"),function(t){var r,i,o,a,s,l,u,c,f,d,p;return r=t,i=e,o=n,d=i.type,p=ah(i,"line"),"linear"===d?f=function(e,t,r,n){var i,o,a,s,l,u,c,f,d,p,h,y,b,g,m,v,_,O,w=t.showTrunc,S=t.startPos,E=t.endPos,x=t.truncRange,P=t.lineExtension,j=(0,n_.CR)([S,E],2),T=(0,n_.CR)(j[0],2),k=T[0],C=T[1],A=(0,n_.CR)(j[1],2),R=A[0],M=A[1],I=(0,n_.CR)(P?(void 0===(i=P)&&(i=[0,0]),o=(0,n_.CR)([S,E,i],3),s=(a=(0,n_.CR)(o[0],2))[0],l=a[1],c=(u=(0,n_.CR)(o[1],2))[0],f=u[1],p=(d=(0,n_.CR)(o[2],2))[0],h=d[1],m=Math.sqrt(Math.pow(b=(y=(0,n_.CR)([c-s,f-l],2))[0],2)+Math.pow(g=y[1],2)),[(_=(v=(0,n_.CR)([-p/m,h/m],2))[0])*b,_*g,(O=v[1])*b,O*g]):[,,,,].fill(0),4),N=I[0],L=I[1],D=I[2],z=I[3],F=function(t){return e.selectAll(at.line.class).data(t,function(e,t){return t}).join(function(e){return e.append("line").attr("className",function(e){return"".concat(at.line.name," ").concat(e.className)}).styles(r).transition(function(e){return o9(this,aF(e.line),!1)})},function(e){return e.styles(r).transition(function(e){return o9(this,aF(e.line),n.update)})},function(e){return e.remove()}).transitions()};if(!w||!x)return F([{line:[[k+N,C+L],[R+D,M+z]],className:at.line.name}]);var B=(0,n_.CR)(x,2),U=B[0],W=B[1],Z=R-k,V=M-C,q=(0,n_.CR)([k+Z*U,C+V*U],2),$=q[0],H=q[1],G=(0,n_.CR)([k+Z*W,C+V*W],2),Y=G[0],K=G[1],X=F([{line:[[k+N,C+L],[$,H]],className:at.lineFirst.name},{line:[[Y,K],[R+D,M+z]],className:at.lineSecond.name}]);return t.truncRange,t.truncShape,t.lineExtension,X}(r,i,aT(p,"arrow"),o):(a=aT(p,"arrow"),s=i.startAngle,l=i.endAngle,u=i.center,c=i.radius,f=r.selectAll(at.line.class).data([{path:az.apply(void 0,(0,n_.ev)((0,n_.ev)([s,l],(0,n_.CR)(u),!1),[c],!1))}],function(e,t){return t}).join(function(e){return e.append("path").attr("className",at.line.name).styles(i).styles({path:function(e){return e.path}})},function(e){return e.transition(function(){var e,t,r,n,i,a=this,f=function(e,t,r,n){if(!n)return e.attr("__keyframe_data__",r),null;var i=n.duration,o=function e(t,r){var n,i,o,a,s,l;return"number"==typeof t&&"number"==typeof r?function(e){return t*(1-e)+r*e}:Array.isArray(t)&&Array.isArray(r)?(n=r?r.length:0,i=t?Math.min(n,t.length):0,function(o){var a=Array(i),s=Array(n),l=0;for(l=0;l<i;++l)a[l]=e(t[l],r[l]);for(;l<n;++l)s[l]=r[l];for(l=0;l<i;++l)s[l]=a[l](o);return s}):"object"==typeof t&&"object"==typeof r?(void 0===(o=t)&&(o={}),void 0===(a=r)&&(a={}),s={},l={},Object.entries(a).forEach(function(t){var r=(0,n_.CR)(t,2),n=r[0],i=r[1];n in o?s[n]=e(o[n],i):l[n]=i}),function(e){return Object.entries(s).forEach(function(t){var r=(0,n_.CR)(t,2),n=r[0],i=r[1];return l[n]=i(e)}),l}):function(e){return t}}(t,r),a=Array(Math.ceil(+(void 0===i?0:i)/16)).fill(0).map(function(e,t,r){return{__keyframe_data__:o(t/(r.length-1))}});return e.animate(a,(0,n_.pi)({fill:"both"},n))}(this,(t=(e=this.attributes).startAngle,r=e.endAngle,n=e.center,i=e.radius,(0,n_.ev)((0,n_.ev)([t,r],(0,n_.CR)(n),!1),[i],!1)),(0,n_.ev)((0,n_.ev)([s,l],(0,n_.CR)(u),!1),[c],!1),o.update);if(f){var d=function(){var e=(0,ax.Z)(a.attributes,"__keyframe_data__");a.style.path=az.apply(void 0,(0,n_.ev)([],(0,n_.CR)(e),!1))};f.onframe=d,f.onfinish=d}return f}).styles(i)},function(e){return e.remove()}).styles(a).transitions()),!function(e,t,r,n){var i,o,a=r.showArrow,s=r.showTrunc,l=r.lineArrow,u=r.lineArrowOffset,c=r.lineArrowSize;if(o="arc"===t?e.select(at.line.class):s?e.select(at.lineSecond.class):e.select(at.line.class),!a||!l||"arc"===r.type&&(i=r.startAngle,r.endAngle-i==360)){var f=o.node();f&&(f.style.markerEnd=void 0);return}var d=aP(l);d.attr(n),aj(d,c,!0),o.style("markerEnd",d).style("markerEndOffset",-u)}(r,d,i,p),f})||[],l=nR(o,t.maybeAppendByClassName(at.tickGroup,"g"),function(t){var i,o;return i=aC(r,e.tickFilter),o=ah(e,"tick"),t.selectAll(at.tick.class).data(i,function(e){return e.id||e.label}).join(function(t){return t.append("g").attr("className",at.tick.name).transition(function(t,r){return so.call(this,t,r,i,e,o,!1)})},function(t){return t.transition(function(t,r){return this.removeChildren(),so.call(this,t,r,i,e,o,n.update)})},function(e){return e.transition(function(){var e=this,t=am(this.childNodes[0],n.exit);return o3(t,function(){return e.remove()}),t})}).transitions()})||[],u=nR(a,t.maybeAppendByClassName(at.labelGroup,"g"),function(t){var i,o;return i=aC(r,e.labelFilter),o=ah(e,"label"),t.selectAll(at.label.class).data(i,function(e,t){return t}).join(function(n){return n.append("g").attr("className",at.label.name).transition(function(t){return sn(this,t,r,o,e),this.attr(se(t,r,e)),this.__bbox__=t.bbox,null}).call(function(){return sr.call(t,e)})},function(i){return i.transition(function(t){var i=function(e,t,r,n){if(void 0===n&&(n="destroy"),"text"===e.nodeName&&"text"===t.nodeName&&e.attributes.text===t.attributes.text)return e.remove(),[null];var i=function(){"destroy"===n?e.destroy():"hide"===n&&nS(e),t.isVisible()&&nw(t)};if(!r)return i(),[null];var o=r.duration,a=void 0===o?0:o,s=r.delay,l=void 0===s?0:s,u=Math.ceil(+a/2),c=+a/4,f=function(e){if("circle"===e.nodeName){var t=(0,n_.CR)(e.getLocalPosition(),2),r=t[0],n=t[1],i=e.attr("r");return[r-i,n-i]}return e.getLocalPosition()},d=(0,n_.CR)(f(e),2),p=d[0],h=d[1],y=(0,n_.CR)(f(t),2),b=y[0],g=y[1],m=(0,n_.CR)([(p+b)/2-p,(h+g)/2-h],2),v=m[0],_=m[1],O=e.style.opacity,w=t.style.opacity,S=e.animate([{opacity:void 0===O?1:O,transform:"translate(0, 0)"},{opacity:0,transform:"translate(".concat(v,", ").concat(_,")")}],(0,n_.pi)((0,n_.pi)({fill:"both"},r),{duration:l+u+c})),E=t.animate([{opacity:0,transform:"translate(".concat(-v,", ").concat(-_,")"),offset:.01},{opacity:void 0===w?1:w,transform:"translate(0, 0)"}],(0,n_.pi)((0,n_.pi)({fill:"both"},r),{duration:u+c,delay:l+u-c}));return o3(E,i),[S,E]}(this.querySelector(at.labelItem.class),sn(this,t,r,o,e),n.update),a=o9(this,se(t,r,e),n.update);return this.__bbox__=t.bbox,(0,n_.ev)((0,n_.ev)([],(0,n_.CR)(i),!1),[a],!1)}).call(function(r){var n,i;n=(0,ax.Z)(r,"_transitions").flat().filter(aG),i=function(){return sr.call(t,e)},0===n.length?i():Promise.all(n.map(function(e){return null==e?void 0:e.finished})).then(i)})},function(e){return e.transition(function(){var e=this,t=am(this.childNodes[0],n.exit);return o3(t,function(){return nN(e).remove()}),t})}).transitions()})||[];return(0,n_.ev)((0,n_.ev)((0,n_.ev)([],(0,n_.CR)(s),!1),(0,n_.CR)(l),!1),(0,n_.CR)(u),!1).filter(function(e){return!!e})}var sp=function(e){function t(t){return e.call(this,t,ae)||this}return(0,n_.ZT)(t,e),t.prototype.render=function(e,t,r){var n=this,i=e.titleText,o=e.data,a=e.animate,s=e.showTitle,l=e.showGrid,u=e.dataThreshold,c=e.truncRange,f=(function(e,t){if(e.length<=t)return e;for(var r=Math.floor(e.length/t),n=[],i=0;i<e.length;i+=r)n.push(e[i]);return n})(o,u).filter(function(e){var t=e.value;return!c||!(t>c[0])||!(t<c[1])}),d=o4(void 0===r?a:r),p=nR(l,nN(t).maybeAppendByClassName(at.gridGroup,"g"),function(t){var r,n,i,o,a,s,l,u;return n=(r=ah(e,"grid")).type,i=r.areaFill,o=aB(e),a=aC(f,e.gridFilter),l="segment"===n?(s=e.gridLength,a.map(function(t,r){var n=t.value,i=(0,n_.CR)(aN(n,e),2),o=i[0],a=i[1],l=(0,n_.CR)(ar(aM(n,e.gridDirection,e),s),2);return{id:r,points:[[o,a],[o+l[0],a+l[1]]]}})):function(e,t){var r=t.gridControlAngles,n=aB(t);if(!n)throw Error("grid center is not provide");if(e.length<2)throw Error("Invalid grid data");if(!r||0===r.length)throw Error("Invalid gridControlAngles");var i=(0,n_.CR)(n,2),o=i[0],a=i[1];return e.map(function(e,n){var i=e.value,s=(0,n_.CR)(aN(i,t),2),l=s[0],u=s[1],c=(0,n_.CR)([l-o,u-a],2),f=c[0],d=c[1],p=[];return r.forEach(function(e){var t=au(e),r=(0,n_.CR)([Math.cos(t),Math.sin(t)],2),n=r[0],i=r[1];p.push([f*n-d*i+o,f*i+d*n+a])}),{points:p,id:n}})}(a,e),u=(0,n_.pi)((0,n_.pi)({},r),{center:o,areaFill:(0,nO.Z)(i)?a.map(function(e,t){return ag(i,[e,t,a])}):i,animate:d,data:l}),t.selectAll(at.grid.class).data([1]).join(function(e){return e.append(function(){return new aE({style:u})}).attr("className",at.grid.name)},function(e){return e.transition(function(){return this.update(u)})},function(e){return e.remove()}).transitions()})||[],h=nN(t).maybeAppendByClassName(at.mainGroup,"g");i&&(!this.initialized&&d.enter||this.initialized&&d.update)&&sd(e,nN(this.offscreenGroup),f,o4(!1));var y=sd(e,nN(h.node()),f,d),b=nR(s,nN(t).maybeAppendByClassName(at.titleGroup,"g"),function(t){var r;return r=e.titleText,t.selectAll(at.title.class).data([{title:r}].filter(function(e){return!!e.title}),function(e,t){return e.title}).join(function(i){return i.append(function(){return aP(r)}).attr("className",at.title.name).transition(function(){return sf(nN(this),t,n,e,d.enter)})},function(r){return r.transition(function(){return sf(nN(this),t,n,e,d.update)})},function(e){return e.remove()}).transitions()})||[];return(0,n_.ev)((0,n_.ev)((0,n_.ev)([],(0,n_.CR)(p),!1),(0,n_.CR)(y),!1),(0,n_.CR)(b),!1).flat().filter(function(e){return!!e})},t}(nA),sh=r(75481),sy=r(36075),sb=r(6807);function sg(e){for(var t=1/0,r=1/0,n=-1/0,i=-1/0,o=0;o<e.length;o++){var a=e[o],s=a.x,l=a.y,u=a.width,c=a.height,f=(0,n_.CR)([s+u,l+c],2),d=f[0],p=f[1];s<t&&(t=s),l<r&&(r=l),d>n&&(n=d),p>i&&(i=p)}return new sa(t,r,n-t,i-r)}var sm=function(e,t,r){var n=e.width,i=e.height,o=r.flexDirection,a=void 0===o?"row":o,s=(r.flexWrap,r.justifyContent),l=void 0===s?"flex-start":s,u=(r.alignContent,r.alignItems),c=void 0===u?"flex-start":u,f="row"===a,d="row"===a||"column"===a,p=f?d?[1,0]:[-1,0]:d?[0,1]:[0,-1],h=(0,n_.CR)([0,0],2),y=h[0],b=h[1],g=t.map(function(e){var t,r=e.width,n=e.height,i=(0,n_.CR)([y,b],2),o=i[0],a=i[1];return y=(t=(0,n_.CR)([y+r*p[0],b+n*p[1]],2))[0],b=t[1],new sa(o,a,r,n)}),m=sg(g),v={"flex-start":0,"flex-end":f?n-m.width:i-m.height,center:f?(n-m.width)/2:(i-m.height)/2},_=g.map(function(e){var t=e.x,r=e.y,n=sa.fromRect(e);return n.x=f?t+v[l]:t,n.y=f?r:r+v[l],n});sg(_);var O=function(e){var t=(0,n_.CR)(f?["height",i]:["width",n],2),r=t[0],o=t[1];switch(c){case"flex-start":default:return 0;case"flex-end":return o-e[r];case"center":return o/2-e[r]/2}};return _.map(function(e){var t=e.x,r=e.y,n=sa.fromRect(e);return n.x=f?t:t+O(n),n.y=f?r+O(n):r,n}).map(function(t){var r,n,i=sa.fromRect(t);return i.x+=null!==(r=e.x)&&void 0!==r?r:0,i.y+=null!==(n=e.y)&&void 0!==n?n:0,i})},sv=function(e,t,r){return[]};let s_=function(e,t,r){if(0===t.length)return[];var n={flex:sm,grid:sv},i=r.display in n?n[r.display]:null;return(null==i?void 0:i.call(null,e,t,r))||[]};var sO=function(e){function t(t){var r=e.call(this,t)||this;r.layoutEvents=[$.Dk.BOUNDS_CHANGED,$.Dk.INSERTED,$.Dk.REMOVED],r.$margin=aY(0),r.$padding=aY(0);var n=t.style||{},i=n.margin,o=n.padding;return r.margin=void 0===i?0:i,r.padding=void 0===o?0:o,r.isMutationObserved=!0,r.bindEvents(),r}return(0,n_.ZT)(t,e),Object.defineProperty(t.prototype,"margin",{get:function(){return this.$margin},set:function(e){this.$margin=aY(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this.$padding},set:function(e){this.$padding=aY(e)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var e=this.attributes,t=e.x,r=e.y,n=e.width,i=e.height,o=(0,n_.CR)(this.$margin,4),a=o[0],s=o[1],l=o[2],u=o[3];return new sa((void 0===t?0:t)-u,(void 0===r?0:r)-a,n+u+s,i+a+l)},t.prototype.appendChild=function(t,r){return t.isMutationObserved=!0,e.prototype.appendChild.call(this,t,r),t},t.prototype.getAvailableSpace=function(){var e=this.attributes,t=e.width,r=e.height,n=(0,n_.CR)(this.$padding,4),i=n[0],o=n[1],a=n[2],s=n[3],l=(0,n_.CR)(this.$margin,4),u=l[0];return new sa(s+l[3],i+u,t-s-o,r-i-a)},t.prototype.layout=function(){if(this.attributes.display&&this.isConnected&&!this.children.some(function(e){return!e.isConnected}))try{var e=s_(this.getAvailableSpace(),this.children.map(function(e){return e.getBBox()}),this.attributes);this.children.forEach(function(t,r){var n=e[r],i=n.x,o=n.y;t.attr({x:i,y:o})})}catch(e){}},t.prototype.bindEvents=function(){var e=this;this.layoutEvents.forEach(function(t){e.addEventListener(t,function(t){t.target.isMutationObserved=!0,e.layout()})})},t.prototype.attributeChangedCallback=function(e,t,r){"margin"===e?this.margin=r:"padding"===e&&(this.padding=r),this.layout()},t}($.ZA),sw=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function sS(e,t,r){return e.querySelector(t)?tl(e).select(t):tl(e).append(r)}function sE(e){return Array.isArray(e)?e.join(", "):`${e||""}`}function sx(e,t){let{flexDirection:r,justifyContent:n,alignItems:i}={display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},o={top:["row","flex-start","center"],bottom:["row","flex-start","center"],left:["column","flex-start","center"],right:["column","flex-start","center"],center:["column","center","center"]};return e in o&&([r,n,i]=o[e]),Object.assign({display:"flex",flexDirection:r,justifyContent:n,alignItems:i},t)}class sP extends sO{get child(){var e;return null===(e=this.children)||void 0===e?void 0:e[0]}update(e){var t;this.attr(e);let{subOptions:r}=e;null===(t=this.child)||void 0===t||t.update(r)}}class sj extends sP{update(e){var t;let{subOptions:r}=e;this.attr(e),null===(t=this.child)||void 0===t||t.update(r)}}function sT(e,t){var r;return null===(r=e.filter(e=>e.getOptions().name===t))||void 0===r?void 0:r[0]}function sk(e,t,r){let{bbox:n}=e,{position:i="top",size:o,length:a}=t,s=["top","bottom","center"].includes(i),[l,u]=s?[n.height,n.width]:[n.width,n.height],{defaultSize:c,defaultLength:f}=r.props,d=o||c||l,p=a||f||u,[h,y]=s?[p,d]:[d,p];return{orientation:s?"horizontal":"vertical",width:h,height:y,size:d,length:p}}function sC(e){let t=["arrow","crosshairs","grid","handle","handleLabel","indicator","label","line","tick","tip","title","trunc"],{style:r}=e,n=sw(e,["style"]),i={};return Object.entries(n).forEach(([e,r])=>{t.includes(e)?i[`show${(0,sy.Z)(e)}`]=r:i[e]=r}),Object.assign(Object.assign({},i),r)}var sA=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function sR(e,t){let{eulerAngles:r,origin:n}=t;n&&e.setOrigin(n),r&&e.rotate(r[0],r[1],r[2])}function sM(e){let{innerWidth:t,innerHeight:r,depth:n}=e.getOptions();return[t,r,n]}function sI(e,t,r,n,i,o,a,s){var l;(void 0!==r||void 0!==o)&&e.update(Object.assign(Object.assign({},r&&{tickCount:r}),o&&{tickMethod:o}));let u=function(e,t,r){if(e.getTicks)return e.getTicks();if(!r)return t;let[n,i]=(0,t_.Z)(t,e=>+e),{tickCount:o}=e.getOptions();return r(n,i,o)}(e,t,o),c=i?u.filter(i):u,f=e=>e instanceof Date?String(e):"object"==typeof e&&e?e:String(e),d=n||(null===(l=e.getFormatter)||void 0===l?void 0:l.call(e))||f,p=function(e,t){if(z(t))return e=>e;let{innerWidth:r,innerHeight:n,insetTop:i,insetBottom:o,insetLeft:a,insetRight:s}=t.getOptions(),[l,u,c]="left"===e||"right"===e?[i,o,n]:[a,s,r],f=new tv.b({domain:[0,1],range:[l/c,1-u/c]});return e=>f.map(e)}(a,s),h=function(e,t){let{width:r,height:n}=t.getOptions();return i=>{if(!W(t))return i;let o=t.map("bottom"===e?[i,1]:[0,i]);if("bottom"===e){let e=o[0];return new tv.b({domain:[0,r],range:[0,1]}).map(e)}if("left"===e){let e=o[1];return new tv.b({domain:[0,n],range:[0,1]}).map(e)}return i}}(a,s),y=e=>["top","bottom","center","outer"].includes(e),b=e=>["left","right"].includes(e);return z(s)||D(s)?c.map((t,r,n)=>{var i,o;let l=(null===(i=e.getBandWidth)||void 0===i?void 0:i.call(e,t))/2||0,u=p(e.map(t)+l);return{value:F(s)&&"center"===a||D(s)&&(null===(o=e.getTicks)||void 0===o?void 0:o.call(e))&&y(a)||D(s)&&b(a)?1-u:u,label:f(d(tm(t),r,n)),id:String(r)}}):c.map((t,r,n)=>{var i;let o=(null===(i=e.getBandWidth)||void 0===i?void 0:i.call(e,t))/2||0,s=h(p(e.map(t)+o));return{value:b(a)?1-s:s,label:f(d(tm(t),r,n)),id:String(r)}})}let sN=e=>t=>{let{labelFormatter:r,labelFilter:n=()=>!0}=t;return i=>{var o;let{scales:[a]}=i,s=(null===(o=a.getTicks)||void 0===o?void 0:o.call(a))||a.getOptions().domain,l="string"==typeof r?(0,sb.WU)(r):r;return e(Object.assign(Object.assign({},t),{labelFormatter:l,labelFilter:(e,t,r)=>n(s[t],t,s),scale:a}))(i)}},sL=sN(e=>{let{direction:t="left",important:r={},labelFormatter:n,order:i,orientation:o,actualPosition:a,position:s,size:l,style:u={},title:c,tickCount:f,tickFilter:d,tickMethod:p,transform:h,indexBBox:y}=e,b=sA(e,["direction","important","labelFormatter","order","orientation","actualPosition","position","size","style","title","tickCount","tickFilter","tickMethod","transform","indexBBox"]);return({scales:[i],value:g,coordinate:m,theme:v})=>{let{bbox:_}=g,{domain:O}=i.getOptions(),w=Object.assign(Object.assign(Object.assign({},function(e,t,r,n,i,o){let a=function(e,t,r,n,i,o){let a=r.axis,s=["top","right","bottom","left"].includes(i)?r[`axis${e9(i)}`]:r.axisLinear,l=e.getOptions().name;return Object.assign({},a,s,r[`axis${(0,sy.Z)(l)}`]||{})}(e,0,r,0,i,0);return"center"===i?Object.assign(Object.assign(Object.assign(Object.assign({},a),{labelDirection:"right"===n?"negative":"positive"}),"center"===n?{labelTransform:"translate(50%,0)"}:null),{tickDirection:"right"===n?"negative":"positive",labelSpacing:"center"===n?0:4,titleSpacing:"vertical"===o||o===-Math.PI/2?10:0,tick:"center"!==n&&void 0}):a}(i,0,v,t,s,o)),u),b),S=function(e,t,r="xy"){let[n,i,o]=sM(t);return"xy"===r?e.includes("bottom")||e.includes("top")?i:n:"xz"===r?e.includes("bottom")||e.includes("top")?o:n:e.includes("bottom")||e.includes("top")?i:o}(a||s,m,e.plane),E=function(e,t,r,n){let{x:i,y:o,width:a,height:s}=r;if("bottom"===e)return{startPos:[i,o],endPos:[i+a,o]};if("left"===e)return{startPos:[i+a,o+s],endPos:[i+a,o]};if("right"===e)return{startPos:[i,o+s],endPos:[i,o]};if("top"===e)return{startPos:[i,o+s],endPos:[i+a,o+s]};if("center"===e){if("vertical"===t)return{startPos:[i,o],endPos:[i,o+s]};if("horizontal"===t)return{startPos:[i,o],endPos:[i+a,o]};if("number"==typeof t){let[e,r]=n.getCenter(),[l,u]=V(n),[c,f]=q(n),d=Math.min(a,s)/2,{insetLeft:p,insetTop:h}=n.getOptions(),y=l*d,b=u*d,[g,m]=[e+i-p,r+o-h],[v,_]=[Math.cos(t),Math.sin(t)];return{startPos:[g+b*v,m+b*_],endPos:[g+y*v,m+y*_],gridClosed:f-c==360,gridCenter:[g,m],gridControlAngles:[,,,].fill(0).map((e,t,r)=>(f-c)/(r.length-1)*t)}}}return{}}(s,o,_,m),x=function(e){let{depth:t}=e.getOptions();return t?{tickIsBillboard:!0,lineIsBillboard:!0,labelIsBillboard:!0,titleIsBillboard:!0,gridIsBillboard:!0}:{}}(m),P=sI(i,O,f,n,d,p,s,m),j=y?P.map((e,t)=>{let r=y.get(t);return r&&r[0]===e.label?Object.assign(Object.assign({},e),{bbox:r[1]}):e}):P,T=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},w),{type:"linear",data:j,crossSize:l,titleText:sE(c),labelOverlap:function(e=[],t){if(e.length>0)return e;let{labelAutoRotate:r,labelAutoHide:n,labelAutoEllipsis:i,labelAutoWrap:o}=t,a=[],s=(e,t)=>{t&&a.push(Object.assign(Object.assign({},e),t))};return s({type:"rotate",optionalAngles:[0,15,30,45,60,90]},r),s({type:"ellipsis",minLength:20},i),s({type:"hide"},n),s({type:"wrap",wordWrapWidth:100,maxLines:3,recoveryWhenFail:!0},o),a}(h,w),grid:function(e,t,r){return!(z(t)&&D(t)||U(t))&&(void 0===e?!!r.getTicks:e)}(w.grid,m,i),gridLength:S,line:!0,indexBBox:y}),w.line?null:{lineOpacity:0}),E),x),r);return T.labelOverlap.find(e=>"hide"===e.type)&&(T.crossSize=!1),new sp({className:"axis",style:sC(T)})}}),sD=sN(e=>{let{order:t,size:r,position:n,orientation:i,labelFormatter:o,tickFilter:a,tickCount:s,tickMethod:l,important:u={},style:c={},indexBBox:f,title:d,grid:p=!1}=e,h=sA(e,["order","size","position","orientation","labelFormatter","tickFilter","tickCount","tickMethod","important","style","indexBBox","title","grid"]);return({scales:[e],value:t,coordinate:r,theme:i})=>{let{bbox:c}=t,{domain:y}=e.getOptions(),b=sI(e,y,s,o,a,l,n,r),g=f?b.map((e,t)=>{let r=f.get(t);return r&&r[0]===e.label?Object.assign(Object.assign({},e),{bbox:r[1]}):e}):b,[m,v]=V(r),_=function(e,t,r,n,i){let{x:o,y:a,width:s,height:l}=t,u=[o+s/2,a+l/2],c=Math.min(s,l)/2,[f,d]=q(i),[p,h]=sM(i),y={center:u,radius:c,startAngle:f,endAngle:d,gridLength:Math.min(p,h)/2*(n-r)};if("inner"===e){let{insetLeft:e,insetTop:t}=i.getOptions();return Object.assign(Object.assign({},y),{center:[u[0]-e,u[1]-t],labelAlign:"perpendicular",labelDirection:"positive",tickDirection:"positive",gridDirection:"negative"})}return Object.assign(Object.assign({},y),{labelAlign:"parallel",labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"})}(n,c,m,v,r),{axis:O,axisArc:w={}}=i,S=sC((0,P.Z)({},O,w,_,Object.assign(Object.assign({type:"arc",data:g,titleText:sE(d),grid:p},h),u)));return new sp({style:(0,sh.Z)(S,["transform"])})}});sL.props={defaultPosition:"center",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]},sD.props={defaultPosition:"outer",defaultOrientation:"vertical",defaultSize:45,defaultOrder:0,defaultCrossPadding:[12,12],defaultPadding:[12,12]};let sz=e=>(...t)=>{let r=sL(Object.assign({},{crossPadding:50},e))(...t);return sR(r,e),r};sz.props=Object.assign(Object.assign({},sL.props),{defaultPosition:"bottom"});let sF=e=>(...t)=>{let r=sL(Object.assign({},{crossPadding:10},e))(...t);return sR(r,e),r};sF.props=Object.assign(Object.assign({},sL.props),{defaultPosition:"left"});var sB=r(94630),sU=r(7052),sW=r(92903),sZ=o7({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),sV=function(e){function t(t){var r=e.call(this,t,{animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonPath:[["M",-6,-6],["L",6,0],["L",-6,6],["Z"]],buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(e,t){return"".concat(e,"/").concat(t)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return r.playState="idle",r.contentGroup=r.appendChild(new $.ZA({class:sZ.contentGroup.name})),r.playWindow=r.contentGroup.appendChild(new $.ZA({class:sZ.playWindow.name})),r.innerCurrPage=r.defaultPage,r}return(0,n_.ZT)(t,e),Object.defineProperty(t.prototype,"defaultPage",{get:function(){var e=this.attributes.defaultPage;return(0,el.Z)(e,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageShape",{get:function(){var e,t,r=this.pageViews,n=(0,n_.CR)(((null===(t=(e=r.map(function(e){var t=e.getBBox();return[t.width,t.height]}))[0])||void 0===t?void 0:t.map(function(t,r){return e.map(function(e){return e[r]})}))||[]).map(function(e){return Math.max.apply(Math,(0,n_.ev)([],(0,n_.CR)(e),!1))}),2),i=n[0],o=n[1],a=this.attributes,s=a.pageWidth,l=a.pageHeight;return{pageWidth:void 0===s?i:s,pageHeight:void 0===l?o:l}},enumerable:!1,configurable:!0}),t.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(t.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var t=e.prototype.getBBox.call(this),r=t.x,n=t.y,i=this.controllerShape,o=this.pageShape,a=o.pageWidth,s=o.pageHeight;return new sa(r,n,a+i.width,s)},t.prototype.goTo=function(e){var t=this,r=this.attributes.animate,n=this.currPage,i=this.playState,o=this.playWindow,a=this.pageViews;if("idle"!==i||e<0||a.length<=0||e>=a.length)return null;a[n].setLocalPosition(0,0),this.prepareFollowingPage(e);var s=(0,n_.CR)(this.getFollowingPageDiff(e),2),l=s[0],u=s[1];this.playState="running";var c=o8(o,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-l,", ").concat(-u,")")}],r);return o3(c,function(){t.innerCurrPage=e,t.playState="idle",t.setVisiblePages([e]),t.updatePageInfo()}),c},t.prototype.prev=function(){var e=this.attributes.loop,t=this.pageViews.length,r=this.currPage;if(!e&&r<=0)return null;var n=e?(r-1+t)%t:(0,el.Z)(r-1,0,t);return this.goTo(n)},t.prototype.next=function(){var e=this.attributes.loop,t=this.pageViews.length,r=this.currPage;if(!e&&r>=t-1)return null;var n=e?(r+1)%t:(0,el.Z)(r+1,0,t);return this.goTo(n)},t.prototype.renderClipPath=function(e){var t=this.pageShape,r=t.pageWidth,n=t.pageHeight;if(!r||!n){this.contentGroup.style.clipPath=void 0;return}this.clipPath=e.maybeAppendByClassName(sZ.clipPath,"rect").styles({width:r,height:n}),this.contentGroup.attr("clipPath",this.clipPath.node())},t.prototype.setVisiblePages=function(e){this.playWindow.children.forEach(function(t,r){e.includes(r)?nw(t):nS(t)})},t.prototype.adjustControllerLayout=function(){var e=this.prevBtnGroup,t=this.nextBtnGroup,r=this.pageInfoGroup,n=this.attributes,i=n.orientation,o=n.controllerPadding,a=r.getBBox(),s=a.width;a.height;var l=(0,n_.CR)("horizontal"===i?[-180,0]:[-90,90],2),u=l[0],c=l[1];e.setLocalEulerAngles(u),t.setLocalEulerAngles(c);var f=e.getBBox(),d=f.width,p=f.height,h=t.getBBox(),y=h.width,b=h.height,g=Math.max(d,s,y),m="horizontal"===i?{offset:[[0,0],[d/2+o,0],[d+s+2*o,0]],textAlign:"start"}:{offset:[[g/2,-p-o],[g/2,0],[g/2,b+o]],textAlign:"center"},v=(0,n_.CR)(m.offset,3),_=(0,n_.CR)(v[0],2),O=_[0],w=_[1],S=(0,n_.CR)(v[1],2),E=S[0],x=S[1],P=(0,n_.CR)(v[2],2),j=P[0],T=P[1],k=m.textAlign,C=r.querySelector("text");C&&(C.style.textAlign=k),e.setLocalPosition(O,w),r.setLocalPosition(E,x),t.setLocalPosition(j,T)},t.prototype.updatePageInfo=function(){var e,t=this.currPage,r=this.pageViews,n=this.attributes.formatter;r.length<2||(null===(e=this.pageInfoGroup.querySelector(sZ.pageInfo.class))||void 0===e||e.attr("text",n(t+1,r.length)),this.adjustControllerLayout())},t.prototype.getFollowingPageDiff=function(e){var t=this.currPage;if(t===e)return[0,0];var r=this.attributes.orientation,n=this.pageShape,i=n.pageWidth,o=n.pageHeight,a=e<t?-1:1;return"horizontal"===r?[a*i,0]:[0,a*o]},t.prototype.prepareFollowingPage=function(e){var t=this.currPage,r=this.pageViews;if(this.setVisiblePages([e,t]),e!==t){var n=(0,n_.CR)(this.getFollowingPageDiff(e),2),i=n[0],o=n[1];r[e].setLocalPosition(i,o)}},t.prototype.renderController=function(e){var t=this,r=this.attributes.controllerSpacing,n=this.pageShape,i=n.pageWidth,o=n.pageHeight,a=this.pageViews.length>=2,s=e.maybeAppendByClassName(sZ.controller,"g");if(nE(s.node(),a),a){var l=ah(this.attributes,"button"),u=ah(this.attributes,"pageNum"),c=(0,n_.CR)(ab(l),2),f=c[0],d=c[1],p=f.size,h=(0,n_._T)(f,["size"]),y=!s.select(sZ.prevBtnGroup.class).node(),b=s.maybeAppendByClassName(sZ.prevBtnGroup,"g").styles(d);this.prevBtnGroup=b.node();var g=b.maybeAppendByClassName(sZ.prevBtn,"path"),m=s.maybeAppendByClassName(sZ.nextBtnGroup,"g").styles(d);this.nextBtnGroup=m.node(),[g,m.maybeAppendByClassName(sZ.nextBtn,"path")].forEach(function(e){e.styles((0,n_.pi)((0,n_.pi)({},h),{transformOrigin:"center"})),aj(e.node(),p,!0)});var v=s.maybeAppendByClassName(sZ.pageInfoGroup,"g");this.pageInfoGroup=v.node(),v.maybeAppendByClassName(sZ.pageInfo,"text").styles(u),this.updatePageInfo(),s.node().setLocalPosition(i+r,o/2),y&&(this.prevBtnGroup.addEventListener("click",function(){t.prev()}),this.nextBtnGroup.addEventListener("click",function(){t.next()}))}},t.prototype.render=function(e,t){var r=nN(t);this.renderClipPath(r),this.renderController(r),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},t.prototype.bindEvents=function(){var e=this,t=(0,sW.Z)(function(){return e.render(e.attributes,e)},50);this.playWindow.addEventListener($.Dk.INSERTED,t),this.playWindow.addEventListener($.Dk.REMOVED,t)},t}(nA);function sq(e,t,r){return void 0===e&&(e="horizontal"),"horizontal"===e?t:r}nB.registerSymbol("hiddenHandle",function(e,t,r){var n=1.4*r;return[["M",e-r,t-n],["L",e+r,t-n],["L",e+r,t+n],["L",e-r,t+n],["Z"]]}),nB.registerSymbol("verticalHandle",function(e,t,r){var n=1.4*r,i=r/2,o=r/6,a=e+.4*n;return[["M",e,t],["L",a,t+i],["L",e+n,t+i],["L",e+n,t-i],["L",a,t-i],["Z"],["M",a,t+o],["L",e+n-2,t+o],["M",a,t-o],["L",e+n-2,t-o]]}),nB.registerSymbol("horizontalHandle",function(e,t,r){var n=1.4*r,i=r/2,o=r/6,a=t+.4*n;return[["M",e,t],["L",e-i,a],["L",e-i,t+n],["L",e+i,t+n],["L",e+i,a],["Z"],["M",e-o,a],["L",e-o,t+n-2],["M",e+o,a],["L",e+o,t+n-2]]});var s$=o7({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item"),sH=function(e){function t(t){return e.call(this,t,{span:[1,1],marker:function(){return new $.Cd({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return(0,n_.ZT)(t,e),Object.defineProperty(t.prototype,"showValue",{get:function(){var e=this.attributes.valueText;return!!e&&("string"==typeof e||"number"==typeof e?""!==e:"function"==typeof e||""!==e.attr("text"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actualSpace",{get:function(){var e=this.labelGroup,t=this.valueGroup,r=this.attributes.markerSize,n=e.node().getBBox(),i=n.width,o=n.height,a=t.node().getBBox();return{markerWidth:r,labelWidth:i,valueWidth:a.width,height:Math.max(r,o,a.height)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"span",{get:function(){var e=this.attributes.span;if(!e)return[1,1];var t=(0,n_.CR)(aY(e),2),r=t[0],n=t[1],i=this.showValue?n:0,o=r+i;return[r/o,i/o]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){var e,t=this.attributes,r=t.markerSize,n=t.width,i=this.actualSpace,o=i.markerWidth,a=i.height,s=this.actualSpace,l=s.labelWidth,u=s.valueWidth,c=(0,n_.CR)(this.spacing,2),f=c[0],d=c[1];if(n){var p=n-r-f-d,h=(0,n_.CR)(this.span,2),y=h[0],b=h[1];l=(e=(0,n_.CR)([y*p,b*p],2))[0],u=e[1]}return{width:o+l+u+f+d,height:a,markerWidth:o,labelWidth:l,valueWidth:u}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){var e=this.attributes.spacing;if(!e)return[0,0];var t=(0,n_.CR)(aY(e),2),r=t[0],n=t[1];return this.showValue?[r,n]:[r,0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layout",{get:function(){var e=this.shape,t=e.markerWidth,r=e.labelWidth,n=e.valueWidth,i=e.width,o=e.height,a=(0,n_.CR)(this.spacing,2),s=a[0];return{height:o,width:i,markerWidth:t,labelWidth:r,valueWidth:n,position:[t/2,t+s,t+r+s+a[1]]}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleSize",{get:function(){var e,t=(e=this.markerGroup.node().querySelector(s$.marker.class))?e.style:{},r=this.attributes,n=r.markerSize,i=r.markerStrokeWidth,o=void 0===i?t.strokeWidth:i,a=r.markerLineWidth,s=void 0===a?t.lineWidth:a,l=r.markerStroke,u=void 0===l?t.stroke:l,c=+(o||s||(u?1:0))*Math.sqrt(2),f=this.markerGroup.node().getBBox();return(1-c/Math.max(f.width,f.height))*n},enumerable:!1,configurable:!0}),t.prototype.renderMarker=function(e){var t=this,r=this.attributes.marker,n=ah(this.attributes,"marker");this.markerGroup=e.maybeAppendByClassName(s$.markerGroup,"g").style("zIndex",0),nR(!!r,this.markerGroup,function(){var e,i=t.markerGroup.node(),o=null===(e=i.childNodes)||void 0===e?void 0:e[0],a="string"==typeof r?new nB({style:{symbol:r},className:s$.marker.name}):r();o?a.nodeName===o.nodeName?o instanceof nB?o.update((0,n_.pi)((0,n_.pi)({},n),{symbol:r})):(function(e,t){var r,n,i=t.attributes;try{for(var o=(0,n_.XA)(Object.entries(i)),a=o.next();!a.done;a=o.next()){var s=(0,n_.CR)(a.value,2),l=s[0],u=s[1];"id"!==l&&"className"!==l&&e.attr(l,u)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}(o,a),nN(o).styles(n)):(o.remove(),nN(a).attr("className",s$.marker.name).styles(n),i.appendChild(a)):(a instanceof nB||nN(a).attr("className",s$.marker.name).styles(n),i.appendChild(a)),t.markerGroup.node().scale(1/t.markerGroup.node().getScale()[0]),aj(t.markerGroup.node(),t.scaleSize,!0)})},t.prototype.renderLabel=function(e){var t=ah(this.attributes,"label"),r=t.text,n=(0,n_._T)(t,["text"]);this.labelGroup=e.maybeAppendByClassName(s$.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(s$.label,function(){return aP(r)}).styles(n)},t.prototype.renderValue=function(e){var t=this,r=ah(this.attributes,"value"),n=r.text,i=(0,n_._T)(r,["text"]);this.valueGroup=e.maybeAppendByClassName(s$.valueGroup,"g").style("zIndex",0),nR(this.showValue,this.valueGroup,function(){t.valueGroup.maybeAppendByClassName(s$.value,function(){return aP(n)}).styles(i)})},t.prototype.renderBackground=function(e){var t=this.shape,r=t.width,n=t.height,i=ah(this.attributes,"background");this.background=e.maybeAppendByClassName(s$.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(s$.background,"rect").styles((0,n_.pi)({width:r,height:n},i))},t.prototype.adjustLayout=function(){var e=this.layout,t=e.labelWidth,r=e.valueWidth,n=e.height,i=(0,n_.CR)(e.position,3),o=i[0],a=i[1],s=i[2],l=n/2;this.markerGroup.styles({x:o,y:l}),this.labelGroup.styles({x:a,y:l}),a$(this.labelGroup.select(s$.label.class).node(),Math.ceil(t)),this.showValue&&(this.valueGroup.styles({x:s,y:l}),a$(this.valueGroup.select(s$.value.class).node(),Math.ceil(r)))},t.prototype.render=function(e,t){var r=nN(t);this.renderMarker(r),this.renderLabel(r),this.renderValue(r),this.renderBackground(r),this.adjustLayout()},t}(nA),sG=o7({page:"item-page",navigator:"navigator",item:"item"},"items"),sY=function(e,t,r){return(void 0===r&&(r=!0),e)?t(e):r},sK=function(e){function t(t){var r=e.call(this,t,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:sB.Z,mouseenter:sB.Z,mouseleave:sB.Z})||this;return r.navigatorShape=[0,0],r}return(0,n_.ZT)(t,e),Object.defineProperty(t.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){var e=this.attributes,t=e.gridRow,r=e.gridCol,n=e.data;if(!t&&!r)throw Error("gridRow and gridCol can not be set null at the same time");return t&&r?[t,r]:t?[t,n.length]:[n.length,r]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderData",{get:function(){var e=this.attributes,t=e.data,r=e.layout,n=ah(this.attributes,"item");return t.map(function(e,i){var o=e.id,a=void 0===o?i:o,s=e.label,l=e.value;return{id:"".concat(a),index:i,style:(0,n_.pi)({layout:r,labelText:s,valueText:l},Object.fromEntries(Object.entries(n).map(function(r){var n=(0,n_.CR)(r,2);return[n[0],ag(n[1],[e,i,t])]})))}})},enumerable:!1,configurable:!0}),t.prototype.getGridLayout=function(){var e=this,t=this.attributes,r=t.orientation,n=t.width,i=t.rowPadding,o=t.colPadding,a=(0,n_.CR)(this.navigatorShape,1)[0],s=(0,n_.CR)(this.grid,2),l=s[0],u=s[1],c=u*l,f=0;return this.pageViews.children.map(function(t,s){var d,p,h=Math.floor(s/c),y=s%c,b=e.ifHorizontal(u,l),g=[Math.floor(y/b),y%b];"vertical"===r&&g.reverse();var m=(0,n_.CR)(g,2),v=m[0],_=m[1],O=(n-a-(u-1)*o)/u,w=t.getBBox().height,S=(0,n_.CR)([0,0],2),E=S[0],x=S[1];return"horizontal"===r?(E=(d=(0,n_.CR)([f,v*(w+i)],2))[0],x=d[1],f=_===u-1?0:f+O+o):(E=(p=(0,n_.CR)([_*(O+o),f],2))[0],x=p[1],f=v===l-1?0:f+w+i),{page:h,index:s,row:v,col:_,pageIndex:y,width:O,height:w,x:E,y:x}})},t.prototype.getFlexLayout=function(){var e=this.attributes,t=e.width,r=e.height,n=e.rowPadding,i=e.colPadding,o=(0,n_.CR)(this.navigatorShape,1)[0],a=(0,n_.CR)(this.grid,2),s=a[0],l=a[1],u=(0,n_.CR)([t-o,r],2),c=u[0],f=u[1],d=(0,n_.CR)([0,0,0,0,0,0,0,0],8),p=d[0],h=d[1],y=d[2],b=d[3],g=d[4],m=d[5],v=d[6],_=d[7];return this.pageViews.children.map(function(e,t){var r,o,a,u,d=e.getBBox(),O=d.width,w=d.height,S=0===v?0:i,E=v+S+O;return E<=c&&sY(g,function(e){return e<l})?(p=(r=(0,n_.CR)([v+S,_,E],3))[0],h=r[1],v=r[2]):(m=(o=(0,n_.CR)([m+1,0,0,_+w+n],4))[0],g=o[1],v=o[2],(_=o[3])+w<=f&&sY(m,function(e){return e<s}))?(p=(a=(0,n_.CR)([v,_,O],3))[0],h=a[1],v=a[2]):(p=(u=(0,n_.CR)([0,0,O,0,y+1,0,0,0],8))[0],h=u[1],v=u[2],_=u[3],y=u[4],b=u[5],m=u[6],g=u[7]),{width:O,height:w,x:p,y:h,page:y,index:t,pageIndex:b++,row:m,col:g++}})},Object.defineProperty(t.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var e="grid"===this.attributes.layout?this.getGridLayout:this.getFlexLayout,t=e.call(this);return t.slice(-1)[0].page>0?(this.navigatorShape=[55,0],e.call(this)):t},enumerable:!1,configurable:!0}),t.prototype.ifHorizontal=function(e,t){return sq(this.attributes.orientation,e,t)},t.prototype.flattenPage=function(e){e.querySelectorAll(sG.item.class).forEach(function(t){e.appendChild(t)}),e.querySelectorAll(sG.page.class).forEach(function(t){e.removeChild(t).destroy()})},t.prototype.renderItems=function(e){var t=this.attributes,r=t.click,n=t.mouseenter,i=t.mouseleave;this.flattenPage(e);var o=this.dispatchCustomEvent.bind(this);nN(e).selectAll(sG.item.class).data(this.renderData,function(e){return e.id}).join(function(e){return e.append(function(e){return new sH({style:e.style})}).attr("className",sG.item.name).on("click",function(){null==r||r(this),o("itemClick",{item:this})}).on("pointerenter",function(){null==n||n(this),o("itemMouseenter",{item:this})}).on("pointerleave",function(){null==i||i(this),o("itemMouseleave",{item:this})})},function(e){return e.each(function(e){var t=e.style;this.update(t)})},function(e){return e.remove()})},t.prototype.relayoutNavigator=function(){var e,t=this.attributes,r=t.layout,n=t.width,i=(null===(e=this.pageViews.children[0])||void 0===e?void 0:e.getBBox().height)||0,o=(0,n_.CR)(this.navigatorShape,2),a=o[0],s=o[1];this.navigator.update("grid"===r?{pageWidth:n-a,pageHeight:i-s}:{})},t.prototype.adjustLayout=function(){var e,t,r=this,n=Object.entries((e=this.itemsLayout,t="page",e.reduce(function(e,r){return(e[r[t]]=e[r[t]]||[]).push(r),e},{}))).map(function(e){var t=(0,n_.CR)(e,2);return{page:t[0],layouts:t[1]}}),i=(0,n_.ev)([],(0,n_.CR)(this.navigator.getContainer().children),!1);n.forEach(function(e){var t=e.layouts,n=r.pageViews.appendChild(new $.ZA({className:sG.page.name}));t.forEach(function(e){var t=e.x,r=e.y,o=e.index,a=e.width,s=e.height,l=i[o];n.appendChild(l),(0,sU.Z)(l,"__layout__",e),l.update({x:t,y:r,width:a,height:s})})}),this.relayoutNavigator()},t.prototype.renderNavigator=function(e){var t=nj({orientation:this.attributes.orientation},ah(this.attributes,"nav")),r=this;return e.selectAll(sG.navigator.class).data(["nav"]).join(function(e){return e.append(function(){return new sV({style:t})}).attr("className",sG.navigator.name).each(function(){r.navigator=this})},function(e){return e.each(function(){this.update(t)})},function(e){return e.remove()}),this.navigator},t.prototype.getBBox=function(){return this.navigator.getBBox()},t.prototype.render=function(e,t){var r=this.attributes.data;if(r&&0!==r.length){var n=this.renderNavigator(nN(t));this.renderItems(n.getContainer()),this.adjustLayout()}},t.prototype.dispatchCustomEvent=function(e,t){var r=new $.Aw(e,{detail:t});this.dispatchEvent(r)},t}(nA),sX=o7({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),sQ={showLabel:!0,formatter:function(e){return e.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0},sJ=function(e){function t(t){return e.call(this,t,sQ)||this}return(0,n_.ZT)(t,e),t.prototype.render=function(e,t){var r=nN(t).maybeAppendByClassName(sX.markerGroup,"g");this.renderMarker(r);var n=nN(t).maybeAppendByClassName(sX.labelGroup,"g");this.renderLabel(n)},t.prototype.renderMarker=function(e){var t=this,r=this.attributes,n=r.orientation,i=r.markerSymbol,o=void 0===i?sq(n,"horizontalHandle","verticalHandle"):i;nR(!!o,e,function(e){var r=ah(t.attributes,"marker"),n=(0,n_.pi)({symbol:o},r);t.marker=e.maybeAppendByClassName(sX.marker,function(){return new nB({style:n})}).update(n)})},t.prototype.renderLabel=function(e){var t=this,r=this.attributes,n=r.showLabel,i=r.orientation,o=r.spacing,a=void 0===o?0:o,s=r.formatter;nR(n,e,function(e){var r,n=ah(t.attributes,"label"),o=n.text,l=(0,n_._T)(n,["text"]),u=(null===(r=e.select(sX.marker.class))||void 0===r?void 0:r.node().getBBox())||{},c=u.width,f=u.height,d=(0,n_.CR)(sq(i,[0,(void 0===f?0:f)+a,"center","top"],[(void 0===c?0:c)+a,0,"start","middle"]),4),p=d[0],h=d[1],y=d[2],b=d[3];e.maybeAppendByClassName(sX.label,"text").styles((0,n_.pi)((0,n_.pi)({},l),{x:p,y:h,text:s(o).toString(),textAlign:y,textBaseline:b}))})},t}(nA),s0={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},s1=nj({},s0,{}),s2=nj({},s0,ay(sQ,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"}),s5=o7({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),s4=function(e){function t(t){return e.call(this,t,s1)||this}return(0,n_.ZT)(t,e),t.prototype.renderTitle=function(e,t,r){var n=this.attributes,i=n.showTitle,o=n.titleText,a=ah(this.attributes,"title"),s=(0,n_.CR)(ab(a),2),l=s[0],u=s[1];this.titleGroup=e.maybeAppendByClassName(s5.titleGroup,"g").styles(u);var c=(0,n_.pi)((0,n_.pi)({width:t,height:r},l),{text:i?o:""});this.title=this.titleGroup.maybeAppendByClassName(s5.title,function(){return new sc({style:c})}).update(c)},t.prototype.renderItems=function(e,t){var r=t.x,n=t.y,i=t.width,o=t.height,a=ah(this.attributes,"title",!0),s=(0,n_.CR)(ab(a),2),l=s[0],u=s[1],c=(0,n_.pi)((0,n_.pi)({},l),{width:i,height:o,x:0,y:0});this.itemsGroup=e.maybeAppendByClassName(s5.itemsGroup,"g").styles((0,n_.pi)({x:r,y:n},u));var f=this;this.itemsGroup.selectAll(s5.items.class).data(["items"]).join(function(e){return e.append(function(){return new sK({style:c})}).attr("className",s5.items.name).each(function(){f.items=nN(this)})},function(e){return e.update(c)},function(e){return e.remove()})},t.prototype.adjustLayout=function(){if(this.attributes.showTitle){var e=this.title.node().getAvailableSpace(),t=e.x,r=e.y;this.itemsGroup.node().setLocalPosition(t,r)}},Object.defineProperty(t.prototype,"availableSpace",{get:function(){var e=this.attributes,t=e.showTitle,r=e.width,n=e.height;return t?this.title.node().getAvailableSpace():new sa(0,0,r,n)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var t,r,n=null===(t=this.title)||void 0===t?void 0:t.node(),i=null===(r=this.items)||void 0===r?void 0:r.node();return n&&i?function(e,t){var r=e.attributes,n=r.position,i=r.spacing,o=r.inset,a=r.text,s=e.getBBox(),l=t.getBBox(),u=sl(n),c=(0,n_.CR)(aY(a?i:0),4),f=c[0],d=c[1],p=c[2],h=c[3],y=(0,n_.CR)(aY(o),4),b=y[0],g=y[1],m=y[2],v=y[3],_=(0,n_.CR)([h+d,f+p],2),O=_[0],w=_[1],S=(0,n_.CR)([v+g,b+m],2),E=S[0],x=S[1];if("l"===u[0])return new sa(s.x,s.y,l.width+s.width+O+E,Math.max(l.height+x,s.height));if("t"===u[0])return new sa(s.x,s.y,Math.max(l.width+E,s.width),l.height+s.height+w+x);var P=(0,n_.CR)([t.attributes.width||l.width,t.attributes.height||l.height],2),j=P[0],T=P[1];return new sa(l.x,l.y,j+s.width+O+E,T+s.height+w+x)}(n,i):e.prototype.getBBox.call(this)},t.prototype.render=function(e,t){var r=e.width,n=e.height,i=nN(t);this.renderTitle(i,r,n),this.renderItems(i,this.availableSpace),this.adjustLayout()},t}(nA),s3=r(54998),s6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let s8=e=>{let{labelFormatter:t,layout:r,order:n,orientation:i,position:o,size:a,title:s,cols:l,itemMarker:u}=e,c=s6(e,["labelFormatter","layout","order","orientation","position","size","title","cols","itemMarker"]),{gridRow:f}=c;return t=>{let{value:n,theme:i}=t,{bbox:a}=n,{width:u,height:d}=function(e,t,r){let{position:n}=t;if("center"===n){let{bbox:t}=e,{width:r,height:n}=t;return{width:r,height:n}}let{width:i,height:o}=sk(e,t,r);return{width:i,height:o}}(n,e,s8),p=sx(o,r),h=Object.assign(Object.assign(Object.assign(Object.assign({orientation:["right","left","center"].includes(o)?"vertical":"horizontal",width:u,height:d,layout:void 0!==l?"grid":"flex"},void 0!==l&&{gridCol:l}),void 0!==f&&{gridRow:f}),{titleText:sE(s)}),function(e,t){let{labelFormatter:r=e=>`${e}`}=e,{scales:n,theme:i}=t,o=function(e,t){let r=sT(e,"size");return r instanceof oj.i?2*r.map(NaN):t}(n,i.legendCategory.itemMarkerSize),a={itemMarker:function(e,t){let{scales:r,library:n,markState:i}=t,[o,a]=function(e,t){let r=sT(e,"shape"),n=sT(e,"color"),i=r?r.clone():null,o=[];for(let[e,r]of t){let t=e.type,a=((null==n?void 0:n.getOptions().domain.length)>0?null==n?void 0:n.getOptions().domain:r.data).map((t,n)=>{var o;return i?i.map(t||"point"):(null===(o=null==e?void 0:e.style)||void 0===o?void 0:o.shape)||r.defaultShape||"point"});"string"==typeof t&&o.push([t,a])}if(0===o.length)return["point",["point"]];if(1===o.length||!r)return o[0];let{range:a}=r.getOptions();return o.map(([e,t])=>{let r=0;for(let e=0;e<o.length;e++){let n=a[e%a.length];t[e]===n&&r++}return[r/t.length,[e,t]]}).sort((e,t)=>t[0]-e[0])[0][1]}(r,i),{itemMarker:s,itemMarkerSize:l}=e,u=(e,t)=>{var r,i,a;let s=(null===(a=null===(i=null===(r=n[`mark.${o}`])||void 0===r?void 0:r.props)||void 0===i?void 0:i.shape[e])||void 0===a?void 0:a.props.defaultMarker)||(0,s3.Z)(e.split(".")),u="function"==typeof l?l(t):l;return()=>(function(e,t){var{d:r,fill:n,strokeWidth:i,path:o,stroke:a,lineWidth:s,color:l}=t,u=rC(t,["d","fill","strokeWidth","path","stroke","lineWidth","color"]);let c=r4.get(e)||r4.get("point");return(...e)=>new $.y$({style:Object.assign(Object.assign({},u),{path:c(...e),stroke:c.style.includes("stroke")?l||a:"",fill:c.style.includes("fill")?l||n:"",lineWidth:c.style.includes("lineWidth")?s||s||2:0})})})(s,{color:t.color})(0,0,u)},c=e=>`${a[e]}`;return sT(r,"shape")&&!s?(e,t)=>u(c(t),e):"function"==typeof s?(e,t)=>{let r=s(e.id,t);return"string"==typeof r?u(r,e):r}:(e,t)=>u(s||c(t),e)}(Object.assign(Object.assign({},e),{itemMarkerSize:o}),t),itemMarkerSize:o,itemMarkerOpacity:function(e){let t=sT(e,"opacity");if(t){let{range:e}=t.getOptions();return(t,r)=>e[r]}}(n)},s="string"==typeof r?(0,sb.WU)(r):r,l=sT(n,"color"),u=n.find(e=>e.getOptions().domain.length>0).getOptions().domain,c=l?e=>l.map(e):()=>t.theme.color;return Object.assign(Object.assign({},a),{data:u.map(e=>({id:e,label:s(e),color:c(e)}))})}(e,t)),{legendCategory:y={}}=i,b=sC(Object.assign({},y,h,c)),g=new sj({style:Object.assign(Object.assign({x:a.x,y:a.y,width:a.width,height:a.height},p),{subOptions:b})});return g.appendChild(new s4({className:"legend-category",style:b})),g}};s8.props={defaultPosition:"top",defaultOrder:1,defaultSize:40,defaultCrossPadding:[12,12],defaultPadding:[12,12]};var s9=r(12894);function s7(e,t){return+e.toPrecision(t)}function le(e){var t=e.canvas,r=e.touches,n=e.offsetX,i=e.offsetY;if(t)return[t.x,t.y];if(r){var o=r[0];return[o.clientX,o.clientY]}return n&&i?[n,i]:[0,0]}var lt={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(e){return e.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},lr=o7({background:"background",labelGroup:"label-group",label:"label"},"indicator"),ln=function(e){function t(t){var r=e.call(this,t,lt)||this;return r.point=[0,0],r.group=r.appendChild(new $.ZA({})),r.isMutationObserved=!0,r}return(0,n_.ZT)(t,e),t.prototype.renderBackground=function(){if(this.label){var e=this.attributes,t=e.position,r=e.padding,n=(0,n_.CR)(aY(r),4),i=n[0],o=n[1],a=n[2],s=n[3],l=this.label.node().getLocalBounds(),u=l.min,c=l.max,f=new sa(u[0]-s,u[1]-i,c[0]+o-u[0]+s,c[1]+a-u[1]+i),d=this.getPath(t,f),p=ah(this.attributes,"background");this.background=nN(this.group).maybeAppendByClassName(lr.background,"path").styles((0,n_.pi)((0,n_.pi)({},p),{path:d})),this.group.appendChild(this.label.node())}},t.prototype.renderLabel=function(){var e=this.attributes,t=e.formatter,r=e.labelText,n=ah(this.attributes,"label"),i=(0,n_.CR)(ab(n),2),o=i[0],a=i[1],s=(o.text,(0,n_._T)(o,["text"]));this.label=nN(this.group).maybeAppendByClassName(lr.labelGroup,"g").styles(a),r&&this.label.maybeAppendByClassName(lr.label,function(){return aP(t(r))}).style("text",t(r).toString()).selectAll("text").styles(s)},t.prototype.adjustLayout=function(){var e=(0,n_.CR)(this.point,2),t=e[0],r=e[1];this.group.attr("x",-t).attr("y",-r)},t.prototype.getPath=function(e,t){var r=this.attributes.radius,n=t.x,i=t.y,o=t.width,a=t.height,s=[["M",n+r,i],["L",n+o-r,i],["A",r,r,0,0,1,n+o,i+r],["L",n+o,i+a-r],["A",r,r,0,0,1,n+o-r,i+a],["L",n+r,i+a],["A",r,r,0,0,1,n,i+a-r],["L",n,i+r],["A",r,r,0,0,1,n+r,i],["Z"]],l={top:4,right:6,bottom:0,left:2}[e],u=this.createCorner([s[l].slice(-2),s[l+1].slice(-2)]);return s.splice.apply(s,(0,n_.ev)([l+1,1],(0,n_.CR)(u),!1)),s[0][0]="M",s},t.prototype.createCorner=function(e,t){void 0===t&&(t=10);var r=a4.apply(void 0,(0,n_.ev)([],(0,n_.CR)(e),!1)),n=(0,n_.CR)(e,2),i=(0,n_.CR)(n[0],2),o=i[0],a=i[1],s=(0,n_.CR)(n[1],2),l=s[0],u=s[1],c=(0,n_.CR)(r?[l-o,[o,l]]:[u-a,[a,u]],2),f=c[0],d=(0,n_.CR)(c[1],2),p=d[0],h=d[1],y=f/2,b=f/Math.abs(f)*t,g=b/2,m=b*Math.sqrt(3)/2*.8,v=(0,n_.CR)([p,p+y-g,p+y,p+y+g,h],5),_=v[0],O=v[1],w=v[2],S=v[3],E=v[4];return r?(this.point=[w,a-m],[["L",_,a],["L",O,a],["L",w,a-m],["L",S,a],["L",E,a]]):(this.point=[o+m,w],[["L",o,_],["L",o,O],["L",o+m,w],["L",o,S],["L",o,E]])},t.prototype.applyVisibility=function(){"hidden"===this.attributes.visibility?nS(this):nw(this)},t.prototype.bindEvents=function(){this.label.on($.Dk.BOUNDS_CHANGED,this.renderBackground)},t.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},t}(nA),li={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},lo={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},la={orientation:"horizontal",showLabel:!0,type:"start"},ls=o7({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider"),ll=o7({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),lu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n_.ZT)(t,e),t.prototype.render=function(e,t){var r=e.size,n=void 0===r?10:r,i=e.radius,o=e.orientation,a=(0,n_._T)(e,["size","radius","orientation"]),s=2.4*n,l=nN(t).maybeAppendByClassName(ll.iconRect,"rect").styles((0,n_.pi)((0,n_.pi)({},a),{width:n,height:s,radius:void 0===i?n/4:i,x:-n/2,y:-s/2})),u=1/3*n,c=2/3*n,f=1/4*s,d=3/4*s;l.maybeAppendByClassName("".concat(ll.iconLine,"-1"),"line").styles((0,n_.pi)({x1:u,x2:u,y1:f,y2:d},a)),l.maybeAppendByClassName("".concat(ll.iconLine,"-2"),"line").styles((0,n_.pi)({x1:c,x2:c,y1:f,y2:d},a)),l.node().setOrigin(n/2,s/2),"vertical"===o?t.setLocalEulerAngles(90):t.setLocalEulerAngles(0)},t}(nA),lc=function(e){function t(t){return e.call(this,t,la)||this}return(0,n_.ZT)(t,e),t.prototype.renderLabel=function(e){var t=this,r=this.attributes.showLabel,n=ah(this.attributes,"label"),i=n.transform,o=(0,n_._T)(n,["transform"]),a=(0,n_.CR)(ab(o,[]),2),s=a[0],l=a[1],u=nN(e).maybeAppendByClassName(ll.labelGroup,"g").styles(l),c=(0,n_.pi)((0,n_.pi)({},lo),s),f=c.text,d=(0,n_._T)(c,["text"]);nR(!!r,u,function(e){t.label=e.maybeAppendByClassName(ll.label,"text").styles((0,n_.pi)((0,n_.pi)({},d),{transform:i,text:"".concat(f)})),t.label.on("mousedown",function(e){e.stopPropagation()}),t.label.on("touchstart",function(e){e.stopPropagation()})})},t.prototype.renderIcon=function(e){var t=this.attributes,r=t.orientation,n=t.type,i=(0,n_.pi)((0,n_.pi)({orientation:r},li),ah(this.attributes,"icon")),o=this.attributes.iconShape,a=void 0===o?function(){return new lu({style:i})}:o;nN(e).maybeAppendByClassName(ll.iconGroup,"g").selectAll(ll.icon.class).data([a]).join(function(e){return e.append("string"==typeof a?a:function(){return a(n)}).attr("className",ll.icon.name)},function(e){return e.update(i)},function(e){return e.remove()})},t.prototype.render=function(e,t){this.renderIcon(t),this.renderLabel(t)},t}(nA);function lf(e,t){var r=(0,n_.CR)(function(e,t){for(var r=1;r<e.length;r+=1){var n=e[r-1],i=e[r];if(t>=n&&t<=i)return[n,i]}return[t,t]}(e,t),2),n=r[0],i=r[1];return{tick:t>(n+i)/2?i:n,range:[n,i]}}var ld=o7({trackGroup:"background-group",track:"background",selectionGroup:"ribbon-group",selection:"ribbon",clipPath:"clip-path"},"ribbon");function lp(e){var t=e.orientation,r=e.size,n=e.length;return sq(t,[n,r],[r,n])}function lh(e){var t=e.type,r=(0,n_.CR)(lp(e),2),n=r[0],i=r[1];return"size"===t?[["M",0,i],["L",0+n,0],["L",0+n,i],["Z"]]:[["M",0,i],["L",0,0],["L",0+n,0],["L",0+n,i],["Z"]]}var ly=function(e){function t(t){return e.call(this,t,{type:"color",orientation:"horizontal",size:30,range:[0,1],length:200,block:!1,partition:[],color:["#fff","#000"],trackFill:"#e5e5e5"})||this}return(0,n_.ZT)(t,e),t.prototype.render=function(e,t){var r,n,i,o,a,s,l,u,c,f,d,p,h,y,b;(function(e,t){var r=ah(t,"track");e.maybeAppendByClassName(ld.track,"path").styles((0,n_.pi)({path:lh(t)},r))})(nN(t).maybeAppendByClassName(ld.trackGroup,"g"),e),r=nN(t).maybeAppendByClassName(ld.selectionGroup,"g"),n=ah(e,"selection"),f=(s=e).orientation,d=s.color,p=s.block,h=s.partition,y=(c=(0,nO.Z)(d)?Array(20).fill(0).map(function(e,t,r){return d(t/(r.length-1))}):d).length,b=c.map(function(e){return(0,$.lu)(e).toString()}),i=y?1===y?b[0]:p?(l=Array.from(b),Array(u=h.length).fill(0).reduce(function(e,t,r){var n=l[r%l.length];return e+" ".concat(h[r],":").concat(n).concat(r<u-1?" ".concat(h[r+1],":").concat(n):"")},"l(".concat("horizontal"===f?"0":"270",")"))):b.reduce(function(e,t,r){return e+" ".concat(r/(y-1),":").concat(t)},"l(".concat(sq(f,"0","270"),")")):"",a=(o=r.maybeAppendByClassName(ld.selection,"path").styles((0,n_.pi)({path:lh(e),fill:i},n))).maybeAppendByClassName(ld.clipPath,"path").styles({path:function(e){var t=e.orientation,r=e.range;if(!r)return[];var n=(0,n_.CR)(lp(e),2),i=n[0],o=n[1],a=(0,n_.CR)(r,2),s=a[0],l=a[1],u=sq(t,s*i,0),c=sq(t,0,s*o),f=sq(t,l*i,i),d=sq(t,o,l*o);return[["M",u,c],["L",u,d],["L",f,d],["L",f,c],["Z"]]}(e)}).node(),o.style("clip-path",a)},t}(nA),lb=function(e){function t(t){var r=e.call(this,t,s2)||this;return r.eventToOffsetScale=new tv.b({}),r.innerRibbonScale=new tv.b({}),r.cacheLabelBBox=null,r.cacheHandleBBox=null,r.onHovering=function(e){var t=r.attributes,n=t.data,i=t.block;e.stopPropagation();var o=r.getValueByCanvasPoint(e);if(i){var a=lf(n.map(function(e){return e.value}),o).range;r.showIndicator((a[0]+a[1])/2,"".concat(a[0],"-").concat(a[1])),r.dispatchIndicated(o,a)}else{var s=r.getTickValue(o);r.showIndicator(s),r.dispatchIndicated(s)}},r.onDragStart=function(e){return function(t){t.stopPropagation(),r.attributes.slidable&&(r.target=e,r.prevValue=r.getTickValue(r.getValueByCanvasPoint(t)),document.addEventListener("mousemove",r.onDragging),document.addEventListener("touchmove",r.onDragging),document.addEventListener("mouseleave",r.onDragEnd),document.addEventListener("mouseup",r.onDragEnd),document.addEventListener("mouseup",r.onDragEnd),document.addEventListener("touchend",r.onDragEnd))}},r.onDragging=function(e){var t=r.target;r.updateMouse();var n=(0,n_.CR)(r.selection,2),i=n[0],o=n[1],a=r.getTickValue(r.getValueByCanvasPoint(e)),s=a-r.prevValue;"start"===t?i!==a&&r.updateSelection(a,o):"end"===t?o!==a&&r.updateSelection(i,a):"ribbon"===t&&0!==s&&(r.prevValue=a,r.updateSelection(s,s,!0))},r.onDragEnd=function(){r.style.cursor="pointer",document.removeEventListener("mousemove",r.onDragging),document.removeEventListener("touchmove",r.onDragging),document.removeEventListener("mouseup",r.onDragEnd),document.removeEventListener("touchend",r.onDragEnd)},r}return(0,n_.ZT)(t,e),Object.defineProperty(t.prototype,"handleOffsetRatio",{get:function(){return this.ifHorizontal(.5,.5)},enumerable:!1,configurable:!0}),t.prototype.getBBox=function(){var e=this.attributes;return new sa(0,0,e.width,e.height)},t.prototype.render=function(e,t){var r=this,n=e.showLabel;this.renderTitle(nN(t));var i=this.availableSpace,o=i.x,a=i.y,s=nN(t).maybeAppendByClassName(s5.contentGroup,"g").styles({x:o,y:a});nR(!!n,s.maybeAppendByClassName(s5.labelGroup,"g").styles({zIndex:1}),function(e){r.renderLabel(e)});var l=s.maybeAppendByClassName(s5.ribbonGroup,"g").styles({zIndex:0});this.handlesGroup=s.maybeAppendByClassName(s5.handlesGroup,"g").styles({zIndex:2}),this.renderHandles(),this.renderRibbon(l),this.renderIndicator(s),this.adjustLabel(),this.adjustHandles()},Object.defineProperty(t.prototype,"range",{get:function(){var e=this.attributes,t=e.data,r=e.domain;return r?{min:r[0],max:r[1]}:{min:Math.min.apply(Math,(0,n_.ev)([],(0,n_.CR)(t.map(function(e){return e.value})),!1)),max:Math.max.apply(Math,(0,n_.ev)([],(0,n_.CR)(t.map(function(e){return e.value})),!1))}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonScale",{get:function(){var e=this.range,t=e.min,r=e.max;return this.innerRibbonScale.update({domain:[t,r],range:[0,1]}),this.innerRibbonScale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonRange",{get:function(){var e=(0,n_.CR)(this.selection,2),t=e[0],r=e[1],n=this.ribbonScale;return[n.map(t),n.map(r)]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){var e=this.range,t=e.min,r=e.max,n=this.attributes.defaultValue,i=(0,n_.CR)(void 0===n?[t,r]:n,2);return[i[0],i[1]]},enumerable:!1,configurable:!0}),t.prototype.ifHorizontal=function(e,t){return sq(this.attributes.orientation,"function"==typeof e?e():e,"function"==typeof t?t():t)},t.prototype.renderTitle=function(e){var t=this.attributes,r=t.showTitle,n=t.titleText,i=t.width,o=t.height,a=ah(this.attributes,"title"),s=(0,n_.pi)((0,n_.pi)({},a),{width:i,height:o,text:n}),l=this;e.selectAll(s5.title.class).data(r?[n]:[]).join(function(e){return e.append(function(){return new sc({style:s})}).attr("className",s5.title.name).each(function(){l.title=this})},function(e){return e.update(s)},function(e){return e.each(function(){l.title=void 0}).remove()})},Object.defineProperty(t.prototype,"availableSpace",{get:function(){if(this.title)return this.title.getAvailableSpace();var e=this.attributes;return new sa(0,0,e.width,e.height)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelFixedSpacing",{get:function(){return this.attributes.showTick?5:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelPosition",{get:function(){var e=this.attributes;return({vertical:{positive:"right",negative:"left"},horizontal:{positive:"bottom",negative:"top"}})[e.orientation][e.labelDirection]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelBBox",{get:function(){if(!this.attributes.showLabel)return new sa(0,0,0,0);if(this.cacheLabelBBox)return this.cacheLabelBBox;var e,t=(null===(e=this.label.querySelector(at.labelGroup.class))||void 0===e?void 0:e.children.slice(-1)[0]).getBBox(),r=t.width,n=t.height;return this.cacheLabelBBox=new sa(0,0,r,n),this.cacheLabelBBox},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelShape",{get:function(){var e=this.attributes,t=e.showLabel,r=e.labelSpacing;if(!t)return{width:0,height:0,size:0,length:0};var n=this.labelBBox,i=n.width,o=n.height,a=this.ifHorizontal(o,i)+(void 0===r?0:r)+this.labelFixedSpacing,s=this.ifHorizontal(i,o);return{width:i,height:o,size:a,length:s}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonBBox",{get:function(){var e=this.attributes,t=e.showHandle,r=e.ribbonSize,n=this.availableSpace,i=n.width,o=n.height,a=this.labelShape,s=a.size,l=a.length,u=(0,n_.CR)(this.ifHorizontal([o,i],[i,o]),2),c=u[0],f=u[1],d=t?this.handleShape:{size:0,length:0},p=d.size,h=d.length,y=this.handleOffsetRatio,b=0,g=this.labelPosition;b=r||(["bottom","right"].includes(g)?Math.min(c-s,(c-p)/y):c*(1-y)>p?Math.max(c-s,0):Math.max((c-s-p)/y,0));var m=Math.max(h,l),v=f-m,_=(0,n_.CR)(this.ifHorizontal([v,b],[b,v]),2),O=_[0],w=_[1],S=["top","left"].includes(g)?s:0,E=(0,n_.CR)(this.ifHorizontal([m/2,S],[S,m/2]),2);return new sa(E[0],E[1],O,w)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ribbonShape",{get:function(){var e=this.ribbonBBox,t=e.width,r=e.height;return this.ifHorizontal({size:r,length:t},{size:t,length:r})},enumerable:!1,configurable:!0}),t.prototype.renderRibbon=function(e){var t=this.attributes,r=t.data,n=t.type,i=t.orientation,o=t.color,a=t.block,s=ah(this.attributes,"ribbon"),l=this.range,u=l.min,c=l.max,f=this.ribbonBBox,d=f.x,p=f.y,h=this.ribbonShape,y=nj({x:d,y:p,length:h.length,size:h.size,type:n,orientation:i,color:o,block:a,partition:r.map(function(e){return(e.value-u)/(c-u)}),range:this.ribbonRange},s);this.ribbon=e.maybeAppendByClassName(s5.ribbon,function(){return new ly({style:y})}).update(y)},t.prototype.getHandleClassName=function(e){return"".concat(s5.prefix("".concat(e,"-handle")))},t.prototype.renderHandles=function(){var e=this.attributes,t=e.showHandle,r=e.orientation,n=ah(this.attributes,"handle"),i=(0,n_.CR)(this.selection,2),o=i[0],a=i[1],s=(0,n_.pi)((0,n_.pi)({},n),{orientation:r}),l=n.shape,u="basic"===(void 0===l?"slider":l)?sJ:lc,c=this;this.handlesGroup.selectAll(s5.handle.class).data(t?[{value:o,type:"start"},{value:a,type:"end"}]:[],function(e){return e.type}).join(function(e){return e.append(function(){return new u({style:s})}).attr("className",function(e){var t=e.type;return"".concat(s5.handle," ").concat(c.getHandleClassName(t))}).each(function(e){var t=e.type,r=e.value;this.update({labelText:r}),c["".concat(t,"Handle")]=this,this.addEventListener("pointerdown",c.onDragStart(t))})},function(e){return e.update(s).each(function(e){var t=e.value;this.update({labelText:t})})},function(e){return e.each(function(e){var t=e.type;c["".concat(t,"Handle")]=void 0}).remove()})},t.prototype.adjustHandles=function(){var e=(0,n_.CR)(this.selection,2),t=e[0],r=e[1];this.setHandlePosition("start",t),this.setHandlePosition("end",r)},t.prototype.adjustTitle=function(){var e=this.attributes,t=e.titlePosition,r=e.orientation,n=(0,n_.CR)(this.getElementsByClassName(s5.title.name),1)[0],i=this.handlesGroup.select(".".concat(this.getHandleClassName("start"))).node();if(n&&i&&"top-left"===t&&"horizontal"===r){var o=(0,n_.CR)(i.getLocalBounds().min,1)[0],a=(0,n_.CR)(n.getLocalBounds().min,1)[0];n.style.x=+(this.style.x||0)+(o-a)}},Object.defineProperty(t.prototype,"handleBBox",{get:function(){if(this.cacheHandleBBox)return this.cacheHandleBBox;if(!this.attributes.showHandle)return new sa(0,0,0,0);var e=this.startHandle.getBBox(),t=e.width,r=e.height,n=this.endHandle.getBBox(),i=n.width,o=n.height,a=(0,n_.CR)([Math.max(t,i),Math.max(r,o)],2),s=a[0],l=a[1];return this.cacheHandleBBox=new sa(0,0,s,l),this.cacheHandleBBox},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"handleShape",{get:function(){var e=this.handleBBox,t=e.width,r=e.height,n=(0,n_.CR)(this.ifHorizontal([r,t],[t,r]),2);return{width:t,height:r,size:n[0],length:n[1]}},enumerable:!1,configurable:!0}),t.prototype.setHandlePosition=function(e,t){var r=this.attributes.handleFormatter,n=this.ribbonBBox,i=n.x,o=n.y,a=this.ribbonShape.size,s=this.getOffset(t),l=(0,n_.CR)(this.ifHorizontal([i+s,o+a*this.handleOffsetRatio],[i+a*this.handleOffsetRatio,o+s]),2),u=l[0],c=l[1],f=this.handlesGroup.select(".".concat(this.getHandleClassName(e))).node();null==f||f.update({x:u,y:c,formatter:r})},t.prototype.renderIndicator=function(e){var t=ah(this.attributes,"indicator");this.indicator=e.maybeAppendByClassName(s5.indicator,function(){return new ln({})}).update(t)},Object.defineProperty(t.prototype,"labelData",{get:function(){var e=this;return this.attributes.data.reduce(function(t,r,n,i){var o,a,s=null!==(o=null==r?void 0:r.id)&&void 0!==o?o:n.toString();if(t.push((0,n_.pi)((0,n_.pi)({},r),{id:s,index:n,type:"value",label:null!==(a=null==r?void 0:r.label)&&void 0!==a?a:r.value.toString(),value:e.ribbonScale.map(r.value)})),n<i.length-1){var l=i[n+1],u=(0,n_.CR)([r.value,l.value],2),c=u[0],f=u[1],d=(c+f)/2;t.push((0,n_.pi)((0,n_.pi)({},r),{id:s,index:n,type:"range",range:[c,f],label:[c,f].join("~"),value:e.ribbonScale.map(d)}))}return t},[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labelStyle",{get:function(){var e=(0,n_.CR)(["center","middle"],2),t=e[0],r=e[1],n=this.labelPosition;return"top"===n?r="bottom":"bottom"===n?r="top":"left"===n?t="end":"right"===n&&(t="start"),{labelTextAlign:t,labelTextBaseline:r}},enumerable:!1,configurable:!0}),t.prototype.renderLabel=function(e){var t=this.attributes,r=t.showTick,n=t.labelFilter,i=t.labelFormatter,o=ah(this.attributes,"tick"),a=ah(this.attributes,"label"),s=a.align,l=nj((0,n_.pi)({showLine:!1,showGrid:!1,showTick:void 0!==r&&r,type:"linear",startPos:[0,0],endPos:[0,0],tickDirection:"negative",labelTransform:"rotate(0)"},this.labelStyle),ay(o,"tick"),ay(a,"label"),{data:this.labelData}),u=(0,n_.pi)((0,n_.pi)((0,n_.pi)({},l),{tickFilter:function(e,t,r){return(null==e?void 0:e.type)==="value"&&(!n||n(e,e.index,r.filter(function(e){return"value"!==e.type})))},labelFilter:function(e,t,r){return(null==e?void 0:e.type)===s&&(!n||n(e,e.index,r.filter(function(e){return e.type===s})))},labelFormatter:i}),{labelOverlap:[{type:"hide"}]});this.label=e.maybeAppendByClassName(s5.label,function(){return new sp({style:u})}).node(),this.label.update(u,!1)},Object.defineProperty(t.prototype,"labelAxisStyle",{get:function(){var e=this.attributes,t=e.showTick,r=e.labelDirection,n=e.labelSpacing,i=e.tickLength,o=this.ribbonShape.size,a=this.labelPosition,s=this.labelFixedSpacing,l=(0,n_.CR)([0,0,0],3),u=l[0],c=(l[1],l[2]),f=null!=i?i:o;return t?(c=f,"positive"===r?"right"===a?(u=f,c=f):"bottom"===a&&(u=c):"negative"===r&&("top"===a?u=o:"left"===a&&(u=o))):"positive"===r&&("right"===a||"bottom"===a&&(u=o+s)),{offset:u,spacing:n,tickLength:c}},enumerable:!1,configurable:!0}),t.prototype.adjustLabel=function(){if(this.attributes.showLabel){var e=this.ribbonBBox,t=e.x,r=e.y,n=e.width,i=e.height,o=this.labelAxisStyle,a=o.offset,s=o.spacing,l=o.tickLength,u=(0,n_.CR)(this.ifHorizontal([[t,r+a],[t+n,r+a]],[[t+a,r+i],[t+a,r]]),2),c=u[0],f=u[1];this.label.update({startPos:c,endPos:f,tickLength:l,labelSpacing:s},!1)}},t.prototype.bindEvents=function(){this.style.cursor="pointer",this.ribbon.on("pointerdown",this.onDragStart("ribbon")),this.ribbon.on("pointermove",this.onHovering),this.addEventListener("pointerout",this.hideIndicator)},t.prototype.showIndicator=function(e,t){if(void 0===t&&(t="".concat(e)),!this.attributes.showIndicator||"number"!=typeof e){this.hideIndicator();return}var r=this.range,n=r.min,i=r.max,o=this.ribbonBBox,a=o.x,s=o.y,l=(0,el.Z)(e,n,i),u=this.getOffset(l),c=this.ifHorizontal([u+a,s],[a,u+s]);this.indicator.update({x:c[0],y:c[1],position:this.ifHorizontal("top","left"),labelText:t}),nw(this.indicator.node())},t.prototype.hideIndicator=function(){nS(this.indicator.node())},t.prototype.updateMouse=function(){this.attributes.slidable&&(this.style.cursor="grabbing")},t.prototype.setSelection=function(e,t){this.updateSelection(e,t)},t.prototype.updateSelection=function(e,t,r){void 0===r&&(r=!1);var n,i,o,a,s,l,u,c,f,d,p,h,y,b,g,m,v,_,O,w=(0,n_.CR)(this.selection,2),S=w[0],E=w[1],x=(0,n_.CR)([e,t],2),P=x[0],j=x[1];r&&(P+=S,j+=E);var T=this.range,k=T.min,C=T.max;P=(O=(0,n_.CR)((n=[k,C],i=[P,j],o=this.selection,void 0===a&&(a=4),u=(l=(0,n_.CR)(n,2))[0],c=l[1],d=(f=(0,n_.CR)(i,2))[0],p=f[1],y=(h=(0,n_.CR)(o,2))[0],b=h[1],m=(g=(0,n_.CR)([d,p],2))[0],_=(v=g[1])-m,(m>v&&(m=(s=(0,n_.CR)([v,m],2))[0],v=s[1]),_>c-u)?[u,c]:m<u?y===u&&b===v?[u,v]:[u,_+u]:v>c?b===c&&y===m?[m,c]:[c-_,c]:[m,v]),2))[0],j=O[1],this.update({defaultValue:[P,j]}),this.dispatchSelection()},Object.defineProperty(t.prototype,"step",{get:function(){var e=this.attributes.step,t=void 0===e?1:e,r=this.range,n=r.min,i=r.max;return(0,s9.Z)(t)?s7((i-n)*.01,0):t},enumerable:!1,configurable:!0}),t.prototype.getTickValue=function(e){var t,r,n=this.attributes,i=n.data,o=n.block,a=this.range.min;return o?lf(i.map(function(e){return e.value}),e).tick:(r=Math.round((e-a)/(t=this.step)),a+r*t)},t.prototype.getValueByCanvasPoint=function(e,t){void 0===t&&(t=!1);var r=this.range,n=r.min,i=r.max,o=(0,n_.CR)(this.ribbon.node().getPosition(),2),a=o[0],s=o[1],l=this.ifHorizontal(a,s),u=this.ifHorizontal.apply(this,(0,n_.ev)([],(0,n_.CR)(le(e)),!1));return(0,el.Z)(this.getOffset(u-l,!0),n,i)},t.prototype.getOffset=function(e,t){void 0===t&&(t=!1);var r=this.range,n=r.min,i=r.max,o=this.ribbonShape.length,a=this.eventToOffsetScale;return(a.update({domain:[n,i],range:[0,o]}),t)?a.invert(e):a.map(e)},t.prototype.dispatchSelection=function(){var e=new $.Aw("valuechange",{detail:{value:this.selection}});this.dispatchEvent(e)},t.prototype.dispatchIndicated=function(e,t){var r=new $.Aw("indicate",{detail:{value:e,range:t}});this.dispatchEvent(r)},t}(nA),lg=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function lm(e){let{domain:t}=e.getOptions(),[r,n]=[t[0],tS(t)];return[r,n]}let lv=e=>{let{labelFormatter:t,layout:r,order:n,orientation:i,position:o,size:a,title:s,style:l,crossPadding:u,padding:c}=e,f=lg(e,["labelFormatter","layout","order","orientation","position","size","title","style","crossPadding","padding"]);return({scales:n,value:i,theme:a,scale:u})=>{let{bbox:c}=i,{x:d,y:p,width:h,height:y}=c,b=sx(o,r),{legendContinuous:g={}}=a,m=sC(Object.assign({},g,Object.assign(Object.assign({titleText:sE(s),labelAlign:"value",labelFormatter:"string"==typeof t?e=>(0,sb.WU)(t)(e.label):t},function(e,t,r,n,i,o){let a=sT(e,"color"),s=function(e,t,r){var n,i,o;let{size:a}=t,s=sk(e,t,r);return n=s,i=a,o=s.orientation,(n.size=i,"horizontal"===o||0===o)?n.height=i:n.width=i,n}(r,n,i);if(a instanceof oF.M){let{range:e}=a.getOptions(),[t,r]=lm(a);return a instanceof oZ.J||a instanceof oU.c?function(e,t,r,n,i){let o=t.thresholds;return Object.assign(Object.assign({},e),{color:i,data:[r,...o,n].map(e=>({value:e/n,label:String(e)}))})}(s,a,t,r,e):function(e,t,r){let n=[-1/0,...t.thresholds,1/0].map((e,t)=>({value:t,label:e}));return Object.assign(Object.assign({},e),{data:n,color:r,labelFilter:(e,t)=>t>0&&t<n.length-1})}(s,a,e)}return function(e,t,r,n,i,o){let{length:a}=e,s=r||n,l=i.color?o.legendContinuous.ribbonFill||"black":o.color,u=t||function(e,t){let r=e.getOptions(),n=e.clone();return n.update(Object.assign(Object.assign({},r),{range:[(0,$.lu)(t).toString()]})),n}(s,l),[c,f]=lm(u),[d,p]=lm([t,r,n].filter(e=>void 0!==e).find(e=>!(e instanceof oH.s)));return Object.assign(Object.assign({},e),{domain:[d,p],data:u.getTicks().map(e=>({value:e})),color:Array(Math.floor(a)).fill(0).map((e,t)=>{let r=(f-c)/(a-1)*t+c,i=u.map(r)||l,o=n?n.map(r):1;return i.replace(/rgb[a]*\(([\d]{1,3}) *, *([\d]{1,3}) *, *([\d]{1,3})[\S\s]*\)/,(e,t,r,n)=>`rgba(${t}, ${r}, ${n}, ${o})`)})})}(s,a,sT(e,"size"),sT(e,"opacity"),t,o)}(n,u,i,e,lv,a)),l),f)),v=new sP({style:Object.assign(Object.assign({x:d,y:p,width:h,height:y},b),{subOptions:m})});return v.appendChild(new lb({className:"legend-continuous",style:m})),v}};lv.props={defaultPosition:"top",defaultOrientation:"vertical",defaultOrder:1,defaultSize:60,defaultLength:200,defaultLegendSize:60,defaultPadding:[20,10],defaultCrossPadding:[12,12]};let l_=e=>()=>new $.ZA;l_.props={};var lO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function lw(e,t,r,n){switch(n){case"center":return{x:e+r/2,y:t,textAlign:"middle"};case"right":return{x:e+r,y:t,textAlign:"right"};default:return{x:e,y:t,textAlign:"left"}}}let lS=(n={render(e,t){let{width:r,title:n,subtitle:i,spacing:o=2,align:a="left"}=e,s=lO(e,["width","title","subtitle","spacing","align"]),l=tr(s,"title"),u=tr(s,"subtitle"),c=sS(t,".title","text").attr("className","title").call(tx,Object.assign(Object.assign(Object.assign({},lw(0,0,r,a)),{fontSize:14,textBaseline:"top",text:n}),l)).node().getLocalBounds();sS(t,".sub-title","text").attr("className","sub-title").call(e=>{if(!i)return e.node().remove();e.node().attr(Object.assign(Object.assign(Object.assign({},lw(0,c.max[1]+o,r,a)),{fontSize:12,textBaseline:"top",text:i}),u))})}},class extends $.b_{constructor(e){super(e),this.descriptor=n}connectedCallback(){var e,t;null===(t=(e=this.descriptor).render)||void 0===t||t.call(e,this.attributes,this)}update(e={}){var t,r;this.attr((0,P.Z)({},this.attributes,e)),null===(r=(t=this.descriptor).render)||void 0===r||r.call(t,this.attributes,this)}}),lE=e=>({value:t,theme:r})=>{let{x:n,y:i,width:o,height:a}=t.bbox;return new lS({style:(0,P.Z)({},r.title,Object.assign({x:n,y:i,width:o,height:a},e))})};lE.props={defaultPosition:"top",defaultOrder:2,defaultSize:36,defaultCrossPadding:[20,20],defaultPadding:[12,12]};var lx=r(23291),lP=function(e){function t(t){var r=this,n=t.style,i=(0,n_._T)(t,["style"]);return(r=e.call(this,(0,P.Z)({},{type:"column"},(0,n_.pi)({style:n},i)))||this).columnsGroup=new $.ZA({name:"columns"}),r.appendChild(r.columnsGroup),r.render(),r}return(0,n_.ZT)(t,e),t.prototype.render=function(){var e=this.attributes.columns;nN(this.columnsGroup).selectAll(".column").data(e.flat()).join(function(e){return e.append("rect").attr("className","column").each(function(e){this.attr(e)})},function(e){return e.each(function(e){this.attr(e)})},function(e){return e.remove()})},t.prototype.update=function(e){this.attr(nj({},this.attributes,e)),this.render()},t.prototype.clear=function(){this.removeChildren()},t}($.s$),lj=function(e){function t(t){var r=this,n=t.style,i=(0,n_._T)(t,["style"]);return(r=e.call(this,(0,P.Z)({},{type:"lines"},(0,n_.pi)({style:n},i)))||this).linesGroup=r.appendChild(new $.ZA),r.areasGroup=r.appendChild(new $.ZA),r.render(),r}return(0,n_.ZT)(t,e),t.prototype.render=function(){var e=this.attributes,t=e.lines,r=e.areas;t&&this.renderLines(t),r&&this.renderAreas(r)},t.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},t.prototype.update=function(e){this.attr(nj({},this.attributes,e)),this.render()},t.prototype.renderLines=function(e){nN(this.linesGroup).selectAll(".line").data(e).join(function(e){return e.append("path").attr("className","line").each(function(e){this.attr(e)})},function(e){return e.each(function(e){this.attr(e)})},function(e){return e.remove()})},t.prototype.renderAreas=function(e){nN(this.linesGroup).selectAll(".area").data(e).join(function(e){return e.append("path").attr("className","area").each(function(e){this.attr(e)})},function(e){return e.each(function(e){this.style(e)})},function(e){return e.remove()})},t}($.s$),lT=r(11679);function lk(e,t){void 0===t&&(t=!1);var r=t?e.length-1:0,n=e.map(function(e,t){return(0,n_.ev)([t===r?"M":"L"],(0,n_.CR)(e),!1)});return t?n.reverse():n}function lC(e,t){if(void 0===t&&(t=!1),e.length<=2)return lk(e);for(var r=[],n=e.length,i=0;i<n;i+=1){var o=t?e[n-i-1]:e[i];(0,lT.Z)(o,r.slice(-2))||r.push.apply(r,(0,n_.ev)([],(0,n_.CR)(o),!1))}var a=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=[[0,0],[1,1]]);for(var n,i,o,a=!!t,s=[],l=0,u=e.length;l<u;l+=2)s.push([e[l],e[l+1]]);for(var c=function(e,t,r,n){var i,o,a,s,l,u,c=[],f=!!n,d=[1/0,1/0],p=[-1/0,-1/0];if(f){d=(i=(0,n_.CR)(n,2))[0],p=i[1];for(var h=0,y=e.length;h<y;h+=1){var b=e[h];d=ao(d,b),p=aa(p,b)}}for(var h=0,g=e.length;h<g;h+=1){var b=e[h];if(0!==h||r){if(h!==g-1||r){o=e[[h?h-1:g-1,h-1][r?0:1]];var m=[0,0];m=ar(m=ai(a=e[r?(h+1)%g:h+1],o),.4);var v=as(b,o),_=as(b,a),O=v+_;0!==O&&(v/=O,_/=O);var w=ar(m,-v),S=ar(m,_);l=an(b,w),s=ao(s=an(b,S),aa(a,b)),w=ar(w=ai(s=aa(s,ao(a,b)),b),-v/_),l=ao(l=an(b,w),aa(o,b)),l=aa(l,ao(o,b)),S=ar(S=ai(b,l),_/v),s=an(b,S),f&&(l=ao(l=aa(l,d),p),s=ao(s=aa(s,d),p)),c.push(u),c.push(l),u=s}else l=b,c.push(u),c.push(l)}else u=b}return r&&c.push(c.shift()),c}(s,0,a,r),f=s.length,d=[],l=0;l<f-1;l+=1)n=c[2*l],i=c[2*l+1],o=s[l+1],d.push(["C",n[0],n[1],i[0],i[1],o[0],o[1]]);return a&&(n=c[f],i=c[f+1],o=(0,n_.CR)(s,1)[0],d.push(["C",n[0],n[1],i[0],i[1],o[0],o[1]])),d}(r,!1);return t?a.unshift((0,n_.ev)(["M"],(0,n_.CR)(e[n-1]),!1)):a.unshift((0,n_.ev)(["M"],(0,n_.CR)(e[0]),!1)),a}function lA(e,t,r){var n=(0,lx.Z)(e);return n.push(["L",t,r],["L",0,r],["Z"]),n}var lR=r(61956),lM=r(6079),lI=r(48280),lN=r(74650);function lL(e){return 0===e.length?[0,0]:[(0,lR.Z)((0,lM.Z)(e,function(e){return(0,lR.Z)(e)||0})),(0,lI.Z)((0,lN.Z)(e,function(e){return(0,lI.Z)(e)||0}))]}function lD(e){for(var t=(0,lx.Z)(e),r=t[0].length,n=(0,n_.CR)([Array(r).fill(0),Array(r).fill(0)],2),i=n[0],o=n[1],a=0;a<t.length;a+=1)for(var s=t[a],l=0;l<r;l+=1)s[l]>=0?(s[l]+=i[l],i[l]=s[l]):(s[l]+=o[l],o[l]=s[l]);return t}var lz=function(e){function t(t){return e.call(this,t,{type:"line",width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return(0,n_.ZT)(t,e),Object.defineProperty(t.prototype,"rawData",{get:function(){var e=this.attributes.data;if(!e||(null==e?void 0:e.length)===0)return[[]];var t=(0,lx.Z)(e);return(0,Y.Z)(t[0])?[t]:t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.attributes.isStack?lD(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"baseline",{get:function(){var e=this.scales.y,t=(0,n_.CR)(e.getOptions().domain||[0,0],2),r=t[0],n=t[1];return n<0?e.map(n):e.map(r<0?0:r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"containerShape",{get:function(){var e=this.attributes;return{width:e.width,height:e.height}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linesStyle",{get:function(){var e=this,t=this.attributes,r=t.type,n=t.isStack,i=t.smooth;if("line"!==r)throw Error("linesStyle can only be used in line type");var o=ah(this.attributes,"area"),a=ah(this.attributes,"line"),s=this.containerShape.width,l=this.data;if(0===l[0].length)return{lines:[],areas:[]};var u=this.scales,c=(h=(d={type:"line",x:u.x,y:u.y}).x,y=d.y,g=(b=(0,n_.CR)(y.getOptions().range||[0,0],2))[0],(m=b[1])>g&&(m=(p=(0,n_.CR)([g,m],2))[0],g=p[1]),l.map(function(e){return e.map(function(e,t){return[h.map(t),(0,el.Z)(y.map(e),m,g)]})})),f=[];if(o){var d,p,h,y,b,g,m,v=this.baseline;f=n?i?function(e,t,r){for(var n=[],i=e.length-1;i>=0;i-=1){var o=e[i],a=lC(o),s=void 0;if(0===i)s=lA(a,t,r);else{var l=lC(e[i-1],!0),u=o[0];l[0][0]="L",s=(0,n_.ev)((0,n_.ev)((0,n_.ev)([],(0,n_.CR)(a),!1),(0,n_.CR)(l),!1),[(0,n_.ev)(["M"],(0,n_.CR)(u),!1),["Z"]],!1)}n.push(s)}return n}(c,s,v):function(e,t,r){for(var n=[],i=e.length-1;i>=0;i-=1){var o=lk(e[i]),a=void 0;if(0===i)a=lA(o,t,r);else{var s=lk(e[i-1],!0);s[0][0]="L",a=(0,n_.ev)((0,n_.ev)((0,n_.ev)([],(0,n_.CR)(o),!1),(0,n_.CR)(s),!1),[["Z"]],!1)}n.push(a)}return n}(c,s,v):c.map(function(e){return lA(i?lC(e):lk(e),s,v)})}return{lines:c.map(function(t,r){return(0,n_.pi)({stroke:e.getColor(r),path:i?lC(t):lk(t)},a)}),areas:f.map(function(t,r){return(0,n_.pi)({path:t,fill:e.getColor(r)},o)})}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnsStyle",{get:function(){var e=this,t=ah(this.attributes,"column"),r=this.attributes,n=r.isStack,i=r.type,o=r.scale;if("column"!==i)throw Error("columnsStyle can only be used in column type");var a=this.containerShape.height,s=this.rawData;if(!s)return{columns:[]};n&&(s=lD(s));var l=this.createScales(s),u=l.x,c=l.y,f=(0,n_.CR)(lL(s),2),d=f[0],p=f[1],h=new tv.b({domain:[0,p-(d>0?0:d)],range:[0,a*o]}),y=u.getBandWidth(),b=this.rawData;return{columns:s.map(function(r,i){return r.map(function(r,o){var a=y/s.length;return(0,n_.pi)((0,n_.pi)({fill:e.getColor(i)},t),n?{x:u.map(o),y:c.map(r),width:y,height:h.map(b[i][o])}:{x:u.map(o)+a*i,y:r>=0?c.map(r):c.map(0),width:a,height:h.map(Math.abs(r))})})})}},enumerable:!1,configurable:!0}),t.prototype.render=function(e,t){(r=".container",n="rect",t.querySelector(r)?nN(t).select(r):nN(t).append(n)).attr("className","container").node();var r,n,i=e.type,o="spark".concat(i),a="line"===i?this.linesStyle:this.columnsStyle;nN(t).selectAll(".spark").data([i]).join(function(e){return e.append(function(e){return"line"===e?new lj({className:o,style:a}):new lP({className:o,style:a})}).attr("className","spark ".concat(o))},function(e){return e.update(a)},function(e){return e.remove()})},t.prototype.getColor=function(e){var t=this.attributes.color;return(0,nx.Z)(t)?t[e%t.length]:(0,nO.Z)(t)?t.call(null,e):t},t.prototype.createScales=function(e){var t,r,n=this.attributes,i=n.type,o=n.scale,a=n.range,s=void 0===a?[]:a,l=n.spacing,u=this.containerShape,c=u.width,f=u.height,d=(0,n_.CR)(lL(e),2),p=d[0],h=d[1],y=new tv.b({domain:[null!==(t=s[0])&&void 0!==t?t:p,null!==(r=s[1])&&void 0!==r?r:h],range:[f,f*(1-o)]});return"line"===i?{type:i,x:new tv.b({domain:[0,e[0].length-1],range:[0,c]}),y:y}:{type:i,x:new ox.t({domain:e[0].map(function(e,t){return t}),range:[0,c],paddingInner:l,paddingOuter:l/2,align:.5}),y:y}},t.tag="sparkline",t}(nA),lF=function(e){function t(t){var r=e.call(this,t,(0,n_.pi)((0,n_.pi)((0,n_.pi)({animate:{duration:100,fill:"both"},brushable:!0,formatter:function(e){return e.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},ay(la,"handle")),ay(li,"handleIcon")),ay(lo,"handleLabel")))||this;return r.range=[0,1],r.onDragStart=function(e){return function(t){t.stopPropagation(),r.target=e,r.prevPos=r.getOrientVal(le(t));var n=r.availableSpace,i=n.x,o=n.y,a=r.getBBox(),s=a.x,l=a.y;r.selectionStartPos=r.getRatio(r.prevPos-r.getOrientVal([i,o])-r.getOrientVal([+s,+l])),r.selectionWidth=0,document.addEventListener("pointermove",r.onDragging),document.addEventListener("pointerup",r.onDragEnd)}},r.onDragging=function(e){var t=r.attributes,n=t.slidable,i=t.brushable,o=t.type;e.stopPropagation();var a=r.getOrientVal(le(e)),s=a-r.prevPos;if(s){var l=r.getRatio(s);switch(r.target){case"start":n&&r.setValuesOffset(l);break;case"end":n&&r.setValuesOffset(0,l);break;case"selection":n&&r.setValuesOffset(l,l);break;case"track":if(!i)return;r.selectionWidth+=l,"range"===o?r.innerSetValues([r.selectionStartPos,r.selectionStartPos+r.selectionWidth].sort(),!0):r.innerSetValues([0,r.selectionStartPos+r.selectionWidth],!0)}r.prevPos=a}},r.onDragEnd=function(){document.removeEventListener("pointermove",r.onDragging),document.removeEventListener("pointermove",r.onDragging),document.removeEventListener("pointerup",r.onDragEnd),r.target="",r.updateHandlesPosition(!1)},r.onValueChange=function(e){var t=r.attributes,n=t.onChange,i=t.type,o="range"===i?e:e[1],a="range"===i?r.getValues():r.getValues()[1],s=new $.Aw("valuechange",{detail:{oldValue:o,value:a}});r.dispatchEvent(s),null==n||n(a)},r.selectionStartPos=0,r.selectionWidth=0,r.prevPos=0,r.target="",r}return(0,n_.ZT)(t,e),Object.defineProperty(t.prototype,"values",{get:function(){return this.attributes.values},set:function(e){this.attributes.values=this.clampValues(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sparklineStyle",{get:function(){if("horizontal"!==this.attributes.orientation)return null;var e=ah(this.attributes,"sparkline");return(0,n_.pi)((0,n_.pi)({zIndex:0},this.availableSpace),e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shape",{get:function(){var e=this.attributes,t=e.trackLength,r=e.trackSize,n=(0,n_.CR)(this.getOrientVal([[t,r],[r,t]]),2);return{width:n[0],height:n[1]}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"availableSpace",{get:function(){var e=this.attributes.padding,t=(0,n_.CR)(aY(e),4),r=t[0],n=t[1],i=t[2],o=t[3],a=this.shape;return{x:o,y:r,width:a.width-(o+n),height:a.height-(r+i)}},enumerable:!1,configurable:!0}),t.prototype.getValues=function(){return this.values},t.prototype.setValues=function(e,t){void 0===e&&(e=[0,0]),void 0===t&&(t=!1),this.attributes.values=e;var r=!1!==t&&this.attributes.animate;this.updateSelectionArea(r),this.updateHandlesPosition(r)},t.prototype.updateSelectionArea=function(e){var t=this.calcSelectionArea();this.foregroundGroup.selectAll(ls.selection.class).each(function(r,n){o9(this,t[n],e)})},t.prototype.updateHandlesPosition=function(e){this.attributes.showHandle&&(this.startHandle&&o9(this.startHandle,this.getHandleStyle("start"),e),this.endHandle&&o9(this.endHandle,this.getHandleStyle("end"),e))},t.prototype.innerSetValues=function(e,t){void 0===e&&(e=[0,0]),void 0===t&&(t=!1);var r=this.values,n=this.clampValues(e);this.attributes.values=n,this.setValues(n),t&&this.onValueChange(r)},t.prototype.renderTrack=function(e){var t=ah(this.attributes,"track");this.trackShape=nN(e).maybeAppendByClassName(ls.track,"rect").styles((0,n_.pi)((0,n_.pi)({},this.shape),t))},t.prototype.renderBrushArea=function(e){var t=this.attributes.brushable;this.brushArea=nN(e).maybeAppendByClassName(ls.brushArea,"rect").styles((0,n_.pi)({fill:"transparent",cursor:t?"crosshair":"default"},this.shape))},t.prototype.renderSparkline=function(e){var t=this;nR("horizontal"===this.attributes.orientation,nN(e).maybeAppendByClassName(ls.sparklineGroup,"g"),function(e){var r=t.sparklineStyle;e.maybeAppendByClassName(ls.sparkline,function(){return new lz({style:r})}).update(r)})},t.prototype.renderHandles=function(){var e,t=this,r=this.attributes,n=r.showHandle,i=r.type,o=this;null===(e=this.foregroundGroup)||void 0===e||e.selectAll(ls.handle.class).data((n?"range"===i?["start","end"]:["end"]:[]).map(function(e){return{type:e}}),function(e){return e.type}).join(function(e){return e.append(function(e){var r=e.type;return new lc({style:t.getHandleStyle(r)})}).each(function(e){var t=e.type;this.attr("class","".concat(ls.handle.name," ").concat(t,"-handle")),o["".concat(t,"Handle")]=this,this.addEventListener("pointerdown",o.onDragStart(t))})},function(e){return e.each(function(e){var t=e.type;this.update(o.getHandleStyle(t))})},function(e){return e.each(function(e){var t=e.type;o["".concat(t,"Handle")]=void 0}).remove()})},t.prototype.renderSelection=function(e){var t=this.attributes,r=t.type,n=t.selectionType;this.foregroundGroup=nN(e).maybeAppendByClassName(ls.foreground,"g");var i=ah(this.attributes,"selection"),o=function(e){return e.style("visibility",function(e){return e.show?"visible":"hidden"}).style("cursor",function(e){return"select"===n?"grab":"invert"===n?"crosshair":"default"}).styles(i)},a=this;this.foregroundGroup.selectAll(ls.selection.class).data("value"===r?[]:this.calcSelectionArea().map(function(e,t){return{style:(0,n_.pi)({},e),index:t,show:"select"===n?1===t:1!==t}}),function(e){return e.index}).join(function(e){return e.append("rect").attr("className",ls.selection.name).call(o).each(function(e,t){var r=this;1===t?(a.selectionShape=nN(this),this.on("pointerdown",function(e){r.attr("cursor","grabbing"),a.onDragStart("selection")(e)}),a.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),a.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),a.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){r.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){r.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){r.attr("cursor","pointer")})):this.on("pointerdown",a.onDragStart("track"))})},function(e){return e.call(o)},function(e){return e.remove()}),this.updateSelectionArea(!1),this.renderHandles()},t.prototype.render=function(e,t){this.renderTrack(t),this.renderSparkline(t),this.renderBrushArea(t),this.renderSelection(t)},t.prototype.clampValues=function(e,t){void 0===t&&(t=4);var r,n=(0,n_.CR)(this.range,2),i=n[0],o=n[1],a=(0,n_.CR)(this.getValues().map(function(e){return s7(e,t)}),2),s=a[0],l=a[1],u=Array.isArray(e)?e:[s,null!=e?e:l],c=(0,n_.CR)((u||[s,l]).map(function(e){return s7(e,t)}),2),f=c[0],d=c[1];if("value"===this.attributes.type)return[0,(0,el.Z)(d,i,o)];f>d&&(f=(r=(0,n_.CR)([d,f],2))[0],d=r[1]);var p=d-f;return p>o-i?[i,o]:f<i?s===i&&l===d?[i,d]:[i,p+i]:d>o?l===o&&s===f?[f,o]:[o-p,o]:[f,d]},t.prototype.calcSelectionArea=function(e){var t=(0,n_.CR)(this.clampValues(e),2),r=t[0],n=t[1],i=this.availableSpace,o=i.x,a=i.y,s=i.width,l=i.height;return this.getOrientVal([[{y:a,height:l,x:o,width:r*s},{y:a,height:l,x:r*s+o,width:(n-r)*s},{y:a,height:l,x:n*s,width:(1-n)*s}],[{x:o,width:s,y:a,height:r*l},{x:o,width:s,y:r*l+a,height:(n-r)*l},{x:o,width:s,y:n*l,height:(1-n)*l}]])},t.prototype.calcHandlePosition=function(e){var t=this.attributes.handleIconOffset,r=this.availableSpace,n=r.x,i=r.y,o=r.width,a=r.height,s=(0,n_.CR)(this.clampValues(),2),l=s[0],u=s[1],c=("start"===e?l:u)*this.getOrientVal([o,a])+("start"===e?-t:t);return{x:n+this.getOrientVal([c,o/2]),y:i+this.getOrientVal([a/2,c])}},t.prototype.inferTextStyle=function(e){return"horizontal"===this.attributes.orientation?{}:"start"===e?{transform:"rotate(90)",textAlign:"start"}:"end"===e?{transform:"rotate(90)",textAlign:"end"}:{}},t.prototype.calcHandleText=function(e){var t,r=this.attributes,n=r.type,i=r.orientation,o=r.formatter,a=r.autoFitLabel,s=ah(this.attributes,"handle"),l=ah(s,"label"),u=s.spacing,c=this.getHandleSize(),f=this.clampValues(),d=o("start"===e?f[0]:f[1]),p=new nM({style:(0,n_.pi)((0,n_.pi)((0,n_.pi)({},l),this.inferTextStyle(e)),{text:d})}),h=p.getBBox(),y=h.width,b=h.height;if(p.destroy(),!a){if("value"===n)return{text:d,x:0,y:-b-u};var g=u+c+("horizontal"===i?y/2:0);return(t={text:d})["horizontal"===i?"x":"y"]="start"===e?-g:g,t}var m=0,v=0,_=this.availableSpace,O=_.width,w=_.height,S=this.calcSelectionArea()[1],E=S.x,x=S.y,P=S.width,j=S.height,T=u+c;if("horizontal"===i){var k=T+y/2;m="start"===e?E-T-y>0?-k:k:O-E-P-T>y?k:-k}else{var C=b+T;v="start"===e?x-c>b?-C:T:w-(x+j)-c>b?C:-T}return{x:m,y:v,text:d}},t.prototype.getHandleLabelStyle=function(e){var t=ah(this.attributes,"handleLabel");return(0,n_.pi)((0,n_.pi)((0,n_.pi)({},t),this.calcHandleText(e)),this.inferTextStyle(e))},t.prototype.getHandleIconStyle=function(){var e=this.attributes.handleIconShape,t=ah(this.attributes,"handleIcon"),r=this.getOrientVal(["ew-resize","ns-resize"]),n=this.getHandleSize();return(0,n_.pi)({cursor:r,shape:e,size:n},t)},t.prototype.getHandleStyle=function(e){var t=this.attributes,r=t.showLabel,n=t.showLabelOnInteraction,i=t.orientation,o=this.calcHandlePosition(e),a=this.calcHandleText(e),s=r;return!r&&n&&(s=!!this.target),(0,n_.pi)((0,n_.pi)((0,n_.pi)((0,n_.pi)({},ay(this.getHandleIconStyle(),"icon")),ay((0,n_.pi)((0,n_.pi)({},this.getHandleLabelStyle(e)),a),"label")),o),{orientation:i,showLabel:s,type:e,zIndex:3})},t.prototype.getHandleSize=function(){var e=this.attributes,t=e.handleIconSize,r=e.width,n=e.height;return t||Math.floor((this.getOrientVal([+n,+r])+4)/2.4)},t.prototype.getOrientVal=function(e){var t=(0,n_.CR)(e,2),r=t[0],n=t[1];return"horizontal"===this.attributes.orientation?r:n},t.prototype.setValuesOffset=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=!1);var n=this.attributes.type,i=(0,n_.CR)(this.getValues(),2),o=[i[0]+("range"===n?e:0),i[1]+t].sort();r?this.setValues(o):this.innerSetValues(o,!0)},t.prototype.getRatio=function(e){var t=this.availableSpace,r=t.width,n=t.height;return e/this.getOrientVal([r,n])},t.prototype.dispatchCustomEvent=function(e,t,r){var n=this;e.on(t,function(e){e.stopPropagation(),n.dispatchEvent(new $.Aw(r,{detail:e}))})},t.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var e=this.brushArea;this.dispatchCustomEvent(e,"click","trackClick"),this.dispatchCustomEvent(e,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(e,"pointerleave","trackMouseleave"),e.on("pointerdown",this.onDragStart("track"))},t.prototype.onScroll=function(e){if(this.attributes.scrollable){var t=e.deltaX,r=e.deltaY,n=this.getRatio(r||t);this.setValuesOffset(n,n,!0)}},t.tag="slider",t}(nA),lB=r(21309),lU=r(30957);function lW(e){return!!e.getBandWidth}function lZ(e,t,r){var n;if(!lW(e))return e.invert(t);let{adjustedRange:i}=e,{domain:o}=e.getOptions(),a=e.getStep(),s=r?i:i.map(e=>e+a),l=(n=(0,lB.Nw)(s,t)+(r?-1:0),Math.min(o.length-1,Math.max(0,n)));return o[l]}function lV(e,t,r){if(!t)return e.getOptions().domain;if(!lW(e)){let n=(0,lU.ZP)(t);if(!r)return n;let[i]=n,{range:o}=e.getOptions(),[a,s]=o,l=e.invert(e.map(i)+(a>s?-1:1)*r);return[i,l]}let{domain:n}=e.getOptions(),i=t[0],o=n.indexOf(i);if(r){let e=o+Math.round(n.length*r);return n.slice(o,e)}let a=t[t.length-1],s=n.indexOf(a);return n.slice(o,s+1)}function lq(e,t,r,n,i,o){let{x:a,y:s}=i,l=(e,t)=>{let[r,n]=o.invert(e);return[lZ(a,r,t),lZ(s,n,t)]},u=l([e,t],!0),c=l([r,n],!1);return[lV(a,[u[0],c[0]]),lV(s,[u[1],c[1]])]}function l$(e,t){let[r,n]=e;return[t.map(r),t.map(n)+(t.getStep?t.getStep():0)]}var lH=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let lG=e=>{let{orientation:t,labelFormatter:r,size:n,style:i={},position:o}=e,a=lH(e,["orientation","labelFormatter","size","style","position"]);return n=>{var s;let{scales:[l],value:u,theme:c,coordinate:f}=n,{bbox:d}=u,{width:p,height:h}=d,{slider:y={}}=c,b=(null===(s=l.getFormatter)||void 0===s?void 0:s.call(l))||(e=>e+""),g="string"==typeof r?(0,sb.WU)(r):r,m="horizontal"===t,v=D(f)&&m,{trackSize:_=y.trackSize}=i,[O,w]=function(e,t,r){let{x:n,y:i,width:o,height:a}=e;return"left"===t?[n+o-r,i]:"right"===t||"bottom"===t?[n,i]:"top"===t?[n,i+a-r]:void 0}(d,o,_);return new lF({className:"slider",style:Object.assign({},y,Object.assign(Object.assign({x:O,y:w,trackLength:m?p:h,orientation:t,formatter:e=>(g||b)(lZ(l,v?1-e:e,!0)),sparklineData:function(e,t){let{markState:r}=t;return(0,nx.Z)(e.sparklineData)?e.sparklineData:function(e,t){let[r]=Array.from(e.entries()).filter(([e])=>"line"===e.type||"area"===e.type).map(([e])=>{let{encode:r,slider:n}=e;if((null==n?void 0:n.x)&&0===Object.keys(n.x).length)return Object.fromEntries(t.map(e=>{let t=r[e];return[e,t?t.value:void 0]}))});return(null==r?void 0:r.series)?Object.values(r.series.reduce((e,t,n)=>(e[t]=e[t]||[],e[t].push(r.y[n]),e),{})):null==r?void 0:r.y}(r,["y","series"])}(e,n)},i),a))})}};lG.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};let lY=e=>lG(Object.assign(Object.assign({},e),{orientation:"horizontal"}));lY.props=Object.assign(Object.assign({},lG.props),{defaultPosition:"bottom"});let lK=e=>lG(Object.assign(Object.assign({},e),{orientation:"vertical"}));lK.props=Object.assign(Object.assign({},lG.props),{defaultPosition:"left"});var lX=function(e){function t(t){var r=e.call(this,t,{isRound:!0,orientation:"vertical",padding:[2,2,2,2],scrollable:!0,slidable:!0,thumbCursor:"default",trackSize:10,value:0})||this;return r.range=[0,1],r.onValueChange=function(e){var t=r.attributes.value;if(e!==t){var n={detail:{oldValue:e,value:t}};r.dispatchEvent(new $.Aw("scroll",n)),r.dispatchEvent(new $.Aw("valuechange",n))}},r.onTrackClick=function(e){if(r.attributes.slidable){var t=(0,n_.CR)(r.getLocalPosition(),2),n=t[0],i=t[1],o=(0,n_.CR)(r.padding,4),a=o[0],s=o[3],l=r.getOrientVal([n+s,i+a]),u=(r.getOrientVal(le(e))-l)/r.trackLength;r.setValue(u,!0)}},r.onThumbMouseenter=function(e){r.dispatchEvent(new $.Aw("thumbMouseenter",{detail:e.detail}))},r.onTrackMouseenter=function(e){r.dispatchEvent(new $.Aw("trackMouseenter",{detail:e.detail}))},r.onThumbMouseleave=function(e){r.dispatchEvent(new $.Aw("thumbMouseleave",{detail:e.detail}))},r.onTrackMouseleave=function(e){r.dispatchEvent(new $.Aw("trackMouseleave",{detail:e.detail}))},r}return(0,n_.ZT)(t,e),Object.defineProperty(t.prototype,"padding",{get:function(){return aY(this.attributes.padding)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){var e=this.attributes.value,t=(0,n_.CR)(this.range,2),r=t[0],n=t[1];return(0,el.Z)(e,r,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackLength",{get:function(){var e=this.attributes,t=e.viewportLength,r=e.trackLength;return void 0===r?t:r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"availableSpace",{get:function(){var e=this.attributes.trackSize,t=this.trackLength,r=(0,n_.CR)(this.padding,4),n=r[0],i=r[1],o=r[2],a=r[3],s=(0,n_.CR)(this.getOrientVal([[t,e],[e,t]]),2);return{x:a,y:n,width:+s[0]-(a+i),height:+s[1]-(n+o)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trackRadius",{get:function(){var e=this.attributes,t=e.isRound,r=e.trackSize;return t?r/2:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thumbRadius",{get:function(){var e=this.attributes,t=e.isRound,r=e.thumbRadius;if(!t)return 0;var n=this.availableSpace,i=n.width,o=n.height;return r||this.getOrientVal([o,i])/2},enumerable:!1,configurable:!0}),t.prototype.getValues=function(e){void 0===e&&(e=this.value);var t=this.attributes,r=t.viewportLength/t.contentLength,n=(0,n_.CR)(this.range,2),i=n[0],o=e*(n[1]-i-r);return[o,o+r]},t.prototype.getValue=function(){return this.value},t.prototype.renderSlider=function(e){var t=this.attributes,r=t.orientation,n=t.trackSize,i=t.padding,o=t.slidable,a=ah(this.attributes,"track"),s=ah(this.attributes,"thumb"),l=(0,n_.pi)((0,n_.pi)({brushable:!1,orientation:r,padding:i,selectionRadius:this.thumbRadius,showHandle:!1,slidable:o,trackLength:this.trackLength,trackRadius:this.trackRadius,trackSize:n,values:this.getValues()},ay(a,"track")),ay(s,"selection"));this.slider=nN(e).maybeAppendByClassName("scrollbar",function(){return new lF({style:l})}).update(l).node()},t.prototype.render=function(e,t){this.renderSlider(t)},t.prototype.setValue=function(e,t){void 0===t&&(t=!1);var r=this.attributes.value,n=(0,n_.CR)(this.range,2),i=n[0],o=n[1];this.slider.setValues(this.getValues((0,el.Z)(e,i,o)),t),this.onValueChange(r)},t.prototype.bindEvents=function(){var e=this;this.slider.addEventListener("trackClick",function(t){t.stopPropagation(),e.onTrackClick(t.detail)}),this.onHover()},t.prototype.getOrientVal=function(e){return"horizontal"===this.attributes.orientation?e[0]:e[1]},t.prototype.onHover=function(){this.slider.addEventListener("selectionMouseenter",this.onThumbMouseenter),this.slider.addEventListener("trackMouseenter",this.onTrackMouseenter),this.slider.addEventListener("selectionMouseleave",this.onThumbMouseleave),this.slider.addEventListener("trackMouseleave",this.onTrackMouseleave)},t.tag="scrollbar",t}(nA),lQ=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let lJ=e=>{let{orientation:t,labelFormatter:r,style:n}=e,i=lQ(e,["orientation","labelFormatter","style"]);return({scales:[e],value:r,theme:o})=>{let{bbox:a}=r,{x:s,y:l,width:u,height:c}=a,{scrollbar:f={}}=o,{ratio:d,range:p}=e.getOptions(),h="horizontal"===t?u:c,y=h/d,[b,g]=p;return new lX({className:"g2-scrollbar",style:Object.assign({},f,Object.assign(Object.assign(Object.assign(Object.assign({},n),{x:s,y:l,trackLength:h,value:g>b?0:1}),i),{orientation:t,contentLength:y,viewportLength:h}))})}};lJ.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1,defaultCrossPadding:[12,12],defaultPadding:[12,12]};let l0=e=>lJ(Object.assign(Object.assign({},e),{orientation:"horizontal"}));l0.props=Object.assign(Object.assign({},lJ.props),{defaultPosition:"bottom"});let l1=e=>lJ(Object.assign(Object.assign({},e),{orientation:"vertical"}));l1.props=Object.assign(Object.assign({},lJ.props),{defaultPosition:"left"});let l2=(e,t)=>{let{coordinate:r}=t;return(t,n,i)=>{let[o]=t,{transform:a="",fillOpacity:s=1,strokeOpacity:l=1,opacity:u=1}=o.style,[c,f]=D(r)?["left bottom","scale(1, 0.0001)"]:["left top","scale(0.0001, 1)"],d=[{transform:`${a} ${f}`.trimStart(),transformOrigin:c,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${a} ${f}`.trimStart(),transformOrigin:c,fillOpacity:s,strokeOpacity:l,opacity:u,offset:.01},{transform:`${a} scale(1, 1)`.trimStart(),transformOrigin:c,fillOpacity:s,strokeOpacity:l,opacity:u}];return o.animate(d,Object.assign(Object.assign({},i),e))}},l5=(e,t)=>{let{coordinate:r}=t;return $.ux.registerProperty({name:"scaleInYRadius",inherits:!1,initialValue:"",interpolable:!0,syntax:$.h0.NUMBER}),(t,n,i)=>{let[o]=t;return z(r)?(t=>{let{__data__:n,style:o}=t,{radius:a=0,inset:s=0,fillOpacity:l=1,strokeOpacity:u=1,opacity:c=1}=o,{points:f,y:d,y1:p}=n,h=tk(r,f,[d,p]),{innerRadius:y,outerRadius:b}=h,g=(0,L.Z)().cornerRadius(a).padAngle(s*Math.PI/180),m=new $.y$({}),v=r.getCenter(),_=e=>{m.attr({d:g(e),transform:`translate(${v[0]}, ${v[1]})`});let t=(0,$.YR)(m);return m.style.transform="",t},O=t.animate([{scaleInYRadius:y+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{scaleInYRadius:y+1e-4,fillOpacity:l,strokeOpacity:u,opacity:c,offset:.01},{scaleInYRadius:b,fillOpacity:l,strokeOpacity:u,opacity:c}],Object.assign(Object.assign({},i),e));return O.onframe=function(){t.style.path=_(Object.assign(Object.assign({},h),{outerRadius:Number(t.style.scaleInYRadius)}))},O.onfinish=function(){t.style.path=_(Object.assign(Object.assign({},h),{outerRadius:b}))},O})(o):(t=>{let{style:n}=t,{transform:o="",fillOpacity:a=1,strokeOpacity:s=1,opacity:l=1}=n,[u,c]=D(r)?["left top","scale(0.0001, 1)"]:["left bottom","scale(1, 0.0001)"],f=[{transform:`${o} ${c}`.trimStart(),transformOrigin:u,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${o} ${c}`.trimStart(),transformOrigin:u,fillOpacity:a,strokeOpacity:s,opacity:l,offset:.01},{transform:`${o} scale(1, 1)`.trimStart(),transformOrigin:u,fillOpacity:a,strokeOpacity:s,opacity:l}];return t.animate(f,Object.assign(Object.assign({},i),e))})(o)}},l4=(e,t)=>{$.ux.registerProperty({name:"waveInArcAngle",inherits:!1,initialValue:"",interpolable:!0,syntax:$.h0.NUMBER});let{coordinate:r}=t;return(n,i,o)=>{let[a]=n;if(!z(r))return l2(e,t)(n,i,o);let s=r.getCenter(),{__data__:l,style:u}=a,{radius:c=0,inset:f=0,fillOpacity:d=1,strokeOpacity:p=1,opacity:h=1}=u,{points:y,y:b,y1:g}=l,m=(0,L.Z)().cornerRadius(c).padAngle(f*Math.PI/180),v=tk(r,y,[b,g]),{startAngle:_,endAngle:O}=v,w=new $.y$({}),S=e=>{w.attr({d:m(e),transform:`translate(${s[0]}, ${s[1]})`});let t=(0,$.YR)(w);return w.style.transform="",t},E=a.animate([{waveInArcAngle:_+1e-4,fillOpacity:0,strokeOpacity:0,opacity:0},{waveInArcAngle:_+1e-4,fillOpacity:d,strokeOpacity:p,opacity:h,offset:.01},{waveInArcAngle:O,fillOpacity:d,strokeOpacity:p,opacity:h}],Object.assign(Object.assign({},o),e));return E.onframe=function(){a.style.path=S(Object.assign(Object.assign({},v),{endAngle:Number(a.style.waveInArcAngle)}))},E.onfinish=function(){a.style.path=S(Object.assign(Object.assign({},v),{endAngle:O}))},E}};l4.props={};let l3=e=>(t,r,n)=>{let[i]=t,{fillOpacity:o=1,strokeOpacity:a=1,opacity:s=1}=i.style;return i.animate([{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:o,strokeOpacity:a,opacity:s}],Object.assign(Object.assign({},n),e))};l3.props={};let l6=e=>(t,r,n)=>{let[i]=t,{fillOpacity:o=1,strokeOpacity:a=1,opacity:s=1}=i.style;return i.animate([{fillOpacity:o,strokeOpacity:a,opacity:s},{fillOpacity:0,strokeOpacity:0,opacity:0}],Object.assign(Object.assign({},n),e))};l6.props={};let l8=e=>(t,r,n)=>{var i;let[o]=t,a=(null===(i=o.getTotalLength)||void 0===i?void 0:i.call(o))||0;return o.animate([{lineDash:[0,a]},{lineDash:[a,0]}],Object.assign(Object.assign({},n),e))};function l9(e,t){let r={};for(let n of t){let t=e.style[n];t&&(r[n]=t)}return r}l8.props={};let l7=["fill","stroke","fillOpacity","strokeOpacity","opacity","lineWidth"];function ue(e){let{min:t,max:r}=e.getLocalBounds(),[n,i]=t,[o,a]=r;return[n,i,o-n,a-i]}function ut(e,t){let[r,n,i,o]=ue(e),a=Math.ceil(Math.sqrt(t/(o/i))),s=[],l=o/Math.ceil(t/a),u=0,c=t;for(;c>0;){let e=Math.min(c,a),t=i/e;for(let i=0;i<e;i++){let e=r+i*t,o=n+u*l;s.push(function(e){let[t,r,n,i]=e;return`
    M ${t} ${r}
    L ${t+n} ${r}
    L ${t+n} ${r+i}
    L ${t} ${r+i}
    Z
  `}([e,o,t,l]))}c-=e,u+=1}return s}function ur(e,t){e.__data__=t.__data__,e.className=t.className,e.markType=t.markType,t.parentNode.replaceChild(e,t)}function un(e,t){return e.indexOf(t)===e.lastIndexOf(t)}function ui(e){let t=(0,$.YR)(e);if(t&&!(!un(t,"m")||!un(t,"M")))return t}function uo(e,t,r,n){let{nodeName:i}=t,{nodeName:o}=r,a=ui(t),s=ui(r),l=void 0===a||void 0===s;if(i===o&&"path"!==i||l)return function(e,t,r){let[n,i,o,a]=ue(e),{transform:s}=e.style,{transform:l}=t.style;ur(t,e);let[u,c,f,d]=ue(t),p=[Object.assign({transform:`${s?s+" ":""}translate(${n-u}, ${i-c}) scale(${o/f}, ${a/d})`},l9(e,l7)),Object.assign({transform:`${l?l+" ":""}translate(0, 0) scale(1, 1)`},l9(t,l7))];return t.animate(p,r)}(t,r,n);let u=function(e,t){let{nodeName:r}=e;if("path"===r)return e;let n=new $.y$({style:Object.assign(Object.assign({},l9(e,l7)),{d:t})});return ur(n,e),n}(e,a),c=[Object.assign({path:a},l9(t,l7)),Object.assign({path:s},l9(r,l7))],f=u.animate(c,n);return f.onfinish=()=>{u.style.transform="none",te(u,r)},u.style.transform="none",f}let ua=e=>(t,r,n)=>{let i=function(e="pack"){return"function"==typeof e?e:ut}(e.split),o=Object.assign(Object.assign({},n),e),{length:a}=t,{length:s}=r;if(1===a&&1===s||a>1&&s>1){let[e]=t,[n]=r;return uo(e,e,n,o)}if(1===a&&s>1){let[e]=t;return function(e,t,r,n){e.style.visibility="hidden";let i=n(e,t.length);return t.map((t,n)=>uo(t,new $.y$({style:Object.assign({path:i[n]},l9(e,l7))}),t,r))}(e,r,o,i)}if(a>1&&1===s){let[e]=r;return function(e,t,r,n){let i=n(t,e.length),{fillOpacity:o=1,strokeOpacity:a=1,opacity:s=1}=t.style,l=t.animate([{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:0,strokeOpacity:0,opacity:0,offset:.99},{fillOpacity:o,strokeOpacity:a,opacity:s}],r);return[...e.map((e,n)=>uo(e,e,new $.y$({style:{path:i[n],fill:t.style.fill}}),r)),l]}(t,e,o,i)}return null};ua.props={};let us=(e,t)=>(r,n,i)=>{let[o]=r,{height:a,width:s}=o.getBoundingClientRect(),l=new $.y$({style:{path:`M0,0L${s},0L${s},${a}L0,${a}Z`}});return o.appendChild(l),o.style.clipPath=l,l2(e,t)([l],n,i)};us.props={};let ul=(e,t)=>(r,n,i)=>{let[o]=r,{height:a,width:s}=o.getBoundingClientRect(),l=new $.y$({style:{path:`M0,0L${s},0L${s},${a}L0,${a}Z`}});return o.appendChild(l),o.style.clipPath=l,l5(e,t)([l],n,i)};ul.props={};let uu="main-layer",uc="label-layer",uf="element",ud="view",up="plot",uh="component",uy="label",ub="area",ug={visibility:"visible",opacity:1,fillOpacity:1,strokeOpacity:1};function um(e,t,r,n){e.style[t]=r,n&&e.children.forEach(e=>um(e,t,r,n))}function uv(e){um(e,"visibility","hidden",!0)}function u_(e){um(e,"visibility","visible",!0)}var uO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function uw(e){return tl(e).selectAll(`.${uf}`).nodes().filter(e=>!e.__removed__)}function uS(e,t){return uE(e,t).flatMap(({container:e})=>uw(e))}function uE(e,t){return t.filter(t=>t!==e&&t.options.parentKey===e.options.key)}function ux(e){return tl(e).select(`.${up}`).node()}function uP(e){if("rect"!==e.nodeName)return e.getRenderBounds();let{x:t,y:r,width:n,height:i}=e.style;return{min:[t,r],max:[t+n,r+i]}}function uj(e,t){let{offsetX:r,offsetY:n}=t,{min:[i,o],max:[a,s]}=uP(e);return r<i||r>a||n<o||n>s?null:[r-i,n-o]}function uT(e,t){let{offsetX:r,offsetY:n}=t,[i,o,a,s]=function(e){let{min:[t,r],max:[n,i]}=e.getRenderBounds();return[t,r,n,i]}(e);return[Math.min(a,Math.max(i,r))-i,Math.min(s,Math.max(o,n))-o]}function uk(e){return e=>e.__data__.color}function uC(e){return e=>e.__data__.x}function uA(e){let t=new Map((Array.isArray(e)?e:[e]).flatMap(e=>Array.from(e.markState.keys()).map(t=>[uM(e.key,t.key),t.data])));return e=>{let{index:r,markKey:n,viewKey:i}=e.__data__;return t.get(uM(i,n))[r]}}function uR(e,t=(e,t)=>e,r=(e,t,r)=>e.setAttribute(t,r)){let n="__states__",i="__ordinal__",o=o=>{let{[n]:a=[],[i]:s={}}=o,l=a.reduce((t,r)=>Object.assign(Object.assign({},t),e[r]),s);if(0!==Object.keys(l).length){for(let[e,n]of Object.entries(l)){let i=function(e,t){var r;return null!==(r=e.style[t])&&void 0!==r?r:ug[t]}(o,e),a=t(n,o);r(o,e,a),e in s||(s[e]=i)}o[i]=s}},a=e=>{e[n]||(e[n]=[])};return{setState:(e,...t)=>{a(e),e[n]=[...t],o(e)},removeState:(e,...t)=>{for(let r of(a(e),t)){let t=e[n].indexOf(r);-1!==t&&e[n].splice(t,1)}o(e)},hasState:(e,t)=>(a(e),-1!==e[n].indexOf(t))}}function uM(e,t){return`${e},${t}`}function uI(e,t){let r=(Array.isArray(e)?e:[e]).flatMap(e=>e.marks.map(t=>[uM(e.key,t.key),t.state])),n={};for(let e of t){let[t,i]=Array.isArray(e)?e:[e,{}];n[t]=r.reduce((e,r)=>{var n;let[o,a={}]=r;for(let[r,s]of Object.entries(void 0===(n=a[t])||"object"==typeof n&&0===Object.keys(n).length?i:a[t])){let t=e[r],n=(e,r,n,i)=>o!==uM(i.__data__.viewKey,i.__data__.markKey)?null==t?void 0:t(e,r,n,i):"function"!=typeof s?s:s(e,r,n,i);e[r]=n}return e},{})}return n}function uN(e,t){let r=new Map(e.map((e,t)=>[e,t])),n=t?e.map(t):e;return(e,i)=>{if("function"!=typeof e)return e;let o=r.get(i);return e(t?t(i):i,o,n,i)}}function uL(e){var{link:t=!1,valueof:r=(e,t)=>e,coordinate:n}=e,i=uO(e,["link","valueof","coordinate"]);if(!t)return[()=>{},()=>{}];let o=e=>e.__data__.points,a=(e,t)=>{let[,r,n]=e,[i,,,o]=t;return[r,i,o,n]};return[e=>{var t;if(e.length<=1)return;let n=(0,lU.ZP)(e,(e,t)=>{let{x:r}=e.__data__,{x:n}=t.__data__;return r-n});for(let e=1;e<n.length;e++){let s=(0,rO.ET)(),l=n[e-1],u=n[e],[c,f,d,p]=a(o(l),o(u));s.moveTo(...c),s.lineTo(...f),s.lineTo(...d),s.lineTo(...p),s.closePath();let h=tO(i,e=>r(e,l)),{fill:y=l.getAttribute("fill")}=h,b=uO(h,["fill"]),g=new $.y$({className:"element-link",style:Object.assign({d:s.toString(),fill:y,zIndex:-2},b)});null===(t=l.link)||void 0===t||t.remove(),l.parentNode.appendChild(g),l.link=g}},e=>{var t;null===(t=e.link)||void 0===t||t.remove(),e.link=null}]}function uD(e,t,r){let n=t=>{let{transform:r}=e.style;return r?`${r} ${t}`:t};if(z(r)){let{points:i}=e.__data__,[o,a]=D(r)?tT(i):i,s=r.getCenter(),l=tc(o,s),u=tc(a,s),c=td(l)+th(l,u)/2,f=t*Math.cos(c),d=t*Math.sin(c);return n(`translate(${f}, ${d})`)}return n(D(r)?`translate(${t}, 0)`:`translate(0, ${-t})`)}function uz(e){var{document:t,background:r,scale:n,coordinate:i,valueof:o}=e,a=uO(e,["document","background","scale","coordinate","valueof"]);let s="element-background";if(!r)return[()=>{},()=>{}];let l=(e,t,r)=>{let n=e.invert(t),i=t+e.getBandWidth(n)/2,o=e.getStep(n)/2,a=o*r;return[i-o+a,i+o-a]},u=(e,t)=>{let{x:r}=n;if(!lW(r))return[0,1];let{__data__:i}=e,{x:o}=i,[a,s]=l(r,o,t);return[a,s]},c=(e,t)=>{let{y:r}=n;if(!lW(r))return[0,1];let{__data__:i}=e,{y:o}=i,[a,s]=l(r,o,t);return[a,s]},f=(e,r)=>{let{padding:n}=r,[o,a]=u(e,n),[s,l]=c(e,n),f=[[o,s],[a,s],[a,l],[o,l]].map(e=>i.map(e)),{__data__:d}=e,{y:p,y1:h}=d;return tI(t,f,{y:p,y1:h},i,r)},d=(e,t)=>{let{transform:r="scale(1.2, 1.2)",transformOrigin:n="center center",stroke:i=""}=t,o=Object.assign({transform:r,transformOrigin:n,stroke:i},uO(t,["transform","transformOrigin","stroke"])),a=e.cloneNode(!0);for(let[e,t]of Object.entries(o))a.style[e]=t;return a},p=()=>{let{x:e,y:t}=n;return[e,t].some(lW)};return[e=>{e.background&&e.background.remove();let t=tO(a,t=>o(t,e)),{fill:r="#CCD6EC",fillOpacity:n=.3,zIndex:i=-2,padding:l=.001,strokeWidth:u=0}=t,c=Object.assign(Object.assign({},uO(t,["fill","fillOpacity","zIndex","padding","strokeWidth"])),{fill:r,fillOpacity:n,zIndex:i,padding:l,strokeWidth:u}),h=(p()?f:d)(e,c);h.className=s,e.parentNode.parentNode.appendChild(h),e.background=h},e=>{var t;null===(t=e.background)||void 0===t||t.remove(),e.background=null},e=>e.className===s]}function uF(e,t){let r=e.getRootNode().defaultView.getContextService().getDomElement();(null==r?void 0:r.style)&&(e.cursor=r.style.cursor,r.style.cursor=t)}function uB(e,t,r){return e.find(e=>Object.entries(t).every(([t,n])=>r(e)[t]===n))}var uU=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function uW(e){var{delay:t,createGroup:r,background:n=!1,link:i=!1}=e,o=uU(e,["delay","createGroup","background","link"]);return(e,a,s)=>{let{container:l,view:u,options:c}=e,{scale:f,coordinate:d}=u;return function(e,{elements:t,datum:r,groupKey:n=e=>e,link:i=!1,background:o=!1,delay:a=60,scale:s,coordinate:l,emitter:u,state:c={}}){var f;let d;let p=t(e),h=new Set(p),y=(0,e5.ZP)(p,n),b=uN(p,r),[g,m]=uL(Object.assign({elements:p,valueof:b,link:i,coordinate:l},tr(c.active,"link"))),[v,_,O]=uz(Object.assign({document:e.ownerDocument,scale:s,coordinate:l,background:o,valueof:b},tr(c.active,"background"))),{setState:w,removeState:S,hasState:E}=uR((0,P.Z)(c,{active:Object.assign({},(null===(f=c.active)||void 0===f?void 0:f.offset)&&{transform:(...e)=>{let t=c.active.offset(...e),[,r]=e;return uD(p[r],t,l)}})}),b),x=e=>{let{target:t,nativeEvent:i=!0}=e;if(!h.has(t))return;d&&clearTimeout(d);let o=n(t),a=y.get(o),s=new Set(a);for(let e of p)s.has(e)?E(e,"active")||w(e,"active"):(w(e,"inactive"),m(e)),e!==t&&_(e);v(t),g(a),i&&u.emit("element:highlight",{nativeEvent:i,data:{data:r(t),group:a.map(r)}})},j=()=>{d&&clearTimeout(d),d=setTimeout(()=>{T(),d=null},a)},T=(e=!0)=>{for(let e of p)S(e,"active","inactive"),_(e),m(e);e&&u.emit("element:unhighlight",{nativeEvent:e})},k=e=>{let{target:t}=e;(!o||O(t))&&(o||h.has(t))&&(a>0?j():T())},C=()=>{T()};e.addEventListener("pointerover",x),e.addEventListener("pointerout",k),e.addEventListener("pointerleave",C);let A=e=>{let{nativeEvent:t}=e;t||T(!1)},R=e=>{let{nativeEvent:t}=e;if(t)return;let{data:n}=e.data,i=uB(p,n,r);i&&x({target:i,nativeEvent:!1})};return u.on("element:highlight",R),u.on("element:unhighlight",A),()=>{for(let t of(e.removeEventListener("pointerover",x),e.removeEventListener("pointerout",k),e.removeEventListener("pointerleave",C),u.off("element:highlight",R),u.off("element:unhighlight",A),p))_(t),m(t)}}(ux(l),Object.assign({elements:uw,datum:uA(u),groupKey:r?r(u):void 0,coordinate:d,scale:f,state:uI(c,[["active",n?{}:{lineWidth:"1",stroke:"#000"}],"inactive"]),background:n,link:i,delay:t,emitter:s},o))}}function uZ(e){return uW(Object.assign(Object.assign({},e),{createGroup:uC}))}function uV(e){return uW(Object.assign(Object.assign({},e),{createGroup:uk}))}uW.props={reapplyWhenUpdate:!0},uZ.props={reapplyWhenUpdate:!0},uV.props={reapplyWhenUpdate:!0};var uq=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function u$(e){var{createGroup:t,background:r=!1,link:n=!1}=e,i=uq(e,["createGroup","background","link"]);return(e,o,a)=>{let{container:s,view:l,options:u}=e,{coordinate:c,scale:f}=l;return function(e,{elements:t,datum:r,groupKey:n=e=>e,link:i=!1,single:o=!1,coordinate:a,background:s=!1,scale:l,emitter:u,state:c={}}){var f;let d=t(e),p=new Set(d),h=(0,e5.ZP)(d,n),y=uN(d,r),[b,g]=uL(Object.assign({link:i,elements:d,valueof:y,coordinate:a},tr(c.selected,"link"))),[m,v]=uz(Object.assign({document:e.ownerDocument,background:s,coordinate:a,scale:l,valueof:y},tr(c.selected,"background"))),{setState:_,removeState:O,hasState:w}=uR((0,P.Z)(c,{selected:Object.assign({},(null===(f=c.selected)||void 0===f?void 0:f.offset)&&{transform:(...e)=>{let t=c.selected.offset(...e),[,r]=e;return uD(d[r],t,a)}})}),y),S=(e=!0)=>{for(let e of d)O(e,"selected","unselected"),g(e),v(e);e&&u.emit("element:unselect",{nativeEvent:!0})},E=(e,t,i=!0)=>{if(w(t,"selected"))S();else{let o=n(t),a=h.get(o),s=new Set(a);for(let e of d)s.has(e)?_(e,"selected"):(_(e,"unselected"),g(e)),e!==t&&v(e);if(b(a),m(t),!i)return;u.emit("element:select",Object.assign(Object.assign({},e),{nativeEvent:i,data:{data:[r(t),...a.map(r)]}}))}},x=(e,t,o=!0)=>{let a=n(t),s=h.get(a),l=new Set(s);if(w(t,"selected")){if(!d.some(e=>!l.has(e)&&w(e,"selected")))return S();for(let e of s)_(e,"unselected"),g(e),v(e)}else{let e=s.some(e=>w(e,"selected"));for(let e of d)l.has(e)?_(e,"selected"):w(e,"selected")||_(e,"unselected");!e&&i&&b(s),m(t)}o&&u.emit("element:select",Object.assign(Object.assign({},e),{nativeEvent:o,data:{data:d.filter(e=>w(e,"selected")).map(r)}}))},j=e=>{let{target:t,nativeEvent:r=!0}=e;return p.has(t)?o?E(e,t,r):x(e,t,r):S()};e.addEventListener("click",j);let T=e=>{let{nativeEvent:t,data:n}=e;if(!t)for(let e of o?n.data.slice(0,1):n.data)j({target:uB(d,e,r),nativeEvent:!1})},k=()=>{S(!1)};return u.on("element:select",T),u.on("element:unselect",k),()=>{for(let e of d)g(e);e.removeEventListener("click",j),u.off("element:select",T),u.off("element:unselect",k)}}(ux(s),Object.assign({elements:uw,datum:uA(l),groupKey:t?t(l):void 0,coordinate:c,scale:f,state:uI(u,[["selected",r?{}:{lineWidth:"1",stroke:"#000"}],"unselected"]),background:r,link:n,emitter:a},i))}}function uH(e){return u$(Object.assign(Object.assign({},e),{createGroup:uC}))}function uG(e){return u$(Object.assign(Object.assign({},e),{createGroup:uk}))}u$.props={reapplyWhenUpdate:!0},uH.props={reapplyWhenUpdate:!0},uG.props={reapplyWhenUpdate:!0};var uY=r(57484),uK=r(42395),uX=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function uQ(e){var{wait:t=20,leading:r,trailing:n=!1,labelFormatter:i=e=>`${e}`}=e,o=uX(e,["wait","leading","trailing","labelFormatter"]);return e=>{let a;let{view:s,container:l,update:u,setState:c}=e,{markState:f,scale:d,coordinate:p}=s,h=function(e,t,r){let[n]=Array.from(e.entries()).filter(([e])=>e.type===t).map(([e])=>{let{encode:t}=e;return Object.fromEntries(r.map(e=>{let r=t[e];return[e,r?r.value:void 0]}))});return n}(f,"line",["x","y","series"]);if(!h)return;let{y:y,x:b,series:g=[]}=h,m=y.map((e,t)=>t),v=(0,lU.ZP)(m.map(e=>b[e])),_=ux(l),O=l.getElementsByClassName(uf),w=l.getElementsByClassName(uy),S=(0,e5.ZP)(w,e=>e.__data__.key.split("-")[0]),E=new $.x1({style:Object.assign({x1:0,y1:0,x2:0,y2:_.getAttribute("height"),stroke:"black",lineWidth:1},tr(o,"rule"))}),x=new $.xv({style:Object.assign({x:0,y:_.getAttribute("height"),text:"",fontSize:10},tr(o,"label"))});E.append(x),_.appendChild(E);let j=(e,t,r)=>{let[n]=e.invert(r),i=t.invert(n);return v[(0,lB.ZR)(v,i)]},T=(e,t)=>{E.setAttribute("x1",e[0]),E.setAttribute("x2",e[0]),x.setAttribute("text",i(t))},k=e=>{let{scale:t,coordinate:r}=a,{x:n,y:i}=t,o=j(r,n,e);for(let t of(T(e,o),O)){let{seriesIndex:e,key:n}=t.__data__,a=e[(0,uK.Z)(e=>b[+e]).center(e,o)],s=[0,i.map(1)],l=[0,i.map(y[a]/y[e[0]])],[,u]=r.map(s),[,c]=r.map(l),f=u-c;for(let e of(t.setAttribute("transform",`translate(0, ${f})`),S.get(n)||[]))e.setAttribute("dy",f)}},C=(0,uY.Z)(e=>{let t=uj(_,e);t&&k(t)},t,{leading:r,trailing:n});return(e=>{var t,r,n,i;return t=this,r=void 0,n=void 0,i=function*(){let{x:t}=d,r=j(p,t,e);T(e,r),c("chartIndex",e=>{let t=(0,P.Z)({},e),n=t.marks.find(e=>"line"===e.type),i=(0,od.Z)((0,e5.jJ)(m,e=>(0,od.Z)(e,e=>+y[e])/(0,of.Z)(e,e=>+y[e]),e=>g[e]).values());(0,P.Z)(n,{scale:{y:{domain:[1/i,i]}}});let o=function(e){let{transform:t=[]}=e,r=t.find(e=>"normalizeY"===e.type);if(r)return r;let n={type:"normalizeY"};return t.push(n),e.transform=t,n}(n);for(let e of(o.groupBy="color",o.basis=(e,t)=>t[e[(0,uK.Z)(e=>b[+e]).center(e,r)]],t.marks))e.animate=!1;return t}),a=(yield u("chartIndex")).view},new(n||(n=Promise))(function(e,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof n?r:new n(function(e){e(r)})).then(a,s)}l((i=i.apply(t,r||[])).next())})})([0,0]),_.addEventListener("pointerenter",C),_.addEventListener("pointermove",C),_.addEventListener("pointerleave",C),()=>{E.remove(),_.removeEventListener("pointerenter",C),_.removeEventListener("pointermove",C),_.removeEventListener("pointerleave",C)}}}uQ.props={reapplyWhenUpdate:!0};var uJ=r(70919),u0=r(74204),u1=r(29343),u2=r(60738);function u5(e){return void 0===e&&(e=""),{CONTAINER:"".concat(e,"tooltip"),TITLE:"".concat(e,"tooltip-title"),LIST:"".concat(e,"tooltip-list"),LIST_ITEM:"".concat(e,"tooltip-list-item"),NAME:"".concat(e,"tooltip-list-item-name"),MARKER:"".concat(e,"tooltip-list-item-marker"),NAME_LABEL:"".concat(e,"tooltip-list-item-name-label"),VALUE:"".concat(e,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(e,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(e,"tooltip-crosshair-y")}}var u4={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"},u3=function(e){function t(t){var r,n,i,o,a,s=this,l=null===(a=null===(o=t.style)||void 0===o?void 0:o.template)||void 0===a?void 0:a.prefixCls,u=u5(l);return(s=e.call(this,t,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(u.CONTAINER,'"></div>'),title:'<div class="'.concat(u.TITLE,'"></div>'),item:'<li class="'.concat(u.LIST_ITEM,'" data-index={index}>\n        <span class="').concat(u.NAME,'">\n          <span class="').concat(u.MARKER,'" style="background:{color}"></span>\n          <span class="').concat(u.NAME_LABEL,'" title="{name}">{name}</span>\n        </span>\n        <span class="').concat(u.VALUE,'" title="{value}">{value}</span>\n      </li>')},style:(void 0===(r=l)&&(r=""),i=u5(r),(n={})[".".concat(i.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},n[".".concat(i.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},n[".".concat(i.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},n[".".concat(i.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},n[".".concat(i.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},n[".".concat(i.NAME)]={display:"flex","align-items":"center","max-width":"216px"},n[".".concat(i.NAME_LABEL)]=(0,n_.pi)({flex:1},u4),n[".".concat(i.VALUE)]=(0,n_.pi)({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},u4),n[".".concat(i.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},n[".".concat(i.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},n)})||this).timestamp=-1,s.prevCustomContentKey=s.attributes.contentKey,s.initShape(),s.render(s.attributes,s),s}return(0,n_.ZT)(t,e),Object.defineProperty(t.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),t.prototype.getContainer=function(){return this.element},Object.defineProperty(t.prototype,"elementSize",{get:function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HTMLTooltipItemsElements",{get:function(){var e=this.attributes,t=e.data,r=e.template;return t.map(function(e,t){var n=e.name,i=e.color,o=e.index,a=(0,n_._T)(e,["name","color","index"]),s=(0,n_.pi)({name:void 0===n?"":n,color:void 0===i?"black":i,index:null!=o?o:t},a);return(0,u1.L)((0,u2.Z)(r.item,s))})},enumerable:!1,configurable:!0}),t.prototype.render=function(e,t){this.renderHTMLTooltipElement(),this.updatePosition()},t.prototype.destroy=function(){var t;null===(t=this.element)||void 0===t||t.remove(),e.prototype.destroy.call(this)},t.prototype.show=function(e,t){var r=this;if(void 0!==e&&void 0!==t){var n="hidden"===this.element.style.visibility,i=function(){r.attributes.x=null!=e?e:r.attributes.x,r.attributes.y=null!=t?t:r.attributes.y,r.updatePosition()};n?this.closeTransition(i):i()}this.element.style.visibility="visible"},t.prototype.hide=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.attributes.enterable&&this.isCursorEntered(e,t)||(this.element.style.visibility="hidden")},t.prototype.initShape=function(){var e=this.attributes.template;this.element=(0,u1.L)(e.container),this.id&&this.element.setAttribute("id",this.id)},t.prototype.renderCustomContent=function(){if(void 0===this.prevCustomContentKey||this.prevCustomContentKey!==this.attributes.contentKey){this.prevCustomContentKey=this.attributes.contentKey;var e=this.attributes.content;e&&("string"==typeof e?this.element.innerHTML=e:this.element.replaceChildren(e))}},t.prototype.renderHTMLTooltipElement=function(){var e,t,r=this.attributes,n=r.template,i=r.title,o=r.enterable,a=r.style,s=r.content,l=u5(n.prefixCls),u=this.element;if(this.element.style.pointerEvents=o?"auto":"none",s)this.renderCustomContent();else{i?(u.innerHTML=n.title,u.getElementsByClassName(l.TITLE)[0].innerHTML=i):null===(t=null===(e=u.getElementsByClassName(l.TITLE))||void 0===e?void 0:e[0])||void 0===t||t.remove();var c=this.HTMLTooltipItemsElements,f=document.createElement("ul");f.className=l.LIST,f.replaceChildren.apply(f,(0,n_.ev)([],(0,n_.CR)(c),!1));var d=this.element.querySelector(".".concat(l.LIST));d?d.replaceWith(f):u.appendChild(f)}!function(e,t){Object.entries(t).forEach(function(t){var r=(0,n_.CR)(t,2),n=r[0],i=r[1];(0,n_.ev)([e],(0,n_.CR)(e.querySelectorAll(n)),!1).filter(function(e){return e.matches(n)}).forEach(function(e){e&&(e.style.cssText+=Object.entries(i).reduce(function(e,t){return"".concat(e).concat(t.join(":"),";")},""))})})}(u,a)},t.prototype.getRelativeOffsetFromCursor=function(e){var t=this.attributes,r=t.position,n=t.offset,i=(e||r).split("-"),o={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},a=this.elementSize,s=a.width,l=a.height,u=[-s/2,-l/2];return i.forEach(function(e){var t=(0,n_.CR)(u,2),r=t[0],i=t[1],a=(0,n_.CR)(o[e],2),c=a[0],f=a[1];u=[r+(s/2+n[0])*c,i+(l/2+n[1])*f]}),u},t.prototype.setOffsetPosition=function(e){var t=(0,n_.CR)(e,2),r=t[0],n=t[1],i=this.attributes,o=i.x,a=i.y,s=i.container,l=s.x,u=s.y;this.element.style.left="".concat(+(void 0===o?0:o)+l+r,"px"),this.element.style.top="".concat(+(void 0===a?0:a)+u+n,"px")},t.prototype.updatePosition=function(){var e=this.attributes.showDelay,t=Date.now();this.timestamp>0&&t-this.timestamp<(void 0===e?60:e)||(this.timestamp=t,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},t.prototype.autoPosition=function(e){var t=(0,n_.CR)(e,2),r=t[0],n=t[1],i=this.attributes,o=i.x,a=i.y,s=i.bounding,l=i.position;if(!s)return[r,n];var u=this.element,c=u.offsetWidth,f=u.offsetHeight,d=(0,n_.CR)([+o+r,+a+n],2),p=d[0],h=d[1],y={left:"right",right:"left",top:"bottom",bottom:"top"},b=s.x,g=s.y,m={left:p<b,right:p+c>b+s.width,top:h<g,bottom:h+f>g+s.height},v=[];l.split("-").forEach(function(e){m[e]?v.push(y[e]):v.push(e)});var _=v.join("-");return this.getRelativeOffsetFromCursor(_)},t.prototype.isCursorEntered=function(e,t){if(this.element){var r=this.element.getBoundingClientRect();return new sa(r.x,r.y,r.width,r.height).isPointIn(e,t)}return!1},t.prototype.closeTransition=function(e){var t=this,r=this.element.style.transition;this.element.style.transition="none",e(),setTimeout(function(){t.element.style.transition=r},10)},t.tag="tooltip",t}(nA);let u6={BEFORE_RENDER:"beforerender",AFTER_RENDER:"afterrender",BEFORE_PAINT:"beforepaint",AFTER_PAINT:"afterpaint",BEFORE_CLEAR:"beforeclear",AFTER_CLEAR:"afterclear",BEFORE_DESTROY:"beforedestroy",AFTER_DESTROY:"afterdestroy",BEFORE_CHANGE_SIZE:"beforechangesize",AFTER_CHANGE_SIZE:"afterchangesize",POINTER_TAP:"pointertap",POINTER_DOWN:"pointerdown",POINTER_UP:"pointerup",POINTER_OVER:"pointerover",POINTER_OUT:"pointerout",POINTER_MOVE:"pointermove",POINTER_ENTER:"pointerenter",POINTER_LEAVE:"pointerleave",POINTER_UPOUTSIDE:"pointerupoutside",DRAG_START:"dragstart",DRAG:"drag",DRAG_END:"dragend",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"DROP",CLICK:"click",DBLCLICK:"dblclick"};function u8(e,t){let{__data__:r}=e,{markKey:n,index:i,seriesIndex:o}=r,{markState:a}=t,s=Array.from(a.keys()).find(e=>e.key===n);if(s)return o?o.map(e=>s.data[e]):s.data[i]}function u9(e,t){if(t(e))return e;let r=e.parent;for(;r&&!t(r);)r=r.parent;return r}function u7(e,t,r,n=e=>!0){return i=>{if(!n(i))return;r.emit(`plot:${e}`,i);let{target:o}=i;if(!o)return;let{className:a}=o;if("plot"===a)return;let s=u9(o,e=>"element"===e.className),l=u9(o,e=>"component"===e.className),u=s||l;if(!u)return;let{className:c,markType:f}=u;if("element"===c){let n=Object.assign(Object.assign({},i),{nativeEvent:!0,data:{data:u8(u,t)}});r.emit(`element:${e}`,n),r.emit(`${f}:${e}`,n)}else{let t=Object.assign(Object.assign({},i),{nativeEvent:!0});r.emit(`component:${e}`,t),r.emit(`${a}:${e}`,t)}}}function ce(){return(e,t,r)=>{let{container:n,view:i}=e,o=u7(u6.CLICK,i,r,e=>1===e.detail),a=u7(u6.DBLCLICK,i,r,e=>2===e.detail),s=u7(u6.POINTER_TAP,i,r),l=u7(u6.POINTER_DOWN,i,r),u=u7(u6.POINTER_UP,i,r),c=u7(u6.POINTER_OVER,i,r),f=u7(u6.POINTER_OUT,i,r),d=u7(u6.POINTER_MOVE,i,r),p=u7(u6.POINTER_ENTER,i,r),h=u7(u6.POINTER_LEAVE,i,r),y=u7(u6.POINTER_UPOUTSIDE,i,r),b=u7(u6.DRAG_START,i,r),g=u7(u6.DRAG,i,r),m=u7(u6.DRAG_END,i,r),v=u7(u6.DRAG_ENTER,i,r),_=u7(u6.DRAG_LEAVE,i,r),O=u7(u6.DRAG_OVER,i,r),w=u7(u6.DROP,i,r);return n.addEventListener("click",o),n.addEventListener("click",a),n.addEventListener("pointertap",s),n.addEventListener("pointerdown",l),n.addEventListener("pointerup",u),n.addEventListener("pointerover",c),n.addEventListener("pointerout",f),n.addEventListener("pointermove",d),n.addEventListener("pointerenter",p),n.addEventListener("pointerleave",h),n.addEventListener("pointerupoutside",y),n.addEventListener("dragstart",b),n.addEventListener("drag",g),n.addEventListener("dragend",m),n.addEventListener("dragenter",v),n.addEventListener("dragleave",_),n.addEventListener("dragover",O),n.addEventListener("drop",w),()=>{n.removeEventListener("click",o),n.removeEventListener("click",a),n.removeEventListener("pointertap",s),n.removeEventListener("pointerdown",l),n.removeEventListener("pointerup",u),n.removeEventListener("pointerover",c),n.removeEventListener("pointerout",f),n.removeEventListener("pointermove",d),n.removeEventListener("pointerenter",p),n.removeEventListener("pointerleave",h),n.removeEventListener("pointerupoutside",y),n.removeEventListener("dragstart",b),n.removeEventListener("drag",g),n.removeEventListener("dragend",m),n.removeEventListener("dragenter",v),n.removeEventListener("dragleave",_),n.removeEventListener("dragover",O),n.removeEventListener("drop",w)}}}ce.props={reapplyWhenUpdate:!0};var ct=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function cr(e,t){return t?"string"==typeof t?document.querySelector(t):t:e.ownerDocument.defaultView.getContextService().getDomElement().parentElement}function cn({root:e,data:t,x:r,y:n,render:i,event:o,single:a,position:s="right-bottom",enterable:l=!1,css:u,mount:c,bounding:f}){let d=cr(e,c),p=cr(e),h=a?p:e,y=f||function(e){let{min:[t,r],max:[n,i]}=e.getBounds();return{x:t,y:r,width:n-t,height:i-r}}(e),b=function(e,t){let r=e.getBoundingClientRect(),n=t.getBoundingClientRect();return{x:r.x-n.x,y:r.y-n.y}}(p,d),{tooltipElement:g=function(e,t,r,n,i,o,a,s={}){let l=new u3({className:"tooltip",style:{x:t,y:r,container:a,data:[],bounding:o,position:n,enterable:i,title:"",offset:[10,10],template:{prefixCls:"g2-"},style:(0,P.Z)({".g2-tooltip":{},".g2-tooltip-title":{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},s)}});return e.appendChild(l.HTMLTooltipElement),l}(d,r,n,s,l,y,b,u)}=h,{items:m,title:v=""}=t;g.update(Object.assign({x:r,y:n,data:m,title:v,position:s,enterable:l},void 0!==i&&{content:i(o,{items:m,title:v})})),h.tooltipElement=g}function ci({root:e,single:t,emitter:r,nativeEvent:n=!0,event:i=null}){n&&r.emit("tooltip:hide",{nativeEvent:n});let o=cr(e),{tooltipElement:a}=t?o:e;a&&a.hide(null==i?void 0:i.clientX,null==i?void 0:i.clientY)}function co({root:e,single:t}){let r=cr(e),n=t?r:e;if(!n)return;let{tooltipElement:i}=n;i&&(i.destroy(),n.tooltipElement=void 0)}function ca(e){let{value:t}=e;return Object.assign(Object.assign({},e),{value:void 0===t?"undefined":t})}function cs(e){let t=e.getAttribute("fill"),r=e.getAttribute("stroke"),{__data__:n}=e,{color:i=t&&"transparent"!==t?t:r}=n;return i}function cl(e,t=e=>e){return Array.from(new Map(e.map(e=>[t(e),e])).values())}function cu(e,t,r,n=e.map(e=>e.__data__),i={}){let o=e=>e instanceof Date?+e:e,a=cl(n.map(e=>e.title),o).filter(tt),s=n.flatMap((n,o)=>{let a=e[o],{items:s=[],title:l}=n,u=s.filter(tt),c=void 0!==r?r:s.length<=1;return u.map(e=>{var{color:r=cs(a)||i.color,name:o}=e,s=ct(e,["color","name"]);let u=function(e,t){let{color:r,series:n,facet:i=!1}=e,{color:o,series:a}=t;if(n&&n.invert&&!(n instanceof ox.t)&&!(n instanceof oH.s))return n.clone().invert(a);if(a&&n instanceof ox.t&&n.invert(a)!==o&&!i)return n.invert(a);if(r&&r.invert&&!(r instanceof ox.t)&&!(r instanceof oH.s)){let e=r.invert(o);return Array.isArray(e)?null:e}return null}(t,n);return Object.assign(Object.assign({},s),{color:r,name:(c?u||o:o||u)||l})})}).map(ca);return Object.assign(Object.assign({},a.length>0&&{title:a.join(",")}),{items:cl(s,e=>`(${o(e.name)}, ${o(e.value)}, ${o(e.color)})`)})}function cc(e){e.ruleY&&(e.ruleY.remove(),e.ruleY=void 0)}function cf(e){e.markers&&(e.markers.forEach(e=>e.remove()),e.markers=[])}function cd(e,t){return Array.from(e.values()).some(e=>{var r;return null===(r=e.interaction)||void 0===r?void 0:r[t]})}function cp(e,t){return void 0===e?t:e}function ch(e){let{title:t,items:r}=e;return 0===r.length&&void 0===t}function cy(e,t){var{elements:r,sort:n,filter:i,scale:o,coordinate:a,crosshairs:s,render:l,groupName:u,emitter:c,wait:f=50,leading:d=!0,trailing:p=!1,startX:h=0,startY:y=0,body:b=!0,single:g=!0,position:m,enterable:v,mount:_,bounding:O,theme:w,disableNative:S=!1,marker:E=!0,preserve:x=!1,style:j={},css:T={}}=t,k=ct(t,["elements","sort","filter","scale","coordinate","crosshairs","render","groupName","emitter","wait","leading","trailing","startX","startY","body","single","position","enterable","mount","bounding","theme","disableNative","marker","preserve","style","css"]);let C=r(e),A=D(a),R=z(a),M=(0,P.Z)(j,k),{innerWidth:I,innerHeight:N,width:L,height:F,insetLeft:B,insetTop:U}=a.getOptions(),W=[],Z=[];for(let e of C){let{__data__:t}=e,{seriesX:r,title:n,items:i}=t;r?W.push(e):(n||i)&&Z.push(e)}let V=!!(A?o.y:o.x).getBandWidth&&Z.length>0;W.sort((e,t)=>{let r=A?0:1,n=e=>e.getBounds().min[r];return A?n(t)-n(e):n(e)-n(t)});let q=e=>{let t=A?1:0,{min:r,max:n}=e.getLocalBounds();return(0,lU.ZP)([r[t],n[t]])};Z.sort((e,t)=>{let[r,n]=q(e),[i,o]=q(t),a=(r+n)/2,s=(i+o)/2;return A?s-a:a-s});let H=new Map(W.map(e=>{let{__data__:t}=e,{seriesX:r}=t,n=r.map((e,t)=>t);return[e,[(0,lU.ZP)(n,e=>r[+e]),r]]})),{x:G}=o,Y=(null==G?void 0:G.getBandWidth)?G.getBandWidth()/2:0,K=e=>{let[t]=a.invert(e);return t-Y},X=(e,t,r)=>{let n=K(e),i=r.filter(tt),[o,a]=(0,lU.ZP)([i[0],i[i.length-1]]);if(!V&&(n<o||n>a)&&o!==a)return null;let s=(0,(0,uK.Z)(e=>r[+e]).center)(t,n);return t[s]},Q=(e,t)=>{let r=e[A?1:0],n=t.filter(e=>{let[t,n]=q(e);return r>=t&&r<=n});if(!V||n.length>0)return n;let i=(0,(0,uK.Z)(e=>{let[t,r]=q(e);return(t+r)/2}).center)(t,r);return[t[i]].filter(tt)},J=(e,t)=>{let{__data__:r}=e;return Object.fromEntries(Object.entries(r).filter(([e])=>e.startsWith("series")&&"series"!==e).map(([e,r])=>{let n=r[t];return[(0,e4.Z)(e.replace("series","")),n]}))},ee=(0,uY.Z)(t=>{let r=uj(e,t);if(!r)return;let f=uP(e),d=f.min[0],p=f.min[1],S=[r[0]-h,r[1]-y];if(!S)return;let x=Q(S,Z),P=[],j=[];for(let e of W){let[t,r]=H.get(e),n=X(S,t,r);if(null!==n){P.push(e);let t=J(e,n),{x:r,y:i}=t,o=a.map([(r||0)+Y,i||0]);j.push([Object.assign(Object.assign({},t),{element:e}),o])}}let k=Array.from(new Set(j.map(e=>e[0].x))),C=k[(0,u0.Z)(k,e=>Math.abs(e-K(S)))],D=j.filter(e=>e[0].x===C),z=[...D.map(e=>e[0]),...x.map(e=>e.__data__)],V=[...P,...x],q=cu(V,o,u,z,w);if(n&&q.items.sort((e,t)=>n(e)-n(t)),i&&(q.items=q.items.filter(i)),0===V.length||ch(q)){et(t);return}b&&cn({root:e,data:q,x:r[0]+d,y:r[1]+p,render:l,event:t,single:g,position:m,enterable:v,mount:_,bounding:O,css:T}),s&&function(e,t,r){var{plotWidth:n,plotHeight:i,mainWidth:o,mainHeight:a,startX:s,startY:l,transposed:u,polar:c,insetLeft:f,insetTop:d}=r;let p=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},ct(r,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"])),h=t.map(e=>e[1]),y=t.map(e=>e[0]),b=(0,uJ.Z)(h),g=(0,uJ.Z)(y),[m,v,_,O]=(()=>{if(c){let e=Math.min(o,a)/2,t=s+f+o/2,r=l+d+a/2,n=td(tc([g,b],[t,r])),i=t+e*Math.cos(n),u=r+e*Math.sin(n);return[t,i,r,u]}return u?[s,s+n,b+l,b+l]:[g+s,g+s,l,l+i]})();if(y.length>0){let t=e.ruleY||(()=>{let t=new $.x1({style:Object.assign({x1:m,x2:v,y1:_,y2:O},p)});return e.appendChild(t),t})();t.style.x1=m,t.style.x2=v,t.style.y1=_,t.style.y2=O,e.ruleY=t}}(e,D.map(e=>e[1]),Object.assign(Object.assign({},tr(M,"crosshairs")),{plotWidth:I,plotHeight:N,mainWidth:L,mainHeight:F,insetLeft:B,insetTop:U,startX:h,startY:y,transposed:A,polar:R})),E&&function(e,{data:t,style:r,theme:n}){e.markers&&e.markers.forEach(e=>e.remove());let i=t.filter(e=>{let[{x:t,y:r}]=e;return tt(t)&&tt(r)}).map(e=>{let[{color:t,element:i},o]=e,a=t||i.style.fill||i.style.stroke||n.color;return new $.Cd({style:Object.assign({cx:o[0],cy:o[1],fill:a,r:4,stroke:"#fff",strokeWidth:2},r)})});for(let t of i)e.appendChild(t);e.markers=i}(e,{data:D,style:tr(M,"marker"),theme:w}),c.emit("tooltip:show",Object.assign(Object.assign({},t),{nativeEvent:!0,data:{data:{x:lZ(o.x,K(S),!0)}}}))},f,{leading:d,trailing:p}),et=t=>{ci({root:e,single:g,emitter:c,event:t}),s&&cc(e),E&&cf(e)},er=()=>{co({root:e,single:g}),s&&cc(e),E&&cf(e)},en=({nativeEvent:t,data:r})=>{if(t)return;let{x:n}=r.data,{x:i}=o,s=i.map(n),[l,u]=a.map([s,.5]),{min:[c,f]}=e.getRenderBounds();ee({offsetX:l+c,offsetY:u+f})},ei=()=>{ci({root:e,single:g,emitter:c,nativeEvent:!1})},eo=()=>{el(),er()},ea=()=>{es()},es=()=>{S||(e.addEventListener("pointerenter",ee),e.addEventListener("pointermove",ee),e.addEventListener("pointerleave",et))},el=()=>{S||(e.removeEventListener("pointerenter",ee),e.removeEventListener("pointermove",ee),e.removeEventListener("pointerleave",et))};return es(),c.on("tooltip:show",en),c.on("tooltip:hide",ei),c.on("tooltip:disable",eo),c.on("tooltip:enable",ea),()=>{el(),c.off("tooltip:show",en),c.off("tooltip:hide",ei),c.off("tooltip:disable",eo),c.off("tooltip:enable",ea),x?ci({root:e,single:g,emitter:c,nativeEvent:!1}):er()}}function cb(e){let{shared:t,crosshairs:r,series:n,name:i,item:o=()=>({}),facet:a=!1}=e,s=ct(e,["shared","crosshairs","series","name","item","facet"]);return(e,i,l)=>{let{container:u,view:c}=e,{scale:f,markState:d,coordinate:p,theme:h}=c,y=cd(d,"seriesTooltip"),b=cd(d,"crosshairs"),g=ux(u),m=cp(n,y);if(m&&Array.from(d.values()).some(e=>{var t;return(null===(t=e.interaction)||void 0===t?void 0:t.seriesTooltip)&&e.tooltip})&&!a)return cy(g,Object.assign(Object.assign({},s),{theme:h,elements:uw,scale:f,coordinate:p,crosshairs:cp(r,b),item:o,emitter:l}));if(m&&a){let t=i.filter(t=>t!==e&&t.options.parentKey===e.options.key),n=uS(e,i),a=t[0].view.scale,u=g.getBounds(),c=u.min[0],f=u.min[1];return Object.assign(a,{facet:!0}),cy(g.parentNode.parentNode,Object.assign(Object.assign({},s),{theme:h,elements:()=>n,scale:a,coordinate:p,crosshairs:cp(r,b),item:o,startX:c,startY:f,emitter:l}))}return function(e,{elements:t,scale:r,render:n,groupName:i,sort:o,filter:a,emitter:s,wait:l=50,leading:u=!0,trailing:c=!1,groupKey:f=e=>e,single:d=!0,position:p,enterable:h,datum:y,view:b,mount:g,bounding:m,theme:v,shared:_=!1,body:O=!0,disableNative:w=!1,preserve:S=!1,css:E={}}){let x=t(e),P=new Set(x),j=(0,e5.ZP)(x,f),T=(0,uY.Z)(t=>{let{target:l}=t;if(!P.has(l)){ci({root:e,single:d,emitter:s,event:t});return}let u=f(l),c=j.get(u),y=1!==c.length||_?cu(c,r,i,void 0,v):function(e){let{__data__:t}=e,{title:r,items:n=[]}=t,i=n.filter(tt).map(t=>{var{color:r=cs(e)}=t;return Object.assign(Object.assign({},ct(t,["color"])),{color:r})}).map(ca);return Object.assign(Object.assign({},r&&{title:r}),{items:i})}(c[0]);if(o&&y.items.sort((e,t)=>o(e)-o(t)),a&&(y.items=y.items.filter(a)),ch(y)){ci({root:e,single:d,emitter:s,event:t});return}let{offsetX:w,offsetY:S}=t;O&&cn({root:e,data:y,x:w,y:S,render:n,event:t,single:d,position:p,enterable:h,mount:g,bounding:m,css:E}),s.emit("tooltip:show",Object.assign(Object.assign({},t),{nativeEvent:!0,data:{data:u8(l,b)}}))},l,{leading:u,trailing:c}),k=t=>{ci({root:e,single:d,emitter:s,event:t})},C=()=>{w||(e.addEventListener("pointermove",T),e.addEventListener("pointerleave",k))},A=()=>{w||(e.removeEventListener("pointermove",T),e.removeEventListener("pointerleave",k))},R=({nativeEvent:e,data:t})=>{if(e)return;let r=uB(x,t.data,y);if(!r)return;let{x:n,y:i,width:o,height:a}=r.getBBox();T({target:r,offsetX:n+o/2,offsetY:i+a/2})},M=({nativeEvent:t}={})=>{t||ci({root:e,single:d,emitter:s,nativeEvent:!1})};return s.on("tooltip:show",R),s.on("tooltip:hide",M),s.on("tooltip:enable",()=>{C()}),s.on("tooltip:disable",()=>{A(),co({root:e,single:d})}),C(),()=>{A(),s.off("tooltip:show",R),s.off("tooltip:hide",M),S?ci({root:e,single:d,emitter:s,nativeEvent:!1}):co({root:e,single:d})}}(g,Object.assign(Object.assign({},s),{datum:uA(c),elements:uw,scale:f,coordinate:p,groupKey:t?uC(c):void 0,item:o,emitter:l,view:c,theme:h,shared:t}))}}cb.props={reapplyWhenUpdate:!0};var cg=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};let cm="legend-category";function cv(e){return e.getElementsByClassName("legend-category-item-marker")[0]}function c_(e){return e.getElementsByClassName("legend-category-item-label")[0]}function cO(e){return e.getElementsByClassName("items-item")}function cw(e){return e.getElementsByClassName(cm)}function cS(e){let t=e.parentNode;for(;t&&!t.__data__;)t=t.parentNode;return t.__data__}function cE(e,{legend:t,channel:r,value:n,ordinal:i,channels:o,allChannels:a,facet:s=!1}){return cg(this,void 0,void 0,function*(){let{view:l,update:u,setState:c}=e;c(t,e=>{let{marks:t}=e,u=t.map(e=>{if("legends"===e.type)return e;let{transform:t=[]}=e,u=t.findIndex(({type:e})=>e.startsWith("group")||e.startsWith("bin")),c=[...t];c.splice(u+1,0,{type:"filter",[r]:{value:n,ordinal:i}});let f=Object.fromEntries(o.map(e=>[e,{domain:l.scale[e].getOptions().domain}]));return(0,P.Z)({},e,Object.assign(Object.assign({transform:c,scale:f},!i&&{animate:!1}),{legend:!s&&Object.fromEntries(a.map(e=>[e,{preserve:!0}]))}))});return Object.assign(Object.assign({},e),{marks:u})}),yield u()})}function cx(e,t){for(let r of e)cE(r,Object.assign(Object.assign({},t),{facet:!0}))}var cP=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function cj(e,t){for(let[r,n]of Object.entries(t))e.style(r,n)}let cT=rl(e=>{let t=e.attributes,{x:r,y:n,width:i,height:o,class:a,renders:s={},handleSize:l=10,document:u}=t,c=cP(t,["x","y","width","height","class","renders","handleSize","document"]);if(!u||void 0===i||void 0===o||void 0===r||void 0===n)return;let f=l/2,d=(e,t,r)=>{e.handle||(e.handle=r.createElement("rect"),e.append(e.handle));let{handle:n}=e;return n.attr(t),n},p=tr(ti(c,"handleNW","handleNE"),"handleN"),{render:h=d}=p,y=cP(p,["render"]),b=tr(c,"handleE"),{render:g=d}=b,m=cP(b,["render"]),v=tr(ti(c,"handleSE","handleSW"),"handleS"),{render:_=d}=v,O=cP(v,["render"]),w=tr(c,"handleW"),{render:S=d}=w,E=cP(w,["render"]),x=tr(c,"handleNW"),{render:P=d}=x,j=cP(x,["render"]),T=tr(c,"handleNE"),{render:k=d}=T,C=cP(T,["render"]),A=tr(c,"handleSE"),{render:R=d}=A,M=cP(A,["render"]),I=tr(c,"handleSW"),{render:N=d}=I,L=cP(I,["render"]),D=(e,t)=>{let{id:r}=e,n=e.attributes,{x:i,y:o}=n,a=t(e,Object.assign({x:0,y:0},cP(n,["x","y"])),u);a.id=r,a.style.draggable=!0},z=e=>()=>new(rl(t=>D(t,e)))({}),F=tl(e).attr("className",a).style("x",r).style("y",n).style("draggable",!0);F.maybeAppend("selection","rect").style("draggable",!0).style("fill","transparent").call(cj,Object.assign({width:i,height:o},ti(c,"handle"))),F.maybeAppend("handle-n",z(h)).style("x",f).style("y",-f).style("width",i-l).style("height",l).style("fill","transparent").call(cj,y),F.maybeAppend("handle-e",z(g)).style("x",i-f).style("y",f).style("width",l).style("height",o-l).style("fill","transparent").call(cj,m),F.maybeAppend("handle-s",z(_)).style("x",f).style("y",o-f).style("width",i-l).style("height",l).style("fill","transparent").call(cj,O),F.maybeAppend("handle-w",z(S)).style("x",-f).style("y",f).style("width",l).style("height",o-l).style("fill","transparent").call(cj,E),F.maybeAppend("handle-nw",z(P)).style("x",-f).style("y",-f).style("width",l).style("height",l).style("fill","transparent").call(cj,j),F.maybeAppend("handle-ne",z(k)).style("x",i-f).style("y",-f).style("width",l).style("height",l).style("fill","transparent").call(cj,C),F.maybeAppend("handle-se",z(R)).style("x",i-f).style("y",o-f).style("width",l).style("height",l).style("fill","transparent").call(cj,M),F.maybeAppend("handle-sw",z(N)).style("x",-f).style("y",o-f).style("width",l).style("height",l).style("fill","transparent").call(cj,L)});function ck(e,t){var{brushed:r=()=>{},brushended:n=()=>{},brushcreated:i=()=>{},brushstarted:o=()=>{},brushupdated:a=()=>{},extent:s=function(e){let{width:t,height:r}=e.getBBox();return[0,0,t,r]}(e),brushRegion:l=(e,t,r,n,i)=>[e,t,r,n],reverse:u=!1,fill:c="#777",fillOpacity:f="0.3",stroke:d="#fff",selectedHandles:p=["handle-n","handle-e","handle-s","handle-w","handle-nw","handle-ne","handle-se","handle-sw"]}=t,h=cP(t,["brushed","brushended","brushcreated","brushstarted","brushupdated","extent","brushRegion","reverse","fill","fillOpacity","stroke","selectedHandles"]);let y=null,b=null,g=null,m=null,v=null,_=!1,[O,w,S,E]=s;uF(e,"crosshair"),e.style.draggable=!0;let x=(e,t,r)=>{if(o(r),m&&m.remove(),v&&v.remove(),y=[e,t],u)return P();j()},P=()=>{v=new $.y$({style:Object.assign(Object.assign({},h),{fill:c,fillOpacity:f,stroke:d,pointerEvents:"none"})}),m=new cT({style:{x:0,y:0,width:0,height:0,draggable:!0,document:e.ownerDocument},className:"mask"}),e.appendChild(v),e.appendChild(m)},j=()=>{m=new cT({style:Object.assign(Object.assign({document:e.ownerDocument,x:0,y:0},h),{fill:c,fillOpacity:f,stroke:d,draggable:!0}),className:"mask"}),e.appendChild(m)},T=(e=!0)=>{m&&m.remove(),v&&v.remove(),y=null,b=null,g=null,_=!1,m=null,v=null,n(e)},k=(e,t,n=!0)=>{let[i,o,a,c]=function(e,t,r,n,i){let[o,a,s,l]=i;return[Math.max(o,Math.min(e,r)),Math.max(a,Math.min(t,n)),Math.min(s,Math.max(e,r)),Math.min(l,Math.max(t,n))]}(e[0],e[1],t[0],t[1],s),[f,d,p,h]=l(i,o,a,c,s);return u?A(f,d,p,h):C(f,d,p,h),r(f,d,p,h,n),[f,d,p,h]},C=(e,t,r,n)=>{m.style.x=e,m.style.y=t,m.style.width=r-e,m.style.height=n-t},A=(e,t,r,n)=>{v.style.d=`
      M${O},${w}L${S},${w}L${S},${E}L${O},${E}Z
      M${e},${t}L${e},${n}L${r},${n}L${r},${t}Z
    `,m.style.x=e,m.style.y=t,m.style.width=r-e,m.style.height=n-t},R=e=>{let t=(e,t,r,n,i)=>e+t<n?n-t:e+r>i?i-r:e,r=e[0]-g[0],n=e[1]-g[1],i=t(r,y[0],b[0],O,S),o=t(n,y[1],b[1],w,E);k([y[0]+i,y[1]+o],[b[0]+i,b[1]+o])},M={"handle-n":{vector:[0,1,0,0],cursor:"ns-resize"},"handle-e":{vector:[0,0,1,0],cursor:"ew-resize"},"handle-s":{vector:[0,0,0,1],cursor:"ns-resize"},"handle-w":{vector:[1,0,0,0],cursor:"ew-resize"},"handle-nw":{vector:[1,1,0,0],cursor:"nwse-resize"},"handle-ne":{vector:[0,1,1,0],cursor:"nesw-resize"},"handle-se":{vector:[0,0,1,1],cursor:"nwse-resize"},"handle-sw":{vector:[1,0,0,1],cursor:"nesw-resize"}},I=e=>L(e)||N(e),N=e=>{let{id:t}=e;return -1!==p.indexOf(t)&&new Set(Object.keys(M)).has(t)},L=e=>e===m.getElementById("selection"),D=t=>{let{target:r}=t,[n,i]=uT(e,t);if(!m||!I(r)){x(n,i,t),_=!0;return}I(r)&&(g=[n,i])},z=t=>{let{target:r}=t,n=uT(e,t);if(!y)return;if(!g)return k(y,n);if(L(r))return R(n);let[i,o]=[n[0]-g[0],n[1]-g[1]],{id:a}=r;if(M[a]){let[e,t,r,n]=M[a].vector;return k([y[0]+i*e,y[1]+o*t],[b[0]+i*r,b[1]+o*n])}},F=t=>{if(g){g=null;let{x:e,y:r,width:n,height:i}=m.style;y=[e,r],b=[e+n,r+i],a(e,r,e+n,r+i,t);return}b=uT(e,t);let[r,n,o,s]=k(y,b);_=!1,i(r,n,o,s,t)},B=e=>{let{target:t}=e;m&&!I(t)&&T()},U=t=>{let{target:r}=t;m&&I(r)&&!_?L(r)?uF(e,"move"):N(r)&&uF(e,M[r.id].cursor):uF(e,"crosshair")},W=()=>{uF(e,"default")};return e.addEventListener("dragstart",D),e.addEventListener("drag",z),e.addEventListener("dragend",F),e.addEventListener("click",B),e.addEventListener("pointermove",U),e.addEventListener("pointerleave",W),{mask:m,move(e,t,r,n,i=!0){m||x(e,t,{}),y=[e,t],b=[r,n],k([e,t],[r,n],i)},remove(e=!0){m&&T(e)},destroy(){m&&T(!1),uF(e,"default"),e.removeEventListener("dragstart",D),e.removeEventListener("drag",z),e.removeEventListener("dragend",F),e.removeEventListener("click",B),e.removeEventListener("pointermove",U),e.removeEventListener("pointerleave",W)}}}function cC(e,t,r){return t.filter(t=>{if(t===e)return!1;let{interaction:n={}}=t.options;return Object.values(n).find(e=>e.brushKey===r)})}function cA(e,t){var{elements:r,selectedHandles:n,siblings:i=e=>[],datum:o,brushRegion:a,extent:s,reverse:l,scale:u,coordinate:c,series:f=!1,key:d=e=>e,bboxOf:p=e=>{let{x:t,y:r,width:n,height:i}=e.style;return{x:t,y:r,width:n,height:i}},state:h={},emitter:y}=t,b=cP(t,["elements","selectedHandles","siblings","datum","brushRegion","extent","reverse","scale","coordinate","series","key","bboxOf","state","emitter"]);let g=r(e),m=i(e),v=m.flatMap(r),_=uN(g,o),O=tr(b,"mask"),{setState:w,removeState:S}=uR(h,_),E=new Map,{width:x,height:P,x:j=0,y:T=0}=p(e),k=()=>{for(let e of[...g,...v])S(e,"active","inactive")},C=(e,t,r,n)=>{var i;for(let e of m)null===(i=e.brush)||void 0===i||i.remove();let o=new Set;for(let i of g){let{min:a,max:s}=i.getLocalBounds(),[l,u]=a,[c,f]=s;!function(e,t){let[r,n,i,o]=e,[a,s,l,u]=t;return!(a>i||l<r||s>o||u<n)}([l,u,c,f],[e,t,r,n])?w(i,"inactive"):(w(i,"active"),o.add(d(i)))}for(let e of v)o.has(d(e))?w(e,"active"):w(e,"inactive")},A=()=>{for(let e of g)S(e,"inactive");for(let e of E.values())e.remove();E.clear()},R=(e,t,r,n)=>{let i=e=>{let t=e.cloneNode();return t.__data__=e.__data__,e.parentNode.appendChild(t),E.set(e,t),t};for(let o of g){let a=E.get(o)||i(o);a.style.clipPath=new $.UL({style:{x:e+j,y:t+T,width:r-e,height:n-t}}),w(o,"inactive"),w(a,"active")}},M=ck(e,Object.assign(Object.assign({},O),{extent:s||[0,0,x,P],brushRegion:a,reverse:l,selectedHandles:n,brushended:e=>{let t=f?A:k;e&&y.emit("brush:remove",{nativeEvent:!0}),t()},brushed:(e,t,r,n,i)=>{let o=lq(e,t,r,n,u,c);i&&y.emit("brush:highlight",{nativeEvent:!0,data:{selection:o}}),(f?R:C)(e,t,r,n)},brushcreated:(e,t,r,n,i)=>{let o=lq(e,t,r,n,u,c);y.emit("brush:end",Object.assign(Object.assign({},i),{nativeEvent:!0,data:{selection:o}}))},brushupdated:(e,t,r,n,i)=>{let o=lq(e,t,r,n,u,c);y.emit("brush:end",Object.assign(Object.assign({},i),{nativeEvent:!0,data:{selection:o}}))},brushstarted:e=>{y.emit("brush:start",e)}})),I=({nativeEvent:e,data:t})=>{if(e)return;let{selection:r}=t,[n,i,o,a]=function(e,t,r){let{x:n,y:i}=t,[o,a]=e,s=l$(o,n),l=l$(a,i),u=[s[0],l[0]],c=[s[1],l[1]],[f,d]=r.map(u),[p,h]=r.map(c);return[f,d,p,h]}(r,u,c);M.move(n,i,o,a,!1)};y.on("brush:highlight",I);let N=({nativeEvent:e}={})=>{e||M.remove(!1)};y.on("brush:remove",N);let L=M.destroy.bind(M);return M.destroy=()=>{y.off("brush:highlight",I),y.off("brush:remove",N),L()},M}function cR(e){var{facet:t,brushKey:r}=e,n=cP(e,["facet","brushKey"]);return(e,i,o)=>{let{container:a,view:s,options:l}=e,u=ux(a),c={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",reverse:!1},f=["active",["inactive",{opacity:.5}]],{scale:d,coordinate:p}=s;if(t){let t=u.getBounds(),r=t.min[0],a=t.min[1],s=t.max[0],l=t.max[1];return cA(u.parentNode.parentNode,Object.assign(Object.assign({elements:()=>uS(e,i),datum:uA(uE(e,i).map(e=>e.view)),brushRegion:(e,t,r,n)=>[e,t,r,n],extent:[r,a,s,l],state:uI(uE(e,i).map(e=>e.options),f),emitter:o,scale:d,coordinate:p,selectedHandles:void 0},c),n))}let h=cA(u,Object.assign(Object.assign({elements:uw,key:e=>e.__data__.key,siblings:()=>cC(e,i,r).map(e=>ux(e.container)),datum:uA([s,...cC(e,i,r).map(e=>e.view)]),brushRegion:(e,t,r,n)=>[e,t,r,n],extent:void 0,state:uI([l,...cC(e,i,r).map(e=>e.options)],f),emitter:o,scale:d,coordinate:p,selectedHandles:void 0},c),n));return u.brush=h,()=>h.destroy()}}function cM(e,t,r,n,i){let[,o,,a]=i;return[e,o,r,a]}function cI(e,t,r,n,i){let[o,,a]=i;return[o,t,a,n]}var cN=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let cL="axis-hot-area";function cD(e){return e.getElementsByClassName("axis")}function cz(e){return e.getElementsByClassName("axis-line")[0]}function cF(e){return e.getElementsByClassName("axis-main-group")[0].getLocalBounds()}var cB=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function cU(e){var{hideX:t=!0,hideY:r=!0}=e,n=cB(e,["hideX","hideY"]);return(e,i,o)=>{let{container:a,view:s,options:l,update:u,setState:c}=e,f=ux(a),d=!1,p=!1,h=s,{scale:y,coordinate:b}=s;return function(e,t){var{filter:r,reset:n,brushRegion:i,extent:o,reverse:a,emitter:s,scale:l,coordinate:u,selection:c,series:f=!1}=t;let d=tr(cB(t,["filter","reset","brushRegion","extent","reverse","emitter","scale","coordinate","selection","series"]),"mask"),{width:p,height:h}=e.getBBox(),y=function(e=300){let t=null;return r=>{let{timeStamp:n}=r;return null!==t&&n-t<e?(t=n,!0):(t=n,!1)}}(),b=ck(e,Object.assign(Object.assign({},d),{extent:o||[0,0,p,h],brushRegion:i,reverse:a,brushcreated:function(e,t,n,i,o){o.nativeEvent=!0,r(c(e,t,n,i),o),b.remove()}}));function g(e){y(e)&&(e.nativeEvent=!0,n(e))}e.addEventListener("click",g);let m=({nativeEvent:e,data:t})=>{if(e)return;let{selection:n}=t;r(n,{nativeEvent:!1})};return s.on("brush:filter",m),()=>{b.destroy(),s.off("brush:filter",m),e.removeEventListener("click",g)}}(f,Object.assign(Object.assign({brushRegion:(e,t,r,n)=>[e,t,r,n],selection:(e,t,r,n)=>{let{scale:i,coordinate:o}=h;return lq(e,t,r,n,i,o)},filter:(e,n)=>{var i,a,s,f;return i=this,a=void 0,s=void 0,f=function*(){if(p)return;p=!0;let[i,a]=e;c("brushFilter",e=>{let{marks:n}=e,o=n.map(e=>(0,P.Z)({axis:Object.assign(Object.assign({},t&&{x:{transform:[{type:"hide"}]}}),r&&{y:{transform:[{type:"hide"}]}})},e,{scale:{x:{domain:i,nice:!1},y:{domain:a,nice:!1}}}));return Object.assign(Object.assign({},l),{marks:o,clip:!0})}),o.emit("brush:filter",Object.assign(Object.assign({},n),{data:{selection:[i,a]}})),h=(yield u()).view,p=!1,d=!0},new(s||(s=Promise))(function(e,t){function r(e){try{o(f.next(e))}catch(e){t(e)}}function n(e){try{o(f.throw(e))}catch(e){t(e)}}function o(t){var i;t.done?e(t.value):((i=t.value)instanceof s?i:new s(function(e){e(i)})).then(r,n)}o((f=f.apply(i,a||[])).next())})},reset:e=>{if(p||!d)return;let{scale:t}=s,{x:r,y:n}=t,i=r.getOptions().domain,a=n.getOptions().domain;o.emit("brush:filter",Object.assign(Object.assign({},e),{data:{selection:[i,a]}})),d=!1,h=s,c("brushFilter"),u()},extent:void 0,emitter:o,scale:y,coordinate:b},{maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",unhighlightedOpacity:.5,reverse:!1}),n))}}var cW=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};function cZ(e){return[e[0],e[e.length-1]]}function cV({initDomain:e={},className:t="slider",prefix:r="slider",setValue:n=(e,t)=>e.setValues(t),hasState:i=!1,wait:o=50,leading:a=!0,trailing:s=!1}){return(l,u,c)=>{let{container:f,view:d,update:p,setState:h}=l,y=f.getElementsByClassName(t);if(!y.length)return()=>{};let b=!1,{scale:g,coordinate:m,layout:v}=d,{paddingLeft:_,paddingTop:O,paddingBottom:w,paddingRight:S}=v,{x:E,y:x}=g,j=D(m),T=e=>{let t="vertical"===e?"y":"x",r="vertical"===e?"x":"y";return j?[r,t]:[t,r]},k=new Map,C=new Set,A={x:e.x||E.getOptions().domain,y:e.y||x.getOptions().domain};for(let e of y){let{orientation:t}=e.attributes,[l,u]=T(t),f=`${r}${(0,sy.Z)(l)}:filter`,d="x"===l,{ratio:y}=E.getOptions(),{ratio:m}=x.getOptions(),v=e=>{if(e.data){let{selection:t}=e.data,[r=cZ(A.x),n=cZ(A.y)]=t;return d?[lV(E,r,y),lV(x,n,m)]:[lV(x,n,m),lV(E,r,y)]}let{value:r}=e.detail;return[function(e,t,r){let[n,i]=e,o=r?e=>1-e:e=>e,a=lZ(t,o(n),!0),s=lZ(t,o(i),!1);return lV(t,[a,s])}(r,g[l],j&&"horizontal"===t),A[u]]},R=(0,uY.Z)(t=>cW(this,void 0,void 0,function*(){if(b)return;b=!0;let{nativeEvent:n=!0}=t,[o,a]=v(t);if(A[l]=o,A[u]=a,n){let e=d?o:a,r=d?a:o;c.emit(f,Object.assign(Object.assign({},t),{nativeEvent:n,data:{selection:[cZ(e),cZ(r)]}}))}h(e,e=>Object.assign(Object.assign({},function(e,t,r,n=!1,i="x",o="y"){let{marks:a}=e,s=a.map(e=>{var a,s;return(0,P.Z)({axis:{x:{transform:[{type:"hide"}]},y:{transform:[{type:"hide"}]}}},e,{scale:t,[r]:Object.assign(Object.assign({},(null===(a=e[r])||void 0===a?void 0:a[i])&&{[i]:Object.assign({preserve:!0},n&&{ratio:null})}),(null===(s=e[r])||void 0===s?void 0:s[o])&&{[o]:{preserve:!0}}),animate:!1})});return Object.assign(Object.assign({},e),{marks:s,clip:!0,animate:!1})}(e,{[l]:{domain:o,nice:!1}},r,i,l,u)),{paddingLeft:_,paddingTop:O,paddingBottom:w,paddingRight:S})),yield p(),b=!1}),o,{leading:a,trailing:s}),M=t=>{let{nativeEvent:r}=t;if(r)return;let{data:i}=t,{selection:o}=i,[a,s]=o;e.dispatchEvent(new $.Aw("valuechange",{data:i,nativeEvent:!1})),n(e,d?l$(a,E):l$(s,x))};c.on(f,M),e.addEventListener("valuechange",R),k.set(e,R),C.add([f,M])}return p(),()=>{for(let[e,t]of k)e.removeEventListener("valuechange",t);for(let[e,t]of C)c.off(e,t)}}}let cq="g2-scrollbar";function c$(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}var cH=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let cG={backgroundColor:"rgba(0,0,0,0.75)",color:"#fff",width:"max-content",padding:"1px 4px",fontSize:"12px",borderRadius:"2.5px",boxShadow:"0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05)"};function cY(e){return"text"===e.nodeName&&!!e.isOverflowing()}function cK(e){var{offsetX:t=8,offsetY:r=8}=e,n=cH(e,["offsetX","offsetY"]);return e=>{let{container:i}=e,[o,a]=i.getBounds().min,s=tr(n,"tip"),l=new Set,u=e=>{var n;let{target:u}=e;if(!cY(u)){e.stopPropagation();return}let{offsetX:c,offsetY:f}=e,d=c+t-o,p=f+r-a;if(u.tip){u.tip.style.x=d,u.tip.style.y=p;return}let{text:h}=u.style,y=new $.k9({className:"poptip",style:{innerHTML:(n=Object.assign(Object.assign({},cG),s),`<div style="${Object.entries(n).map(([e,t])=>`${e.replace(/([A-Z])/g,"-$1").toLowerCase()}:${t}`).join(";")}">${h}</div>`),x:d,y:p}});i.appendChild(y),u.tip=y,l.add(y)},c=e=>{let{target:t}=e;if(!cY(t)){e.stopPropagation();return}t.tip&&(t.tip.remove(),t.tip=null,l.delete(t.tip))};return i.addEventListener("pointerover",u),i.addEventListener("pointerout",c),()=>{i.removeEventListener("pointerover",u),i.removeEventListener("pointerout",c),l.forEach(e=>e.remove())}}}cK.props={reapplyWhenUpdate:!0};var cX=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function cQ(e){return(t,...r)=>(0,P.Z)({},e(t,...r),t)}function cJ(e){return(t,...r)=>(0,P.Z)({},t,e(t,...r))}function c0(e,t){if(!e)return t;if(Array.isArray(e))return e;let{value:r=t}=e;return Object.assign(Object.assign({},cX(e,["value"])),{value:r})}var c1=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let c2=()=>e=>{let{children:t}=e;if(!Array.isArray(t))return[];let{x:r=0,y:n=0,width:i,height:o,data:a}=e;return t.map(e=>{var{data:t,x:s,y:l,width:u,height:c}=e;return Object.assign(Object.assign({},c1(e,["data","x","y","width","height"])),{data:c0(t,a),x:null!=s?s:r,y:null!=l?l:n,width:null!=u?u:i,height:null!=c?c:o})})};c2.props={};var c5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let c4=()=>e=>{let{children:t}=e;if(!Array.isArray(t))return[];let{direction:r="row",ratio:n=t.map(()=>1),padding:i=0,data:o}=e,[a,s,l,u]="col"===r?["y","height","width","x"]:["x","width","height","y"],c=n.reduce((e,t)=>e+t),f=e[s]-i*(t.length-1),d=n.map(e=>e/c*f),p=[],h=e[a]||0;for(let r=0;r<d.length;r+=1){let n=t[r],{data:c}=n,f=c5(n,["data"]),y=c0(c,o);p.push(Object.assign({[a]:h,[s]:d[r],[u]:e[u]||0,[l]:e[l],data:y},f)),h+=d[r]+i}return p};c4.props={};class c3{constructor(e){this.$value=e}static of(e){return new c3(e)}call(e,...t){return this.$value=e(this.$value,...t),this}value(){return this.$value}}var c6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let c8=cQ(e=>{let{encode:t,data:r,scale:n,shareSize:i=!1}=e,{x:o,y:a}=t,s=(e,t)=>{var o;if(void 0===e||!i)return{};let a=(0,e5.ZP)(r,t=>t[e]),s=(null===(o=null==n?void 0:n[t])||void 0===o?void 0:o.domain)||Array.from(a.keys()),l=s.map(e=>a.has(e)?a.get(e).length:1);return{domain:s,flex:l}};return{scale:{x:Object.assign(Object.assign({paddingOuter:0,paddingInner:.1,guide:void 0===o?null:{position:"top"}},void 0===o&&{paddingInner:0}),s(o,"x")),y:Object.assign(Object.assign({range:[0,1],paddingOuter:0,paddingInner:.1,guide:void 0===a?null:{position:"right"}},void 0===a&&{paddingInner:0}),s(a,"y"))}}}),c9=cQ(e=>{let t,r,n;let{data:i,scale:o}=e,a=[e];for(;a.length;){let{children:e,encode:i={},scale:o={},legend:s={}}=a.shift(),{color:l}=i,{color:u}=o,{color:c}=s;void 0!==l&&(t=l),void 0!==u&&(r=u),void 0!==c&&(n=c),Array.isArray(e)&&a.push(...e)}let s="string"==typeof t?t:"",[l,u]=(()=>{var e;let r=null===(e=null==o?void 0:o.color)||void 0===e?void 0:e.domain;if(void 0!==r)return[r];if(void 0===t)return[void 0];let n="function"==typeof t?t:e=>e[t],a=i.map(n);return a.some(e=>"number"==typeof e)?[(0,t_.Z)(a)]:[Array.from(new Set(a)),"ordinal"]})();return{encode:{color:t},scale:{color:(0,P.Z)({},r,{domain:l,type:u})},legend:{color:(0,P.Z)({title:s},n)}}}),c7=cQ(()=>({animate:{enterType:"fadeIn"}})),fe=cJ(()=>({frame:!1,encode:{shape:"hollow"},style:{lineWidth:0}})),ft=cJ(()=>({type:"cell"})),fr=cJ(e=>{let{data:t}=e;return{data:{type:"inline",value:t,transform:[{type:"custom",callback:()=>{let{data:t,encode:r}=e,{x:n,y:i}=r,o=n?Array.from(new Set(t.map(e=>e[n]))):[],a=i?Array.from(new Set(t.map(e=>e[i]))):[];return(()=>{if(o.length&&a.length){let e=[];for(let t of o)for(let r of a)e.push({[n]:t,[i]:r});return e}return o.length?o.map(e=>({[n]:e})):a.length?a.map(e=>({[i]:e})):void 0})()}}]}}}),fn=cJ((e,t=fi,r=fa,n=fs,i={})=>{let{data:o,encode:a,children:s,scale:l,x:u=0,y:c=0,shareData:f=!1,key:d}=e,{value:p}=o,{x:h,y:y}=a,{color:b}=l,{domain:g}=b;return{children:(e,o,a)=>{let{x:l,y:b}=o,{paddingLeft:m,paddingTop:v,marginLeft:_,marginTop:O}=a,{domain:w}=l.getOptions(),{domain:S}=b.getOptions(),E=tw(e),x=e.map(t),j=e.map(({x:e,y:t})=>[l.invert(e),b.invert(t)]),T=j.map(([e,t])=>r=>{let{[h]:n,[y]:i}=r;return(void 0===h||n===e)&&(void 0===y||i===t)}).map(e=>p.filter(e)),k=f?(0,od.Z)(T,e=>e.length):void 0,C=j.map(([e,t])=>({columnField:h,columnIndex:w.indexOf(e),columnValue:e,columnValuesLength:w.length,rowField:y,rowIndex:S.indexOf(t),rowValue:t,rowValuesLength:S.length})),A=C.map(e=>Array.isArray(s)?s:[s(e)].flat(1));return E.flatMap(e=>{let[t,o,a,s]=x[e],l=C[e],f=T[e];return A[e].map(b=>{var w,S,{scale:E,key:x,facet:j=!0,axis:T={},legend:C={}}=b,A=c6(b,["scale","key","facet","axis","legend"]);let R=(null===(w=null==E?void 0:E.y)||void 0===w?void 0:w.guide)||T.y,M=(null===(S=null==E?void 0:E.x)||void 0===S?void 0:S.guide)||T.x,I=j?f:0===f.length?[]:p,N={x:fl(M,r)(l,I),y:fl(R,n)(l,I)};return Object.assign(Object.assign({key:`${x}-${e}`,data:I,margin:0,x:t+m+u+_,y:o+v+c+O,parentKey:d,width:a,height:s,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!!I.length,dataDomain:k,scale:(0,P.Z)({x:{tickCount:h?5:void 0},y:{tickCount:y?5:void 0}},E,{color:{domain:g}}),axis:(0,P.Z)({},T,N),legend:!1},A),i)})})}}});function fi(e){let{points:t}=e;return ty(t)}function fo(e,t){return t.length?(0,P.Z)({title:!1,tick:null,label:null},e):(0,P.Z)({title:!1,tick:null,label:null,grid:null},e)}function fa(e){return(t,r)=>{let{rowIndex:n,rowValuesLength:i,columnIndex:o,columnValuesLength:a}=t;if(n!==i-1)return fo(e,r);let s=r.length?void 0:null;return(0,P.Z)({title:o===a-1&&void 0,grid:s},e)}}function fs(e){return(t,r)=>{let{rowIndex:n,columnIndex:i}=t;if(0!==i)return fo(e,r);let o=r.length?void 0:null;return(0,P.Z)({title:0===n&&void 0,grid:o},e)}}function fl(e,t){return"function"==typeof e?e:null===e||!1===e?()=>null:t(e)}let fu=()=>e=>[c3.of(e).call(ft).call(c9).call(c7).call(c8).call(fe).call(fr).call(fn).value()];fu.props={};var fc=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let ff=cQ(e=>({scale:{x:{guide:null,paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),fd=cJ(e=>{let{data:t,children:r,x:n=0,y:i=0,key:o}=e;return{children:(e,a,s)=>{let{x:l,y:u}=a,{paddingLeft:c,paddingTop:f,marginLeft:d,marginTop:p}=s,{domain:h}=l.getOptions(),{domain:y}=u.getOptions(),b=tw(e),g=e.map(({points:e})=>ty(e)),m=e.map(({x:e,y:t})=>[l.invert(e),u.invert(t)]),v=m.map(([e,t])=>({columnField:e,columnIndex:h.indexOf(e),columnValue:e,columnValuesLength:h.length,rowField:t,rowIndex:y.indexOf(t),rowValue:t,rowValuesLength:y.length})),_=v.map(e=>Array.isArray(r)?r:[r(e)].flat(1));return b.flatMap(e=>{let[r,a,s,l]=g[e],[u,h]=m[e],y=v[e];return _[e].map(b=>{var g,m;let{scale:v,key:_,encode:O,axis:w,interaction:S}=b,E=fc(b,["scale","key","encode","axis","interaction"]),x=null===(g=null==v?void 0:v.y)||void 0===g?void 0:g.guide,j={x:(function(e){return"function"==typeof e?e:null===e?()=>null:(t,r)=>{let{rowIndex:n,rowValuesLength:i}=t;if(n!==i-1)return fo(e,r)}})(null===(m=null==v?void 0:v.x)||void 0===m?void 0:m.guide)(y,t),y:(function(e){return"function"==typeof e?e:null===e?()=>null:(t,r)=>{let{columnIndex:n}=t;if(0!==n)return fo(e,r)}})(x)(y,t)};return Object.assign({data:t,parentKey:o,key:`${_}-${e}`,x:r+c+n+d,y:a+f+i+p,width:s,height:l,margin:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!0,scale:(0,P.Z)({x:{facet:!1},y:{facet:!1}},v),axis:(0,P.Z)({x:{tickCount:5},y:{tickCount:5}},w,j),legend:!1,encode:(0,P.Z)({},O,{x:u,y:h}),interaction:(0,P.Z)({},S,{legendFilter:!1})},E)})})}}}),fp=cJ(e=>{let{encode:t}=e,r=fc(e,["encode"]),{position:n=[],x:i=n,y:o=[...n].reverse()}=t,a=fc(t,["position","x","y"]),s=[];for(let e of[i].flat(1))for(let t of[o].flat(1))s.push({$x:e,$y:t});return Object.assign(Object.assign({},r),{data:s,encode:Object.assign(Object.assign({},a),{x:"$x",y:"$y"}),scale:Object.assign(Object.assign({},1===[i].flat(1).length&&{x:{paddingInner:0}}),1===[o].flat(1).length&&{y:{paddingInner:0}})})});var fh=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let fy=cQ(e=>({scale:{x:{guide:{type:"axisArc"},paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}})),fb=cQ(e=>({coordinate:{type:"polar"}})),fg=e=>{let{encode:t}=e,r=fh(e,["encode"]),{position:n}=t;return Object.assign(Object.assign({},r),{encode:{x:n}})};function fm(e){return e=>null}function fv(e){let{points:t}=e,[r,n,i,o]=t,a=tf(r,o),s=tc(r,o),l=th(s,tc(n,i)),u=1/Math.sin(l/2),c=a/(1+u),f=c*Math.sqrt(2),[d,p]=i,h=tp(s)+l/2,y=c*u;return[d+y*Math.sin(h)-f/2,p-y*Math.cos(h)-f/2,f,f]}let f_=()=>e=>{let{children:t=[],duration:r=1e3,iterationCount:n=1,direction:i="normal",easing:o="ease-in-out-sine"}=e,a=t.length;if(!Array.isArray(t)||0===a)return[];let{key:s}=t[0],l=t.map(e=>Object.assign(Object.assign({},e),{key:s})).map(e=>(function(e,t,r){let n=[e];for(;n.length;){let e=n.pop();e.animate=(0,P.Z)({enter:{duration:t},update:{duration:t,easing:r,type:"morphing",fill:"both"},exit:{type:"fadeOut",duration:t}},e.animate||{});let{children:i}=e;Array.isArray(i)&&n.push(...i)}return e})(e,r,o));return function*(){let e,t=0;for(;"infinite"===n||t<n;){let[r,n]=function(e,t,r){let n=[0,r],i=[-r+1,1];return"normal"===e?n:"reverse"===e?i:"alternate"===e?t%2==0?n:i:"reverse-alternate"===e?t%2==0?i:n:void 0}(i,t,a);for(let t=r;t<n;t+=1){let r=Math.abs(t);e!==r&&(yield l[r]),e=r}t++}}};f_.props={};var fO=r(53321),fw=r(79475);function fS(e,t,r){let{encode:n}=r;if(null===e)return[t];let i=(Array.isArray(e)?e:[e]).map(e=>{var t;return[e,null===(t=A(n,e))||void 0===t?void 0:t[0]]}).filter(([,e])=>tt(e));return Array.from((0,e5.ZP)(t,e=>i.map(([,t])=>t[e]).join("-")).values())}function fE(e){return Array.isArray(e)?(t,r,n)=>(r,n)=>e.reduce((e,i)=>0!==e?e:(0,fO.Z)(t[r][i],t[n][i]),0):"function"==typeof e?(t,r,n)=>fA(r=>e(t[r])):"series"===e?fj:"value"===e?fT:"sum"===e?fk:"maxIndex"===e?fC:()=>null}function fx(e,t){for(let r of e)r.sort(t)}function fP(e,t){return(null==t?void 0:t.domain)||Array.from(new Set(e))}function fj(e,t,r){return fA(e=>r[e])}function fT(e,t,r){return fA(e=>t[e])}function fk(e,t,r){let n=tw(e),i=new Map(Array.from((0,e5.ZP)(n,e=>r[+e]).entries()).map(([e,r])=>[e,r.reduce((e,r)=>e+ +t[r])]));return fA(e=>i.get(r[e]))}function fC(e,t,r){let n=tw(e),i=new Map(Array.from((0,e5.ZP)(n,e=>r[+e]).entries()).map(([e,r])=>[e,(0,fw.Z)(r,e=>t[e])]));return fA(e=>i.get(r[e]))}function fA(e){return(t,r)=>(0,fO.Z)(e(t),e(r))}let fR=(e={})=>{let{groupBy:t="x",orderBy:r=null,reverse:n=!1,y:i="y",y1:o="y1",series:a=!0}=e;return(e,s)=>{let{data:l,encode:u,style:c={}}=s,[f,d]=A(u,"y"),[p,h]=A(u,"y1"),[y]=a?R(u,"series","color"):A(u,"color"),b=fS(t,e,s),g=fE(r)(l,f,y);g&&fx(b,g);let m=Array(e.length),v=Array(e.length),_=Array(e.length),O=[],w=[];for(let e of b){n&&e.reverse();let t=p?+p[e[0]]:0,r=[],i=[];for(let n of e){let e=_[n]=+f[n]-t;e<0?i.push(n):e>=0&&r.push(n)}let o=r.length>0?r:i,a=i.length>0?i:r,s=r.length-1,l=0;for(;s>0&&0===f[o[s]];)s--;for(;l<a.length-1&&0===f[a[l]];)l++;O.push(o[s]),w.push(a[l]);let u=t;for(let e of i.reverse()){let t=_[e];u=m[e]=(v[e]=u)+t}let c=t;for(let e of r){let t=_[e];t>0?c=m[e]=(v[e]=c)+t:m[e]=v[e]=c}}let S=new Set(O),E=new Set(w),x="y"===i?m:v,k="y"===o?m:v;return[e,(0,P.Z)({},s,{encode:{y0:T(f,d),y:j(x,d),y1:j(k,h)},style:Object.assign({first:(e,t)=>S.has(t),last:(e,t)=>E.has(t)},c)})]}};fR.props={};var fM=r(46985),fI=r(57093),fN=r(33735),fL=r(68081),fD=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function fz(e){return t=>null===t?e:`${e} of ${t}`}function fF(){return[(e,t)=>(0,uJ.Z)(e,e=>+t[e]),fz("mean")]}function fB(){return[(e,t)=>(0,fN.Z)(e,e=>+t[e]),fz("median")]}function fU(){return[(e,t)=>(0,od.Z)(e,e=>+t[e]),fz("max")]}function fW(){return[(e,t)=>(0,of.Z)(e,e=>+t[e]),fz("min")]}function fZ(){return[(e,t)=>e.length,fz("count")]}function fV(){return[(e,t)=>(0,fL.Z)(e,e=>+t[e]),fz("sum")]}function fq(){return[(e,t)=>t[e[0]],fz("first")]}function f$(){return[(e,t)=>t[e[e.length-1]],fz("last")]}let fH=(e={})=>{let{groupBy:t}=e,r=fD(e,["groupBy"]);return(e,n)=>{let{data:i,encode:o}=n,a=t(e,n);if(!a)return[e,n];let s=(e,t)=>{if(e)return e;let{from:r}=t;if(!r)return e;let[,n]=A(o,r);return n},l=Object.entries(r).map(([e,t])=>{let[r,n]=function(e){if("function"==typeof e)return[e,null];let t={mean:fF,max:fU,count:fZ,first:fq,last:f$,sum:fV,min:fW,median:fB}[e];if(!t)throw Error(`Unknown reducer: ${e}.`);return t()}(t),[l,u]=A(o,e),c=s(u,t);return[e,Object.assign(Object.assign({},Object.assign(Object.assign({},j(a.map(e=>r(e,null!=l?l:i)),(null==n?void 0:n(c))||c)),{constant:!1})),{aggregate:!0})]}),u=Object.keys(o).map(e=>{let[t,r]=A(o,e);return[e,j(a.map(e=>t[e[0]]),r)]}),c=a.map(e=>i[e[0]]);return[tw(a),(0,P.Z)({},n,{data:c,encode:Object.fromEntries([...u,...l])})]}};fH.props={};var fG=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let fY="thresholds",fK=(e={})=>{let{groupChannels:t=["color"],binChannels:r=["x","y"]}=e,n=fG(e,["groupChannels","binChannels"]),i={};return fH(Object.assign(Object.assign(Object.assign({},Object.fromEntries(Object.entries(n).filter(([e])=>!e.startsWith(fY)))),Object.fromEntries(r.flatMap(e=>{let t=([t])=>+i[e].get(t).split(",")[1];return t.from=e,[[e,([t])=>+i[e].get(t).split(",")[0]],[`${e}1`,t]]}))),{groupBy:(e,o)=>{let{encode:a}=o,s=r.map(e=>{let[t]=A(a,e);return t}),l=tr(n,fY),u=e.filter(e=>s.every(t=>tt(t[e]))),c=[...t.map(e=>{let[t]=A(a,e);return t}).filter(tt).map(e=>t=>e[t]),...r.map((e,t)=>{let r=s[t],n=l[e]||function(e){let[t,r]=(0,t_.Z)(e);return Math.min(200,(0,fM.Z)(e,t,r))}(r),o=new Map((0,fI.Z)().thresholds(n).value(e=>+r[e])(u).flatMap(e=>{let{x0:t,x1:r}=e,n=`${t},${r}`;return e.map(e=>[e,n])}));return i[e]=o,e=>o.get(e)})];return Array.from((0,e5.ZP)(u,e=>c.map(t=>t(e)).join("-")).values())}}))};fK.props={};let fX=(e={})=>{let{thresholds:t}=e;return fK(Object.assign(Object.assign({},e),{thresholdsX:t,groupChannels:["color"],binChannels:["x"]}))};fX.props={};var fQ=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let fJ=(e={})=>{let{groupBy:t="x",reverse:r=!1,orderBy:n,padding:i}=e;return fQ(e,["groupBy","reverse","orderBy","padding"]),(e,o)=>{let{data:a,encode:s,scale:l}=o,{series:u}=l,[c]=A(s,"y"),[f]=R(s,"series","color"),d=fP(f,u),p=fS(t,e,o),h=fE(n)(a,c,f);h&&fx(p,h);let y=Array(e.length);for(let e of p){r&&e.reverse();for(let t=0;t<e.length;t++)y[e[t]]=d[t]}return[e,(0,P.Z)({},o,{scale:{series:{domain:d,paddingInner:i}},encode:{series:j(y)}})]}};function f0(e,t,r){if(null===e)return[-.5,.5];let n=fP(e,t),i=new ox.t({domain:n,range:[0,1],padding:r}).getBandWidth();return[-i/2,i/2]}fJ.props={};let f1=(e={})=>{let{padding:t=0,paddingX:r=t,paddingY:n=t,random:i=Math.random}=e;return(e,t)=>{let{encode:o,scale:a}=t,{x:s,y:l}=a,[u]=A(o,"x"),[c]=A(o,"y"),f=f0(u,s,r),d=f0(c,l,n),p=e.map(()=>(function(e,t,r){return t*(1-e)+r*e})(i(),...d)),h=e.map(()=>(function(e,t,r){return t*(1-e)+r*e})(i(),...f));return[e,(0,P.Z)({scale:{x:{padding:.5},y:{padding:.5}}},t,{encode:{dy:j(p),dx:j(h)}})]}};f1.props={};let f2=(e={})=>{let{padding:t=0,random:r=Math.random}=e;return(e,n)=>{let{encode:i,scale:o}=n,{x:a}=o,[s]=A(i,"x"),l=f0(s,a,t),u=e.map(()=>(function(e,t,r){return t*(1-e)+r*e})(r(),...l));return[e,(0,P.Z)({scale:{x:{padding:.5}}},n,{encode:{dx:j(u)}})]}};f2.props={};let f5=(e={})=>{let{padding:t=0,random:r=Math.random}=e;return(e,n)=>{let{encode:i,scale:o}=n,{y:a}=o,[s]=A(i,"y"),l=f0(s,a,t),u=e.map(()=>(function(e,t,r){return t*(1-e)+r*e})(r(),...l));return[e,(0,P.Z)({scale:{y:{padding:.5}}},n,{encode:{dy:j(u)}})]}};f5.props={};var f4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let f3=(e={})=>{let{groupBy:t="x"}=e;return(e,r)=>{let{encode:n}=r,{x:i}=n,o=Object.entries(f4(n,["x"])).filter(([e])=>e.startsWith("y")).map(([e])=>[e,A(n,e)[0]]),a=o.map(([t])=>[t,Array(e.length)]),s=fS(t,e,r),l=Array(s.length);for(let e=0;e<s.length;e++){let t=s[e].flatMap(e=>o.map(([,t])=>+t[e])),[r,n]=(0,t_.Z)(t);l[e]=(r+n)/2}let u=Math.max(...l);for(let e=0;e<s.length;e++){let t=u-l[e];for(let r of s[e])for(let e=0;e<o.length;e++){let[,n]=o[e],[,i]=a[e];i[r]=+n[r]+t}}return[e,(0,P.Z)({},r,{encode:Object.fromEntries(a.map(([e,t])=>[e,j(t,A(n,e)[1])]))})]}};f3.props={};let f6=(e={})=>{let{groupBy:t="x",series:r=!0}=e;return(e,n)=>{let{encode:i}=n,[o]=A(i,"y"),[a,s]=A(i,"y1"),[l]=r?R(i,"series","color"):A(i,"color"),u=fS(t,e,n),c=Array(e.length);for(let e of u){let t=e.map(e=>+o[e]);for(let r=0;r<e.length;r++){let n=e[r],i=Math.max(...t.filter((e,t)=>t!==r));c[n]=o[n]>i?i:o[n]}}return[e,(0,P.Z)({},n,{encode:{y1:j(c,s)}})]}};f6.props={};let f8=e=>{let{groupBy:t=["x"],reducer:r=(e,t)=>t[e[0]],orderBy:n=null,reverse:i=!1,duration:o}=e;return(e,a)=>{let{encode:s}=a,l=(Array.isArray(t)?t:[t]).map(e=>[e,A(s,e)[0]]);if(0===l.length)return[e,a];let u=[e];for(let[,e]of l){let t=[];for(let r of u){let n=Array.from((0,e5.ZP)(r,t=>e[t]).values());t.push(...n)}u=t}if(n){let[e]=A(s,n);e&&u.sort((t,n)=>r(t,e)-r(n,e)),i&&u.reverse()}let c=(o||3e3)/u.length,[f]=o?[C(e,c)]:R(s,"enterDuration",C(e,c)),[d]=R(s,"enterDelay",C(e,0)),p=Array(e.length);for(let e=0,t=0;e<u.length;e++){let r=u[e],n=(0,od.Z)(r,e=>+f[e]);for(let e of r)p[e]=+d[e]+t;t+=n}return[e,(0,P.Z)({},a,{encode:{enterDuration:k(f),enterDelay:k(p)}})]}};f8.props={};var f9=r(81048),f7=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let de=(e={})=>{let{groupBy:t="x",basis:r="max"}=e;return(e,n)=>{let{encode:i,tooltip:o}=n,{x:a}=i,s=Object.entries(f7(i,["x"])).filter(([e])=>e.startsWith("y")).map(([e])=>[e,A(i,e)[0]]),[,l]=s.find(([e])=>"y"===e),u=s.map(([t])=>[t,Array(e.length)]),c=fS(t,e,n),f=function(e){return"function"==typeof e?e:({min:(e,t)=>(0,of.Z)(e,e=>t[+e]),max:(e,t)=>(0,od.Z)(e,e=>t[+e]),first:(e,t)=>t[e[0]],last:(e,t)=>t[e[e.length-1]],mean:(e,t)=>(0,uJ.Z)(e,e=>t[+e]),median:(e,t)=>(0,fN.Z)(e,e=>t[+e]),sum:(e,t)=>(0,fL.Z)(e,e=>t[+e]),deviation:(e,t)=>(0,f9.Z)(e,e=>t[+e])})[e]||od.Z}(r);for(let e of c){let t=f(e,l);for(let r of e)for(let e=0;e<s.length;e++){let[,n]=s[e],[,i]=u[e];i[r]=+n[r]/t}}let d=ts(o)||(null==o?void 0:o.items)&&(null==o?void 0:o.items.length)!==0;return[e,(0,P.Z)({},n,Object.assign({encode:Object.fromEntries(u.map(([e,t])=>[e,j(t,A(i,e)[1])]))},!d&&i.y0&&{tooltip:{items:[{channel:"y0"}]}}))]}};function dt(e,t){return[e[0]]}function dr(e,t){let r=e.length-1;return[e[r]]}function dn(e,t){let r=(0,fw.Z)(e,e=>t[e]);return[e[r]]}function di(e,t){let r=(0,u0.Z)(e,e=>t[e]);return[e[r]]}de.props={};let da=(e={})=>{let{groupBy:t="series",channel:r,selector:n}=e;return(e,i)=>{let{encode:o}=i,a=fS(t,e,i),[s]=A(o,r),l=function(e){return"function"==typeof e?e:({first:dt,last:dr,max:dn,min:di})[e]||dt}(n);return[a.flatMap(e=>l(e,s)),i]}};da.props={};var ds=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let dl=(e={})=>{let{selector:t}=e;return da(Object.assign({channel:"x",selector:t},ds(e,["selector"])))};dl.props={};var du=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let dc=(e={})=>{let{selector:t}=e;return da(Object.assign({channel:"y",selector:t},du(e,["selector"])))};dc.props={};var df=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let dd=(e={})=>{let{channels:t=["x","y"]}=e;return fH(Object.assign(Object.assign({},df(e,["channels"])),{groupBy:(e,r)=>fS(t,e,r)}))};dd.props={};let dp=(e={})=>dd(Object.assign(Object.assign({},e),{channels:["x","color","series"]}));dp.props={};let dh=(e={})=>dd(Object.assign(Object.assign({},e),{channels:["y","color","series"]}));dh.props={};let dy=(e={})=>dd(Object.assign(Object.assign({},e),{channels:["color"]}));dy.props={};var db=r(21760),dg=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let dm=(e={})=>{let{reverse:t=!1,slice:r,channel:n,ordinal:i=!0}=e,o=dg(e,["reverse","slice","channel","ordinal"]);return(e,a)=>i?function(e,t,r){var n;let{reverse:i,slice:o,channel:a}=r,s=dg(r,["reverse","slice","channel"]),{encode:l,scale:u={}}=t,c=null===(n=u[a])||void 0===n?void 0:n.domain,[f]=A(l,a),d=function(e,t,r){let{by:n=e,reducer:i="max"}=t,[o]=A(r,n);if("function"==typeof i)return e=>i(e,o);if("max"===i)return e=>(0,od.Z)(e,e=>+o[e]);if("min"===i)return e=>(0,of.Z)(e,e=>+o[e]);if("sum"===i)return e=>(0,fL.Z)(e,e=>+o[e]);if("median"===i)return e=>(0,fN.Z)(e,e=>+o[e]);if("mean"===i)return e=>(0,uJ.Z)(e,e=>+o[e]);if("first"===i)return e=>o[e[0]];if("last"===i)return e=>o[e[e.length-1]];throw Error(`Unknown reducer: ${i}`)}(a,s,l),p=function(e,t,r){if(!Array.isArray(r))return e;let n=new Set(r);return e.filter(e=>n.has(t[e]))}(e,f,c),h=(0,db.Z)(p,d,e=>f[e]);i&&h.reverse();let y=o?h.slice(..."number"==typeof o?[0,o]:o):h;return[e,(0,P.Z)(t,{scale:{[a]:{domain:y}}})]}(e,a,Object.assign({reverse:t,slice:r,channel:n},o)):function(e,t,r){let{reverse:n,channel:i}=r,{encode:o}=t,[a]=A(o,i),s=(0,lU.ZP)(e,e=>a[e]);return n&&s.reverse(),[s,t]}(e,a,Object.assign({reverse:t,slice:r,channel:n},o))};dm.props={};let dv=(e={})=>dm(Object.assign(Object.assign({},e),{channel:"x"}));dv.props={};let d_=(e={})=>dm(Object.assign(Object.assign({},e),{channel:"y"}));d_.props={};let dO=(e={})=>dm(Object.assign(Object.assign({},e),{channel:"color"}));dO.props={};let dw=(e={})=>{let{field:t,channel:r="y",reducer:n="sum"}=e;return(e,i)=>{let{data:o,encode:a}=i,[s]=A(a,"x"),l=function(e,t){if("function"==typeof e)return r=>e(r,t);if("sum"===e)return e=>(0,fL.Z)(e,e=>+t[e]);throw Error(`Unknown reducer: ${e}`)}(n,t?function(e,t){return"string"==typeof t?e.map(e=>e[t]):e.map(t)}(o,t):A(a,r)[0]),u=(0,e5.Q3)(e,l,e=>s[e]).map(e=>e[1]);return[e,(0,P.Z)({},i,{scale:{x:{flex:u}}})]}};dw.props={};let dS=e=>(t,r)=>[t,(0,P.Z)({},r,{modifier:function(e){let{padding:t=0,direction:r="col"}=e;return(e,n,i)=>{let o=e.length;if(0===o)return[];let{innerWidth:a,innerHeight:s}=i,l=Math.ceil(Math.sqrt(n/(s/a))),u=a/l,c=Math.ceil(n/l),f=c*u;for(;f>s;)l+=1,u=a/l,f=(c=Math.ceil(n/l))*u;let d=s-c*u,p=c<=1?0:d/(c-1),[h,y]=c<=1?[(a-o*u)/(o-1),(s-u)/2]:[0,0];return e.map((e,n)=>{let[i,o,a,s]=ty(e),f="col"===r?n%l:Math.floor(n/c),b="col"===r?Math.floor(n/l):n%c,g=f*u,m=(c-b-1)*u+d,v=(u-t)/a,_=(u-t)/s;return`translate(${g-i+h*f+.5*t}, ${m-o-p*b-y+.5*t}) scale(${v}, ${_})`})}}(e),axis:!1})];function dE(e,t,r,n){let i,o,a;let s=e.length;if(n>=s||0===n)return e;let l=r=>1*t[e[r]],u=t=>1*r[e[t]],c=[],f=(s-2)/(n-2),d=0;c.push(d);for(let e=0;e<n-2;e++){let t=0,r=0,n=Math.floor((e+1)*f)+1,p=Math.floor((e+2)*f)+1,h=(p=Math.min(p,s))-n;for(;n<p;n++)t+=l(n),r+=u(n);t/=h,r/=h;let y=Math.floor((e+0)*f)+1,b=Math.floor((e+1)*f)+1,g=[l(d),u(d)];for(i=o=-1;y<b;y++)(o=.5*Math.abs((g[0]-t)*(l(y)-g[1])-(g[0]-u(y))*(r-g[0])))>i&&(i=o,a=y);c.push(a),d=a}return c.push(s-1),c.map(t=>e[t])}dS.props={};let dx=(e={})=>{let{strategy:t="median",thresholds:r=2e3,groupBy:n=["series","color"]}=e,i=function(e){if("function"==typeof e)return e;if("lttb"===e)return dE;let t={first:e=>[e[0]],last:e=>[e[e.length-1]],min:(e,t,r)=>[e[(0,u0.Z)(e,e=>r[e])]],max:(e,t,r)=>[e[(0,fw.Z)(e,e=>r[e])]],median:(e,t,r)=>[e[(0,fN.P)(e,e=>r[e])]]},r=t[e]||t.median;return(e,t,n,i)=>{let o=Math.max(1,Math.floor(e.length/i));return(function(e,t){let r=e.length,n=[],i=0;for(;i<r;)n.push(e.slice(i,i+=t));return n})(e,o).flatMap(e=>r(e,t,n))}}(t);return(e,t)=>{let{encode:o}=t,a=fS(n,e,t),[s]=A(o,"x"),[l]=A(o,"y");return[a.flatMap(e=>i(e,s,l,r)),t]}};dx.props={};let dP=(e={})=>(t,r)=>{let{encode:n,data:i}=r,o=Object.entries(e).map(([e,t])=>{let[r]=A(n,e);if(!r)return null;let[i,o=!0]=function(e){return"object"==typeof e?[e.value,e.ordinal]:[e,!0]}(t);if("function"==typeof i)return e=>i(r[e]);if(o){let e=Array.isArray(i)?i:[i];return 0===e.length?null:t=>e.includes(r[t])}{let[e,t]=i;return n=>r[n]>=e&&r[n]<=t}}).filter(tt);if(0===o.length)return[t,r];let a=t.filter(e=>o.every(t=>t(e))),s=a.map((e,t)=>t),l=Object.entries(n).map(([e,t])=>[e,Object.assign(Object.assign({},t),{value:s.map(e=>t.value[a[e]]).filter(e=>void 0!==e)})]);return[s,(0,P.Z)({},r,{encode:Object.fromEntries(l),data:a.map(e=>i[e])})]};dP.props={};var dj=r(61036),dT=r(71145);let dk=e=>{let{value:t,format:r=t.split(".").pop(),delimiter:n=",",autoType:i=!0}=e;return()=>(function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})})(void 0,void 0,void 0,function*(){let e=yield fetch(t);if("csv"===r){let t=yield e.text();return(0,dj.Z)(n).parse(t,i?dT.Z:e6)}if("json"===r)return yield e.json();throw Error(`Unknown format: ${r}.`)})};dk.props={};let dC=e=>{let{value:t}=e;return()=>t};dC.props={};let dA=e=>{let{fields:t=[]}=e,r=function(e,t){return e.map(e=>{if(Array.isArray(e)){let[r,n=t]=e;return[r,n]}return[e,t]})}(t,!0);return e=>[...e].sort((e,t)=>r.reduce((r,[n,i=!0])=>0!==r?r:i?e[n]<t[n]?-1:+(e[n]!==t[n]):e[n]>t[n]?-1:+(e[n]!==t[n]),0))};dA.props={};let dR=e=>{let{callback:t}=e;return e=>Array.isArray(e)?[...e].sort(t):e};function dM(e){return null!=e&&!Number.isNaN(e)}dR.props={};let dI=e=>{let{callback:t=dM}=e;return e=>e.filter(t)};dI.props={};let dN=e=>{let{fields:t}=e;return e=>e.map(e=>(function(e,t=[]){return t.reduce((t,r)=>(r in e&&(t[r]=e[r]),t),{})})(e,t))};dN.props={};let dL=e=>t=>e&&0!==Object.keys(e).length?t.map(t=>Object.entries(t).reduce((t,[r,n])=>(t[e[r]||r]=n,t),{})):t;dL.props={};let dD=e=>{let{fields:t,key:r="key",value:n="value"}=e;return e=>!function(e){return!e||0===Object.keys(e).length}(t)?e.flatMap(e=>t.map(t=>Object.assign(Object.assign({},e),{[r]:t,[n]:e[t]}))):e};dD.props={};let dz=e=>{let{start:t,end:r}=e;return e=>e.slice(t,r)};dz.props={};let dF=e=>{let{callback:t=e6}=e;return e=>t(e)};dF.props={};let dB=e=>{let{callback:t=e6}=e;return e=>Array.isArray(e)?e.map(t):e};function dU(e){return"string"==typeof e?t=>t[e]:e}dB.props={};let dW=e=>{let{join:t,on:r,select:n=[],as:i=n,unknown:o=NaN}=e,[a,s]=r,l=dU(s),u=dU(a),c=(0,e5.jJ)(t,([e])=>e,e=>l(e));return e=>e.map(e=>{let t=c.get(u(e));return Object.assign(Object.assign({},e),n.reduce((e,r,n)=>(e[i[n]]=t?t[r]:o,e),{}))})};dW.props={};var dZ=r(86311),dV=r.n(dZ);let dq=e=>{let{field:t,groupBy:r,as:n=["y","size"],min:i,max:o,size:a=10,width:s}=e,[l,u]=n;return e=>Array.from((0,e5.ZP)(e,e=>r.map(t=>e[t]).join("-")).values()).map(e=>{let r=dV().create(e.map(e=>e[t]),{min:i,max:o,size:a,width:s}),n=r.map(e=>e.x),c=r.map(e=>e.y);return Object.assign(Object.assign({},e[0]),{[l]:n,[u]:c})})};dq.props={};let d$=()=>e=>(console.log("G2 data section:",e),e);function dH(e){let{min:t,max:r}=e;return[[t[0],t[1]],[r[0],r[1]]]}function dG(e,t){let[r,n]=e,[i,o]=t;return r>=i[0]&&r<=o[0]&&n>=i[1]&&n<=o[1]}function dY(){let e=new Map;return[t=>e.get(t),(t,r)=>e.set(t,r)]}function dK(e){let t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function dX(e,t,r){return .2126*dK(e)+.7152*dK(t)+.0722*dK(r)}function dQ(e,t){let{r,g:n,b:i}=e,{r:o,g:a,b:s}=t,l=dX(r,n,i),u=dX(o,a,s);return(Math.max(l,u)+.05)/(Math.min(l,u)+.05)}d$.props={};var dJ=r(26222),d0=r(3005);function d1(e,t,r={},n=!1){if(ts(e)||Array.isArray(e)&&n)return e;let i=tr(e,t);return(0,P.Z)(r,i)}function d2(e,t={}){return ts(e)||Array.isArray(e)||!d5(e)?e:(0,P.Z)(t,e)}function d5(e){if(0===Object.keys(e).length)return!0;let{title:t,items:r}=e;return void 0!==t||void 0!==r}function d4(e,t){return"object"==typeof e?tr(e,t):e}var d3=r(97550),d6=r(29716),d8=r(76071),d9=r(24708),d7=r(15792),pe=r(89532),pt=r(13658),pr=r(94302),pn=r(45886),pi=r(85233),po=r(9964),pa=r(11494),ps=r(49059),pl=r(88900),pu=r(53646),pc=r(89627),pf=r(8898),pd=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function pp(e){let{data:t}=e;if(Array.isArray(t))return Object.assign(Object.assign({},e),{data:{value:t}});let{type:r}=t;return"graticule10"===r?Object.assign(Object.assign({},e),{data:{value:[(0,d0.e)()]}}):"sphere"===r?Object.assign(Object.assign({},e),{sphere:!0,data:{value:[{type:"Sphere"}]}}):e}function ph(e){return"geoPath"===e.type}let py=()=>e=>{let t;let{children:r,coordinate:n={}}=e;if(!Array.isArray(r))return[];let{type:i="equalEarth"}=n,o=pd(n,["type"]),a=function(e){if("function"==typeof e)return e;let t=l[`geo${(0,sy.Z)(e)}`];if(!t)throw Error(`Unknown coordinate: ${e}`);return t}(i),s=r.map(pp);return[Object.assign(Object.assign({},e),{type:"view",scale:{x:{type:"identity"},y:{type:"identity"}},axis:!1,coordinate:{type:function(){return[["custom",(e,r,n,i)=>{let l=a();!function(e,t,r,n){let{outline:i=(()=>{let e=t.filter(ph);return e.find(e=>e.sphere)?{type:"Sphere"}:{type:"FeatureCollection",features:e.filter(e=>!e.sphere).flatMap(e=>e.data.value).flatMap(e=>(function(e){if(!e||!e.type)return null;let t={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featureCollection"}[e.type];return t?"geometry"===t?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:e}]}:"feature"===t?{type:"FeatureCollection",features:[e]}:"featureCollection"===t?e:void 0:null})(e).features)}})()}=n,{size:o="fitExtent"}=n;"fitExtent"===o?function(e,t,r){let{x:n,y:i,width:o,height:a}=r;e.fitExtent([[n,i],[o,a]],t)}(e,i,r):"fitWidth"===o&&function(e,t,r){let{width:n,height:i}=r,[[o,a],[s,l]]=(0,dJ.Z)(e.fitWidth(n,t)).bounds(t),u=Math.ceil(l-a),c=Math.min(Math.ceil(s-o),u),f=e.scale()*(c-1)/c,[d,p]=e.translate();e.scale(f).translate([d,p+(i-u)/2]).precision(.2)}(e,i,r)}(l,s,{x:e,y:r,width:n,height:i},o),function(e,t){var r;for(let[n,i]of Object.entries(t))null===(r=e[n])||void 0===r||r.call(e,i)}(l,o),t=(0,dJ.Z)(l);let u=new tv.b({domain:[e,e+n]}),c=new tv.b({domain:[r,r+i]}),f=e=>{let t=l(e);if(!t)return[null,null];let[r,n]=t;return[u.map(r),c.map(n)]},d=e=>{if(!e)return null;let[t,r]=e,n=[u.invert(t),c.invert(r)];return l.invert(n)};return{transform:e=>f(e),untransform:e=>d(e)}}]]}},children:s.flatMap(e=>ph(e)?function(e){let{style:r,tooltip:n={}}=e;return Object.assign(Object.assign({},e),{type:"path",tooltip:d2(n,{title:"id",items:[{channel:"color"}]}),style:Object.assign(Object.assign({},r),{d:e=>t(e)||[]})})}(e):e)})]};py.props={};var pb=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let pg=()=>e=>{let{type:t,data:r,scale:n,encode:i,style:o,animate:a,key:s,state:l}=e;return[Object.assign(Object.assign({type:"geoView"},pb(e,["type","data","scale","encode","style","animate","key","state"])),{children:[{type:"geoPath",key:`${s}-0`,data:{value:r},scale:n,encode:i,style:o,animate:a,state:l}]})]};pg.props={};var pm=r(65002),pv=r(96101),p_=r(88428),pO=r(56184),pw=r(4808),pS=r(9633),pE=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let px={joint:!0},pP={type:"link",axis:!1,legend:!1,encode:{x:[e=>e.source.x,e=>e.target.x],y:[e=>e.source.y,e=>e.target.y]},style:{stroke:"#999",strokeOpacity:.6}},pj={type:"point",axis:!1,legend:!1,encode:{x:"x",y:"y",size:5,color:"group",shape:"point"},style:{stroke:"#fff"}},pT={text:""},pk=e=>{let{data:t,encode:r={},scale:n,style:i={},layout:o={},nodeLabels:a=[],linkLabels:s=[],animate:l={},tooltip:u={}}=e,{nodeKey:c=e=>e.id,linkKey:f=e=>e.id}=r,d=Object.assign({nodeKey:c,linkKey:f},pE(r,["nodeKey","linkKey"])),p=tr(d,"node"),h=tr(d,"link"),{links:y,nodes:b}=re(t,d),{nodesData:g,linksData:m}=function(e,t,r){let{nodes:n,links:i}=e,{joint:o,nodeStrength:a,linkStrength:s}=t,{nodeKey:l=e=>e.id,linkKey:u=e=>e.id}=r,c=(0,pm.Z)(),f=(0,pv.Z)(i).id(t9(u));"function"==typeof a&&c.strength(a),"function"==typeof s&&f.strength(s);let d=(0,p_.Z)(n).force("link",f).force("charge",c);o?d.force("center",(0,pO.Z)()):d.force("x",(0,pw.Z)()).force("y",(0,pS.Z)()),d.stop();let p=Math.ceil(Math.log(d.alphaMin())/Math.log(1-d.alphaDecay()));for(let e=0;e<p;e++)d.tick();return{nodesData:n,linksData:i}}({links:y,nodes:b},(0,P.Z)({},px,o),d),v=d1(u,"link",{items:[e=>({name:"source",value:t9(f)(e.source)}),e=>({name:"target",value:t9(f)(e.target)})]}),_=d1(u,"node",{items:[e=>({name:"key",value:t9(c)(e)})]},!0);return[(0,P.Z)({},pP,{data:m,encode:h,labels:s,style:tr(i,"link"),tooltip:v,animate:d4(l,"link")}),(0,P.Z)({},pj,{data:g,encode:Object.assign({},p),scale:n,style:tr(i,"node"),tooltip:_,labels:[Object.assign(Object.assign({},pT),tr(i,"label")),...a],animate:d4(l,"link")})]};pk.props={};var pC=r(40229),pA=r(14676);let pR=e=>t=>r=>{let{field:n="value",nodeSize:i,separation:o,sortBy:a,as:s=["x","y"]}=t,[l,u]=s,c=(0,t$.ZP)(r,e=>e.children).sum(e=>e[n]).sort(a),f=e();f.size([1,1]),i&&f.nodeSize(i),o&&f.separation(o),f(c);let d=[];c.each(e=>{e[l]=e.x,e[u]=e.y,e.name=e.data.name,d.push(e)});let p=c.links();return p.forEach(e=>{e[l]=[e.source[l],e.target[l]],e[u]=[e.source[u],e.target[u]]}),{nodes:d,edges:p}},pM=e=>pR(pA.Z)(e);pM.props={};let pI=e=>pR(pC.Z)(e);pI.props={};let pN={sortBy:(e,t)=>t.value-e.value},pL={axis:!1,legend:!1,type:"point",encode:{x:"x",y:"y",size:2,shape:"point"}},pD={type:"link",encode:{x:"x",y:"y",shape:"smooth"}},pz={text:"",fontSize:10},pF=e=>{let{data:t,encode:r={},scale:n={},style:i={},layout:o={},nodeLabels:a=[],linkLabels:s=[],animate:l={},tooltip:u={}}=e,c=null==r?void 0:r.value,{nodes:f,edges:d}=pI(Object.assign(Object.assign(Object.assign({},pN),o),{field:c}))(t),p=d1(u,"node",{title:"name",items:["value"]},!0),h=d1(u,"link",{title:"",items:[e=>({name:"source",value:e.source.name}),e=>({name:"target",value:e.target.name})]});return[(0,P.Z)({},pD,{data:d,encode:tr(r,"link"),scale:tr(n,"link"),labels:s,style:Object.assign({stroke:"#999"},tr(i,"link")),tooltip:h,animate:d4(l,"link")}),(0,P.Z)({},pL,{data:f,scale:tr(n,"node"),encode:tr(r,"node"),labels:[Object.assign(Object.assign({},pz),tr(i,"label")),...a],style:Object.assign({},tr(i,"node")),tooltip:p,animate:d4(l,"node")})]};pF.props={};var pB=r(89944),pU=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let pW=(e,t)=>({size:[e,t],padding:0,sort:(e,t)=>t.value-e.value}),pZ=(e,t,r)=>({type:"point",axis:!1,legend:!1,scale:{x:{domain:[0,e]},y:{domain:[0,t]},size:{type:"identity"}},encode:{x:"x",y:"y",size:"r",shape:"point"},style:{fill:r.color?void 0:e=>0===e.height?"#ddd":"#fff",stroke:r.color?void 0:e=>0===e.height?"":"#000"}}),pV={text:"",position:"inside",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:e=>2*e.r},pq={title:e=>e.data.name,items:[{field:"value"}]},p$=(e,t,r)=>{let{value:n}=r,i=(0,nx.Z)(e)?(0,tq.Z)().path(t.path)(e):(0,t$.ZP)(e);return n?i.sum(e=>t9(n)(e)).sort(t.sort):i.count(),(0,pB.Z)().size(t.size).padding(t.padding)(i),i.descendants()},pH=(e,t)=>{let{width:r,height:n}=t,{data:i,encode:o={},scale:a={},style:s={},layout:l={},labels:u=[],tooltip:c={}}=e,f=pU(e,["data","encode","scale","style","layout","labels","tooltip"]),d=pZ(r,n,o),p=p$(i,(0,P.Z)({},pW(r,n),l),(0,P.Z)({},d.encode,o)),h=tr(s,"label");return(0,P.Z)({},d,Object.assign(Object.assign({data:p,encode:o,scale:a,style:s,labels:[Object.assign(Object.assign({},pV),h),...u]},f),{tooltip:d2(c,pq),axis:!1}))};function pG(e){return e.target.depth}function pY(e,t){return e.sourceLinks.length?e.depth:t-1}function pK(e){return function(){return e}}function pX(e,t){return pJ(e.source,t.source)||e.index-t.index}function pQ(e,t){return pJ(e.target,t.target)||e.index-t.index}function pJ(e,t){return e.y0-t.y0}function p0(e){return e.value}function p1(e){return e.index}function p2(e){return e.nodes}function p5(e){return e.links}function p4(e,t){let r=e.get(t);if(!r)throw Error("missing: "+t);return r}function p3({nodes:e}){for(let t of e){let e=t.y0,r=e;for(let r of t.sourceLinks)r.y0=e+r.width/2,e+=r.width;for(let e of t.targetLinks)e.y1=r+e.width/2,r+=e.width}}pH.props={};let p6={nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodes:e=>e.nodes,links:e=>e.links,nodeSort:void 0,linkSort:void 0,iterations:6},p8={left:function(e){return e.depth},right:function(e,t){return t-1-e.height},center:function(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?(0,of.Z)(e.sourceLinks,pG)-1:0},justify:pY},p9=e=>t=>{let{nodeId:r,nodeSort:n,nodeAlign:i,nodeWidth:o,nodePadding:a,nodeDepth:s,nodes:l,links:u,linkSort:c,iterations:f}=Object.assign({},p6,e),d=(function(){let e,t,r,n=0,i=0,o=1,a=1,s=24,l=8,u,c=p1,f=pY,d=p2,p=p5,h=6;function y(y){let g={nodes:d(y),links:p(y)};return function({nodes:e,links:t}){e.forEach((e,t)=>{e.index=t,e.sourceLinks=[],e.targetLinks=[]});let n=new Map(e.map(e=>[c(e),e]));if(t.forEach((e,t)=>{e.index=t;let{source:r,target:i}=e;"object"!=typeof r&&(r=e.source=p4(n,r)),"object"!=typeof i&&(i=e.target=p4(n,i)),r.sourceLinks.push(e),i.targetLinks.push(e)}),null!=r)for(let{sourceLinks:t,targetLinks:n}of e)t.sort(r),n.sort(r)}(g),function({nodes:e}){for(let t of e)t.value=void 0===t.fixedValue?Math.max((0,fL.Z)(t.sourceLinks,p0),(0,fL.Z)(t.targetLinks,p0)):t.fixedValue}(g),function({nodes:t}){let r=t.length,n=new Set(t),i=new Set,o=0;for(;n.size;){if(n.forEach(e=>{for(let{target:t}of(e.depth=o,e.sourceLinks))i.add(t)}),++o>r)throw Error("circular link");n=i,i=new Set}if(e){let r;let n=Math.max((0,od.Z)(t,e=>e.depth)+1,0);for(let i=0;i<t.length;i++)(r=t[i]).depth=e.call(null,r,n)}}(g),function({nodes:e}){let t=e.length,r=new Set(e),n=new Set,i=0;for(;r.size;){if(r.forEach(e=>{for(let{source:t}of(e.height=i,e.targetLinks))n.add(t)}),++i>t)throw Error("circular link");r=n,n=new Set}}(g),function(e){let c=function({nodes:e}){let r=Math.max((0,od.Z)(e,e=>e.depth)+1,0),i=(o-n-s)/(r-1),a=Array(r).fill(0).map(()=>[]);for(let t of e){let e=Math.max(0,Math.min(r-1,Math.floor(f.call(null,t,r))));t.layer=e,t.x0=n+e*i,t.x1=t.x0+s,a[e]?a[e].push(t):a[e]=[t]}if(t)for(let e of a)e.sort(t);return a}(e);u=Math.min(l,(a-i)/((0,od.Z)(c,e=>e.length)-1)),function(e){let t=(0,of.Z)(e,e=>(a-i-(e.length-1)*u)/(0,fL.Z)(e,p0));for(let n of e){let e=i;for(let r of n)for(let n of(r.y0=e,r.y1=e+r.value*t,e=r.y1+u,r.sourceLinks))n.width=n.value*t;e=(a-e+u)/(n.length+1);for(let t=0;t<n.length;++t){let r=n[t];r.y0+=e*(t+1),r.y1+=e*(t+1)}(function(e){if(void 0===r)for(let{sourceLinks:t,targetLinks:r}of e)t.sort(pQ),r.sort(pX)})(n)}}(c);for(let e=0;e<h;++e){let r=Math.pow(.99,e),n=Math.max(1-r,(e+1)/h);(function(e,r,n){for(let i=e.length,o=i-2;o>=0;--o){let i=e[o];for(let e of i){let t=0,n=0;for(let{target:r,value:i}of e.sourceLinks){let o=i*(r.layer-e.layer);t+=function(e,t){let r=t.y0-(t.targetLinks.length-1)*u/2;for(let{source:n,width:i}of t.targetLinks){if(n===e)break;r+=i+u}for(let{target:n,width:i}of e.sourceLinks){if(n===t)break;r-=i}return r}(e,r)*o,n+=o}if(!(n>0))continue;let i=(t/n-e.y0)*r;e.y0+=i,e.y1+=i,v(e)}void 0===t&&i.sort(pJ),i.length&&b(i,n)}})(c,r,n),function(e,r,n){for(let i=1,o=e.length;i<o;++i){let o=e[i];for(let e of o){let t=0,n=0;for(let{source:r,value:i}of e.targetLinks){let o=i*(e.layer-r.layer);t+=function(e,t){let r=e.y0-(e.sourceLinks.length-1)*u/2;for(let{target:n,width:i}of e.sourceLinks){if(n===t)break;r+=i+u}for(let{source:n,width:i}of t.targetLinks){if(n===e)break;r-=i}return r}(r,e)*o,n+=o}if(!(n>0))continue;let i=(t/n-e.y0)*r;e.y0+=i,e.y1+=i,v(e)}void 0===t&&o.sort(pJ),o.length&&b(o,n)}}(c,r,n)}}(g),p3(g),g}function b(e,t){let r=e.length>>1,n=e[r];m(e,n.y0-u,r-1,t),g(e,n.y1+u,r+1,t),m(e,a,e.length-1,t),g(e,i,0,t)}function g(e,t,r,n){for(;r<e.length;++r){let i=e[r],o=(t-i.y0)*n;o>1e-6&&(i.y0+=o,i.y1+=o),t=i.y1+u}}function m(e,t,r,n){for(;r>=0;--r){let i=e[r],o=(i.y1-t)*n;o>1e-6&&(i.y0-=o,i.y1-=o),t=i.y0-u}}function v({sourceLinks:e,targetLinks:t}){if(void 0===r){for(let{source:{sourceLinks:e}}of t)e.sort(pQ);for(let{target:{targetLinks:t}}of e)t.sort(pX)}}return y.update=function(e){return p3(e),e},y.nodeId=function(e){return arguments.length?(c="function"==typeof e?e:pK(e),y):c},y.nodeAlign=function(e){return arguments.length?(f="function"==typeof e?e:pK(e),y):f},y.nodeDepth=function(t){return arguments.length?(e=t,y):e},y.nodeSort=function(e){return arguments.length?(t=e,y):t},y.nodeWidth=function(e){return arguments.length?(s=+e,y):s},y.nodePadding=function(e){return arguments.length?(l=u=+e,y):l},y.nodes=function(e){return arguments.length?(d="function"==typeof e?e:pK(e),y):d},y.links=function(e){return arguments.length?(p="function"==typeof e?e:pK(e),y):p},y.linkSort=function(e){return arguments.length?(r=e,y):r},y.size=function(e){return arguments.length?(n=i=0,o=+e[0],a=+e[1],y):[o-n,a-i]},y.extent=function(e){return arguments.length?(n=+e[0][0],o=+e[1][0],i=+e[0][1],a=+e[1][1],y):[[n,i],[o,a]]},y.iterations=function(e){return arguments.length?(h=+e,y):h},y})().nodeSort(n).linkSort(c).links(u).nodes(l).nodeWidth(o).nodePadding(a).nodeDepth(s).nodeAlign(function(e){let t=typeof e;return"string"===t?p8[e]||pY:"function"===t?e:pY}(i)).iterations(f).extent([[0,0],[1,1]]);"function"==typeof r&&d.nodeId(r);let{nodes:p,links:h}=d(t);return{nodes:p.map(e=>{let{x0:t,x1:r,y0:n,y1:i}=e;return Object.assign(Object.assign({},e),{x:[t,r,r,t],y:[n,n,i,i]})}),links:h.map(e=>{let{source:t,target:r}=e,n=t.x1,i=r.x0,o=e.width/2;return Object.assign(Object.assign({},e),{x:[n,n,i,i],y:[e.y0+o,e.y0-o,e.y1+o,e.y1-o]})})}};p9.props={};var p7=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let he={nodeId:e=>e.key,nodeWidth:.02,nodePadding:.02},ht={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{stroke:"#000"}},hr={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{fillOpacity:.5,stroke:void 0}},hn={textAlign:e=>e.x[0]<.5?"start":"end",position:e=>e.x[0]<.5?"right":"left",fontSize:10},hi=e=>{let{data:t,encode:r={},scale:n,style:i={},layout:o={},nodeLabels:a=[],linkLabels:s=[],animate:l={},tooltip:u={}}=e,{links:c,nodes:f}=re(t,r),d=tr(r,"node"),p=tr(r,"link"),{key:h=e=>e.key,color:y=h}=d,{links:b,nodes:g}=p9(Object.assign(Object.assign(Object.assign({},he),{nodeId:t9(h)}),o))({links:c,nodes:f}),m=tr(i,"label"),{text:v=h,spacing:_=5}=m,O=p7(m,["text","spacing"]),w=t9(h),S=d1(u,"node",{title:w,items:[{field:"value"}]},!0),E=d1(u,"link",{title:"",items:[e=>({name:"source",value:w(e.source)}),e=>({name:"target",value:w(e.target)})]});return[(0,P.Z)({},ht,{data:g,encode:Object.assign(Object.assign({},d),{color:y}),scale:n,style:tr(i,"node"),labels:[Object.assign(Object.assign(Object.assign({},hn),{text:v,dx:e=>e.x[0]<.5?_:-_}),O),...a],tooltip:S,animate:d4(l,"node"),axis:!1}),(0,P.Z)({},hr,{data:b,encode:p,labels:s,style:Object.assign({fill:p.color?void 0:"#aaa",strokeWidth:0},tr(i,"link")),tooltip:E,animate:d4(l,"link")})]};function ho(e,t){return t.value-e.value}function ha(e,t){return t.frequency-e.frequency}function hs(e,t){return`${e.id}`.localeCompare(`${t.id}`)}function hl(e,t){return`${e.name}`.localeCompare(`${t.name}`)}hi.props={};let hu={y:0,thickness:.05,weight:!1,marginRatio:.1,id:e=>e.id,source:e=>e.source,target:e=>e.target,sourceWeight:e=>e.value||1,targetWeight:e=>e.value||1,sortBy:null},hc=e=>t=>(function(e){let{y:t,thickness:r,weight:n,marginRatio:i,id:o,source:a,target:s,sourceWeight:l,targetWeight:c,sortBy:f}=Object.assign(Object.assign({},hu),e);return function(e){let d=e.nodes.map(e=>Object.assign({},e)),p=e.edges.map(e=>Object.assign({},e));return function(e,t){t.forEach(e=>{e.source=a(e),e.target=s(e),e.sourceWeight=l(e),e.targetWeight=c(e)});let r=(0,e5.ZP)(t,e=>e.source),n=(0,e5.ZP)(t,e=>e.target);e.forEach(e=>{e.id=o(e);let t=r.has(e.id)?r.get(e.id):[],i=n.has(e.id)?n.get(e.id):[];e.frequency=t.length+i.length,e.value=(0,fL.Z)(t,e=>e.sourceWeight)+(0,fL.Z)(i,e=>e.targetWeight)})}(d,p),function(e,t){let r="function"==typeof f?f:u[f];r&&e.sort(r)}(d,0),function(e,o){let a=e.length;if(!a)throw e7("Invalid nodes: it's empty!");if(!n){let r=1/a;return e.forEach((e,n)=>{e.x=(n+.5)*r,e.y=t})}let s=i/(2*a),l=e.reduce((e,t)=>e+=t.value,0);e.reduce((e,n)=>{n.weight=n.value/l,n.width=n.weight*(1-i),n.height=r;let o=s+e,a=o+n.width,u=t-r/2,c=u+r;return n.x=[o,a,a,o],n.y=[u,u,c,c],e+n.width+2*s},0)}(d,0),function(e,r){let i=new Map(e.map(e=>[e.id,e]));if(!n)return r.forEach(e=>{let t=a(e),r=s(e),n=i.get(t),o=i.get(r);n&&o&&(e.x=[n.x,o.x],e.y=[n.y,o.y])});r.forEach(e=>{e.x=[0,0,0,0],e.y=[t,t,t,t]});let o=(0,e5.ZP)(r,e=>e.source),l=(0,e5.ZP)(r,e=>e.target);e.forEach(e=>{let{edges:t,width:r,x:n,y:i,value:a,id:s}=e,u=o.get(s)||[],c=l.get(s)||[],f=0;u.map(e=>{let t=e.sourceWeight/a*r;e.x[0]=n[0]+f,e.x[1]=n[0]+f+t,f+=t}),c.forEach(e=>{let t=e.targetWeight/a*r;e.x[3]=n[0]+f,e.x[2]=n[0]+f+t,f+=t})})}(d,p),{nodes:d,edges:p}}})(e)(t);hc.props={};var hf=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let hd={y:0,thickness:.05,marginRatio:.1,id:e=>e.key,source:e=>e.source,target:e=>e.target,sourceWeight:e=>e.value||1,targetWeight:e=>e.value||1,sortBy:null},hp={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{opacity:1,fillOpacity:1,lineWidth:1}},hh={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{opacity:.5,lineWidth:1,strokeWidth:1}},hy={position:"outside",fontSize:10},hb=(e,t)=>{let{data:r,encode:n={},scale:i,style:o={},layout:a={},nodeLabels:s=[],linkLabels:l=[],animate:u={},tooltip:c={}}=e,{nodes:f,links:d}=re(r,n),p=tr(n,"node"),h=tr(n,"link"),{key:y=e=>e.key,color:b=y}=p,{linkEncodeColor:g=e=>e.source}=h,{nodeWidthRatio:m=hd.thickness,nodePaddingRatio:v=hd.marginRatio}=a,_=hf(a,["nodeWidthRatio","nodePaddingRatio"]),{nodes:O,edges:w}=hc(Object.assign(Object.assign(Object.assign(Object.assign({},hd),{id:t9(y),thickness:m,marginRatio:v}),_),{weight:!0}))({nodes:f,edges:d}),S=tr(o,"label"),{text:E=y}=S,x=hf(S,["text"]),j=d1(c,"node",{title:"",items:[e=>({name:e.key,value:e.value})]},!0),T=d1(c,"link",{title:"",items:[e=>({name:`${e.source} -> ${e.target}`,value:e.value})]}),{height:k,width:C}=t,A=Math.min(k,C);return[(0,P.Z)({},hh,{data:w,encode:Object.assign(Object.assign({},h),{color:g}),labels:l,style:Object.assign({fill:g?void 0:"#aaa"},tr(o,"link")),tooltip:T,animate:d4(u,"link")}),(0,P.Z)({},hp,{data:O,encode:Object.assign(Object.assign({},p),{color:b}),scale:i,style:tr(o,"node"),coordinate:{type:"polar",outerRadius:(A-20)/A,startAngle:-(2*Math.PI),endAngle:0},labels:[Object.assign(Object.assign(Object.assign({},hy),{text:E}),x),...s],tooltip:j,animate:d4(u,"node"),axis:!1})]};hb.props={};var hg=r(4307),hm=r(99800),hv=r(93616),h_=r(69547),hO=r(56576),hw=r(65790),hS=r(68013),hE=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let hx=(e,t)=>({tile:"treemapSquarify",ratio:.5*(1+Math.sqrt(5)),size:[e,t],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,sort:(e,t)=>t.value-e.value,layer:0}),hP=(e,t)=>({type:"rect",axis:!1,encode:{x:"x",y:"y",color:e=>e.data.parent.name},scale:{x:{domain:[0,e],range:[0,1]},y:{domain:[0,t],range:[0,1]}},style:{stroke:"#fff"}}),hj={fontSize:10,text:e=>e.data.name,position:"inside",fill:"#000",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:e=>e.x1-e.x0},hT={title:e=>e.data.name,items:[{field:"value"}]},hk=(e,t)=>{let{width:r,height:n}=t,{data:i,encode:o={},scale:a,style:s={},layout:l={},labels:u=[],tooltip:c={}}=e,f=hE(e,["data","encode","scale","style","layout","labels","tooltip"]),d=function(e,t,r){var n;let{value:i}=r,o=function(e,t){let r={treemapBinary:hg.Z,treemapDice:hm.Z,treemapSlice:hv.Z,treemapSliceDice:h_.Z,treemapSquarify:hO.ZP,treemapResquarify:hw.Z},n="treemapSquarify"===e?r[e].ratio(t):r[e];if(!n)throw TypeError("Invalid tile method!");return n}(t.tile,t.ratio),a=(n=t.path,Array.isArray(e)?"function"==typeof n?(0,tq.Z)().path(n)(e):(0,tq.Z)()(e):(0,t$.ZP)(e));return i?a.sum(e=>t.ignoreParentValue&&e.children?0:t9(i)(e)).sort(t.sort):a.count(),(0,hS.Z)().tile(o).size(t.size).round(t.round).paddingInner(t.paddingInner).paddingOuter(t.paddingOuter).paddingTop(t.paddingTop).paddingRight(t.paddingRight).paddingBottom(t.paddingBottom).paddingLeft(t.paddingLeft)(a),a.descendants().map(e=>Object.assign(e,{x:[e.x0,e.x1],y:[e.y0,e.y1]})).filter("function"==typeof t.layer?t.layer:e=>e.height===t.layer)}(i,(0,P.Z)({},hx(r,n),l),o),p=tr(s,"label");return(0,P.Z)({},hP(r,n),Object.assign(Object.assign({data:d,encode:o,scale:a,style:s,labels:[Object.assign(Object.assign({},hj),p),...u]},f),{tooltip:d2(c,hT),axis:!1}))};hk.props={};var hC=r(53453),hA=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function hR(e,t){return(0,of.Z)(e,e=>t[e])}function hM(e,t){return(0,od.Z)(e,e=>t[e])}function hI(e,t){let r=2.5*hN(e,t)-1.5*hD(e,t);return(0,of.Z)(e,e=>t[e]>=r?t[e]:NaN)}function hN(e,t){return(0,hC.ZP)(e,.25,e=>t[e])}function hL(e,t){return(0,hC.ZP)(e,.5,e=>t[e])}function hD(e,t){return(0,hC.ZP)(e,.75,e=>t[e])}function hz(e,t){let r=2.5*hD(e,t)-1.5*hN(e,t);return(0,od.Z)(e,e=>t[e]<=r?t[e]:NaN)}function hF(){return(e,t)=>{let{encode:r}=t,{y:n,x:i}=r,{value:o}=n,{value:a}=i;return[Array.from((0,e5.ZP)(e,e=>a[+e]).values()).flatMap(e=>{let t=hI(e,o),r=hz(e,o);return e.filter(e=>o[e]<t||o[e]>r)}),t]}}let hB=e=>{let{data:t,encode:r,style:n={},tooltip:i={},transform:o,animate:a}=e,s=hA(e,["data","encode","style","tooltip","transform","animate"]),{point:l=!0}=n,u=hA(n,["point"]),{y:c}=r,f={y:c,y1:c,y2:c,y3:c,y4:c},d={y1:hN,y2:hL,y3:hD},p=d1(i,"box",{items:[{channel:"y",name:"min"},{channel:"y1",name:"q1"},{channel:"y2",name:"q2"},{channel:"y3",name:"q3"},{channel:"y4",name:"max"}]},!0),h=d1(i,"point",{title:{channel:"x"},items:[{name:"outlier",channel:"y"}]});if(!l)return Object.assign({type:"box",data:t,transform:[Object.assign(Object.assign({type:"groupX",y:hR},d),{y4:hM})],encode:Object.assign(Object.assign({},r),f),style:u,tooltip:p},s);let y=tr(u,"box"),b=tr(u,"point");return[Object.assign({type:"box",data:t,transform:[Object.assign(Object.assign({type:"groupX",y:hI},d),{y4:hz})],encode:Object.assign(Object.assign({},r),f),style:y,tooltip:p,animate:d4(a,"box")},s),{type:"point",data:t,transform:[{type:hF}],encode:r,style:Object.assign({},b),tooltip:h,animate:d4(a,"point")}]};hB.props={};var hU=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let hW={coordinate:{type:"radial",innerRadius:.9,outerRadius:1,startAngle:-1.1*Math.PI,endAngle:.1*Math.PI},axis:{x:!1},legend:!1,tooltip:!1,encode:{x:"x",y:"y",color:"color"},scale:{color:{range:["#30BF78","#D0D0D0"]}}},hZ={style:{shape:(e,t)=>{let{shape:r,radius:n}=e,i=hU(e,["shape","radius"]),o=tr(i,"pointer"),a=tr(i,"pin"),{shape:s}=o,l=hU(o,["shape"]),{shape:u}=a,c=hU(a,["shape"]),{coordinate:f,theme:d}=t;return(e,t)=>{let r=e.map(e=>f.invert(e)),[o,a,p]=function(e,t){let{transformations:r}=e.getOptions(),[,...n]=r.find(e=>e[0]===t);return n}(f,"polar"),h=f.clone(),{color:y}=t,b=_({startAngle:o,endAngle:a,innerRadius:p,outerRadius:n});b.push(["cartesian"]),h.update({transformations:b});let g=r.map(e=>h.map(e)),[m,v]=tR(g),[O,w]=f.getCenter(),S=Object.assign(Object.assign({x1:m,y1:v,x2:O,y2:w,stroke:y},l),i),E=Object.assign(Object.assign({cx:O,cy:w,stroke:y},c),i),x=tl(new $.ZA);return ts(s)||("function"==typeof s?x.append(()=>s(g,t,h,d)):x.append("line").call(tx,S).node()),ts(u)||("function"==typeof u?x.append(()=>u(g,t,h,d)):x.append("circle").call(tx,E).node()),x.node()}},lineWidth:4,pointerLineCap:"round",pinR:10,pinFill:"#fff",radius:.6}},hV={type:"text",style:{x:"50%",y:"60%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"}},hq=e=>{var t;let{data:r={},scale:n={},style:i={},animate:o={},transform:a=[]}=e,s=hU(e,["data","scale","style","animate","transform"]),{targetData:l,totalData:u,target:c,total:f,scale:d}=function(e,t){let{name:r="score",target:n,total:i,percent:o,thresholds:a=[]}=function(e){if((0,Y.Z)(e)){let t=Math.max(0,Math.min(e,1));return{percent:t,target:t,total:1}}return e}(e),s=o||n,l=o?1:i,u=Object.assign({y:{domain:[0,l]}},t);return a.length?{targetData:[{x:r,y:s,color:"target"}],totalData:a.map((e,t)=>({x:r,y:t>=1?e-a[t-1]:e,color:t})),target:s,total:l,scale:u}:{targetData:[{x:r,y:s,color:"target"}],totalData:[{x:r,y:s,color:"target"},{x:r,y:l-s,color:"total"}],target:s,total:l,scale:u}}(r,n),p=tr(i,"text"),h=(t=["pointer","pin"],Object.fromEntries(Object.entries(i).filter(([e])=>t.find(t=>e.startsWith(t)))));return[(0,P.Z)({},hW,Object.assign({type:"interval",transform:[{type:"stackY"}],data:u,scale:d,style:tr(i,"arc"),animate:"object"==typeof o?tr(o,"arc"):o},s)),(0,P.Z)({},hW,hZ,Object.assign({type:"point",data:l,scale:d,style:h,animate:"object"==typeof o?tr(o,"indicator"):o},s)),(0,P.Z)({},hV,{style:Object.assign({text:function(e,{target:t,total:r}){let{content:n}=e;return n?n(t,r):t.toString()}(p,{target:c,total:f})},p),animate:"object"==typeof o?tr(o,"text"):o})]};hq.props={};let h$=Math.PI/180;function hH(e){return e.text}function hG(){return"serif"}function hY(){return"normal"}function hK(e){return e.value}function hX(){return 90*~~(2*Math.random())}function hQ(){return 1}function hJ(){}function h0(e){let t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function h1(e){let t=[],r=-1;for(;++r<e;)t[r]=0;return t}function h2(e){return"function"==typeof e?e:function(){return e}}let h5={archimedean:h0,rectangular:function(e){let t=4*e[0]/e[1],r=0,n=0;return function(e){let i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:r+=t;break;case 1:n+=4;break;case 2:r-=t;break;default:n-=4}return[r,n]}}};var h4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let h3={size:[500,500],fontSize:[14,28]};function h6(e){return new Promise((t,r)=>{if(e instanceof HTMLImageElement){t(e);return}if("string"==typeof e){let n=new Image;n.crossOrigin="anonymous",n.src=e,n.onload=()=>t(n),n.onerror=()=>{console.error(`'image ${e} load failed !!!'`),r()};return}r()})}let h8=e=>t=>(function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})})(void 0,void 0,void 0,function*(){let r=Object.assign({},h3,e),n=function(){let e=[256,256],t=hH,r=hG,n=hK,i=hY,o=hX,a=hQ,s=h0,l=Math.random,u=hJ,c=[],f=null,d=1/0,p={};return p.start=function(){let[h,y]=e,b=function(e){e.width=e.height=1;let t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=2048/t;let r=e.getContext("2d");return r.fillStyle=r.strokeStyle="red",r.textAlign="center",{context:r,ratio:t}}(document.createElement("canvas")),g=p.board?p.board:h1((e[0]>>5)*e[1]),m=c.length,v=[],_=c.map(function(e,s,l){return e.text=t.call(this,e,s,l),e.font=r.call(this,e,s,l),e.style=hY.call(this,e,s,l),e.weight=i.call(this,e,s,l),e.rotate=o.call(this,e,s,l),e.size=~~n.call(this,e,s,l),e.padding=a.call(this,e,s,l),e}).sort(function(e,t){return t.size-e.size}),O=-1,w=p.board?[{x:0,y:0},{x:h,y:y}]:void 0;function S(){let t=Date.now();for(;Date.now()-t<d&&++O<m;){let t=_[O];t.x=h*(l()+.5)>>1,t.y=y*(l()+.5)>>1,function(e,t,r,n){if(t.sprite)return;let i=e.context,o=e.ratio;i.clearRect(0,0,2048/o,2048/o);let a=0,s=0,l=0,u=r.length;for(--n;++n<u;){t=r[n],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font;let e=i.measureText(t.text+"m").width*o,u=t.size<<1;if(t.rotate){let r=Math.sin(t.rotate*h$),n=Math.cos(t.rotate*h$),i=e*n,o=e*r,a=u*n,s=u*r;e=Math.max(Math.abs(i+s),Math.abs(i-s))+31>>5<<5,u=~~Math.max(Math.abs(o+a),Math.abs(o-a))}else e=e+31>>5<<5;if(u>l&&(l=u),a+e>=2048&&(a=0,s+=l,l=0),s+u>=2048)break;i.translate((a+(e>>1))/o,(s+(u>>1))/o),t.rotate&&i.rotate(t.rotate*h$),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=e,t.height=u,t.xoff=a,t.yoff=s,t.x1=e>>1,t.y1=u>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,a+=e}let c=i.getImageData(0,0,2048/o,2048/o).data,f=[];for(;--n>=0;){if(!(t=r[n]).hasText)continue;let e=t.width,i=e>>5,o=t.y1-t.y0;for(let e=0;e<o*i;e++)f[e]=0;if(null==(a=t.xoff))return;s=t.yoff;let l=0,u=-1;for(let r=0;r<o;r++){for(let t=0;t<e;t++){let e=i*r+(t>>5),n=c[(s+r)*2048+(a+t)<<2]?1<<31-t%32:0;f[e]|=n,l|=n}l?u=r:(t.y0++,o--,r--,s++)}t.y1=t.y0+u,t.sprite=f.slice(0,(t.y1-t.y0)*i)}}(b,t,_,O),t.hasText&&function(t,r,n){let i=r.x,o=r.y,a=Math.sqrt(e[0]*e[0]+e[1]*e[1]),u=s(e),c=.5>l()?1:-1,f,d=-c,p,h;for(;(f=u(d+=c))&&!(Math.min(Math.abs(p=~~f[0]),Math.abs(h=~~f[1]))>=a);)if(r.x=i+p,r.y=o+h,!(r.x+r.x0<0)&&!(r.y+r.y0<0)&&!(r.x+r.x1>e[0])&&!(r.y+r.y1>e[1])&&(!n||!function(e,t,r){r>>=5;let n=e.sprite,i=e.width>>5,o=e.x-(i<<4),a=127&o,s=32-a,l=e.y1-e.y0,u=(e.y+e.y0)*r+(o>>5),c;for(let e=0;e<l;e++){c=0;for(let r=0;r<=i;r++)if((c<<s|(r<i?(c=n[e*i+r])>>>a:0))&t[u+r])return!0;u+=r}return!1}(r,t,e[0]))&&(!n||r.x+r.x1>n[0].x&&r.x+r.x0<n[1].x&&r.y+r.y1>n[0].y&&r.y+r.y0<n[1].y)){let n=r.sprite,i=r.width>>5,o=e[0]>>5,a=r.x-(i<<4),s=127&a,l=32-s,u=r.y1-r.y0,c,f=(r.y+r.y0)*o+(a>>5);for(let e=0;e<u;e++){c=0;for(let r=0;r<=i;r++)t[f+r]|=c<<l|(r<i?(c=n[e*i+r])>>>s:0);f+=o}return delete r.sprite,!0}return!1}(g,t,w)&&(u.call(null,"word",{cloud:p,word:t}),v.push(t),w?p.hasImage||function(e,t){let r=e[0],n=e[1];t.x+t.x0<r.x&&(r.x=t.x+t.x0),t.y+t.y0<r.y&&(r.y=t.y+t.y0),t.x+t.x1>n.x&&(n.x=t.x+t.x1),t.y+t.y1>n.y&&(n.y=t.y+t.y1)}(w,t):w=[{x:t.x+t.x0,y:t.y+t.y0},{x:t.x+t.x1,y:t.y+t.y1}],t.x-=e[0]>>1,t.y-=e[1]>>1)}p._tags=v,p._bounds=w,O>=m&&(p.stop(),u.call(null,"end",{cloud:p,words:v,bounds:w}))}return f&&clearInterval(f),f=setInterval(S,0),S(),p},p.stop=function(){return f&&(clearInterval(f),f=null),p},p.createMask=t=>{let r=document.createElement("canvas"),[n,i]=e;if(!n||!i)return;let o=n>>5,a=h1((n>>5)*i);r.width=n,r.height=i;let s=r.getContext("2d");s.drawImage(t,0,0,t.width,t.height,0,0,n,i);let l=s.getImageData(0,0,n,i).data;for(let e=0;e<i;e++)for(let t=0;t<n;t++){let r=o*e+(t>>5),i=e*n+t<<2,s=l[i]>=250&&l[i+1]>=250&&l[i+2]>=250?1<<31-t%32:0;a[r]|=s}p.board=a,p.hasImage=!0},p.timeInterval=function(e){d=null==e?1/0:e},p.words=function(e){c=e},p.size=function(t=[]){e=[+t[0],+t[1]]},p.text=function(e){t=h2(e)},p.font=function(e){r=h2(e)},p.fontWeight=function(e){i=h2(e)},p.rotate=function(e){o=h2(e)},p.spiral=function(e){s=h5[e]||e},p.fontSize=function(e){n=h2(e)},p.padding=function(e){a=h2(e)},p.random=function(e){l=h2(e)},p.on=function(e){u=h2(e)},p}();yield({set(e,t,i){if(void 0===r[e])return this;let o=t?t.call(null,r[e]):r[e];return i?i.call(null,o):"function"==typeof n[e]?n[e](o):n[e]=o,this},setAsync(e,t,i){var o,a,s,l;return o=this,a=void 0,s=void 0,l=function*(){if(void 0===r[e])return this;let o=t?yield t.call(null,r[e]):r[e];return i?i.call(null,o):"function"==typeof n[e]?n[e](o):n[e]=o,this},new(s||(s=Promise))(function(e,t){function r(e){try{i(l.next(e))}catch(e){t(e)}}function n(e){try{i(l.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):((i=t.value)instanceof s?i:new s(function(e){e(i)})).then(r,n)}i((l=l.apply(o,a||[])).next())})}}).set("fontSize",e=>{let r=t.map(e=>e.value);return function(e,t){if("function"==typeof e)return e;if(Array.isArray(e)){let[r,n]=e;if(!t)return()=>(n+r)/2;let[i,o]=t;return o===i?()=>(n+r)/2:({value:e})=>(n-r)/(o-i)*(e-i)+r}return()=>e}(e,[(0,of.Z)(r),(0,od.Z)(r)])}).set("font").set("fontStyle").set("fontWeight").set("padding").set("rotate").set("size").set("spiral").set("timeInterval").set("random").set("text").set("on").setAsync("imageMask",h6,n.createMask),n.words([...t]);let i=n.start(),[o,a]=r.size,s=[{x:0,y:0},{x:o,y:a}],{_bounds:l=s,_tags:u,hasImage:c}=i,f=u.map(e=>{var{x:t,y:r}=e;return Object.assign(Object.assign({},h4(e,["x","y"])),{x:t+o/2,y:r+a/2})}),[{x:d,y:p},{x:h,y:y}]=l,b={text:"",value:0,opacity:0,fontSize:0};return f.push(Object.assign(Object.assign({},b),{x:c?0:d,y:c?0:p}),Object.assign(Object.assign({},b),{x:c?o:h,y:c?a:y})),f});h8.props={};var h9=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let h7=(e,t)=>({size:[e,t]}),ye=(e,t)=>({axis:!1,type:"text",encode:{x:"x",y:"y",text:"text",rotate:"rotate",fontSize:"size"},scale:{x:{domain:[0,e],range:[0,1]},y:{domain:[0,t],range:[0,1]},fontSize:{type:"identity"},rotate:{type:"identity"}},style:{textAlign:"center"}}),yt=(e,t)=>(function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})})(void 0,void 0,void 0,function*(){let{width:r,height:n}=t,{data:i,encode:o={},scale:a,style:s={},layout:l={}}=e,u=h9(e,["data","encode","scale","style","layout"]),c=function(e,t){let{text:r="text",value:n="value"}=t;return e.map(e=>Object.assign(Object.assign({},e),{text:e[r],value:e[n]}))}(i,o),f=yield h8(Object.assign(Object.assign({},h7(r,n)),l))(c);return(0,P.Z)({},ye(r,n),Object.assign(Object.assign({data:f,encode:o,scale:a,style:s},u),{axis:!1}))});yt.props={};let yr={pin:function(e,t,r){let n=4*r/3,i=Math.max(n,2*r),o=n/2,a=o+t-i/2,s=Math.asin(o/((i-o)*.85)),l=Math.sin(s)*o,u=Math.cos(s)*o,c=e-u,f=a+l,d=a+o/Math.sin(s);return`
      M ${c} ${f}
      A ${o} ${o} 0 1 1 ${c+2*u} ${f}
      Q ${e} ${d} ${e} ${t+i/2}
      Q ${e} ${d} ${c} ${f}
      Z 
    `},rect:function(e,t,r){let n=.618*r;return`
      M ${e-n} ${t-r}
      L ${e+n} ${t-r}
      L ${e+n} ${t+r}
      L ${e-n} ${t+r}
      Z
    `},circle:function(e,t,r){return`
      M ${e} ${t-r} 
      a ${r} ${r} 0 1 0 0 ${2*r}
      a ${r} ${r} 0 1 0 0 ${-(2*r)}
      Z
    `},diamond:function(e,t,r){return`
      M ${e} ${t-r}
      L ${e+r} ${t}
      L ${e} ${t+r}
      L ${e-r} ${t}
      Z
    `},triangle:function(e,t,r){return`
      M ${e} ${t-r}
      L ${e+r} ${t+r}
      L ${e-r} ${t+r}
      Z
    `}};var yn=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let yi=(e="circle")=>yr[e]||yr.circle,yo=(e,t)=>{if(!t)return;let{coordinate:r}=t,{liquidOptions:n,styleOptions:i}=e,{liquidShape:o,percent:a}=n,{background:s,outline:l={},wave:u={}}=i,c=yn(i,["background","outline","wave"]),{border:f=2,distance:d=0}=l,p=yn(l,["border","distance"]),{length:h=192,count:y=3}=u;return(e,n,i)=>{let{document:l}=t.canvas,{color:u,fillOpacity:b}=i,g=Object.assign(Object.assign({fill:u},i),c),m=l.createElement("g",{}),[v,_]=r.getCenter(),O=r.getSize(),w=Math.min(...O)/2,S=((0,nO.Z)(o)?o:yi(o))(v,_,w,...O);if(Object.keys(s).length){let e=l.createElement("path",{style:Object.assign({path:S,fill:"#fff"},s)});m.appendChild(e)}if(a>0){let e=l.createElement("path",{style:{path:S}});m.appendChild(e),m.style.clipPath=e,function(e,t,r,n,i,o,a,s,l,u,c){let{fill:f,fillOpacity:d,opacity:p}=i;for(let i=0;i<n;i++){let h=n<=1?1:i/(n-1),y=function(e,t,r,n,i,o,a){let s=4*Math.ceil(2*e/r*4),l=[],u=0;for(;u<-(2*Math.PI);)u+=2*Math.PI;for(;u>0;)u-=2*Math.PI;let c=o-e+(u=u/Math.PI/2*r)-2*e;l.push(["M",c,t]);let f=0;for(let e=0;e<s;++e){var d;let n=e%4,o=(d=e*r/4,0===n?[[d+.5*r/Math.PI/2,i/2],[d+.5*r/Math.PI,i],[d+r/4,i]]:1===n?[[d+.5*r/Math.PI/2*(Math.PI-2),i],[d+.5*r/Math.PI/2*(Math.PI-1),i/2],[d+r/4,0]]:2===n?[[d+.5*r/Math.PI/2,-i/2],[d+.5*r/Math.PI,-i],[d+r/4,-i]]:[[d+.5*r/Math.PI/2*(Math.PI-2),-i],[d+.5*r/Math.PI/2*(Math.PI-1),-i/2],[d+r/4,0]]);l.push(["C",o[0][0]+c,-o[0][1]+t,o[1][0]+c,-o[1][1]+t,o[2][0]+c,-o[2][1]+t]),e===s-1&&(f=o[2][0])}return l.push(["L",f+c,a+e]),l.push(["L",c,a+e]),l.push(["Z"]),l}(s,a+s*r,l,0,s/40,e,t),b=c.createElement("path",{style:{path:y,fill:f,opacity:(.2+.7*h)*Number(p||d)}});o.appendChild(b);try{if(!1===u)return;let e=[{transform:"translate(0, 0)"},{transform:`translate(${2*l}px, 0)`}];b.animate(e,{duration:2*(2500+2500*h),iterations:1/0})}catch(e){console.warn("off-screen group animate error!")}}}(v,_,1-a,y,g,m,e.getBBox().y,2*w,h,!0,l)}let E=l.createElement("path",{style:{path:S,fill:"transparent",lineWidth:f+2*d,stroke:"#fff"}}),x=l.createElement("path",{style:Object.assign(Object.assign(Object.assign({path:S,stroke:u,strokeOpacity:b,lineWidth:f},g),p),{fill:"transparent"})});return m.appendChild(E),m.appendChild(x),m}};yo.props={};var ya=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let ys={axis:{x:!1,y:!1},legend:!1,tooltip:!1,encode:{x:"type",y:"percent"},scale:{y:{domain:[0,1]}},style:{shape:yo},animate:{enter:{type:"fadeIn"}}},yl={type:"text",style:{x:"50%",y:"50%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"},animate:{enter:{type:"fadeIn"}}},yu=e=>{let{data:t={},style:r={},animate:n}=e,i=ya(e,["data","style","animate"]),o=Math.max(0,(0,Y.Z)(t)?t:null==t?void 0:t.percent),a=[{percent:o,type:"liquid"}],s=Object.assign(Object.assign({},tr(r,"text")),tr(r,"content")),l=tr(r,"outline"),u=tr(r,"wave"),c=tr(r,"background");return[(0,P.Z)({},ys,Object.assign({type:"interval",data:a,style:{liquidOptions:{percent:o,liquidShape:null==r?void 0:r.shape},styleOptions:Object.assign(Object.assign({},r),{outline:l,wave:u,background:c})},animate:n},i)),(0,P.Z)({},yl,{style:Object.assign({text:`${tm(100*o)} %`},s),animate:n})]};yu.props={};var yc=r(39900);function yf(e,t){let r=function(e){let t=[];for(let r=0;r<e.length;++r)for(let n=r+1;n<e.length;++n){let i=yy(e[r],e[n]);for(let e=0;e<i.length;++e){let o=i[e];o.parentIndex=[r,n],t.push(o)}}return t}(e),n=r.filter(function(t){return function(e,t){for(let r=0;r<t.length;++r)if(yp(e,t[r])>t[r].radius+1e-10)return!1;return!0}(t,e)}),i=0,o=0,a,s=[];if(n.length>1){let t=function(e){let t={x:0,y:0};for(let r=0;r<e.length;++r)t.x+=e[r].x,t.y+=e[r].y;return t.x/=e.length,t.y/=e.length,t}(n);for(a=0;a<n.length;++a){let e=n[a];e.angle=Math.atan2(e.x-t.x,e.y-t.y)}n.sort(function(e,t){return t.angle-e.angle});let r=n[n.length-1];for(a=0;a<n.length;++a){let t=n[a];o+=(r.x+t.x)*(t.y-r.y);let l={x:(t.x+r.x)/2,y:(t.y+r.y)/2},u=null;for(let n=0;n<t.parentIndex.length;++n)if(r.parentIndex.indexOf(t.parentIndex[n])>-1){let i=e[t.parentIndex[n]],o=Math.atan2(t.x-i.x,t.y-i.y),a=Math.atan2(r.x-i.x,r.y-i.y),s=a-o;s<0&&(s+=2*Math.PI);let c=a-s/2,f=yp(l,{x:i.x+i.radius*Math.sin(c),y:i.y+i.radius*Math.cos(c)});f>2*i.radius&&(f=2*i.radius),(null===u||u.width>f)&&(u={circle:i,width:f,p1:t,p2:r})}null!==u&&(s.push(u),i+=yd(u.circle.radius,u.width),r=t)}}else{let t=e[0];for(a=1;a<e.length;++a)e[a].radius<t.radius&&(t=e[a]);let r=!1;for(a=0;a<e.length;++a)if(yp(e[a],t)>Math.abs(t.radius-e[a].radius)){r=!0;break}r?i=o=0:(i=t.radius*t.radius*Math.PI,s.push({circle:t,p1:{x:t.x,y:t.y+t.radius},p2:{x:t.x-1e-10,y:t.y+t.radius},width:2*t.radius}))}return o/=2,t&&(t.area=i+o,t.arcArea=i,t.polygonArea=o,t.arcs=s,t.innerPoints=n,t.intersectionPoints=r),i+o}function yd(e,t){return e*e*Math.acos(1-t/e)-(e-t)*Math.sqrt(t*(2*e-t))}function yp(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}function yh(e,t,r){return r>=e+t?0:r<=Math.abs(e-t)?Math.PI*Math.min(e,t)*Math.min(e,t):yd(e,e-(r*r-t*t+e*e)/(2*r))+yd(t,t-(r*r-e*e+t*t)/(2*r))}function yy(e,t){let r=yp(e,t),n=e.radius,i=t.radius;if(r>=n+i||r<=Math.abs(n-i))return[];let o=(n*n-i*i+r*r)/(2*r),a=Math.sqrt(n*n-o*o),s=e.x+o*(t.x-e.x)/r,l=e.y+o*(t.y-e.y)/r,u=-(t.y-e.y)*(a/r),c=-(t.x-e.x)*(a/r);return[{x:s+u,y:l-c},{x:s-u,y:l+c}]}function yb(e,t,r){return Math.min(e,t)*Math.min(e,t)*Math.PI<=r+1e-10?Math.abs(e-t):(0,yc.bisect)(function(n){return yh(e,t,n)-r},0,e+t)}function yg(e,t){let r=function(e,t){let r;let n=t&&t.lossFunction?t.lossFunction:ym,i={},o={};for(let t=0;t<e.length;++t){let n=e[t];1==n.sets.length&&(i[r=n.sets[0]]={x:1e10,y:1e10,rowid:Object.keys(i).length,size:n.size,radius:Math.sqrt(n.size/Math.PI)},o[r]=[])}e=e.filter(function(e){return 2==e.sets.length});for(let t=0;t<e.length;++t){let r=e[t],n=r.hasOwnProperty("weight")?r.weight:1,a=r.sets[0],s=r.sets[1];r.size+1e-10>=Math.min(i[a].size,i[s].size)&&(n=0),o[a].push({set:s,size:r.size,weight:n}),o[s].push({set:a,size:r.size,weight:n})}let a=[];for(r in o)if(o.hasOwnProperty(r)){let e=0;for(let t=0;t<o[r].length;++t)e+=o[r][t].size*o[r][t].weight;a.push({set:r,size:e})}function s(e,t){return t.size-e.size}a.sort(s);let l={};function u(e){return e.set in l}function c(e,t){i[t].x=e.x,i[t].y=e.y,l[t]=!0}c({x:0,y:0},a[0].set);for(let t=1;t<a.length;++t){let l=a[t].set,f=o[l].filter(u);if(r=i[l],f.sort(s),0===f.length)throw"ERROR: missing pairwise overlap information";let d=[];for(let e=0;e<f.length;++e){let t=i[f[e].set],n=yb(r.radius,t.radius,f[e].size);d.push({x:t.x+n,y:t.y}),d.push({x:t.x-n,y:t.y}),d.push({y:t.y+n,x:t.x}),d.push({y:t.y-n,x:t.x});for(let o=e+1;o<f.length;++o){let e=i[f[o].set],a=yb(r.radius,e.radius,f[o].size),s=yy({x:t.x,y:t.y,radius:n},{x:e.x,y:e.y,radius:a});for(let e=0;e<s.length;++e)d.push(s[e])}}let p=1e50,h=d[0];for(let t=0;t<d.length;++t){i[l].x=d[t].x,i[l].y=d[t].y;let r=n(i,e);r<p&&(p=r,h=d[t])}c(h,l)}return i}(e,t),n=t.lossFunction||ym;if(e.length>=8){let i=function(e,t){let r,n,i;let o=(t=t||{}).restarts||10,a=[],s={};for(r=0;r<e.length;++r){let t=e[r];1==t.sets.length&&(s[t.sets[0]]=a.length,a.push(t))}let l=function(e,t,r){let n=(0,yc.zerosM)(t.length,t.length),i=(0,yc.zerosM)(t.length,t.length);return e.filter(function(e){return 2==e.sets.length}).map(function(e){let o=r[e.sets[0]],a=r[e.sets[1]],s=yb(Math.sqrt(t[o].size/Math.PI),Math.sqrt(t[a].size/Math.PI),e.size);n[o][a]=n[a][o]=s;let l=0;e.size+1e-10>=Math.min(t[o].size,t[a].size)?l=1:e.size<=1e-10&&(l=-1),i[o][a]=i[a][o]=l}),{distances:n,constraints:i}}(e,a,s),u=l.distances,c=l.constraints,f=(0,yc.norm2)(u.map(yc.norm2))/u.length;u=u.map(function(e){return e.map(function(e){return e/f})});let d=function(e,t){return function(e,t,r,n){let i=0,o;for(o=0;o<t.length;++o)t[o]=0;for(o=0;o<r.length;++o){let a=e[2*o],s=e[2*o+1];for(let l=o+1;l<r.length;++l){let u=e[2*l],c=e[2*l+1],f=r[o][l],d=n[o][l],p=(u-a)*(u-a)+(c-s)*(c-s),h=Math.sqrt(p),y=p-f*f;d>0&&h<=f||d<0&&h>=f||(i+=2*y*y,t[2*o]+=4*y*(a-u),t[2*o+1]+=4*y*(s-c),t[2*l]+=4*y*(u-a),t[2*l+1]+=4*y*(c-s))}}return i}(e,t,u,c)};for(r=0;r<o;++r){let e=(0,yc.zeros)(2*u.length).map(Math.random);i=(0,yc.conjugateGradient)(d,e,t),(!n||i.fx<n.fx)&&(n=i)}let p=n.x,h={};for(r=0;r<a.length;++r){let e=a[r];h[e.sets[0]]={x:p[2*r]*f,y:p[2*r+1]*f,radius:Math.sqrt(e.size/Math.PI)}}if(t.history)for(r=0;r<t.history.length;++r)(0,yc.scale)(t.history[r].x,f);return h}(e,t);n(i,e)+1e-8<n(r,e)&&(r=i)}return r}function ym(e,t){let r=0;for(let n=0;n<t.length;++n){let i;let o=t[n];if(1!=o.sets.length){if(2==o.sets.length){let t=e[o.sets[0]],r=e[o.sets[1]];i=yh(t.radius,r.radius,yp(t,r))}else i=yf(o.sets.map(function(t){return e[t]}));r+=(o.hasOwnProperty("weight")?o.weight:1)*(i-o.size)*(i-o.size)}}return r}let yv=e=>{let{sets:t="sets",size:r="size",as:n=["key","path"],padding:i=0}=e,[o,a]=n;return e=>{let n;let s=e.map(e=>Object.assign(Object.assign({},e),{sets:e[t],size:e[r],[o]:e.sets.join("&")}));s.sort((e,t)=>e.sets.length-t.sets.length);let l=function(e,t){let r;(t=t||{}).maxIterations=t.maxIterations||500;let n=t.initialLayout||yg,i=t.lossFunction||ym,o=n(e=function(e){let t,r,n,i;e=e.slice();let o=[],a={};for(t=0;t<e.length;++t){let r=e[t];1==r.sets.length?o.push(r.sets[0]):2==r.sets.length&&(a[[n=r.sets[0],i=r.sets[1]]]=!0,a[[i,n]]=!0)}for(o.sort((e,t)=>e>t?1:-1),t=0;t<o.length;++t)for(n=o[t],r=t+1;r<o.length;++r)[n,i=o[r]]in a||e.push({sets:[n,i],size:0});return e}(e),t),a=[],s=[];for(r in o)o.hasOwnProperty(r)&&(a.push(o[r].x),a.push(o[r].y),s.push(r));let l=(0,yc.nelderMead)(function(t){let r={};for(let e=0;e<s.length;++e){let n=s[e];r[n]={x:t[2*e],y:t[2*e+1],radius:o[n].radius}}return i(r,e)},a,t).x;for(let e=0;e<s.length;++e)o[r=s[e]].x=l[2*e],o[r].y=l[2*e+1];return o}(s);return s.map(e=>{let r=e[t];return Object.assign(Object.assign({},e),{[a]:({width:e,height:t})=>{n=n||function(e,t,r,n){let i=[],o=[];for(let t in e)e.hasOwnProperty(t)&&(o.push(t),i.push(e[t]));t-=2*n,r-=2*n;let a=function(e){let t=function(t){return{max:Math.max.apply(null,e.map(function(e){return e[t]+e.radius})),min:Math.min.apply(null,e.map(function(e){return e[t]-e.radius}))}};return{xRange:t("x"),yRange:t("y")}}(i),s=a.xRange,l=a.yRange;if(s.max==s.min||l.max==l.min)return console.log("not scaling solution: zero size detected"),e;let u=t/(s.max-s.min),c=Math.min(r/(l.max-l.min),u),f=(t-(s.max-s.min)*c)/2,d=(r-(l.max-l.min)*c)/2,p={};for(let e=0;e<i.length;++e){let t=i[e];p[o[e]]={radius:c*t.radius,x:n+f+(t.x-s.min)*c,y:n+d+(t.y-l.min)*c}}return p}(l,e,t,i);let o=function(e){let t={};yf(e,t);let r=t.arcs;if(0===r.length)return"M 0 0";if(1==r.length){let e=r[0].circle;return function(e,t,r){let n=[],i=e-r;return n.push("M",i,t),n.push("A",r,r,0,1,0,i+2*r,t),n.push("A",r,r,0,1,0,i,t),n.join(" ")}(e.x,e.y,e.radius)}{let e=["\nM",r[0].p2.x,r[0].p2.y];for(let t=0;t<r.length;++t){let n=r[t],i=n.circle.radius,o=n.width>i;e.push("\nA",i,i,0,o?1:0,1,n.p1.x,n.p1.y)}return e.join(" ")}}(r.map(e=>n[e]));return/[zZ]$/.test(o)||(o+=" Z"),o}})})}};function y_(e,t){var r=t.r;e.arc(r,r,r,0,2*Math.PI,!1)}function yO(e,t){var r=t.rx,n=t.ry;if(e.ellipse)e.ellipse(r,n,r,n,0,0,2*Math.PI,!1);else{var i=r>n?r:n,o=r>n?1:r/n,a=r>n?n/r:1;e.save(),e.scale(o,a),e.arc(i,i,i,0,2*Math.PI)}}function yw(e,t){var r,n=t.x1,i=t.y1,o=t.x2,a=t.y2,s=t.defX,l=void 0===s?0:s,u=t.defY,c=void 0===u?0:u,f=t.markerStart,d=t.markerEnd,p=t.markerStartOffset,h=t.markerEndOffset,y=0,b=0,g=0,m=0,v=0;f&&(0,$.RV)(f)&&p&&(y=Math.cos(v=Math.atan2(a-i,o-n))*(p||0),b=Math.sin(v)*(p||0)),d&&(0,$.RV)(d)&&h&&(g=Math.cos(v=Math.atan2(i-a,n-o))*(h||0),m=Math.sin(v)*(h||0)),e.moveTo(n-l+y,i-c+b),e.lineTo(o-l+g,a-c+m)}function yS(e,t){var r,n=t.defX,i=void 0===n?0:n,o=t.defY,a=void 0===o?0:o,s=t.markerStart,l=t.markerEnd,u=t.markerStartOffset,c=t.markerEndOffset,f=t.path,d=f.absolutePath,p=f.segments,h=0,y=0,b=0,g=0,m=0;if(s&&(0,$.RV)(s)&&u){var v=(0,H.CR)(s.parentNode.getStartTangent(),2),_=v[0],O=v[1];r=_[0]-O[0],h=Math.cos(m=Math.atan2(_[1]-O[1],r))*(u||0),y=Math.sin(m)*(u||0)}if(l&&(0,$.RV)(l)&&c){var w=(0,H.CR)(l.parentNode.getEndTangent(),2),_=w[0],O=w[1];r=_[0]-O[0],b=Math.cos(m=Math.atan2(_[1]-O[1],r))*(c||0),g=Math.sin(m)*(c||0)}for(var S=0;S<d.length;S++){var E=d[S],x=E[0],P=d[S+1],j=0===S&&(0!==h||0!==y),T=(S===d.length-1||P&&("M"===P[0]||"Z"===P[0]))&&0!==b&&0!==g;switch(x){case"M":j?(e.moveTo(E[1]-i+h,E[2]-a+y),e.lineTo(E[1]-i,E[2]-a)):e.moveTo(E[1]-i,E[2]-a);break;case"L":T?e.lineTo(E[1]-i+b,E[2]-a+g):e.lineTo(E[1]-i,E[2]-a);break;case"Q":e.quadraticCurveTo(E[1]-i,E[2]-a,E[3]-i,E[4]-a),T&&e.lineTo(E[3]-i+b,E[4]-a+g);break;case"C":e.bezierCurveTo(E[1]-i,E[2]-a,E[3]-i,E[4]-a,E[5]-i,E[6]-a),T&&e.lineTo(E[5]-i+b,E[6]-a+g);break;case"A":var k=p[S].arcParams,C=k.cx,A=k.cy,R=k.rx,M=k.ry,I=k.startAngle,N=k.endAngle,L=k.xRotation,D=k.sweepFlag;if(e.ellipse)e.ellipse(C-i,A-a,R,M,L,I,N,!!(1-D));else{var z=R>M?R:M,F=R>M?1:R/M,B=R>M?M/R:1;e.translate(C-i,A-a),e.rotate(L),e.scale(F,B),e.arc(0,0,z,I,N,!!(1-D)),e.scale(1/F,1/B),e.rotate(-L),e.translate(-(C-i),-(A-a))}T&&e.lineTo(E[6]-i+b,E[7]-a+g);break;case"Z":e.closePath()}}}function yE(e,t){var r,n=t.defX,i=void 0===n?0:n,o=t.defY,a=void 0===o?0:o,s=t.markerStart,l=t.markerEnd,u=t.markerStartOffset,c=t.markerEndOffset,f=t.points.points,d=f.length,p=f[0][0]-i,h=f[0][1]-a,y=f[d-1][0]-i,b=f[d-1][1]-a,g=0,m=0,v=0,_=0,O=0;s&&(0,$.RV)(s)&&u&&(r=f[1][0]-f[0][0],g=Math.cos(O=Math.atan2(f[1][1]-f[0][1],r))*(u||0),m=Math.sin(O)*(u||0)),l&&(0,$.RV)(l)&&c&&(r=f[d-1][0]-f[0][0],v=Math.cos(O=Math.atan2(f[d-1][1]-f[0][1],r))*(c||0),_=Math.sin(O)*(c||0)),e.moveTo(p+(g||v),h+(m||_));for(var w=1;w<d-1;w++){var S=f[w];e.lineTo(S[0]-i,S[1]-a)}e.lineTo(y,b)}function yx(e,t){var r,n=t.defX,i=void 0===n?0:n,o=t.defY,a=void 0===o?0:o,s=t.markerStart,l=t.markerEnd,u=t.markerStartOffset,c=t.markerEndOffset,f=t.points.points,d=f.length,p=f[0][0]-i,h=f[0][1]-a,y=f[d-1][0]-i,b=f[d-1][1]-a,g=0,m=0,v=0,_=0,O=0;s&&(0,$.RV)(s)&&u&&(r=f[1][0]-f[0][0],g=Math.cos(O=Math.atan2(f[1][1]-f[0][1],r))*(u||0),m=Math.sin(O)*(u||0)),l&&(0,$.RV)(l)&&c&&(r=f[d-2][0]-f[d-1][0],v=Math.cos(O=Math.atan2(f[d-2][1]-f[d-1][1],r))*(c||0),_=Math.sin(O)*(c||0)),e.moveTo(p+g,h+m);for(var w=1;w<d-1;w++){var S=f[w];e.lineTo(S[0]-i,S[1]-a)}e.lineTo(y+v,b+_)}function yP(e,t){var r=t.radius,n=t.width,i=t.height;if(r&&r.some(function(e){return 0!==e})){var o=n>0?1:-1,a=i>0?1:-1,s=o+a===0,l=(0,H.CR)(r.map(function(e){return(0,el.Z)(e,0,Math.min(Math.abs(n)/2,Math.abs(i)/2))}),4),u=l[0],c=l[1],f=l[2],d=l[3];e.moveTo(o*u,0),e.lineTo(n-o*c,0),0!==c&&e.arc(n-o*c,a*c,c,-a*Math.PI/2,o>0?0:Math.PI,s),e.lineTo(n,i-a*f),0!==f&&e.arc(n-o*f,i-a*f,f,o>0?0:Math.PI,a>0?Math.PI/2:1.5*Math.PI,s),e.lineTo(o*d,i),0!==d&&e.arc(o*d,i-a*d,d,a>0?Math.PI/2:-Math.PI/2,o>0?Math.PI:0,s),e.lineTo(0,a*u),0!==u&&e.arc(o*u,a*u,u,o>0?Math.PI:0,a>0?1.5*Math.PI:Math.PI/2,s)}else e.rect(0,0,n,i)}yv.props={};var yj=function(e){function t(){var t=e.apply(this,(0,H.ev)([],(0,H.CR)(arguments),!1))||this;return t.name="canvas-path-generator",t}return(0,H.ZT)(t,e),t.prototype.init=function(){var e,t=((e={})[$.bn.CIRCLE]=y_,e[$.bn.ELLIPSE]=yO,e[$.bn.RECT]=yP,e[$.bn.LINE]=yw,e[$.bn.POLYLINE]=yx,e[$.bn.POLYGON]=yE,e[$.bn.PATH]=yS,e[$.bn.TEXT]=void 0,e[$.bn.GROUP]=void 0,e[$.bn.IMAGE]=void 0,e[$.bn.HTML]=void 0,e[$.bn.MESH]=void 0,e);this.context.pathGeneratorFactory=t},t.prototype.destroy=function(){delete this.context.pathGeneratorFactory},t}($.F6),yT=r(71039),yk=r(40767),yC=Q.Ue(),yA=Q.Ue(),yR=Q.Ue(),yM=X.create(),yI=function(){function e(){var e=this;this.isHit=function(t,r,n,i){var o=e.context.pointInPathPickerFactory[t.nodeName];if(o){var a=X.invert(yM,n),s=Q.fF(yA,Q.t8(yR,r[0],r[1],0),a),l=t.getGeometryBounds().halfExtents,u=t.parsedStyle.anchor;if(s[0]+=(u&&u[0]||0)*l[0]*2,s[1]+=(u&&u[1]||0)*l[1]*2,o(t,new $.E9(s[0],s[1]),i,e.isPointInPath,e.context,e.runtime))return!0}return!1},this.isPointInPath=function(t,r){var n=e.runtime.offscreenCanvasCreator.getOrCreateContext(e.context.config.offscreenCanvas),i=e.context.pathGeneratorFactory[t.nodeName];return i&&(n.beginPath(),i(n,t.parsedStyle),n.closePath()),n.isPointInPath(r.x,r.y)}}return e.prototype.apply=function(t,r){var n,i=this,o=t.renderingService,a=t.renderingContext;this.context=t,this.runtime=r;var s=null===(n=a.root)||void 0===n?void 0:n.ownerDocument;o.hooks.pick.tapPromise(e.tag,function(e){return(0,H.mG)(i,void 0,void 0,function(){return(0,H.Jh)(this,function(t){return[2,this.pick(s,e)]})})}),o.hooks.pickSync.tap(e.tag,function(e){return i.pick(s,e)})},e.prototype.pick=function(e,t){var r,n,i=t.topmost,o=t.position,a=o.x,s=o.y,l=Q.t8(yC,a,s,0),u=e.elementsFromBBox(l[0],l[1],l[0],l[1]),c=[];try{for(var f=(0,H.XA)(u),d=f.next();!d.done;d=f.next()){var p=d.value,h=p.getWorldTransform();if(this.isHit(p,l,h,!1)){var y=(0,$.Oi)(p);if(y){var b=y.parsedStyle.clipPath;if(this.isHit(b,l,b.getWorldTransform(),!0)){if(i)return t.picked=[p],t;c.push(p)}}else{if(i)return t.picked=[p],t;c.push(p)}}}}catch(e){r={error:e}}finally{try{d&&!d.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}return t.picked=c,t},e.tag="CanvasPicker",e}();function yN(e,t,r){var n=e.parsedStyle,i=n.r,o=n.fill,a=n.stroke,s=n.lineWidth,l=n.increasedLineWidthForHitTesting,u=n.pointerEvents,c=((s||0)+(l||0))/2,f=(0,yT.TE)(i,i,t.x,t.y),d=(0,H.CR)((0,$.L1)(u,o,a),2),p=d[0],h=d[1];return p&&h||r?f<=i+c:p?f<=i:!!h&&f>=i-c&&f<=i+c}function yL(e,t,r){var n,i,o,a,s,l,u=e.parsedStyle,c=u.rx,f=u.ry,d=u.fill,p=u.stroke,h=u.lineWidth,y=u.increasedLineWidthForHitTesting,b=u.pointerEvents,g=t.x,m=t.y,v=(0,H.CR)((0,$.L1)(b,d,p),2),_=v[0],O=v[1],w=((h||0)+(y||0))/2,S=(g-c)*(g-c),E=(m-f)*(m-f);return _&&O||r?1>=S/((n=c+w)*n)+E/((i=f+w)*i):_?1>=S/(c*c)+E/(f*f):!!O&&S/((o=c-w)*o)+E/((a=f-w)*a)>=1&&1>=S/((s=c+w)*s)+E/((l=f+w)*l)}function yD(e,t,r,n,i,o){return i>=e&&i<=e+r&&o>=t&&o<=t+n}function yz(e,t,r,n,i,o,a,s){var l=(Math.atan2(s-t,a-e)+2*Math.PI)%(2*Math.PI),u={x:e+r*Math.cos(l),y:t+r*Math.sin(l)};return(0,yT.TE)(u.x,u.y,a,s)<=o/2}function yF(e,t,r,n,i,o,a){var s=Math.min(e,r),l=Math.max(e,r),u=Math.min(t,n),c=Math.max(t,n),f=i/2;return o>=s-f&&o<=l+f&&a>=u-f&&a<=c+f&&(0,yT._x)(e,t,r,n,o,a)<=i/2}function yB(e,t,r,n,i){var o=e.length;if(o<2)return!1;for(var a=0;a<o-1;a++)if(yF(e[a][0],e[a][1],e[a+1][0],e[a+1][1],t,r,n))return!0;if(i){var s=e[0],l=e[o-1];if(yF(s[0],s[1],l[0],l[1],t,r,n))return!0}return!1}function yU(e){return 1e-6>Math.abs(e)?0:e<0?-1:1}function yW(e,t,r){var n=!1,i=e.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a,s=e[o],l=e[(o+1)%i];if(((a=[t,r])[0]-s[0])*(l[1]-s[1])==(l[0]-s[0])*(a[1]-s[1])&&Math.min(s[0],l[0])<=a[0]&&a[0]<=Math.max(s[0],l[0])&&Math.min(s[1],l[1])<=a[1]&&a[1]<=Math.max(s[1],l[1]))return!0;yU(s[1]-r)>0!=yU(l[1]-r)>0&&0>yU(t-(r-s[1])*(s[0]-l[0])/(s[1]-l[1])-s[0])&&(n=!n)}return n}function yZ(e,t,r){for(var n=!1,i=0;i<e.length&&!(n=yW(e[i],t,r));i++);return n}function yV(e,t,r){var n=e.parsedStyle,i=n.x1,o=n.y1,a=n.x2,s=n.y2,l=n.lineWidth,u=n.increasedLineWidthForHitTesting,c=n.defX,f=n.defY,d=n.pointerEvents,p=n.fill,h=n.stroke;return(!!(0,H.CR)((0,$.L1)(d,p,h),2)[1]||!!r)&&!!l&&yF(i,o,a,s,(l||0)+(u||0),t.x+(void 0===c?0:c),t.y+(void 0===f?0:f))}function yq(e,t,r,n,i,o){var a=e.parsedStyle,s=a.lineWidth,l=a.increasedLineWidthForHitTesting,u=a.stroke,c=a.fill,f=a.defX,d=void 0===f?0:f,p=a.defY,h=void 0===p?0:p,y=a.path,b=a.pointerEvents,g=y.segments,m=y.hasArc,v=y.polylines,_=y.polygons,O=(0,H.CR)((0,$.L1)(b,(null==_?void 0:_.length)&&c,u),2),w=O[0],S=O[1],E=(0,$.gz)(e),x=!1;return w||r?x=m?n(e,t):yZ(_,t.x+d,t.y+h)||yZ(v,t.x+d,t.y+h):(S||r)&&(x=function(e,t,r,n,i){for(var o=!1,a=t/2,s=0;s<e.length;s++){var l=e[s],u=l.currentPoint,c=l.params,f=l.prePoint,d=l.box;if(!d||yD(d.x-a,d.y-a,d.width+t,d.height+t,r,n))switch(l.command){case"L":case"Z":if(o=yF(f[0],f[1],u[0],u[1],t,r,n))return!0;break;case"Q":if(o=(0,yT.Y1)(f[0],f[1],c[1],c[2],c[3],c[4],r,n)<=t/2)return!0;break;case"C":if(o=(0,yT.ph)(f[0],f[1],c[1],c[2],c[3],c[4],c[5],c[6],r,n,i)<=t/2)return!0;break;case"A":l.cubicParams||(l.cubicParams=(0,yk.W)(f[0],f[1],c[1],c[2],c[3],c[4],c[5],c[6],c[7],void 0));for(var p=l.cubicParams,h=f,y=0;y<p.length;y+=6){var b=(0,yT.ph)(h[0],h[1],p[y],p[y+1],p[y+2],p[y+3],p[y+4],p[y+5],r,n,i);if(h=[p[y+4],p[y+5]],o=b<=t/2)return!0}}}return o}(g,(s||0)+(l||0),t.x+d,t.y+h,E)),x}function y$(e,t,r){var n=e.parsedStyle,i=n.stroke,o=n.fill,a=n.lineWidth,s=n.increasedLineWidthForHitTesting,l=n.points,u=n.defX,c=void 0===u?0:u,f=n.defY,d=void 0===f?0:f,p=n.pointerEvents,h=(0,H.CR)((0,$.L1)(p,o,i),2),y=h[0],b=h[1],g=!1;return(b||r)&&(g=yB(l.points,(a||0)+(s||0),t.x+c,t.y+d,!0)),!g&&(y||r)&&(g=yW(l.points,t.x+c,t.y+d)),g}function yH(e,t,r){var n=e.parsedStyle,i=n.lineWidth,o=n.increasedLineWidthForHitTesting,a=n.points,s=n.defX,l=n.defY,u=n.pointerEvents,c=n.fill,f=n.stroke;return(!!(0,H.CR)((0,$.L1)(u,c,f),2)[1]||!!r)&&!!i&&yB(a.points,(i||0)+(o||0),t.x+(void 0===s?0:s),t.y+(void 0===l?0:l),!1)}function yG(e,t,r,n,i){var o,a,s,l=e.parsedStyle,u=l.radius,c=l.fill,f=l.stroke,d=l.lineWidth,p=l.increasedLineWidthForHitTesting,h=l.width,y=l.height,b=l.pointerEvents,g=(0,H.CR)((0,$.L1)(b,c,f),2),m=g[0],v=g[1],_=u&&u.some(function(e){return 0!==e}),O=(d||0)+(p||0);if(_){var w,S,E,x,P,j,T,k,C=!1;return(v||r)&&(w=u.map(function(e){return(0,el.Z)(e,0,Math.min(Math.abs(h)/2,Math.abs(y)/2))}),S=t.x,E=t.y,P=(x=(0,H.CR)(w,4))[0],j=x[1],T=x[2],k=x[3],C=yF(0+P,0,0+h-j,0,O,S,E)||yF(0+h,0+j,0+h,0+y-T,O,S,E)||yF(0+h-T,0+y,0+k,0+y,O,S,E)||yF(0,0+y-k,0,0+P,O,S,E)||yz(0+h-j,0+j,j,1.5*Math.PI,2*Math.PI,O,S,E)||yz(0+h-T,0+y-T,T,0,.5*Math.PI,O,S,E)||yz(0+k,0+y-k,k,.5*Math.PI,Math.PI,O,S,E)||yz(0+P,0+P,P,Math.PI,1.5*Math.PI,O,S,E)),!C&&(m||r)&&(C=n(e,t)),C}var A=O/2;return m&&v||r?yD(0-A,0-A,h+A,y+A,t.x,t.y):m?yD(0,0,h,y,t.x,t.y):!!v&&(o=t.x,a=t.y,yD(0-(s=O/2),0-s,h,O,o,a)||yD(0+h-s,0-s,O,y,o,a)||yD(0+s,0+y-s,h,O,o,a)||yD(0-s,0+s,O,y,o,a))}function yY(e,t,r,n,i,o){var a=e.parsedStyle,s=a.pointerEvents,l=a.width,u=a.height;if("non-transparent-pixel"===s){var c=i.config.offscreenCanvas,f=o.offscreenCanvasCreator.getOrCreateCanvas(c),d=o.offscreenCanvasCreator.getOrCreateContext(c,{willReadFrequently:!0});return f.width=l,f.height=u,i.defaultStyleRendererFactory[$.bn.IMAGE].render(d,e.parsedStyle,e,void 0,void 0,void 0),d.getImageData(t.x,t.y,1,1).data.every(function(e){return 0!==e})}return!0}var yK=function(e){function t(){var t=e.apply(this,(0,H.ev)([],(0,H.CR)(arguments),!1))||this;return t.name="canvas-picker",t}return(0,H.ZT)(t,e),t.prototype.init=function(){var e,t=((e={})[$.bn.CIRCLE]=yN,e[$.bn.ELLIPSE]=yL,e[$.bn.RECT]=yG,e[$.bn.LINE]=yV,e[$.bn.POLYLINE]=yH,e[$.bn.POLYGON]=y$,e[$.bn.PATH]=yq,e[$.bn.TEXT]=function(){return!0},e[$.bn.GROUP]=null,e[$.bn.IMAGE]=yY,e[$.bn.HTML]=null,e[$.bn.MESH]=null,e);this.context.pointInPathPickerFactory=t,this.addRenderingPlugin(new yI)},t.prototype.destroy=function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()},t}($.F6),yX=function(){function e(e){this.canvasRendererPluginOptions=e,this.removedRBushNodeAABBs=[],this.renderQueue=[],this.restoreStack=[],this.clearFullScreen=!1,this.vpMatrix=X.create(),this.dprMatrix=X.create(),this.tmpMat4=X.create(),this.vec3a=Q.Ue(),this.vec3b=Q.Ue(),this.vec3c=Q.Ue(),this.vec3d=Q.Ue()}return e.prototype.apply=function(t,r){var n=this;this.context=t;var i=t.config,o=t.camera,a=t.renderingService,s=t.renderingContext,l=t.rBushRoot,u=t.pathGeneratorFactory;this.rBush=l,this.pathGeneratorFactory=u;var c=t.contextService,f=s.root.ownerDocument.defaultView,d=function(e){var t=e.target.rBushNode;t.aabb&&n.removedRBushNodeAABBs.push(t.aabb)},p=function(e){var t=e.target.rBushNode;t.aabb&&n.removedRBushNodeAABBs.push(t.aabb)};a.hooks.init.tap(e.tag,function(){f.addEventListener($.Dk.UNMOUNTED,d),f.addEventListener($.Dk.CULLED,p);var e=c.getDPR(),t=i.width,r=i.height,o=c.getContext();n.clearRect(o,0,0,t*e,r*e,i.background)}),a.hooks.destroy.tap(e.tag,function(){f.removeEventListener($.Dk.UNMOUNTED,d),f.removeEventListener($.Dk.CULLED,p),n.renderQueue=[],n.removedRBushNodeAABBs=[],n.restoreStack=[]}),a.hooks.beginFrame.tap(e.tag,function(){var e=c.getContext(),t=c.getDPR(),r=i.width,o=i.height,s=n.canvasRendererPluginOptions,l=s.dirtyObjectNumThreshold,u=s.dirtyObjectRatioThreshold,f=a.getStats(),d=f.total,p=f.rendered;n.clearFullScreen=a.disableDirtyRectangleRendering()||p>l&&p/d>u,e&&(e.resetTransform?e.resetTransform():e.setTransform(1,0,0,1,0,0),n.clearFullScreen&&n.clearRect(e,0,0,r*t,o*t,i.background))});var h=function(e,t){e.isVisible()&&!e.isCulled()&&(n.renderDisplayObject(e,t,n.context,n.restoreStack,r),n.saveDirtyAABB(e)),(e.sortable.sorted||e.childNodes).forEach(function(e){h(e,t)})};a.hooks.endFrame.tap(e.tag,function(){var e=c.getContext(),t=c.getDPR();if(X.fromScaling(n.dprMatrix,[t,t,1]),X.multiply(n.vpMatrix,n.dprMatrix,o.getOrthoMatrix()),n.clearFullScreen)h(s.root,e);else{var a=n.safeMergeAABB.apply(n,(0,H.ev)([n.mergeDirtyAABBs(n.renderQueue)],(0,H.CR)(n.removedRBushNodeAABBs.map(function(e){var t=e.minX,r=e.minY,n=e.maxX,i=e.maxY,o=new $.mN;return o.setMinMax([t,r,0],[n,i,0]),o})),!1));if(n.removedRBushNodeAABBs=[],$.mN.isEmpty(a)){n.renderQueue=[];return}var l=n.convertAABB2Rect(a),u=l.x,d=l.y,p=l.width,y=l.height,b=Q.fF(n.vec3a,[u,d,0],n.vpMatrix),g=Q.fF(n.vec3b,[u+p,d,0],n.vpMatrix),m=Q.fF(n.vec3c,[u,d+y,0],n.vpMatrix),v=Q.fF(n.vec3d,[u+p,d+y,0],n.vpMatrix),_=Math.min(b[0],g[0],v[0],m[0]),O=Math.min(b[1],g[1],v[1],m[1]),w=Math.max(b[0],g[0],v[0],m[0]),S=Math.max(b[1],g[1],v[1],m[1]),E=Math.floor(_),x=Math.floor(O),P=Math.ceil(w-_),j=Math.ceil(S-O);e.save(),n.clearRect(e,E,x,P,j,i.background),e.beginPath(),e.rect(E,x,P,j),e.clip(),e.setTransform(n.vpMatrix[0],n.vpMatrix[1],n.vpMatrix[4],n.vpMatrix[5],n.vpMatrix[12],n.vpMatrix[13]),i.renderer.getConfig().enableDirtyRectangleRenderingDebug&&f.dispatchEvent(new $.Aw($.$6.DIRTY_RECTANGLE,{dirtyRect:{x:E,y:x,width:P,height:j}})),n.searchDirtyObjects(a).sort(function(e,t){return e.sortable.renderOrder-t.sortable.renderOrder}).forEach(function(t){t&&t.isVisible()&&!t.isCulled()&&n.renderDisplayObject(t,e,n.context,n.restoreStack,r)}),e.restore(),n.renderQueue.forEach(function(e){n.saveDirtyAABB(e)}),n.renderQueue=[]}n.restoreStack.forEach(function(){e.restore()}),n.restoreStack=[]}),a.hooks.render.tap(e.tag,function(e){n.clearFullScreen||n.renderQueue.push(e)})},e.prototype.clearRect=function(e,t,r,n,i,o){e.clearRect(t,r,n,i),o&&(e.fillStyle=o,e.fillRect(t,r,n,i))},e.prototype.renderDisplayObject=function(e,t,r,n,i){var o=e.nodeName,a=n[n.length-1];a&&!(e.compareDocumentPosition(a)&$.NB.DOCUMENT_POSITION_CONTAINS)&&(t.restore(),n.pop());var s=this.context.styleRendererFactory[o],l=this.pathGeneratorFactory[o],u=e.parsedStyle.clipPath;if(u){this.applyWorldTransform(t,u);var c=this.pathGeneratorFactory[u.nodeName];c&&(t.save(),n.push(e),t.beginPath(),c(t,u.parsedStyle),t.closePath(),t.clip())}s&&(this.applyWorldTransform(t,e),t.save(),this.applyAttributesToContext(t,e)),l&&(t.beginPath(),l(t,e.parsedStyle),e.nodeName!==$.bn.LINE&&e.nodeName!==$.bn.PATH&&e.nodeName!==$.bn.POLYLINE&&t.closePath()),s&&(s.render(t,e.parsedStyle,e,r,this,i),t.restore()),e.renderable.dirty=!1},e.prototype.convertAABB2Rect=function(e){var t=e.getMin(),r=e.getMax(),n=Math.floor(t[0]),i=Math.floor(t[1]);return{x:n,y:i,width:Math.ceil(r[0])-n,height:Math.ceil(r[1])-i}},e.prototype.mergeDirtyAABBs=function(e){var t=new $.mN;return e.forEach(function(e){var r=e.getRenderBounds();t.add(r);var n=e.renderable.dirtyRenderBounds;n&&t.add(n)}),t},e.prototype.searchDirtyObjects=function(e){var t=(0,H.CR)(e.getMin(),2),r=t[0],n=t[1],i=(0,H.CR)(e.getMax(),2),o=i[0],a=i[1];return this.rBush.search({minX:r,minY:n,maxX:o,maxY:a}).map(function(e){return e.displayObject})},e.prototype.saveDirtyAABB=function(e){var t=e.renderable;t.dirtyRenderBounds||(t.dirtyRenderBounds=new $.mN);var r=e.getRenderBounds();r&&t.dirtyRenderBounds.update(r.center,r.halfExtents)},e.prototype.applyAttributesToContext=function(e,t){var r=t.parsedStyle,n=r.stroke,i=r.fill,o=r.opacity,a=r.lineDash,s=r.lineDashOffset;a&&e.setLineDash(a),(0,eu.Z)(s)||(e.lineDashOffset=s),(0,eu.Z)(o)||(e.globalAlpha*=o),(0,eu.Z)(n)||Array.isArray(n)||n.isNone||(e.strokeStyle=t.attributes.stroke),(0,eu.Z)(i)||Array.isArray(i)||i.isNone||(e.fillStyle=t.attributes.fill)},e.prototype.applyWorldTransform=function(e,t,r){var n=0,i=0,o=(t.parsedStyle||{}).anchor,a=o&&o[0]||0,s=o&&o[1]||0;if(0!==a||0!==s){var l=t.geometry.contentBounds,u=l&&2*l.halfExtents[0]||0,c=l&&2*l.halfExtents[1]||0;n=-(a*u),i=-(s*c)}r?(X.copy(this.tmpMat4,t.getLocalTransform()),this.vec3a[0]=n,this.vec3a[1]=i,this.vec3a[2]=0,X.translate(this.tmpMat4,this.tmpMat4,this.vec3a),X.multiply(this.tmpMat4,r,this.tmpMat4)):(X.copy(this.tmpMat4,t.getWorldTransform()),this.vec3a[0]=n,this.vec3a[1]=i,this.vec3a[2]=0,X.translate(this.tmpMat4,this.tmpMat4,this.vec3a)),X.multiply(this.tmpMat4,this.vpMatrix,this.tmpMat4),e.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])},e.prototype.safeMergeAABB=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=new $.mN;return e.forEach(function(e){r.add(e)}),r},e.tag="CanvasRenderer",e}(),yQ=function(){function e(e){this.imagePool=e}return e.prototype.render=function(e,t,r,n,i,o){var a=t.fill,s=t.fillRule,l=t.opacity,u=t.fillOpacity,c=t.stroke,f=t.strokeOpacity,d=t.lineWidth,p=t.lineCap,h=t.lineJoin,y=t.shadowType,b=t.shadowColor,g=t.shadowBlur,m=t.filter,v=t.miterLimit,_=!(0,eu.Z)(a)&&!a.isNone,O=!(0,eu.Z)(c)&&!c.isNone&&d>0,w=0===a.alpha,S=!!(m&&m.length),E=!(0,eu.Z)(b)&&g>0,x=r.nodeName,P="inner"===y,j=O&&E&&(x===$.bn.PATH||x===$.bn.LINE||x===$.bn.POLYLINE||w||P);_&&(e.globalAlpha=l*u,j||yJ(r,e,E),this.fill(e,r,a,s,n,i,o),j||this.clearShadowAndFilter(e,S,E)),O&&(e.globalAlpha=l*f,e.lineWidth=d,(0,eu.Z)(v)||(e.miterLimit=v),(0,eu.Z)(p)||(e.lineCap=p),(0,eu.Z)(h)||(e.lineJoin=h),j&&(P&&(e.globalCompositeOperation="source-atop"),yJ(r,e,!0),P&&(this.stroke(e,r,c,n,i,o),e.globalCompositeOperation="source-over",this.clearShadowAndFilter(e,S,!0))),this.stroke(e,r,c,n,i,o))},e.prototype.clearShadowAndFilter=function(e,t,r){if(r&&(e.shadowColor="transparent",e.shadowBlur=0),t){var n=e.filter;!(0,eu.Z)(n)&&n.indexOf("drop-shadow")>-1&&(e.filter=n.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}},e.prototype.fill=function(e,t,r,n,i,o,a){var s=this;Array.isArray(r)?r.forEach(function(r){e.fillStyle=s.getColor(r,t,e),n?e.fill(n):e.fill()}):((0,$.R)(r)&&(e.fillStyle=this.getPattern(r,t,e,i,o,a)),n?e.fill(n):e.fill())},e.prototype.stroke=function(e,t,r,n,i,o){var a=this;Array.isArray(r)?r.forEach(function(r){e.strokeStyle=a.getColor(r,t,e),e.stroke()}):((0,$.R)(r)&&(e.strokeStyle=this.getPattern(r,t,e,n,i,o)),e.stroke())},e.prototype.getPattern=function(e,t,r,n,i,o){if("rect"===e.image.nodeName){var a,s,l=e.image.parsedStyle,u=l.width,c=l.height;s=n.contextService.getDPR();var f=n.config.offscreenCanvas;(a=o.offscreenCanvasCreator.getOrCreateCanvas(f)).width=u*s,a.height=c*s;var d=o.offscreenCanvasCreator.getOrCreateContext(f),p=[];e.image.forEach(function(e){i.renderDisplayObject(e,d,n,p,o)}),p.forEach(function(){d.restore()})}return this.imagePool.getOrCreatePatternSync(e,r,a,s,function(){t.renderable.dirty=!0,n.renderingService.dirtify()})},e.prototype.getColor=function(e,t,r){var n;if(e.type===$.GL.LinearGradient||e.type===$.GL.RadialGradient){var i=t.getGeometryBounds(),o=i&&2*i.halfExtents[0]||1,a=i&&2*i.halfExtents[1]||1;n=this.imagePool.getOrCreateGradient((0,H.pi)((0,H.pi)({type:e.type},e.value),{width:o,height:a}),r)}return n},e}();function yJ(e,t,r){var n=e.parsedStyle,i=n.filter,o=n.shadowColor,a=n.shadowBlur,s=n.shadowOffsetX,l=n.shadowOffsetY;i&&i.length&&(t.filter=e.style.filter),r&&(t.shadowColor=o.toString(),t.shadowBlur=a||0,t.shadowOffsetX=s||0,t.shadowOffsetY=l||0)}var y0=function(){function e(e){this.imagePool=e}return e.prototype.render=function(e,t,r){var n,i=t.width,o=t.height,a=t.img,s=t.shadowColor,l=t.shadowBlur,u=i,c=o;if((0,G.Z)(a)?n=this.imagePool.getImageSync(a):(u||(u=a.width),c||(c=a.height),n=a),n){yJ(r,e,!(0,eu.Z)(s)&&l>0);try{e.drawImage(n,0,0,u,c)}catch(e){}}},e}(),y1=function(){function e(){}return e.prototype.render=function(e,t,r,n,i,o){var a=t.lineWidth,s=t.textAlign,l=t.textBaseline,u=t.lineJoin,c=t.miterLimit,f=t.letterSpacing,d=t.stroke,p=t.fill,h=t.fillOpacity,y=t.strokeOpacity,b=t.opacity,g=t.metrics,m=t.dx,v=t.dy,_=t.shadowColor,O=t.shadowBlur,w=g.font,S=g.lines,E=g.height,x=g.lineHeight,P=g.lineMetrics;e.font=w,e.lineWidth=a,e.textAlign="middle"===s?"center":s;var j=l;o.enableCSSParsing||"alphabetic"!==j||(j="bottom"),e.lineJoin=u,(0,eu.Z)(c)||(e.miterLimit=c);var T=0;"middle"===l?T=-E/2-x/2:"bottom"===l||"alphabetic"===l||"ideographic"===l?T=-E:("top"===l||"hanging"===l)&&(T=-x);var k=m||0;T+=v||0,1===S.length&&("bottom"===j?(j="middle",T-=.5*E):"top"===j&&(j="middle",T+=.5*E)),e.textBaseline=j,yJ(r,e,!(0,eu.Z)(_)&&O>0);for(var C=0;C<S.length;C++){var A=a/2+k;T+=x,(0,eu.Z)(d)||d.isNone||!a||this.drawLetterSpacing(e,S[C],P[C],s,A,T,f,h,y,b,!0),(0,eu.Z)(p)||this.drawLetterSpacing(e,S[C],P[C],s,A,T,f,h,y,b)}},e.prototype.drawLetterSpacing=function(e,t,r,n,i,o,a,s,l,u,c){if(void 0===c&&(c=!1),0===a){c?this.strokeText(e,t,i,o,l):this.fillText(e,t,i,o,s,u);return}var f=e.textAlign;e.textAlign="left";var d=i;"center"===n||"middle"===n?d=i-r.width/2:("right"===n||"end"===n)&&(d=i-r.width);for(var p=Array.from(t),h=e.measureText(t).width,y=0,b=0;b<p.length;++b){var g=p[b];c?this.strokeText(e,g,d,o,l):this.fillText(e,g,d,o,s,u),d+=h-(y=e.measureText(t.substring(b+1)).width)+a,h=y}e.textAlign=f},e.prototype.fillText=function(e,t,r,n,i,o){var a,s=!(0,eu.Z)(i)&&1!==i;s&&(a=e.globalAlpha,e.globalAlpha=i*o),e.fillText(t,r,n),s&&(e.globalAlpha=a)},e.prototype.strokeText=function(e,t,r,n,i){var o,a=!(0,eu.Z)(i)&&1!==i;a&&(o=e.globalAlpha,e.globalAlpha=i),e.strokeText(t,r,n),a&&(e.globalAlpha=o)},e}();(function(e){(0,H.ZT)(function(){return null!==e&&e.apply(this,arguments)||this},e)})(yQ),function(e){(0,H.ZT)(function(){return null!==e&&e.apply(this,arguments)||this},e)}(yQ),function(e){(0,H.ZT)(function(){return null!==e&&e.apply(this,arguments)||this},e)}(yQ),function(e){(0,H.ZT)(function(){return null!==e&&e.apply(this,arguments)||this},e)}(yQ),function(e){(0,H.ZT)(function(){return null!==e&&e.apply(this,arguments)||this},e)}(yQ),function(e){(0,H.ZT)(function(){return null!==e&&e.apply(this,arguments)||this},e)}(yQ),function(e){(0,H.ZT)(function(){return null!==e&&e.apply(this,arguments)||this},e)}(yQ);var y2=function(e){function t(t){void 0===t&&(t={});var r=e.call(this)||this;return r.options=t,r.name="canvas-renderer",r}return(0,H.ZT)(t,e),t.prototype.init=function(){var e,t=(0,H.pi)({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),r=this.context.imagePool,n=new yQ(r),i=((e={})[$.bn.CIRCLE]=n,e[$.bn.ELLIPSE]=n,e[$.bn.RECT]=n,e[$.bn.IMAGE]=new y0(r),e[$.bn.TEXT]=new y1,e[$.bn.LINE]=n,e[$.bn.POLYLINE]=n,e[$.bn.POLYGON]=n,e[$.bn.PATH]=n,e[$.bn.GROUP]=void 0,e[$.bn.HTML]=void 0,e[$.bn.MESH]=void 0,e);this.context.defaultStyleRendererFactory=i,this.context.styleRendererFactory=i,this.addRenderingPlugin(new yX(t))},t.prototype.destroy=function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory},t}($.F6),y5=function(){function e(){}return e.prototype.apply=function(t,r){var n=this,i=t.renderingService,o=t.renderingContext,a=t.config;this.context=t;var s=o.root.ownerDocument.defaultView,l=function(e){i.hooks.pointerMove.call(e)},u=function(e){i.hooks.pointerUp.call(e)},c=function(e){i.hooks.pointerDown.call(e)},f=function(e){i.hooks.pointerOver.call(e)},d=function(e){i.hooks.pointerOut.call(e)},p=function(e){i.hooks.pointerCancel.call(e)},h=function(e){i.hooks.pointerWheel.call(e)},y=function(e){i.hooks.click.call(e)},b=function(e){r.globalThis.document.addEventListener("pointermove",l,!0),e.addEventListener("pointerdown",c,!0),e.addEventListener("pointerleave",d,!0),e.addEventListener("pointerover",f,!0),r.globalThis.addEventListener("pointerup",u,!0),r.globalThis.addEventListener("pointercancel",p,!0)},g=function(e){e.addEventListener("touchstart",c,!0),e.addEventListener("touchend",u,!0),e.addEventListener("touchmove",l,!0),e.addEventListener("touchcancel",p,!0)},m=function(e){r.globalThis.document.addEventListener("mousemove",l,!0),e.addEventListener("mousedown",c,!0),e.addEventListener("mouseout",d,!0),e.addEventListener("mouseover",f,!0),r.globalThis.addEventListener("mouseup",u,!0)},v=function(e){r.globalThis.document.removeEventListener("pointermove",l,!0),e.removeEventListener("pointerdown",c,!0),e.removeEventListener("pointerleave",d,!0),e.removeEventListener("pointerover",f,!0),r.globalThis.removeEventListener("pointerup",u,!0)},_=function(e){e.removeEventListener("touchstart",c,!0),e.removeEventListener("touchend",u,!0),e.removeEventListener("touchmove",l,!0),e.removeEventListener("touchcancel",p,!0)},O=function(e){r.globalThis.document.removeEventListener("mousemove",l,!0),e.removeEventListener("mousedown",c,!0),e.removeEventListener("mouseout",d,!0),e.removeEventListener("mouseover",f,!0),r.globalThis.removeEventListener("mouseup",u,!0)};i.hooks.init.tap(e.tag,function(){var e=n.context.contextService.getDomElement();r.globalThis.navigator.msPointerEnabled?(e.style.msContentZooming="none",e.style.msTouchAction="none"):s.supportsPointerEvents&&(e.style.touchAction="none"),s.supportsPointerEvents?b(e):m(e),s.supportsTouchEvents&&g(e),a.useNativeClickEvent&&e.addEventListener("click",y,!0),e.addEventListener("wheel",h,{passive:!0,capture:!0})}),i.hooks.destroy.tap(e.tag,function(){var e=n.context.contextService.getDomElement();r.globalThis.navigator.msPointerEnabled?(e.style.msContentZooming="",e.style.msTouchAction=""):s.supportsPointerEvents&&(e.style.touchAction=""),s.supportsPointerEvents?v(e):O(e),s.supportsTouchEvents&&_(e),a.useNativeClickEvent&&e.removeEventListener("click",y,!0),e.removeEventListener("wheel",h,!0)})},e.tag="DOMInteraction",e}(),y4=function(e){function t(){var t=e.apply(this,(0,H.ev)([],(0,H.CR)(arguments),!1))||this;return t.name="dom-interaction",t}return(0,H.ZT)(t,e),t.prototype.init=function(){this.addRenderingPlugin(new y5)},t.prototype.destroy=function(){this.removeAllRenderingPlugins()},t}($.F6),y3=function(){function e(){this.displayObjectHTMLElementMap=new WeakMap}return e.prototype.joinTransformMatrix=function(e){return"matrix(".concat([e[0],e[1],e[4],e[5],e[12],e[13]].join(","),")")},e.prototype.apply=function(t,r){var n=this,i=t.camera,o=t.renderingContext,a=t.renderingService;this.context=t;var s=o.root.ownerDocument.defaultView,l=s.context.eventService.nativeHTMLMap,u=function(e,t){t.style.transform=n.joinTransformMatrix(e.getWorldTransform())},c=function(e){var t=e.target;if(t.nodeName===$.bn.HTML){n.$camera||(n.$camera=n.createCamera(i));var o=n.getOrCreateEl(t);if(n.$camera.appendChild(o),r.enableCSSParsing){var a=t.ownerDocument.documentElement.attributes;Object.keys(a).forEach(function(e){o.style[e]=a[e]})}Object.keys(t.attributes).forEach(function(e){n.updateAttribute(e,t)}),u(t,o),l.set(o,t)}},f=function(e){var t=e.target;if(t.nodeName===$.bn.HTML&&n.$camera){var r=n.getOrCreateEl(t);r&&(r.remove(),l.delete(r))}},d=function(e){var t=e.target;if(t.nodeName===$.bn.HTML){var r=e.attrName;n.updateAttribute(r,t)}},p=function(e){var t=e.target;if(t.nodeName===$.bn.HTML){var r=n.getOrCreateEl(t);u(t,r)}},h=function(){if(n.$camera){var e=n.context.config,t=e.width,r=e.height;n.$camera.style.width="".concat(t||0,"px"),n.$camera.style.height="".concat(r||0,"px")}};a.hooks.init.tap(e.tag,function(){s.addEventListener($.$6.RESIZE,h),s.addEventListener($.Dk.MOUNTED,c),s.addEventListener($.Dk.UNMOUNTED,f),s.addEventListener($.Dk.ATTR_MODIFIED,d),s.addEventListener($.Dk.BOUNDS_CHANGED,p)}),a.hooks.endFrame.tap(e.tag,function(){n.$camera&&o.renderReasons.has($.Rr.CAMERA_CHANGED)&&(n.$camera.style.transform=n.joinTransformMatrix(i.getOrthoMatrix()))}),a.hooks.destroy.tap(e.tag,function(){n.$camera&&n.$camera.remove(),s.removeEventListener($.$6.RESIZE,h),s.removeEventListener($.Dk.MOUNTED,c),s.removeEventListener($.Dk.UNMOUNTED,f),s.removeEventListener($.Dk.ATTR_MODIFIED,d),s.removeEventListener($.Dk.BOUNDS_CHANGED,p)})},e.prototype.createCamera=function(e){var t=this.context.config,r=t.document,n=t.width,i=t.height,o=this.context.contextService.getDomElement(),a=o.parentNode;if(a){var s="g-canvas-camera",l=a.querySelector("#"+s);if(!l){var u=(r||document).createElement("div");l=u,u.id=s,u.style.position="absolute",u.style.left="".concat(o.offsetLeft||0,"px"),u.style.top="".concat(o.offsetTop||0,"px"),u.style.transformOrigin="left top",u.style.transform=this.joinTransformMatrix(e.getOrthoMatrix()),u.style.overflow="hidden",u.style.pointerEvents="none",u.style.width="".concat(n||0,"px"),u.style.height="".concat(i||0,"px"),a.appendChild(u)}return l}return null},e.prototype.getOrCreateEl=function(e){var t=this.context.config.document,r=this.displayObjectHTMLElementMap.get(e);return r||(r=(t||document).createElement("div"),e.parsedStyle.$el=r,this.displayObjectHTMLElementMap.set(e,r),e.id&&(r.id=e.id),e.name&&r.setAttribute("name",e.name),e.className&&(r.className=e.className),r.style.position="absolute",r.style.left="0px",r.style.top="0px",r.style["will-change"]="transform",r.style.transform=this.joinTransformMatrix(e.getWorldTransform())),r},e.prototype.updateAttribute=function(e,t){var r=this.getOrCreateEl(t);switch(e){case"innerHTML":var n=t.parsedStyle.innerHTML;(0,G.Z)(n)?r.innerHTML=n:(r.innerHTML="",r.appendChild(n));break;case"transformOrigin":var i=t.parsedStyle.transformOrigin;r.style["transform-origin"]="".concat(i[0].value," ").concat(i[1].value);break;case"width":if(this.context.enableCSSParsing){var o=t.computedStyleMap().get("width");r.style.width=o.toString()}else{var o=t.parsedStyle.width;r.style.width=(0,Y.Z)(o)?"".concat(o,"px"):o.toString()}break;case"height":if(this.context.enableCSSParsing){var a=t.computedStyleMap().get("height");r.style.height=a.toString()}else{var a=t.parsedStyle.height;r.style.height=(0,Y.Z)(a)?"".concat(a,"px"):a.toString()}break;case"zIndex":var s=t.parsedStyle.zIndex;r.style["z-index"]="".concat(s);break;case"visibility":var l=t.parsedStyle.visibility;r.style.visibility=l;break;case"pointerEvents":var u=t.parsedStyle.pointerEvents;r.style.pointerEvents=u;break;case"opacity":var c=t.parsedStyle.opacity;r.style.opacity="".concat(c);break;case"fill":var f=t.parsedStyle.fill,d="";(0,$.qA)(f)?d=f.isNone?"transparent":t.getAttribute("fill"):Array.isArray(f)?d=t.getAttribute("fill"):(0,$.R)(f),r.style.background=d;break;case"stroke":var p=t.parsedStyle.stroke,h="";(0,$.qA)(p)?h=p.isNone?"transparent":t.getAttribute("stroke"):Array.isArray(p)?h=t.getAttribute("stroke"):(0,$.R)(p),r.style["border-color"]=h,r.style["border-style"]="solid";break;case"lineWidth":var y=t.parsedStyle.lineWidth;r.style["border-width"]="".concat(y||0,"px");break;case"lineDash":r.style["border-style"]="dashed";break;case"filter":var b=t.style.filter;r.style.filter=b;break;default:"x"===e||"y"===e||(0,eu.Z)(t.style[e])||""===t.style[e]||(r.style[e]=t.style[e])}},e.tag="HTMLRendering",e}(),y6=function(e){function t(){var t=e.apply(this,(0,H.ev)([],(0,H.CR)(arguments),!1))||this;return t.name="html-renderer",t}return(0,H.ZT)(t,e),t.prototype.init=function(){this.addRenderingPlugin(new y3)},t.prototype.destroy=function(){this.removeAllRenderingPlugins()},t}($.F6),y8=function(){function e(e){this.canvasConfig=e,this.imageCache={},this.gradientCache={},this.patternCache={}}return e.prototype.getImageSync=function(e,t){return this.imageCache[e]?t&&t(this.imageCache[e]):this.getOrCreateImage(e).then(function(e){t&&t(e)}),this.imageCache[e]},e.prototype.getOrCreateImage=function(e){var t=this;if(this.imageCache[e])return Promise.resolve(this.imageCache[e]);var r=this.canvasConfig.createImage;return new Promise(function(n,i){var o;r?o=r(e):$.jU&&(o=new window.Image),o&&(o.onload=function(){t.imageCache[e]=o,n(o)},o.onerror=function(e){i(e)},o.crossOrigin="Anonymous",o.src=e)})},e.prototype.getOrCreatePatternSync=function(e,t,r,n,i){var o,a=this.generatePatternKey(e);if(a&&this.patternCache[a])return this.patternCache[a];var s=e.image,l=e.repetition,u=e.transform,c=!1;(0,G.Z)(s)?o=this.getImageSync(s,i):r?(o=r,c=!0):o=s;var f=o&&t.createPattern(o,l);if(f){var d=void 0;d=u?(0,$.G0)((0,$.G$)(u),new $.s$({})):X.identity(X.create()),c&&X.scale(d,d,[1/n,1/n,1]),f.setTransform({a:d[0],b:d[1],c:d[4],d:d[5],e:d[12],f:d[13]})}return a&&f&&(this.patternCache[a]=f),f},e.prototype.getOrCreateGradient=function(e,t){var r=this.generateGradientKey(e),n=e.type,i=e.steps,o=e.width,a=e.height,s=e.angle,l=e.cx,u=e.cy,c=e.size;if(this.gradientCache[r])return this.gradientCache[r];var f=null;if(n===$.GL.LinearGradient){var d=(0,$.Rx)(o,a,s),p=d.x1,h=d.y1,y=d.x2,b=d.y2;f=t.createLinearGradient(p,h,y,b)}else if(n===$.GL.RadialGradient){var g=(0,$.o6)(o,a,l,u,c),m=g.x,v=g.y,_=g.r;f=t.createRadialGradient(m,v,0,m,v,_)}return f&&(i.forEach(function(e){var t=e.offset,r=e.color;t.unit===$.Cm.kPercentage&&(null==f||f.addColorStop(t.value/100,r.toString()))}),this.gradientCache[r]=f),this.gradientCache[r]},e.prototype.generateGradientKey=function(e){var t=e.type,r=e.width,n=e.height,i=e.steps,o=e.angle,a=e.cx,s=e.cy,l=e.size;return"gradient-".concat(t,"-").concat((null==o?void 0:o.toString())||0,"-").concat((null==a?void 0:a.toString())||0,"-").concat((null==s?void 0:s.toString())||0,"-").concat((null==l?void 0:l.toString())||0,"-").concat(r,"-").concat(n,"-").concat(i.map(function(e){var t=e.offset,r=e.color;return"".concat(t).concat(r)}).join("-"))},e.prototype.generatePatternKey=function(e){var t=e.image,r=e.repetition;return(0,G.Z)(t)?"pattern-".concat(t,"-").concat(r):"rect"===t.nodeName?"pattern-".concat(t.entity,"-").concat(r):void 0},e}(),y9=function(){function e(){}return e.prototype.apply=function(t){var r=t.renderingService,n=t.renderingContext,i=t.imagePool,o=n.root.ownerDocument.defaultView,a=function(e,t,r){var n=e.parsedStyle,i=n.width,o=n.height;i&&!o?e.setAttribute("height",r/t*i):!i&&o&&e.setAttribute("width",t/r*o)},s=function(e){var t=e.target,n=t.nodeName,o=t.attributes;if(n===$.bn.IMAGE){var s=o.img,l=o.keepAspectRatio;(0,G.Z)(s)&&i.getImageSync(s,function(e){var n=e.width,i=e.height;l&&a(t,n,i),t.renderable.dirty=!0,r.dirtify()})}},l=function(e){var t=e.target,n=e.attrName,o=e.newValue;t.nodeName===$.bn.IMAGE&&"img"===n&&(0,G.Z)(o)&&i.getOrCreateImage(o).then(function(e){var n=e.width,i=e.height;t.attributes.keepAspectRatio&&a(t,n,i),t.renderable.dirty=!0,r.dirtify()})};r.hooks.init.tap(e.tag,function(){o.addEventListener($.Dk.MOUNTED,s),o.addEventListener($.Dk.ATTR_MODIFIED,l)}),r.hooks.destroy.tap(e.tag,function(){o.removeEventListener($.Dk.MOUNTED,s),o.removeEventListener($.Dk.ATTR_MODIFIED,l)})},e.tag="LoadImage",e}(),y7=function(e){function t(){var t=e.apply(this,(0,H.ev)([],(0,H.CR)(arguments),!1))||this;return t.name="image-loader",t}return(0,H.ZT)(t,e),t.prototype.init=function(){this.context.imagePool=new y8(this.context.config),this.addRenderingPlugin(new y9)},t.prototype.destroy=function(){this.removeAllRenderingPlugins()},t}($.F6),be=function(){function e(e){this.renderingContext=e.renderingContext,this.canvasConfig=e.config}return e.prototype.init=function(){var e=this.canvasConfig,t=e.container,r=e.canvas;if(r)this.$canvas=r,t&&r.parentElement!==t&&t.appendChild(r),this.$container=r.parentElement,this.canvasConfig.container=this.$container;else if(t&&(this.$container=(0,G.Z)(t)?document.getElementById(t):t,this.$container)){var n=document.createElement("canvas");this.$container.appendChild(n),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=n}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)},e.prototype.getContext=function(){return this.context},e.prototype.getDomElement=function(){return this.$canvas},e.prototype.getDPR=function(){return this.dpr},e.prototype.getBoundingClientRect=function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()},e.prototype.destroy=function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)},e.prototype.resize=function(e,t){var r=this.canvasConfig.devicePixelRatio||$.jU&&window.devicePixelRatio||1;r=r>=1?Math.ceil(r):1,this.dpr=r,this.$canvas&&(this.$canvas.width=this.dpr*e,this.$canvas.height=this.dpr*t,(0,$.$p)(this.$canvas,e,t)),this.renderingContext.renderReasons.add($.Rr.CAMERA_CHANGED)},e.prototype.applyCursorStyle=function(e){this.$container&&this.$container.style&&(this.$container.style.cursor=e)},e.prototype.toDataURL=function(e){return void 0===e&&(e={}),(0,H.mG)(this,void 0,void 0,function(){var t,r;return(0,H.Jh)(this,function(n){return t=e.type,r=e.encoderOptions,[2,this.context.canvas.toDataURL(t,r)]})})},e}(),bt=function(e){function t(){var t=e.apply(this,(0,H.ev)([],(0,H.CR)(arguments),!1))||this;return t.name="canvas-context-register",t}return(0,H.ZT)(t,e),t.prototype.init=function(){this.context.ContextService=be},t.prototype.destroy=function(){delete this.context.ContextService},t}($.F6),br=function(e){function t(t){var r=e.call(this,t)||this;return r.registerPlugin(new bt),r.registerPlugin(new y7),r.registerPlugin(new yj),r.registerPlugin(new y2),r.registerPlugin(new y4),r.registerPlugin(new yK),r.registerPlugin(new y6),r}return(0,H.ZT)(t,e),t}($.I8),bn=r(79578),bi=function(){function e(e){this.dragndropPluginOptions=e}return e.prototype.apply=function(t){var r=this,n=t.renderingService,i=t.renderingContext.root.ownerDocument,o=i.defaultView,a=function(e){var t=e.target,n=t===i,a=n&&r.dragndropPluginOptions.isDocumentDraggable?i:t.closest&&t.closest("[draggable=true]");if(a){var s=!1,l=e.timeStamp,u=[e.clientX,e.clientY],c=null,f=[e.clientX,e.clientY],d=function(e){return(0,H.mG)(r,void 0,void 0,function(){var r,o,d,p,h,y;return(0,H.Jh)(this,function(b){switch(b.label){case 0:if(!s){if(r=e.timeStamp-l,o=(0,bn.y)([e.clientX,e.clientY],u),r<=this.dragndropPluginOptions.dragstartTimeThreshold||o<=this.dragndropPluginOptions.dragstartDistanceThreshold)return[2];e.type="dragstart",a.dispatchEvent(e),s=!0}if(e.type="drag",e.dx=e.clientX-f[0],e.dy=e.clientY-f[1],a.dispatchEvent(e),f=[e.clientX,e.clientY],n)return[3,2];return d="pointer"===this.dragndropPluginOptions.overlap?[e.canvasX,e.canvasY]:t.getBounds().center,[4,i.elementsFromPoint(d[0],d[1])];case 1:y=(null==(h=(p=b.sent())[p.indexOf(t)+1])?void 0:h.closest("[droppable=true]"))||(this.dragndropPluginOptions.isDocumentDroppable?i:null),c!==y&&(c&&(e.type="dragleave",e.target=c,c.dispatchEvent(e)),y&&(e.type="dragenter",e.target=y,y.dispatchEvent(e)),(c=y)&&(e.type="dragover",e.target=c,c.dispatchEvent(e))),b.label=2;case 2:return[2]}})})};o.addEventListener("pointermove",d);var p=function(e){if(s){e.detail={preventClick:!0};var t=e.clone();c&&(t.type="drop",t.target=c,c.dispatchEvent(t)),t.type="dragend",a.dispatchEvent(t),s=!1}o.removeEventListener("pointermove",d)};t.addEventListener("pointerup",p,{once:!0}),t.addEventListener("pointerupoutside",p,{once:!0})}};n.hooks.init.tap(e.tag,function(){o.addEventListener("pointerdown",a)}),n.hooks.destroy.tap(e.tag,function(){o.removeEventListener("pointerdown",a)})},e.tag="Dragndrop",e}(),bo=function(e){function t(t){void 0===t&&(t={});var r=e.call(this)||this;return r.options=t,r.name="dragndrop",r}return(0,H.ZT)(t,e),t.prototype.init=function(){this.addRenderingPlugin(new bi((0,H.pi)({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))},t.prototype.destroy=function(){this.removeAllRenderingPlugins()},t.prototype.setOptions=function(e){Object.assign(this.plugins[0].dragndropPluginOptions,e)},t}($.F6),ba=r(53275);let bs=[["legendCategory",[[["color","discrete"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","discrete"]],[["color","discrete"],["opacity","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"]],[["color","discrete"],["opacity","constant"],["size","constant"]],[["color","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"]],[["color","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["shape","discrete"]],[["color","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"]],[["color","discrete"],["opacity","constant"]],[["color","discrete"],["shape","constant"]],[["color","constant"],["shape","discrete"]],[["color","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"]],[["color","discrete"]]]],["legendContinuousSize",[[["color","continuous"],["opacity","continuous"],["size","continuous"]],[["color","constant"],["opacity","continuous"],["size","continuous"]],[["color","continuous"],["size","continuous"]],[["color","constant"],["size","continuous"]],[["size","continuous"],["opacity","continuous"]],[["size","continuous"]]]],["legendContinuousBlockSize",[[["color","distribution"],["opacity","distribution"],["size","distribution"]],[["color","distribution"],["size","distribution"]]]],["legendContinuousBlock",[[["color","distribution"],["opacity","continuous"]],[["color","distribution"]]]],["legendContinuous",[[["color","continuous"],["opacity","continuous"]],[["color","continuous"]],[["opacity","continuous"]]]]];var bl=r(82713),bu=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let bc=e=>{let{important:t={}}=e,r=bu(e,["important"]);return n=>{let{theme:i,coordinate:o,scales:a}=n;return sL(Object.assign(Object.assign(Object.assign({},r),function(e){let t=e%(2*Math.PI);return t===Math.PI/2?{titleTransform:"translate(0, 50%)"}:t>-Math.PI/2&&t<Math.PI/2?{titleTransform:"translate(50%, 0)"}:t>Math.PI/2&&t<3*Math.PI/2?{titleTransform:"translate(-50%, 0)"}:{}}(e.orientation)),{important:Object.assign(Object.assign({},function(e,t,r,n){let{radar:i}=e,[o]=n,a=o.getOptions().name,[s,l]=q(r),{axisRadar:u={}}=t;return Object.assign(Object.assign({},u),{grid:"position"===a,gridConnect:"line",gridControlAngles:Array(i.count).fill(0).map((e,t)=>(l-s)/i.count*t)})}(e,i,o,a)),t)}))(n)}};bc.props=Object.assign(Object.assign({},sL.props),{defaultPosition:"center"});let bf=e=>(...t)=>lv(Object.assign({},{block:!0},e))(...t);bf.props=Object.assign(Object.assign({},lv.props),{defaultPosition:"top",defaultOrientation:"horizontal"});let bd=e=>t=>{let{scales:r}=t;return lv(Object.assign({},{type:"size",data:sT(r,"size").getTicks().map((e,t)=>({value:e,label:String(e)}))},e))(t)};bd.props=Object.assign(Object.assign({},lv.props),{defaultPosition:"top",defaultOrientation:"horizontal"});let bp=e=>bd(Object.assign({},{block:!0},e));bp.props=Object.assign(Object.assign({},lv.props),{defaultPosition:"top",defaultOrientation:"horizontal"});var bh=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let by=({static:e=!1}={})=>t=>{let{width:r,height:n,depth:i,paddingLeft:o,paddingRight:a,paddingTop:s,paddingBottom:l,padding:u,inset:c,insetLeft:f,insetTop:d,insetRight:p,insetBottom:h,margin:y,marginLeft:b,marginBottom:g,marginTop:m,marginRight:v,data:_,coordinate:O,theme:w,component:S,interaction:E,x,y:P,z:j,key:T,frame:k,labelTransform:C,parentKey:A,clip:R,viewStyle:M,title:I}=t,N=bh(t,["width","height","depth","paddingLeft","paddingRight","paddingTop","paddingBottom","padding","inset","insetLeft","insetTop","insetRight","insetBottom","margin","marginLeft","marginBottom","marginTop","marginRight","data","coordinate","theme","component","interaction","x","y","z","key","frame","labelTransform","parentKey","clip","viewStyle","title"]);return[Object.assign(Object.assign({type:"standardView",x,y:P,z:j,key:T,width:r,height:n,depth:i,padding:u,paddingLeft:o,paddingRight:a,paddingTop:s,inset:c,insetLeft:f,insetTop:d,insetRight:p,insetBottom:h,paddingBottom:l,theme:w,coordinate:O,component:S,interaction:E,frame:k,labelTransform:C,margin:y,marginLeft:b,marginBottom:g,marginTop:m,marginRight:v,parentKey:A,clip:R,style:M},!e&&{title:I}),{marks:[Object.assign(Object.assign(Object.assign({},N),{key:`${T}-0`,data:_}),e&&{title:I})]})]};by.props={};var bb=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let bg=()=>e=>{let{children:t}=e,r=bb(e,["children"]);if(!Array.isArray(t))return[];let{data:n,scale:i={},axis:o={},legend:a={},encode:s={},transform:l=[]}=r,u=bb(r,["data","scale","axis","legend","encode","transform"]),c=t.map(e=>{var{data:t,scale:r={},axis:u={},legend:c={},encode:f={},transform:d=[]}=e,p=bb(e,["data","scale","axis","legend","encode","transform"]);return Object.assign({data:c0(t,n),scale:(0,P.Z)({},i,r),encode:(0,P.Z)({},s,f),transform:[...l,...d],axis:!!u&&!!o&&(0,P.Z)({},o,u),legend:!!c&&!!a&&(0,P.Z)({},a,c)},p)});return[Object.assign(Object.assign({},u),{marks:c,type:"standardView"})]};function bm(e,t,r,n){let i=t.length/2,o=t.slice(0,i),a=t.slice(i),s=(0,fw.Z)(o,(e,t)=>Math.abs(e[1]-a[t][1])),l=e=>[o[e][0],(o[e][1]+a[e][1])/2],u=l(s=Math.max(Math.min(s,i-2),1)),c=l(s-1),f=td(tc(l(s+1),c))/Math.PI*180;return{x:u[0],y:u[1],transform:`rotate(${f})`,textAlign:"center",textBaseline:"middle"}}function bv(e,t,r,n){let{bounds:i}=r,[[o,a],[s,l]]=i,u=s-o,c=l-a;return(e=>{let{x:t,y:n}=e,i=to(r.x,u),s=to(r.y,c);return Object.assign(Object.assign({},e),{x:(i||t)+o,y:(s||n)+a})})("left"===e?{x:0,y:c/2,textAnchor:"start",textBaseline:"middle"}:"right"===e?{x:u,y:c/2,textAnchor:"end",textBaseline:"middle"}:"top"===e?{x:u/2,y:0,textAnchor:"center",textBaseline:"top"}:"bottom"===e?{x:u/2,y:c,textAnchor:"center",textBaseline:"bottom"}:"top-left"===e?{x:0,y:0,textAnchor:"start",textBaseline:"top"}:"top-right"===e?{x:u,y:0,textAnchor:"end",textBaseline:"top"}:"bottom-left"===e?{x:0,y:c,textAnchor:"start",textBaseline:"bottom"}:"bottom-right"===e?{x:u,y:c,textAnchor:"end",textBaseline:"bottom"}:{x:u/2,y:c/2,textAnchor:"center",textBaseline:"middle"})}function b_(e,t,r,n){let{y:i,y1:o,autoRotate:a,rotateToAlignArc:s}=r,l=n.getCenter(),{innerRadius:u,outerRadius:c,startAngle:f,endAngle:d}=tk(n,t,[i,o]),p="inside"===e?(f+d)/2:d,h=bw(p,a,s);return Object.assign(Object.assign({},(()=>{let[r,n]=t,[i,o]="inside"===e?bO(l,p,u+(c-u)*.5):tb(r,n);return{x:i,y:o}})()),{textAlign:"inside"===e?"center":"start",textBaseline:"middle",rotate:h})}function bO(e,t,r){return[e[0]+Math.sin(t)*r,e[1]-Math.cos(t)*r]}function bw(e,t,r){if(!t)return 0;let n=r?0:0>Math.sin(e)?90:-90;return e/Math.PI*180+n}function bS(e){return void 0===e?null:e}function bE(e,t,r,n){let{bounds:i}=r,[o]=i;return{x:bS(o[0]),y:bS(o[1])}}function bx(e,t,r,n){let{bounds:i}=r;return 1===i.length?bE(e,t,r,n):(F(n)?b_:Z(n)?function(e,t,r,n){let{y:i,y1:o,autoRotate:a,rotateToAlignArc:s,radius:l=.5,offset:u=0}=r,c=tk(n,t,[i,o]),{startAngle:f,endAngle:d}=c,p=n.getCenter(),h=(f+d)/2,y=bw(h,a,s),{innerRadius:b,outerRadius:g}=c,[m,v]=bO(p,h,b+(g-b)*l+u);return Object.assign({x:m,y:v},{textAlign:"center",textBaseline:"middle",rotate:y})}:bv)(e,t,r,n)}function bP(e,t,r){let{innerRadius:n,outerRadius:i}=tk(r,e,[t.y,t.y1]);return n+(i-n)}function bj(e,t,r){let{startAngle:n,endAngle:i}=tk(r,e,[t.y,t.y1]);return(n+i)/2}function bT(e,t,r,n){let{autoRotate:i,rotateToAlignArc:o,offset:a=0,connector:s=!0,connectorLength:l=a,connectorLength2:u=0,connectorDistance:c=0}=r,f=n.getCenter(),d=bj(t,r,n),p=Math.sin(d)>0?1:-1,h=bw(d,i,o),y={textAlign:p>0||F(n)?"start":"end",textBaseline:"middle",rotate:h},b=bP(t,r,n),[[g,m],[v,_],[O,w]]=function(e,t,r,n,i){let[o,a]=bO(e,t,r),[s,l]=bO(e,t,n);return[[o,a],[s,l],[s+(Math.sin(t)>0?1:-1)*i,l]]}(f,d,b,b+(s?l:a),s?u:0),S=s?+c*p:0,E=O+S;return Object.assign(Object.assign({x0:g,y0:m,x:O+S,y:w},y),{connector:s,connectorPoints:[[v-E,_-w],[O-E,w-w]]})}function bk(e,t,r,n){let{bounds:i}=r;return 1===i.length?bE(e,t,r,n):(F(n)?b_:Z(n)?bT:bv)(e,t,r,n)}bg.props={};var bC=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function bA(e,t,r,n){if(!Z(n))return{};let{connectorLength:i,connectorLength2:o,connectorDistance:a}=r,s=bC(bT("outside",t,r,n),[]),l=n.getCenter(),u=bP(t,r,n),c=Math.sin(bj(t,r,n))>0?1:-1,f=l[0]+(u+i+o+ +a)*c,{x:d}=s,p=f-d;return s.x+=p,s.connectorPoints[0][0]-=p,s}var bR=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function bM(e,t,r,n){if(!Z(n))return{};let{connectorLength:i,connectorLength2:o,connectorDistance:a}=r,s=bR(bT("outside",t,r,n),[]),{x0:l,y0:u}=s,c=n.getCenter(),f=function(e){if(Z(e)){let[t,r]=e.getSize(),n=e.getOptions().transformations.find(e=>"polar"===e[0]);if(n)return Math.max(t,r)/2*n[4]}return 0}(n),d=tp([l-c[0],u-c[1]]),p=Math.sin(d)>0?1:-1,[h,y]=bO(c,d,f+i);return s.x=h+(o+a)*p,s.y=y,s}var bI=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let bN=(e,t)=>{let{coordinate:r,theme:n}=t,{render:i}=e;return(t,o)=>{let{text:a,x:s,y:l,transform:u="",transformOrigin:f,className:d=""}=o,p=bI(o,["text","x","y","transform","transformOrigin","className"]),h=function(e,t,r,n,i){let{position:o}=t,{render:a}=i,s=void 0!==o?o:Z(r)?"inside":D(r)?"right":"top",l=n[a?"htmlLabel":"inside"===s?"innerLabel":"label"],u=Object.assign({},l,t),f=c[c$(s)];if(!f)throw Error(`Unknown position: ${s}`);return Object.assign(Object.assign({},l),f(s,e,u,r,i))}(t,o,r,n,e),{rotate:y=0,transform:b=""}=h,g=bI(h,["rotate","transform"]);return tl(new nZ).call(tx,g).style("text",`${a}`).style("className",`${d} g2-label`).style("innerHTML",i?i(a,o.datum,o.index):void 0).style("labelTransform",`${b} rotate(${+y}) ${u}`.trim()).style("labelTransformOrigin",f).style("coordCenter",r.getCenter()).call(tx,p).node()}};bN.props={defaultMarker:"point"};var bL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function bD(e,t){let r=Object.assign(Object.assign({},{"component.axisRadar":bc,"component.axisLinear":sL,"component.axisArc":sD,"component.legendContinuousBlock":bf,"component.legendContinuousBlockSize":bp,"component.legendContinuousSize":bd,"interaction.event":ce,"composition.mark":by,"composition.view":bg,"shape.label.label":bN}),t),n=t=>{if("string"!=typeof t)return t;let n=`${e}.${t}`;return r[n]||e7(`Unknown Component: ${n}`)};return[(e,t)=>{let{type:r}=e,i=bL(e,["type"]);r||e7("Plot type is required!");let o=n(r);return null==o?void 0:o(i,t)},n]}function bz(e){let{canvas:t,group:r}=e;return(null==t?void 0:t.document)||(null==r?void 0:r.ownerDocument)||e7("Cannot find library document")}var bF=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function bB(e,t){let{coordinate:r={}}=e,n=bF(e,["coordinate"]),{type:i,transform:o=[]}=r,a=bF(r,["type","transform"]);if(!i)return Object.assign(Object.assign({},n),{coordinates:o});let[,s]=bD("coordinate",t),{transform:l=!1}=s(i).props||{};if(l)throw Error(`Unknown coordinate: ${i}.`);return Object.assign(Object.assign({},n),{coordinates:[Object.assign({type:i},a),...o]})}function bU(e,t){return e.filter(e=>e.type===t)}function bW(e){return bU(e,"polar").length>0}function bZ(e){return bU(e,"transpose").length%2==1}function bV(e){return bU(e,"theta").length>0}function bq(e){return bU(e,"radial").length>0}var b$=r(68187),bH=r(45542);function bG(e,t){let r=Object.keys(e);for(let n of Object.values(t)){let{name:t}=n.getOptions();if(t in e){let i=r.filter(e=>e.startsWith(t)).map(e=>+(e.replace(t,"")||0)),o=(0,od.Z)(i)+1,a=`${t}${o}`;e[a]=n,n.getOptions().key=a}else e[t]=n}return e}function bY(e,t){let r,n;let[i]=bD("scale",t),{relations:o}=e,[a]=o&&Array.isArray(o)?[e=>{var t;r=e.map.bind(e),n=null===(t=e.invert)||void 0===t?void 0:t.bind(e);let i=o.filter(([e])=>"function"==typeof e),a=o.filter(([e])=>"function"!=typeof e),s=new Map(a);if(e.map=e=>{for(let[t,r]of i)if(t(e))return r;return s.has(e)?s.get(e):r(e)},!n)return e;let l=new Map(a.map(([e,t])=>[t,e])),u=new Map(i.map(([e,t])=>[t,e]));return e.invert=e=>u.has(e)?e:l.has(e)?l.get(e):n(e),e},e=>(null!==r&&(e.map=r),null!==n&&(e.invert=n),e)]:[e6,e6];return a(i(e))}function bK(e,t){let r=e.filter(({name:e,facet:r=!0})=>r&&e===t),n=r.flatMap(e=>e.domain),i=r.every(bX)?(0,t_.Z)(n):r.every(bQ)?Array.from(new Set(n)):null;if(null!==i)for(let e of r)e.domain=i}function bX(e){let{type:t}=e;return"string"==typeof t&&["linear","log","pow","time"].includes(t)}function bQ(e){let{type:t}=e;return"string"==typeof t&&["band","point","ordinal"].includes(t)}function bJ(e,t,r,n,i){let[o]=bD("palette",i),{category10:a,category20:s}=n,l=Array.from(new Set(e.flat())).length<=a.length?a:s,{palette:u=l,offset:c}=t;if(Array.isArray(u))return u;try{return o({type:u})}catch(t){let e=function(e,t,r=e=>e){if(!e)return null;let n=(0,sy.Z)(e),i=bH[`scheme${n}`],o=bH[`interpolate${n}`];if(!i&&!o)return null;if(i){if(!i.some(Array.isArray))return i;let e=i[t.length];if(e)return e}return t.map((e,n)=>o(r(n/t.length)))}(u,r,c);if(e)return e;throw Error(`Unknown Component: ${u} `)}}function b0(e,t){return t||(e.startsWith("x")||e.startsWith("y")||e.startsWith("position")||e.startsWith("size")?"point":"ordinal")}function b1(e,t,r){return r||("color"!==e?"linear":t?"linear":"sequential")}function b2(e,t){if(0===e.length)return e;let{domainMin:r,domainMax:n}=t,[i,o]=e;return[null!=r?r:i,null!=n?n:o]}function b5(e){return Array.from(new Set(e.flat()))}function b4(e){return b6(e,e=>{let t=typeof e;return"string"===t||"boolean"===t})}function b3(e){return b6(e,e=>e instanceof Date)}function b6(e,t){for(let r of e)if(r.some(t))return!0;return!1}let b8={linear:"linear",identity:"identity",log:"log",pow:"pow",sqrt:"sqrt",sequential:"sequential"},b9={threshold:"threshold",quantize:"quantize",quantile:"quantile"},b7={ordinal:"ordinal",band:"band",point:"point"},ge={constant:"constant"};var gt=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function gr(e,t,r,n,i){let[o]=bD("component",n),{scaleInstances:a,scale:s,bbox:l}=e;return o(gt(e,["scaleInstances","scale","bbox"]))({coordinate:t,library:n,markState:i,scales:a,theme:r,value:{bbox:l,library:n},scale:s})}function gn(e,t){let r=["left","right","bottom","top"];return(0,e5.Xx)(e,({type:e,position:t,group:n})=>r.includes(t)?void 0===n?e.startsWith("legend")?`legend-${t}`:Symbol("independent"):"independent"===n?Symbol("independent"):n:Symbol("independent")).flatMap(([,e])=>{if(1===e.length)return e[0];if(void 0!==t){let r=e.filter(e=>void 0!==e.length).map(e=>e.length),n=(0,fL.Z)(r);if(n>t)return e.forEach(e=>e.group=Symbol("independent")),e;let i=(t-n)/(e.length-r.length);e.forEach(e=>{void 0===e.length&&(e.length=i)})}let r=(0,od.Z)(e,e=>e.size),n=(0,od.Z)(e,e=>e.order),i=(0,od.Z)(e,e=>e.crossPadding);return{type:"group",size:r,order:n,position:e[0].position,children:e,crossPadding:i}})}function gi(e){let t=bU(e,"polar");if(t.length){let{startAngle:e,endAngle:r}=d(t[t.length-1]);return[e,r]}let r=bU(e,"radial");if(r.length){let{startAngle:e,endAngle:t}=v(r[r.length-1]);return[e,t]}return[-Math.PI/2,Math.PI/2*3]}function go(e,t){let[r]=bD("scale",t),{scales:n,tickCount:i,tickMethod:o}=e,a=n.find(e=>"constant"!==e.type&&"identity"!==e.type);return void 0!==i&&(a.tickCount=i),void 0!==o&&(a.tickMethod=o),r(a)}function ga(e,t,r="label"){let{labelFormatter:n,tickFilter:i,label:o=!0}=e,a=gt(e,["labelFormatter","tickFilter","label"]);if(!o)return null;let s=function(e,t,r){let n=gu(e,r).map(e=>"number"==typeof e?tm(e):e),i=t?"string"==typeof t?(0,sb.WU)(t):t:e.getFormatter?e.getFormatter():e=>`${e}`;return n.map(i)}(t,n,i),l=tr(a,r),u=s.map((e,t)=>Object.fromEntries(Object.entries(l).map(([r,n])=>[r,"function"==typeof n?n(e,t):n]))),c=s.map((e,t)=>gc(e,u[t]));if(!u.some(e=>e.transform)){let t=s.map((e,t)=>t);e.indexBBox=new Map(t.map(e=>[e,[s[e],c[e]]]))}return c}function gs(e){let{title:t}=e,r=gt(e,["title"]);if(!1===t||null==t)return null;let n=tr(r,"title"),{direction:i,transform:o}=n,a=Array.isArray(t)?t.join(","):t;return"string"!=typeof a?null:gc(a,Object.assign(Object.assign({},n),{transform:o||("vertical"===i?"rotate(-90)":"")}))}function gl(e,t,r){let{title:n}=e,[i,o]=Array.isArray(n)?[n,void 0]:[void 0,n],{axis:a,[`axis${e9(t)}`]:s}=r;return(0,P.Z)({title:i},a,s,Object.assign(Object.assign({},e),{title:o}))}function gu(e,t){let r=e.getTicks?e.getTicks():e.getOptions().domain;return t?r.filter(t):r}function gc(e,t){let r=e instanceof $.s$?e:new $.xv({style:{text:`${e}`}}),{filter:n}=t,i=gt(t,["filter"]);return r.attr(Object.assign(Object.assign({},i),{visibility:"none"})),r.getBBox()}function gf(e,t,r,n,i,o,a){let s=(0,e5.ZP)(e,e=>e.position),{padding:l=o.padding,paddingLeft:u=l,paddingRight:c=l,paddingBottom:f=l,paddingTop:d=l}=i,p={paddingBottom:f,paddingLeft:u,paddingTop:d,paddingRight:c};for(let e of n){let n=`padding${e9(c$(e))}`,i=s.get(e)||[],l=p[n],u=e=>{void 0===e.size&&(e.size=e.defaultSize)},c=e=>{"group"===e.type?(e.children.forEach(u),e.size=(0,od.Z)(e.children,e=>e.size)):e.size=e.defaultSize},f=n=>{n.size||("auto"!==l?c(n):(function e(t,r,n,i,o,a){let{type:s}=t;if(["left","right","bottom","top"].includes(i)&&"string"==typeof s)return(s.startsWith("axis")?function(e,t,r,n,i,o){e.transform=e.transform||[{type:"hide"}];let a="left"===n||"right"===n,s=gl(e,n,i),{tickLength:l=0,labelSpacing:u=0,titleSpacing:c=0,labelAutoRotate:f}=s,d=gt(s,["tickLength","labelSpacing","titleSpacing","labelAutoRotate"]),p=go(e,o),h=ga(d,p),y=l+u;if(h&&h.length){let n=(0,od.Z)(h,e=>e.width),i=(0,od.Z)(h,e=>e.height);if(a)e.size=n+y;else{let{tickFilter:o,labelTransform:a}=e;(function(e,t,r,n,i){if((0,fL.Z)(t,e=>e.width)>r)return!0;let o=e.clone();o.update({range:[0,r]});let a=gu(e,i),s=a.map(e=>o.map(e)+(o.getBandWidth?o.getBandWidth(e)/2:0)),l=a.map((e,t)=>t),u=-n[0],c=r+n[1],f=(e,t)=>{let{width:r}=t;return[e-r/2,e+r/2]};for(let e=0;e<l.length;e++){let[r,n]=f(s[e],t[e]);if(r<u||n>c)return!0;let i=s[e+1];if(i){let[r]=f(i,t[e+1]);if(n>r)return!0}}return!1})(p,h,t,r,o)&&!a&&!1!==f&&null!==f?(e.labelTransform="rotate(90)",e.size=n+y):e.size=i+y}}else e.size=l;let b=gs(d);b&&(a?e.size+=c+b.width:e.size+=c+b.height)}:s.startsWith("group")?function(t,r,n,i,o,a){let{children:s}=t,l=(0,od.Z)(s,e=>e.crossPadding);s.forEach(e=>e.crossPadding=l),s.forEach(t=>e(t,r,n,i,o,a));let u=(0,od.Z)(s,e=>e.size);t.size=u,s.forEach(e=>e.size=u)}:s.startsWith("legendContinuous")?function(e,t,r,n,i,o){let a=(()=>{let{legendContinuous:t}=i;return(0,P.Z)({},t,e)})(),{labelSpacing:s=0,titleSpacing:l=0}=a,u=gt(a,["labelSpacing","titleSpacing"]),c="left"===n||"right"===n,{size:f}=tr(u,"ribbon"),{size:d}=tr(u,"handleIcon"),p=Math.max(f,2.4*d);e.size=p;let h=ga(u,go(e,o));if(h){let t=c?"width":"height",r=(0,od.Z)(h,e=>e[t]);e.size+=r+s}let y=gs(u);y&&(c?e.size=Math.max(e.size,y.width):e.size+=l+y.height)}:"legendCategory"===s?function(e,t,r,n,i,o){let a=(()=>{let{legendCategory:t}=i,{title:r}=e,[n,o]=Array.isArray(r)?[r,void 0]:[void 0,r];return(0,P.Z)({title:n},t,Object.assign(Object.assign({},e),{title:o}))})(),{itemSpacing:s,itemMarkerSize:l,titleSpacing:u,rowPadding:c,colPadding:f,maxCols:d=1/0,maxRows:p=1/0}=a,h=gt(a,["itemSpacing","itemMarkerSize","titleSpacing","rowPadding","colPadding","maxCols","maxRows"]),{cols:y,length:b}=e,g=e=>Math.min(e,p),m=e=>Math.min(e,d),v="left"===n||"right"===n,_=void 0===b?t+(v?0:r[0]+r[1]):b,O=gs(h),w=ga(h,go(e,o),"itemLabel"),S=Math.max(w[0].height,l)+c,E=(e,t=0)=>l+e+s[0]+t;v?(()=>{let t=-1/0,r=0,n=1,i=0,o=-1/0,a=-1/0,s=O?O.height:0,l=_-s;for(let{width:e}of w)t=Math.max(t,E(e,f)),r+S>l?(n++,o=Math.max(o,i),a=Math.max(a,r),i=1,r=S):(r+=S,i++);n<=1&&(o=i,a=r),e.size=t*m(n),e.length=a+s,(0,P.Z)(e,{cols:m(n),gridRow:o})})():"number"==typeof y?(()=>{let t=Math.ceil(w.length/y),r=(0,od.Z)(w,e=>E(e.width))*y;e.size=S*g(t)-c,e.length=Math.min(r,_)})():(()=>{let t=1,r=0,n=-1/0;for(let{width:e}of w){let i=E(e,f);r+i>_?(n=Math.max(n,r),r=i,t++):r+=i}1===t&&(n=r),e.size=S*g(t)-c,e.length=n})(),O&&(v?e.size=Math.max(e.size,O.width):e.size+=u+O.height)}:s.startsWith("slider")?function(e,t,r,n,i,o){let{trackSize:a,handleIconSize:s}=(()=>{let{slider:t}=i;return(0,P.Z)({},t,e)})(),l=Math.max(a,2.4*s);e.size=l}:"title"===s?function(e,t,r,n,i,o){let a=(0,P.Z)({},i.title,e),{title:s,subtitle:l,spacing:u=0}=a,c=gt(a,["title","subtitle","spacing"]);if(s){let t=gc(s,tr(c,"title"));e.size=t.height}if(l){let t=gc(l,tr(c,"subtitle"));e.size+=u+t.height}}:s.startsWith("scrollbar")?function(e,t,r,n,i,o){let{trackSize:a=6}=(0,P.Z)({},i.scrollbar,e);e.size=a}:()=>{})(t,r,n,i,o,a)}(n,t,r,e,o,a),u(n)))},d=e=>{e.type.startsWith("axis")&&void 0===e.labelAutoHide&&(e.labelAutoHide=!0)},h="bottom"===e||"top"===e,y=(0,of.Z)(i,e=>e.order),b=i.filter(e=>e.type.startsWith("axis")&&e.order==y);if(b.length&&(b[0].crossPadding=0),"number"==typeof l)i.forEach(u),i.forEach(d);else if(0===i.length)p[n]=0;else{let e=gn(i,h?t+r[0]+r[1]:t);e.forEach(f);let o=e.reduce((e,{size:t,crossPadding:r=12})=>e+t+r,0);p[n]=o}}return p}function gd({width:e,height:t,paddingLeft:r,paddingRight:n,paddingTop:i,paddingBottom:o,marginLeft:a,marginTop:s,marginBottom:l,marginRight:u,innerHeight:c,innerWidth:f,insetBottom:d,insetLeft:p,insetRight:h,insetTop:y}){let b=r+a,g=i+s,m=n+u,v=o+l,_=e-a-u,O=[b+p,g+y,f-p-h,c-y-d,"center",null,null];return{top:[b,0,f,g,"vertical",!0,fO.Z,a,_],right:[e-m,g,m,c,"horizontal",!1,fO.Z],bottom:[b,t-v,f,v,"vertical",!1,fO.Z,a,_],left:[0,g,b,c,"horizontal",!0,fO.Z],"top-left":[b,0,f,g,"vertical",!0,fO.Z],"top-right":[b,0,f,g,"vertical",!0,fO.Z],"bottom-left":[b,t-v,f,v,"vertical",!1,fO.Z],"bottom-right":[b,t-v,f,v,"vertical",!1,fO.Z],center:O,inner:O,outer:O}}var gp=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function gh(e,t,r){let{encode:n={},scale:i={},transform:o=[]}=t;return[e,Object.assign(Object.assign({},gp(t,["encode","scale","transform"])),{encode:n,scale:i,transform:o})]}function gy(e,t,r){var n,i,o,a;return n=this,i=void 0,o=void 0,a=function*(){let{library:e}=r,{data:n}=t,[i]=bD("data",e),o=function(e){if((0,Y.Z)(e))return{type:"inline",value:e};if(!e)return{type:"inline",value:null};if(Array.isArray(e))return{type:"inline",value:e};let{type:t="inline"}=e;return Object.assign(Object.assign({},gp(e,["type"])),{type:t})}(n),{transform:a=[]}=o,s=[gp(o,["transform"]),...a].map(i),l=yield(function(e){return e.reduce((e,t)=>r=>{var n,i,o,a;return n=this,i=void 0,o=void 0,a=function*(){return t((yield e(r)))},new(o||(o=Promise))(function(e,t){function r(e){try{l(a.next(e))}catch(e){t(e)}}function s(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof o?n:new o(function(e){e(n)})).then(r,s)}l((a=a.apply(n,i||[])).next())})},e6)})(s)(n),u=!n||Array.isArray(n)||Array.isArray(l)?l:{value:l};return[Array.isArray(l)?tw(l):[],Object.assign(Object.assign({},t),{data:u})]},new(o||(o=Promise))(function(e,t){function r(e){try{l(a.next(e))}catch(e){t(e)}}function s(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof o?n:new o(function(e){e(n)})).then(r,s)}l((a=a.apply(n,i||[])).next())})}function gb(e,t,r){let{encode:n}=t;if(!n)return[e,t];let i={};for(let[e,t]of Object.entries(n))if(Array.isArray(t))for(let r=0;r<t.length;r++)i[`${e}${0===r?"":r}`]=t[r];else i[e]=t;return[e,Object.assign(Object.assign({},t),{encode:i})]}function gg(e,t,r){let{encode:n,data:i}=t;if(!n)return[e,t];let o=tO(n,e=>!function(e){if("object"!=typeof e||e instanceof Date||null===e)return!1;let{type:t}=e;return tt(t)}(e)?{type:"function"==typeof e?"transform":"string"==typeof e&&Array.isArray(i)&&i.some(t=>void 0!==t[e])?"field":"constant",value:e}:e);return[e,Object.assign(Object.assign({},t),{encode:o})]}function gm(e,t,r){let{encode:n}=t;if(!n)return[e,t];let i=tO(n,(e,t)=>{var r;let{type:n}=e;return"constant"!==n||(r=t).startsWith("x")||r.startsWith("y")||r.startsWith("position")||"enterDelay"===r||"enterDuration"===r||"updateDelay"===r||"updateDuration"===r||"exitDelay"===r||"exitDuration"===r?e:Object.assign(Object.assign({},e),{constant:!0})});return[e,Object.assign(Object.assign({},t),{encode:i})]}function gv(e,t,r){let{encode:n,data:i}=t;if(!n)return[e,t];let{library:o}=r,a=function(e){let[t]=bD("encode",e);return(e,r)=>void 0===r||void 0===e?null:Object.assign(Object.assign({},r),{type:"column",value:t(r)(e),field:function(e){let{type:t,value:r}=e;return"field"===t&&"string"==typeof r?r:null}(r)})}(o),s=tO(n,e=>a(i,e));return[e,Object.assign(Object.assign({},t),{encode:s})]}function g_(e,t,r){let{tooltip:n={}}=t;return ts(n)?[e,t]:Array.isArray(n)?[e,Object.assign(Object.assign({},t),{tooltip:{items:n}})]:ta(n)&&d5(n)?[e,Object.assign(Object.assign({},t),{tooltip:n})]:[e,Object.assign(Object.assign({},t),{tooltip:{items:[n]}})]}function gO(e,t,r){let{data:n,encode:i,tooltip:o={}}=t;if(ts(o))return[e,t];let a=t=>{if(!t)return t;if("string"==typeof t)return e.map(e=>({name:t,value:n[e][t]}));if(ta(t)){let{field:r,channel:o,color:a,name:s=r,valueFormatter:l=e=>e}=t,u="string"==typeof l?(0,sb.WU)(l):l,c=o&&i[o],f=c&&i[o].field,d=s||f||o,p=[];for(let t of e){let e=r?n[t][r]:c?i[o].value[t]:null;p[t]={name:d,color:a,value:u(e)}}return p}if("function"==typeof t){let r=[];for(let o of e){let e=t(n[o],o,n,i);ta(e)?r[o]=e:r[o]={value:e}}return r}return t},{title:s,items:l=[]}=o,u=gp(o,["title","items"]),c=Object.assign({title:a(s),items:Array.isArray(l)?l.map(a):[]},u);return[e,Object.assign(Object.assign({},t),{tooltip:c})]}function gw(e,t,r){let{encode:n}=t,i=gp(t,["encode"]);if(!n)return[e,t];let o=Object.entries(n),a=o.filter(([,e])=>{let{value:t}=e;return Array.isArray(t[0])}).flatMap(([t,r])=>{let n=[[t,Array(e.length).fill(void 0)]],{value:i}=r,o=gp(r,["value"]);for(let r=0;r<i.length;r++){let o=i[r];if(Array.isArray(o))for(let i=0;i<o.length;i++){let a=n[i]||[`${t}${i}`,Array(e).fill(void 0)];a[1][r]=o[i],n[i]=a}}return n.map(([e,t])=>[e,Object.assign({type:"column",value:t},o)])}),s=Object.fromEntries([...o,...a]);return[e,Object.assign(Object.assign({},i),{encode:s})]}function gS(e,t,r){let{axis:n={},legend:i={},slider:o={},scrollbar:a={}}=t,s=(e,t)=>{if("boolean"==typeof e)return e?{}:null;let r=e[t];return void 0===r||r?r:null},l="object"==typeof n?Array.from(new Set(["x","y",...Object.keys(n)])):["x","y"];return(0,P.Z)(t,{scale:Object.assign(Object.assign({},Object.fromEntries(l.map(e=>{let t=s(a,e);return[e,Object.assign({guide:s(n,e),slider:s(o,e),scrollbar:t},t&&{ratio:void 0===t.ratio?.5:t.ratio})]}))),{color:{guide:s(i,"color")},size:{guide:s(i,"size")},shape:{guide:s(i,"shape")},opacity:{guide:s(i,"opacity")}})}),[e,t]}function gE(e,t,r){let{animate:n}=t;return n||void 0===n||(0,P.Z)(t,{animate:{enter:{type:null},exit:{type:null},update:{type:null}}}),[e,t]}var gx=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},gP=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},gj=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},gT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function gk(e){e.style("transform",e=>`translate(${e.layout.x}, ${e.layout.y})`)}function gC(e,t){return gj(this,void 0,void 0,function*(){let r=function(e){let{coordinate:t={},interaction:r={},style:n={},marks:i}=e,o=gT(e,["coordinate","interaction","style","marks"]),a=i.map(e=>e.coordinate||{}),s=i.map(e=>e.interaction||{}),l=i.map(e=>e.viewStyle||{}),u=[...a,t].reduceRight((e,t)=>(0,P.Z)(e,t),{}),c=[r,...s].reduce((e,t)=>(0,P.Z)(e,t),{}),f=[...l,n].reduce((e,t)=>(0,P.Z)(e,t),{});return Object.assign(Object.assign({},o),{marks:i,coordinate:u,interaction:c,style:f})}((yield function(e,t){return gj(this,void 0,void 0,function*(){let[r,n]=bD("mark",t),i=new Set(Object.keys(t).map(e=>{var t;return null===(t=/component\.(.*)/.exec(e))||void 0===t?void 0:t[1]}).filter(tt)),{marks:o}=e,a=[],s=[],l=[...o],{width:u,height:c}=function(e){let{height:t,width:r,padding:n=0,paddingLeft:i=n,paddingRight:o=n,paddingTop:a=n,paddingBottom:s=n,margin:l=16,marginLeft:u=l,marginRight:c=l,marginTop:f=l,marginBottom:d=l,inset:p=0,insetLeft:h=p,insetRight:y=p,insetTop:b=p,insetBottom:g=p}=e,m=e=>"auto"===e?20:e;return{width:r-m(i)-m(o)-u-c-h-y,height:t-m(a)-m(s)-f-d-b-g}}(e),f={options:e,width:u,height:c};for(;l.length;){let[e]=l.splice(0,1),o=yield gU(e,t),{type:u=e7("G2Mark type is required."),key:c}=o;if(i.has(u))s.push(o);else{let{props:e={}}=n(u),{composite:t=!0}=e;if(t){let{data:e}=o,t=Object.assign(Object.assign({},o),{data:e?Array.isArray(e)?e:e.value:e}),n=yield r(t,f),i=Array.isArray(n)?n:[n];l.unshift(...i.map((e,t)=>Object.assign(Object.assign({},e),{key:`${c}-${t}`})))}else a.push(o)}}return Object.assign(Object.assign({},e),{marks:a,components:s})})}(e,t)));e.interaction=r.interaction,e.coordinate=r.coordinate,e.marks=[...r.marks,...r.components];let n=bB(r,t);return gM((yield gA(n,t)),n,t)})}function gA(e,t){return gj(this,void 0,void 0,function*(){let[r]=bD("theme",t),[,n]=bD("mark",t),{theme:i,marks:o,coordinates:a=[]}=e,s=r(gF(i)),l=new Map;for(let e of o){let{type:r}=e,{props:i={}}=n(r),o=yield function(e,t,r){return gx(this,void 0,void 0,function*(){let[n,i]=yield function(e,t,r){return gx(this,void 0,void 0,function*(){let{library:n}=r,[i]=bD("transform",n),{preInference:o=[],postInference:a=[]}=t,{transform:s=[]}=e,l=[gh,gy,gb,gg,gm,gv,gw,gE,gS,g_,...o.map(i),...s.map(i),...a.map(i),gO],u=[],c=e;for(let e of l)[u,c]=yield e(u,c,r);return[u,c]})}(e,t,{library:r}),{encode:o,scale:a,data:s,tooltip:l}=i;if(!1===Array.isArray(s))return null;let{channels:u}=t,c=(0,e5.Q3)(Object.entries(o).filter(([,e])=>tt(e)),e=>e.map(([e,t])=>Object.assign({name:e},t)),([e])=>{var t;let r=null===(t=/([^\d]+)\d*$/.exec(e))||void 0===t?void 0:t[1],n=u.find(e=>e.name===r);return(null==n?void 0:n.independent)?e:r}),f=u.filter(e=>{let{name:t,required:r}=e;if(c.find(([e])=>e===t))return!0;if(r)throw Error(`Missing encoding for channel: ${t}.`);return!1}).flatMap(e=>{let{name:t,scale:r,scaleKey:n,range:i,quantitative:o,ordinal:s}=e;return c.filter(([e])=>e.startsWith(t)).map(([e,t],l)=>{let u=t.some(e=>e.visual),c=t.some(e=>e.constant),f=a[e]||{},{independent:d=!1,key:p=n||e,type:h=c?"constant":u?"identity":r}=f,y=gP(f,["independent","key","type"]),b="constant"===h;return{name:e,values:t,scaleKey:d||b?Symbol("independent"):p,scale:Object.assign(Object.assign({type:h,range:b?void 0:i},y),{quantitative:o,ordinal:s})}})});return[i,Object.assign(Object.assign({},t),{index:n,channels:f,tooltip:l})]})}(e,i,t);if(o){let[e,t]=o;l.set(e,t)}}for(let e of(0,e5.ZP)(Array.from(l.values()).flatMap(e=>e.channels),({scaleKey:e})=>e).values()){let r=e.reduce((e,{scale:t})=>(0,P.Z)(e,t),{}),{scaleKey:n}=e[0],{values:i}=e[0],o=Array.from(new Set(i.map(e=>e.field).filter(tt))),l=(0,P.Z)({guide:{title:0===o.length?void 0:o},field:o[0]},r),{name:u}=e[0],c=Object.assign(Object.assign({},function(e,t,r,n,i,o){let{guide:a={}}=r,s=function(e,t,r){let{type:n,domain:i,range:o,quantitative:a,ordinal:s}=r;return void 0!==n?n:b6(t,ta)?"identity":"string"==typeof o?"linear":(i||o||[]).length>2?b0(e,s):void 0!==i?b4([i])?b0(e,s):b3(t)?"time":b1(e,o,a):b4(t)?b0(e,s):b3(t)?"time":b1(e,o,a)}(e,t,r);if("string"!=typeof s)return r;let l=function(e,t,r,n){let{domain:i}=n;if(void 0!==i)return i;switch(e){case"linear":case"time":case"log":case"pow":case"sqrt":case"quantize":case"threshold":return b2(function(e,t){let{zero:r=!1}=t,n=1/0,i=-1/0;for(let t of e)for(let e of t)tt(e)&&(n=Math.min(n,+e),i=Math.max(i,+e));return n===1/0?[]:r?[Math.min(0,n),i]:[n,i]}(r,n),n);case"band":case"ordinal":case"point":return b5(r);case"quantile":return b5(r).sort();case"sequential":return b2(function(e){let t=1/0,r=-1/0;for(let n of e)for(let e of n)tt(e)&&(t=Math.min(t,+e),r=Math.max(r,+e));return t===1/0?[]:[t<0?-r:t,r]}(r),n);default:return[]}}(s,0,t,r),u=function(e,t,r){let{ratio:n}=r;return null==n?t:bX({type:e})?function(e,t,r){let n=e.map(Number),i=new tv.b({domain:n,range:[n[0],n[0]+(n[n.length-1]-n[0])*t]});return"time"===r?e.map(e=>new Date(i.map(e))):e.map(e=>i.map(e))}(t,n,e):bQ({type:e})?function(e,t){let r=Math.round(e.length*t);return e.slice(0,r)}(t,n):t}(s,l,r);return Object.assign(Object.assign(Object.assign({},r),function(e,t,r,n,i){switch(e){case"linear":case"time":case"log":case"pow":case"sqrt":return function(e,t){let{interpolate:r=b$.wp,nice:n=!1,tickCount:i=5}=t;return Object.assign(Object.assign({},t),{interpolate:r,nice:n,tickCount:i})}(0,n);case"band":case"point":return function(e,t,r,n){if(void 0!==n.padding||void 0!==n.paddingInner||void 0!==n.paddingOuter)return Object.assign(Object.assign({},n),{unknown:NaN});let i="enterDelay"===t||"enterDuration"===t||"size"===t?0:"band"===e?bV(r)?0:.1:"point"===e?.5:0,{paddingInner:o=i,paddingOuter:a=i}=n;return Object.assign(Object.assign({},n),{paddingInner:o,paddingOuter:a,padding:i,unknown:NaN})}(e,t,i,n);case"sequential":return function(e){let{palette:t="ylGnBu",offset:r}=e,n=(0,sy.Z)(t),i=bH[`interpolate${n}`];if(!i)throw Error(`Unknown palette: ${n}`);return{interpolator:r?e=>i(r(e)):i}}(n);default:return n}}(s,e,0,r,n)),{domain:u,range:function(e,t,r,n,i,o,a){let{range:s}=n;if("string"==typeof s)return s.split("-");if(void 0!==s)return s;let{rangeMin:l,rangeMax:u}=n;switch(e){case"linear":case"time":case"log":case"pow":case"sqrt":{var c;let[e,s]=(c=bJ(r,n,i,o,a),"enterDelay"===t?[0,1e3]:"enterDuration"==t?[300,1e3]:t.startsWith("y")||t.startsWith("position")?[1,0]:"color"===t?[c[0],tS(c)]:"opacity"===t?[0,1]:"size"===t?[1,10]:[0,1]);return[l||e,u||s]}case"band":case"point":{let e="size"===t?5:0,r="size"===t?10:1;return[l||e,u||r]}case"ordinal":return bJ(r,n,i,o,a);case"sequential":return;case"constant":return[r[0][0]];default:return[]}}(s,e,t,r,u,i,o),expectedDomain:l,guide:a,name:e,type:s})}(u,e.flatMap(({values:e})=>e.map(e=>e.value)),l,a,s,t)),{key:n});e.forEach(e=>e.scale=c)}return l})}function gR(e,t,r,n){let i=e.theme,o="string"==typeof t&&i[t]||{};return n((0,P.Z)(o,Object.assign({type:t},r)))}function gM(e,t,r){let[n]=bD("mark",r),[i]=bD("theme",r),[o]=bD("labelTransform",r),{key:a,frame:s=!1,theme:l,clip:u,style:c={},labelTransform:f=[]}=t,d=i(gF(l)),p=Array.from(e.values()),h=(function(e,t,r){let{coordinates:n=[],title:i}=t,[,o]=bD("component",r),a=e.filter(({guide:e})=>null!==e),s=[],l=function(e,t,r){let[,n]=bD("component",r),{coordinates:i}=e;function o(e,t,r,o){let a=function(e,t,r=[]){return"x"===e?bZ(r)?`${t}Y`:`${t}X`:"y"===e?bZ(r)?`${t}X`:`${t}Y`:null}(t,e,i);if(!o||!a)return;let{props:s}=n(a),{defaultPosition:l,defaultSize:u,defaultOrder:c,defaultCrossPadding:[f]}=s;return Object.assign(Object.assign({position:l,defaultSize:u,order:c,type:a,crossPadding:f},o),{scales:[r]})}return t.filter(e=>e.slider||e.scrollbar).flatMap(e=>{let{slider:t,scrollbar:r,name:n}=e;return[o("slider",n,e,t),o("scrollbar",n,e,r)]}).filter(e=>!!e)}(t,e,r);if(s.push(...l),i){let{props:e}=o("title"),{defaultPosition:t,defaultOrientation:r,defaultOrder:n,defaultSize:a,defaultCrossPadding:l}=e;s.push(Object.assign({type:"title",position:t,orientation:r,order:n,crossPadding:l[0],defaultSize:a},"string"==typeof i?{title:i}:i))}return(function(e,t){let r=e.filter(e=>(function(e){if(!e||!e.type)return!1;if("function"==typeof e.type)return!0;let{type:t,domain:r,range:n,interpolator:i}=e,o=r&&r.length>0,a=n&&n.length>0;return!!(["linear","sqrt","log","time","pow","threshold","quantize","quantile","ordinal","band","point"].includes(t)&&o&&a||["sequential"].includes(t)&&o&&(a||i)||["constant","identity"].includes(t)&&a)})(e));return[...function(e,t){let r=["shape","size","color","opacity"],n=(e,t)=>"constant"===e&&"size"===t,i=e.filter(({type:e,name:t})=>"string"==typeof e&&r.includes(t)&&!n(e,t)),o=i.filter(({type:e})=>"constant"===e),a=i.filter(({type:e})=>"constant"!==e),s=new Map((0,e5.Xx)(a,e=>e.field?e.field:Symbol("independent")).map(([e,t])=>[e,[...t,...o]]).filter(([,e])=>e.some(e=>"constant"!==e.type)));if(0===s.size)return[];let l=e=>e.sort(([e],[t])=>e.localeCompare(t));return Array.from(s).map(([,e])=>{let t=(function(e){if(1===e.length)return[e];let t=[];for(let r=1;r<=e.length;r++)t.push(...function e(t,r=t.length){if(1===r)return t.map(e=>[e]);let n=[];for(let i=0;i<t.length;i++)e(t.slice(i+1),r-1).forEach(e=>{n.push([t[i],...e])});return n}(e,r));return t})(e).sort((e,t)=>t.length-e.length).map(e=>({combination:e,option:e.map(e=>[e.name,function(e){let{type:t}=e;return"string"!=typeof t?null:t in b8?"continuous":t in b7?"discrete":t in b9?"distribution":t in ge?"constant":null}(e)])}));for(let{option:e,combination:r}of t)if(!e.every(e=>"constant"===e[1])&&e.every(e=>"discrete"===e[1]||"constant"===e[1]))return["legendCategory",r];for(let[e,r]of bs)for(let{option:n,combination:i}of t)if(r.some(e=>(0,lT.Z)(l(e),l(n))))return[e,i];return null}).filter(tt)}(r,0),...r.map(e=>{let{name:r}=e;if(bU(t,"helix").length>0||bV(t)||bZ(t)&&(bW(t)||bq(t)))return null;if(r.startsWith("x"))return bW(t)?["axisArc",[e]]:bq(t)?["axisLinear",[e]]:[bZ(t)?"axisY":"axisX",[e]];if(r.startsWith("y"))return bW(t)?["axisLinear",[e]]:bq(t)?["axisArc",[e]]:[bZ(t)?"axisX":"axisY",[e]];if(r.startsWith("z"))return["axisZ",[e]];if(r.startsWith("position")){if(bU(t,"radar").length>0)return["axisRadar",[e]];if(!bW(t))return["axisY",[e]]}return null}).filter(tt)]})(a,n).forEach(([e,t])=>{let{props:r}=o(e),{defaultPosition:i,defaultPlane:l="xy",defaultOrientation:u,defaultSize:c,defaultOrder:f,defaultLength:d,defaultPadding:p=[0,0],defaultCrossPadding:h=[0,0]}=r,{guide:y,field:b}=(0,P.Z)({},...t);for(let r of Array.isArray(y)?y:[y]){let[o,y]=function(e,t,r,n,i,o,a){let[s]=gi(a),l=[n.position||t,null!=s?s:r];return"string"==typeof e&&e.startsWith("axis")?function(e,t,r,n,i){let{name:o}=r[0];if("axisRadar"===e){let e=n.filter(e=>e.name.startsWith("position")),t=function(e){let t=/position(\d*)/g.exec(e);return t?+t[1]:null}(o);if(o===e.slice(-1)[0].name||null===t)return[null,null];let[r,a]=gi(i);return["center",(a-r)/(e.length-1)*t+r]}if("axisY"===e&&bU(i,"parallel").length>0)return bZ(i)?["center","horizontal"]:["center","vertical"];if("axisLinear"===e){let[e]=gi(i);return["center",e]}return"axisArc"===e?"inner"===t[0]?["inner",null]:["outer",null]:bW(i)||bq(i)?["center",null]:"axisX"===e&&bU(i,"reflect").length>0||"axisX"===e&&bU(i,"reflectY").length>0?["top",null]:t}(e,l,i,o,a):"string"==typeof e&&e.startsWith("legend")&&bW(a)&&"center"===n.position?["center","vertical"]:l}(e,i,u,r,t,a,n);if(!o&&!y)continue;let g="left"===o||"right"===o,m=g?p[1]:p[0],v=g?h[1]:h[0],{size:_,order:O=f,length:w=d,padding:S=m,crossPadding:E=v}=r;s.push(Object.assign(Object.assign({title:b},r),{defaultSize:c,length:w,position:o,plane:l,orientation:y,padding:S,order:O,crossPadding:E,size:_,type:e,scales:t}))}}),s})(function(e,t,r){var n;for(let[t]of r.entries())if("cell"===t.type)return e.filter(e=>"shape"!==e.name);if(1!==t.length||e.some(e=>"shape"===e.name))return e;let{defaultShape:i}=t[0];if(!["point","line","rect","hollow"].includes(i))return e;let o=(null===(n=e.find(e=>"color"===e.name))||void 0===n?void 0:n.field)||null;return[...e,{field:o,name:"shape",type:"constant",domain:[],range:[{point:"point",line:"hyphen",rect:"square",hollow:"hollow"}[i]]}]}(Array.from(function(e,t){var r;let{components:n=[]}=t,i=["scale","encode","axis","legend","data","transform"],o=Array.from(new Set(e.flatMap(e=>e.channels.map(e=>e.scale)))),a=new Map(o.map(e=>[e.name,e]));for(let e of n)for(let t of function(e){let{channels:t=[],type:r,scale:n={}}=e,i=["shape","color","opacity","size"];return 0!==t.length?t:"axisX"===r?["x"]:"axisY"===r?["y"]:"legends"===r?Object.keys(n).filter(e=>i.includes(e)):[]}(e)){let n=a.get(t),s=(null===(r=e.scale)||void 0===r?void 0:r[t])||{},{independent:l=!1}=s;if(n&&!l){let{guide:t}=n,r="boolean"==typeof t?{}:t;n.guide=(0,P.Z)({},r,e),Object.assign(n,s)}else{let r=Object.assign(Object.assign({},s),{expectedDomain:s.domain,name:t,guide:(0,sh.Z)(e,i)});o.push(r)}}return o}(p,t)),p,e),t,r).map(e=>{let t=(0,P.Z)(e,e.style);return delete t.style,t}),y=function(e,t,r,n){var i,o;let{width:a,height:s,depth:l,x:u=0,y:c=0,z:f=0,inset:d=null!==(i=r.inset)&&void 0!==i?i:0,insetLeft:p=d,insetTop:h=d,insetBottom:y=d,insetRight:b=d,margin:g=null!==(o=r.margin)&&void 0!==o?o:0,marginLeft:m=g,marginBottom:v=g,marginTop:_=g,marginRight:O=g,padding:w=r.padding,paddingBottom:S=w,paddingLeft:E=w,paddingRight:x=w,paddingTop:P=w}=function(e,t,r,n){let{coordinates:i}=t;if(!bW(i)&&!bq(i))return t;let o=e.filter(e=>"string"==typeof e.type&&e.type.startsWith("axis"));if(0===o.length)return t;let a=o.map(e=>{let t="axisArc"===e.type?"arc":"linear";return gl(e,t,r)}),s=(0,od.Z)(a,e=>{var t;return null!==(t=e.labelSpacing)&&void 0!==t?t:0}),l=o.flatMap((e,t)=>ga(a[t],go(e,n))).filter(tt),u=(0,od.Z)(l,e=>e.height)+s,c=o.flatMap((e,t)=>gs(a[t])).filter(e=>null!==e),f=0===c.length?0:(0,od.Z)(c,e=>e.height),{inset:d=u,insetLeft:p=d,insetBottom:h=d,insetTop:y=d+f,insetRight:b=d}=t;return Object.assign(Object.assign({},t),{insetLeft:p,insetBottom:h,insetTop:y,insetRight:b})}(e,t,r,n),j=1/4,T=(e,r,n,i,o)=>{let{marks:a}=t;if(0===a.length||e-i-o-e*j>0)return[i,o];let s=e*(1-j);return["auto"===r?s*i/(i+o):i,"auto"===n?s*o/(i+o):o]},k=e=>"auto"===e?20:null!=e?e:20,C=k(P),A=k(S),{paddingLeft:R,paddingRight:M}=gf(e,s-C-A,[C+_,A+v],["left","right"],t,r,n),I=a-m-O,[N,L]=T(I,E,x,R,M),D=I-N-L,{paddingTop:z,paddingBottom:F}=gf(e,D,[N+m,L+O],["bottom","top"],t,r,n),B=s-v-_,[U,W]=T(B,S,P,F,z);return{width:a,height:s,depth:l,insetLeft:p,insetTop:h,insetBottom:y,insetRight:b,innerWidth:D,innerHeight:B-U-W,paddingLeft:N,paddingRight:L,paddingTop:W,paddingBottom:U,marginLeft:m,marginBottom:v,marginTop:_,marginRight:O,x:u,y:c,z:f}}(h,t,d,r),b=function(e,t,r){let[n]=bD("coordinate",r),{innerHeight:i,innerWidth:o,insetLeft:a,insetTop:s,insetRight:l,insetBottom:u}=e,{coordinates:c=[]}=t,f=c.find(e=>"cartesian"===e.type||"cartesian3D"===e.type)?c:[...c,{type:"cartesian"}],d="cartesian3D"===f[0].type,p=Object.assign(Object.assign({},e),{x:a,y:s,width:o-a-l,height:i-u-s,transformations:f.flatMap(n)});return d?new bl.Coordinate3D(p):new bl.Coordinate(p)}(y,t,r),g=s?(0,P.Z)({mainLineWidth:1,mainStroke:"#000"},c):c;!function(e,t,r){let n=(0,e5.ZP)(e,e=>`${e.plane||"xy"}-${e.position}`),{paddingLeft:i,paddingRight:o,paddingTop:a,paddingBottom:s,marginLeft:l,marginTop:u,marginBottom:c,marginRight:f,innerHeight:d,innerWidth:p,insetBottom:h,insetLeft:y,insetRight:b,insetTop:g,height:m,width:v,depth:_}=r,O={xy:gd({width:v,height:m,paddingLeft:i,paddingRight:o,paddingTop:a,paddingBottom:s,marginLeft:l,marginTop:u,marginBottom:c,marginRight:f,innerHeight:d,innerWidth:p,insetBottom:h,insetLeft:y,insetRight:b,insetTop:g}),yz:gd({width:_,height:m,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:_,innerHeight:m,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0}),xz:gd({width:v,height:_,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,marginBottom:0,marginRight:0,innerWidth:v,innerHeight:_,insetBottom:0,insetLeft:0,insetRight:0,insetTop:0})};for(let[e,r]of n.entries()){let[n,i]=e.split("-"),o=O[n][i],[a,s]=tE(r,e=>"string"==typeof e.type&&!!("center"===i||e.type.startsWith("axis")&&["inner","outer"].includes(i)));a.length&&function(e,t,r,n){let[i,o]=tE(e,e=>!!("string"==typeof e.type&&e.type.startsWith("axis")));(function(e,t,r,n){if("center"===n){if(U(t)&&z(t))(function(e,t,r,n){let[i,o,a,s]=r;for(let t of e)t.bbox={x:i,y:o,width:a,height:s},t.radar={index:e.indexOf(t),count:e.length}})(e,0,r,0);else{var i;z(t)?function(e,t,r){let[n,i,o,a]=r;for(let t of e)t.bbox={x:n,y:i,width:o,height:a}}(e,0,r):U(t)&&("horizontal"===(i=e[0].orientation)?function(e,t,r){let[n,i,o]=r,a=Array(e.length).fill(0),s=t.map(a).filter((e,t)=>t%2==1).map(e=>e+i);for(let t=0;t<e.length;t++){let r=e[t],i=s[t],a=s[t+1]-i;r.bbox={x:n,y:i,width:o,height:a}}}(e,t,r):"vertical"===i&&function(e,t,r){let[n,i,,o]=r,a=Array(e.length).fill(0),s=t.map(a).filter((e,t)=>t%2==0).map(e=>e+n);for(let t=0;t<e.length;t++){let r=e[t],n=s[t],a=s[t+1]-n;r.bbox={x:n,y:i,width:a,height:o}}}(e,t,r))}}else"inner"===n?function(e,t,r){let[n,i,,o]=r,[a,s]=t.getCenter(),[l]=V(t),u=o/2*l,c=a-u,f=s-u;for(let t=0;t<e.length;t++)e[t].bbox={x:n+c,y:i+f,width:2*u,height:2*u}}(e,t,r):"outer"===n&&function(e,t,r){let[n,i,o,a]=r;for(let t of e)t.bbox={x:n,y:i,width:o,height:a}}(e,0,r)})(i,t,r,n),function(e,t,r){if(0===e.length)return;let[n,i,o,a]=r,[s]=V(t),l=a/2*s/Math.sqrt(2),u=n+o/2,c=i+a/2;for(let t=0;t<e.length;t++)e[t].bbox={x:u-l,y:c-l,width:2*l,height:2*l}}(o,t,r)}(a,t,o,i),s.length&&function(e,t,r){let[n,i,o,a,s,l,u,c,f]=r,[d,p,h,y,b,g,m,v]="vertical"===s?["y",i,"x",n,"height",a,"width",o]:["x",n,"y",i,"width",o,"height",a];e.sort((e,t)=>null==u?void 0:u(e.order,t.order));let _=e=>"title"===e||"group"===e||e.startsWith("legend"),O=(e,t,r)=>void 0===r?t:_(e)?r:t,w=(e,t,r)=>void 0===r?t:_(e)?r:t;for(let t=0,r=l?p+g:p;t<e.length;t++){let n=e[t],{crossPadding:i=0,type:o}=n,{size:a}=n;n.bbox={[d]:l?r-a-i:r+i,[h]:w(o,y,c),[b]:a,[m]:O(o,v,f)},r+=(a+i)*(l?-1:1)}for(let t of e.filter(e=>"group"===e.type)){let{bbox:e,children:r}=t,n=e[m],i=n/r.length,o=r.reduce((e,t)=>{var r;return(null===(r=t.layout)||void 0===r?void 0:r.justifyContent)||e},"flex-start"),a=r.map((e,t)=>{let{length:n=i,padding:o=0}=e;return n+(t===r.length-1?0:o)}),s=n-(0,fL.Z)(a),l="flex-start"===o?0:"center"===o?s/2:s;for(let t=0,n=e[h]+l;t<r.length;t++){let i=r[t],{padding:s=0}=i,l=t===r.length-1?0:s;i.bbox={[b]:e[b],[d]:e[d],[h]:n,[m]:a[t]-l},(0,P.Z)(i,{layout:{justifyContent:o}}),n+=a[t]}}}(r,0,o)}}(gn(h),b,y),function(e){let t=e.find(({type:e})=>"axisZ"===e);if(t){let r=e.find(({type:e})=>"axisX"===e);r.plane="xy";let n=e.find(({type:e})=>"axisY"===e);n.plane="xy",t.plane="yz",t.origin=[r.bbox.x,r.bbox.y,0],t.eulerAngles=[0,-90,0],t.bbox.x=r.bbox.x,t.bbox.y=r.bbox.y,e.push(Object.assign(Object.assign({},r),{plane:"xz",showLabel:!1,showTitle:!1,origin:[r.bbox.x,r.bbox.y,0],eulerAngles:[-90,0,0]})),e.push(Object.assign(Object.assign({},n),{plane:"yz",showLabel:!1,showTitle:!1,origin:[n.bbox.x+n.bbox.width,n.bbox.y,0],eulerAngles:[0,-90,0]})),e.push(Object.assign(Object.assign({},t),{plane:"xz",actualPosition:"left",showLabel:!1,showTitle:!1,eulerAngles:[90,-90,0]}))}}(h);let m={};for(let e of h){let{scales:t=[]}=e,n=[];for(let e of t){let{name:t}=e,i=bY(e,r);n.push(i),bG(m,{[t]:i})}e.scaleInstances=n}let v=[];for(let[t,i]of e.entries()){let{children:e,dataDomain:o,modifier:s,key:l}=t,{index:u,channels:c,tooltip:f}=i,d=tO(Object.fromEntries(c.map(({name:e,scale:t})=>[e,t])),e=>bY(e,r));bG(m,d);let p=function(e,t){let r={};for(let n of e){let{values:e,name:i}=n,o=t[i];for(let t of e){let{name:e,value:n}=t;r[e]=n.map(e=>o.map(e))}}return r}(c,d),[h,g,_]=function([e,t,r]){if(r)return[e,t,r];let n=[],i=[];for(let r=0;r<e.length;r++){let o=e[r],a=t[r];a.every(([e,t])=>tt(e)&&tt(t))&&(n.push(o),i.push(a))}return[n,i]}(n(t)(u,d,p,b)),O=o||h.length,w=s?s(g,O,y):[],S=e=>{var t,r;return null===(r=null===(t=f.title)||void 0===t?void 0:t[e])||void 0===r?void 0:r.value},E=e=>f.items.map(t=>t[e]),x=h.map((e,t)=>{let r=Object.assign({points:g[t],transform:w[t],index:e,markKey:l,viewKey:a},f&&{title:S(e),items:E(e)});for(let[n,i]of Object.entries(p))r[n]=i[e],_&&(r[`series${(0,sy.Z)(n)}`]=_[t].map(e=>i[e]));return _&&(r.seriesIndex=_[t]),_&&f&&(r.seriesItems=_[t].map(e=>E(e)),r.seriesTitle=_[t].map(e=>S(e))),r});i.data=x,i.index=h;let P=null==e?void 0:e(x,d,y);v.push(...P||[])}return[{layout:y,theme:d,coordinate:b,markState:e,key:a,clip:u,scale:m,style:g,components:h,labelTransform:e8(f.map(o))},v]}function gI(e,t,r,n,i){return gj(this,void 0,void 0,function*(){let{components:o,theme:a,layout:s,markState:l,coordinate:u,key:c,style:f,clip:d,scale:p}=e,{x:h,y,width:b,height:g}=s,m=gT(s,["x","y","width","height"]),v=["view","plot","main","content"],_=v.map((e,t)=>t),O=v.map(e=>tn(Object.assign({},a.view,f),e)),w=["a","margin","padding","inset"].map(e=>tr(m,e)),S=e=>e.style("x",e=>k[e].x).style("y",e=>k[e].y).style("width",e=>k[e].width).style("height",e=>k[e].height).each(function(e,t,r){!function(e,t){for(let[r,n]of Object.entries(t))e.style(r,n)}(tl(r),O[e])}),E=0,x=0,j=b,T=g,k=_.map(e=>{let{left:t=0,top:r=0,bottom:n=0,right:i=0}=w[e];return E+=t,x+=r,j-=t+i,T-=r+n,{x:E,y:x,width:j,height:T}});t.selectAll(gq(ub)).data(_.filter(e=>tt(O[e])),e=>v[e]).join(e=>e.append("rect").attr("className",ub).style("zIndex",-2).call(S),e=>e.call(S),e=>e.remove());let C=function(e){let t=-1/0,r=1/0;for(let[n,i]of e){let{animate:e={}}=n,{data:o}=i,{enter:a={},update:s={},exit:l={}}=e,{type:u,duration:c=300,delay:f=0}=s,{type:d,duration:p=300,delay:h=0}=a,{type:y,duration:b=300,delay:g=0}=l;for(let e of o){let{updateType:n=u,updateDuration:i=c,updateDelay:o=f,enterType:a=d,enterDuration:s=p,enterDelay:l=h,exitDuration:m=b,exitDelay:v=g,exitType:_=y}=e;(void 0===n||n)&&(t=Math.max(t,i+o),r=Math.min(r,o)),(void 0===_||_)&&(t=Math.max(t,m+v),r=Math.min(r,v)),(void 0===a||a)&&(t=Math.max(t,s+l),r=Math.min(r,l))}}return t===-1/0?null:[r,t-r]}(l),A=!!C&&{duration:C[1]};for(let[,e]of(0,e5.Xx)(o,e=>`${e.type}-${e.position}`))e.forEach((e,t)=>e.index=t);let R=t.selectAll(gq(uh)).data(o,e=>`${e.type}-${e.position}-${e.index}`).join(e=>e.append("g").style("zIndex",({zIndex:e})=>e||-1).attr("className",uh).append(e=>gr((0,P.Z)({animate:A,scale:p},e),u,a,n,l)),e=>e.transition(function(e,t,r){let{preserve:i=!1}=e;if(i)return;let{attributes:o}=gr((0,P.Z)({animate:A,scale:p},e),u,a,n,l),[s]=r.childNodes;return s.update(o,!1)})).transitions();r.push(...R.flat().filter(tt));let M=t.selectAll(gq(up)).data([s],()=>c).join(e=>e.append("rect").style("zIndex",0).style("fill","transparent").attr("className",up).call(gW).call(gV,Array.from(l.keys())).call(g$,d),e=>e.call(gV,Array.from(l.keys())).call(e=>C?function(e,t){let[r,n]=t;e.transition(function(e,t,i){let{x:o,y:a,width:s,height:l}=i.style,{paddingLeft:u,paddingTop:c,innerWidth:f,innerHeight:d,marginLeft:p,marginTop:h}=e;return i.animate([{x:o,y:a,width:s,height:l},{x:u+p,y:c+h,width:f,height:d}],{delay:r,duration:n,fill:"both"})})}(e,C):gW(e)).call(g$,d)).transitions();for(let[o,a]of(r.push(...M.flat()),l.entries())){let{data:s}=a,{key:l,class:u,type:c}=o,f=t.select(`#${l}`),d=function(e,t,r,n,i){let[o]=bD("shape",n),{data:a}=e,{defaultShape:s,data:l,shape:u}=t,c=l.map(e=>e.points),{theme:f,coordinate:d}=r,{type:p,style:h={}}=e,y=Object.assign(Object.assign({},i),{document:bz(i),coordinate:d,theme:f});return t=>{let{shape:r=s}=h,{shape:n=r,points:i,seriesIndex:l,index:d}=t,b=Object.assign(Object.assign({},gT(t,["shape","points","seriesIndex","index"])),{index:d}),g=l?l.map(e=>a[e]):a[d],m=l||d,v=tO(h,e=>gN(e,g,m,a));return(u[n]?u[n](v,y):o(Object.assign(Object.assign({},v),{type:gZ(e,n)}),y))(i,b,gL(f,p,n,s),c)}}(o,a,e,n,i),p=gD("enter",o,a,e,n),h=gD("update",o,a,e,n),y=gD("exit",o,a,e,n),b=function(e,t,r,n){return e.node().parentElement.findAll(e=>void 0!==e.style.facet&&e.style.facet===r&&e!==t.node()).flatMap(e=>e.getElementsByClassName(n))}(t,f,u,"element"),g=f.selectAll(gq(uf)).selectFacetAll(b).data(s,e=>e.key,e=>e.groupKey).join(e=>e.append(d).attr("className",uf).attr("markType",c).transition(function(e,t,r){return p(e,[r])}),e=>e.call(e=>{let t=e.parent(),r=function(e){let t=new Map;return r=>{if(t.has(r))return t.get(r);let n=e(r);return t.set(r,n),n}}(e=>{let[t,r]=e.getBounds().min;return[t,r]});e.transition(function(e,n,i){!function(e,t,r){if(!e.__facet__)return;let n=e.parentNode.parentNode,i=t.parentNode,[o,a]=r(n),[s,l]=r(i);!function(e,t){let{transform:r}=e.style,n="none"===r||void 0===r?"":r;e.style.transform=`${n} ${t}`.trimStart()}(e,`translate(${o-s}, ${a-l})`),t.append(e)}(i,t,r);let o=d(e,n),a=h(e,[i],[o]);return null!==a||(i.nodeName===o.nodeName&&"g"!==o.nodeName?te(i,o):(i.parentNode.replaceChild(o,i),o.className=uf,o.markType=c,o.__data__=i.__data__)),a}).attr("markType",c).attr("className",uf)}),e=>e.each(function(e,t,r){r.__removed__=!0}).transition(function(e,t,r){return y(e,[r])}).remove(),e=>e.append(d).attr("className",uf).attr("markType",c).transition(function(e,t,r){let{__fromElements__:n}=r,i=h(e,n,[r]);return new tu(n,null,r.parentNode).transition(i).remove(),i}),e=>e.transition(function(e,t,r){let n=new tu([],r.__toData__,r.parentNode).append(d).attr("className",uf).attr("markType",c).nodes();return h(e,[r],n)}).remove()).transitions();r.push(...g.flat())}!function(e,t,r,n,i){let[o]=bD("labelTransform",n),{markState:a,labelTransform:s}=e,l=t.select(gq(uc)).node(),u=new Map,c=new Map,f=Array.from(a.entries()).flatMap(([r,o])=>{let{labels:a=[],key:s}=r,l=function(e,t,r,n,i){let[o]=bD("shape",n),{data:a}=e,{data:s,defaultLabelShape:l}=t,u=s.map(e=>e.points),{theme:c,coordinate:f}=r,d=Object.assign(Object.assign({},i),{document:bz(i),theme:c,coordinate:f});return e=>{let{index:t,points:r}=e,n=a[t],{formatter:i=e=>`${e}`,transform:s,style:f,render:p}=e,h=tO(Object.assign(Object.assign({},gT(e,["formatter","transform","style","render"])),f),e=>gN(e,n,t,a)),{shape:y=l,text:b}=h,g=gT(h,["shape","text"]),m="string"==typeof i?(0,sb.WU)(i):i,v=Object.assign(Object.assign({},g),{text:m(b,n,t,a),datum:n});return o(Object.assign({type:`label.${y}`,render:p},g),d)(r,v,gL(c,"label",y,"label"),u)}}(r,o,e,n,i),f=t.select(`#${s}`).selectAll(gq(uf)).nodes().filter(e=>!e.__removed__);return a.flatMap((e,t)=>{let{transform:r=[]}=e,n=gT(e,["transform"]);return f.flatMap(r=>{let i=function(e,t,r){let{seriesIndex:n,seriesKey:i,points:o,key:a,index:s}=r.__data__,l=function(e){let t=e.cloneNode(),r=e.getAnimations();t.style.visibility="hidden",r.forEach(e=>{let r=e.effect.getKeyframes();t.attr(r[r.length-1])}),e.parentNode.appendChild(t);let n=t.getLocalBounds();t.destroy();let{min:i,max:o}=n;return[i,o]}(r);if(!n)return[Object.assign(Object.assign({},e),{key:`${a}-${t}`,bounds:l,index:s,points:o,dependentElement:r})];let u=function(e){let{selector:t}=e;if(!t)return null;if("function"==typeof t)return t;if("first"===t)return e=>[e[0]];if("last"===t)return e=>[e[e.length-1]];throw Error(`Unknown selector: ${t}`)}(e),c=n.map((n,a)=>Object.assign(Object.assign({},e),{key:`${i[a]}-${t}`,bounds:[o[a]],index:n,points:o,dependentElement:r}));return u?u(c):c}(n,t,r);return i.forEach(t=>{u.set(t,l),c.set(t,e)}),i})})}),d=tl(l).selectAll(gq(uy)).data(f,e=>e.key).join(e=>e.append(e=>u.get(e)(e)).attr("className",uy),e=>e.each(function(e,t,r){te(r,u.get(e)(e))}),e=>e.remove()).nodes(),p=(0,e5.ZP)(d,e=>c.get(e.__data__)),{coordinate:h}=e;for(let[e,t]of p){let{transform:r=[]}=e;e8(r.map(o))(t,h)}s&&s(d,h)}(e,t,0,n,i)})}function gN(e,t,r,n){return"function"==typeof e?e(t,r,n):"string"!=typeof e?e:void 0!==t[e]?t[e]:e}function gL(e,t,r,n){if("string"!=typeof t)return;let{color:i}=e,o=e[t]||{};return Object.assign({color:i},o[r]||o[n])}function gD(e,t,r,n,i){var o,a;let[,s]=bD("shape",i),[l]=bD("animation",i),{defaultShape:u,shape:c}=r,{theme:f,coordinate:d}=n,p=(0,sy.Z)(e),h=`default${p}Animation`,{[h]:y}=(null===(o=c[u])||void 0===o?void 0:o.props)||s(gZ(t,u)).props,{[e]:b={}}=f,g=(null===(a=t.animate)||void 0===a?void 0:a[e])||{},m={coordinate:d};return(t,r,n)=>{let{[`${e}Type`]:i,[`${e}Delay`]:o,[`${e}Duration`]:a,[`${e}Easing`]:s}=t,u=Object.assign({type:i||y},g);if(!u.type)return null;let c=l(u,m)(r,n,(0,P.Z)(b,{delay:o,duration:a,easing:s}));return Array.isArray(c)?c:[c]}}function gz(e){return e.finished.then(()=>{e.cancel()}),e}function gF(e={}){if("string"==typeof e)return{type:e};let{type:t="light"}=e;return Object.assign(Object.assign({},gT(e,["type"])),{type:t})}function gB(e){let{interaction:t={}}=e;return Object.entries((0,P.Z)({event:!0,tooltip:!0,sliderFilter:!0,legendFilter:!0,scrollbarFilter:!0},t)).reverse()}function gU(e,t){return gj(this,void 0,void 0,function*(){let{data:r}=e,n=gT(e,["data"]);if(void 0==r)return e;let[,{data:i}]=yield gy([],{data:r},{library:t});return Object.assign({data:i},n)})}function gW(e){e.style("x",e=>e.paddingLeft+e.marginLeft).style("y",e=>e.paddingTop+e.marginTop).style("width",e=>e.innerWidth).style("height",e=>e.innerHeight)}function gZ(e,t){let{type:r}=e;return"string"==typeof t?`${r}.${t}`:t}function gV(e,t){let r=e=>void 0!==e.class?`${e.class}`:"";0!==e.nodes().length&&(e.selectAll(gq(uu)).data(t,e=>e.key).join(e=>e.append("g").attr("className",uu).attr("id",e=>e.key).style("facet",r).style("fill","transparent").style("zIndex",e=>{var t;return null!==(t=e.zIndex)&&void 0!==t?t:0}),e=>e.style("facet",r).style("fill","transparent").style("zIndex",e=>{var t;return null!==(t=e.zIndex)&&void 0!==t?t:0}),e=>e.remove()),e.select(gq(uc)).node()||e.append("g").attr("className",uc).style("zIndex",0))}function gq(...e){return e.map(e=>`.${e}`).join("")}function g$(e,t){e.node()&&e.style("clipPath",e=>{if(!t)return null;let{paddingTop:r,paddingLeft:n,marginLeft:i,marginTop:o,innerWidth:a,innerHeight:s}=e;return new $.UL({style:{x:n+i,y:r+o,width:a,height:s}})})}function gH(e,t={},r=!1){let{canvas:n,emitter:i}=t;n&&(function(e){let t=e.getRoot().querySelectorAll(`.${ud}`);null==t||t.forEach(e=>{let{nameInteraction:t=new Map}=e;(null==t?void 0:t.size)>0&&Array.from(null==t?void 0:t.values()).forEach(e=>{null==e||e.destroy()})})}(n),r?n.destroy():n.destroyChildren()),i.off()}let gG=e=>e?parseInt(e):0;function gY(e,t){let r=[e];for(;r.length;){let e=r.shift();for(let n of(t&&t(e),e.children||[]))r.push(n)}}class gK{constructor(e={},t){this.parentNode=null,this.children=[],this.index=0,this.type=t,this.value=e}map(e=e=>e){let t=e(this.value);return this.value=t,this}attr(e,t){return 1==arguments.length?this.value[e]:this.map(r=>(r[e]=t,r))}append(e){let t=new e({});return t.children=[],this.push(t),t}push(e){return e.parentNode=this,e.index=this.children.length,this.children.push(e),this}remove(){let e=this.parentNode;if(e){let{children:t}=e,r=t.findIndex(e=>e===this);t.splice(r,1)}return this}getNodeByKey(e){let t=null;return gY(this,r=>{e===r.attr("key")&&(t=r)}),t}getNodesByType(e){let t=[];return gY(this,r=>{e===r.type&&t.push(r)}),t}getNodeByType(e){let t=null;return gY(this,r=>{t||e!==r.type||(t=r)}),t}call(e,...t){return e(this.map(),...t),this}getRoot(){let e=this;for(;e&&e.parentNode;)e=e.parentNode;return e}}var gX=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let gQ=["width","height","depth","padding","paddingLeft","paddingRight","paddingBottom","paddingTop","inset","insetLeft","insetRight","insetTop","insetBottom","margin","marginLeft","marginRight","marginTop","marginBottom","autoFit","theme","title"],gJ="__remove__",g0="__callback__";function g1(e){return Object.assign(Object.assign({},e.value),{type:e.type})}function g2(e,t){let{width:r=640,height:n=480,autoFit:i,depth:o=0}=e,a=r,s=n;if(i){let{width:e,height:r}=function(e){let t=getComputedStyle(e),r=e.clientWidth||gG(t.width),n=e.clientHeight||gG(t.height);return{width:r-(gG(t.paddingLeft)+gG(t.paddingRight)),height:n-(gG(t.paddingTop)+gG(t.paddingBottom))}}(t);a=e||a,s=r||s}return{width:Math.max((0,Y.Z)(a)?a:1,1),height:Math.max((0,Y.Z)(s)?s:1,1),depth:o}}function g5(e){return t=>{for(let[r,n]of Object.entries(e)){let{type:e}=n;"value"===e?function(e,t,{key:r=t}){e.prototype[t]=function(e){return 0==arguments.length?this.attr(r):this.attr(r,e)}}(t,r,n):"array"===e?function(e,t,{key:r=t}){e.prototype[t]=function(e){if(0==arguments.length)return this.attr(r);if(Array.isArray(e))return this.attr(r,e);let t=[...this.attr(r)||[],e];return this.attr(r,t)}}(t,r,n):"object"===e?function(e,t,{key:r=t}){e.prototype[t]=function(e,t){if(0==arguments.length)return this.attr(r);if(1==arguments.length&&"string"!=typeof e)return this.attr(r,e);let n=this.attr(r)||{};return n[e]=1==arguments.length||t,this.attr(r,n)}}(t,r,n):"node"===e?function(e,t,{ctor:r}){e.prototype[t]=function(e){let n=this.append(r);return"mark"===t&&(n.type=e),n}}(t,r,n):"container"===e?function(e,t,{ctor:r}){e.prototype[t]=function(){return this.type=null,this.append(r)}}(t,r,n):"mix"===e&&function(e,t,r){e.prototype[t]=function(e){if(0==arguments.length)return this.attr(t);if(Array.isArray(e))return this.attr(t,{items:e});if(ta(e)&&(void 0!==e.title||void 0!==e.items)||null===e||!1===e)return this.attr(t,e);let r=this.attr(t)||{},{items:n=[]}=r;return n.push(e),r.items=n,this.attr(t,r)}}(t,r,0)}return t}}function g4(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,{type:"node",ctor:t}]))}let g3={encode:{type:"object"},scale:{type:"object"},data:{type:"value"},transform:{type:"array"},style:{type:"object"},animate:{type:"object"},coordinate:{type:"object"},interaction:{type:"object"},label:{type:"array",key:"labels"},axis:{type:"object"},legend:{type:"object"},slider:{type:"object"},scrollbar:{type:"object"},state:{type:"object"},layout:{type:"object"},theme:{type:"object"},title:{type:"value"}},g6=Object.assign(Object.assign({},g3),{tooltip:{type:"mix"},viewStyle:{type:"object"}}),g8=Object.assign(Object.assign({},g3),{labelTransform:{type:"array"}}),g9=class extends gK{changeData(e){var t;let r=this.getRoot();if(r)return this.attr("data",e),(null===(t=this.children)||void 0===t?void 0:t.length)&&this.children.forEach(t=>{t.attr("data",e)}),null==r?void 0:r.render()}getView(){let{views:e}=this.getRoot().getContext();if(null==e?void 0:e.length)return e.find(e=>e.key===this._key)}getScale(){var e;return null===(e=this.getView())||void 0===e?void 0:e.scale}getScaleByChannel(e){let t=this.getScale();if(t)return t[e]}getCoordinate(){var e;return null===(e=this.getView())||void 0===e?void 0:e.coordinate}getTheme(){var e;return null===(e=this.getView())||void 0===e?void 0:e.theme}getGroup(){let e=this._key;if(e)return this.getRoot().getContext().canvas.getRoot().getElementById(e)}show(){let e=this.getGroup();e&&(e.isVisible()||u_(e))}hide(){let e=this.getGroup();e&&e.isVisible()&&uv(e)}};g9=function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}([g5(g8)],g9);let g7=class extends gK{changeData(e){let t=this.getRoot();if(t)return this.attr("data",e),null==t?void 0:t.render()}getMark(){var e;let t=null===(e=this.getRoot())||void 0===e?void 0:e.getView();if(!t)return;let{markState:r}=t,n=Array.from(r.keys()).find(e=>e.key===this.attr("key"));return r.get(n)}getScale(){var e;let t=null===(e=this.getRoot())||void 0===e?void 0:e.getView();if(t)return null==t?void 0:t.scale}getScaleByChannel(e){var t,r;let n=null===(t=this.getRoot())||void 0===t?void 0:t.getView();if(n)return null===(r=null==n?void 0:n.scale)||void 0===r?void 0:r[e]}getGroup(){let e=this.attr("key");if(e)return this.getRoot().getContext().canvas.getRoot().getElementById(e)}};g7=function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}([g5(g6)],g7);let me={};var mt=function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},mr=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class mn extends g9{constructor(e){let{container:t,canvas:r,renderer:n,plugins:i,lib:o}=e;super(mr(e,["container","canvas","renderer","plugins","lib"]),"view"),this._hasBindAutoFit=!1,this._rendering=!1,this._trailing=!1,this._trailingResolve=null,this._trailingReject=null,this._previousDefinedType=null,this._onResize=(0,sW.Z)(()=>{this.forceFit()},300),this._renderer=n||new br,this._plugins=i||[],this._container=function(e){if(void 0===e){let e=document.createElement("div");return e[gJ]=!0,e}return"string"==typeof e?document.getElementById(e):e}(t),this._emitter=new ba.Z,this._context={library:Object.assign(Object.assign({},o),me),emitter:this._emitter,canvas:r},this._create()}render(){let e,t;if(this._rendering)return this._addToTrailing();this._context.canvas||this._createCanvas(),this._context.canvas.getConfig().supportsCSSTransform=!0,this._bindAutoFit(),this._rendering=!0;let r=new Promise((e,t)=>(function(e,t={},r=()=>{},n=e=>{throw e}){var i;let{width:o=640,height:a=480,depth:s=0}=e,l=function(e){let t=(0,P.Z)({},e),r=new Map([[t,null]]),n=new Map([[null,-1]]),i=[t];for(;i.length;){let e=i.shift();if(void 0===e.key){let t=r.get(e),i=n.get(e),o=null===t?"0":`${t.key}-${i}`;e.key=o}let{children:t=[]}=e;if(Array.isArray(t))for(let o=0;o<t.length;o++){let a=(0,P.Z)({},t[o]);t[o]=a,r.set(a,e),n.set(a,o),i.push(a)}}return t}(e),{canvas:u=function(e,t){let r=new br;return r.registerPlugin(new bo),new $.Xz({width:e,height:t,container:document.createElement("div"),renderer:r})}(o,a),emitter:c=new ba.Z,library:f}=t;t.canvas=u,t.emitter=c;let{width:d,height:p}=u.getConfig();(d!==o||p!==a)&&u.resize(o,a),c.emit(u6.BEFORE_RENDER);let h=tl(u.document.documentElement);return u.ready.then(()=>(function e(t,r,n,i){var o,a;return gj(this,void 0,void 0,function*(){let[s]=bD("composition",n),[l]=bD("interaction",n),u=new Set(Object.keys(n).map(e=>{var t;return null===(t=/mark\.(.*)/.exec(e))||void 0===t?void 0:t[1]}).filter(tt)),c=new Set(Object.keys(n).map(e=>{var t;return null===(t=/component\.(.*)/.exec(e))||void 0===t?void 0:t[1]}).filter(tt)),f=e=>{let{type:t}=e;if("function"==typeof t){let{props:e={}}=t,{composite:r=!0}=e;if(r)return"mark"}return"string"!=typeof t?t:u.has(t)||c.has(t)?"mark":t},d=e=>"mark"===f(e),p=e=>"standardView"===f(e),h=e=>{let{type:t}=e;return"string"==typeof t&&!!c.has(t)},y=e=>p(e)?[e]:s({type:f(e),static:h(e)})(e),b=[],g=new Map,m=new Map,v=[t],_=[];for(;v.length;){let e=v.shift();if(p(e)){let t=m.get(e),[r,i]=t?gM(t,e,n):yield gC(e,n);g.set(r,e),b.push(r);let o=i.flatMap(y).map(e=>bB(e,n));if(v.push(...o),o.every(p)){let e=yield Promise.all(o.map(e=>gA(e,n)));!function(e){let t=e.flatMap(e=>Array.from(e.values())).flatMap(e=>e.channels.map(e=>e.scale));bK(t,"x"),bK(t,"y")}(e);for(let t=0;t<o.length;t++){let r=o[t],n=e[t];m.set(r,n)}}}else{let t=y(d(e)?e:yield gU(e,n));Array.isArray(t)?v.push(...t):"function"==typeof t&&_.push(t())}}i.emitter.emit(u6.BEFORE_PAINT);let O=new Map,w=new Map,S=[];r.selectAll(gq(ud)).data(b,e=>e.key).join(e=>e.append("g").attr("className",ud).attr("id",e=>e.key).call(gk).each(function(e,t,r){gI(e,tl(r),S,n,i),O.set(e,r)}),e=>e.call(gk).each(function(e,t,r){gI(e,tl(r),S,n,i),w.set(e,r)}),e=>e.each(function(e,t,r){for(let e of r.nameInteraction.values())e.destroy()}).remove());let E=t=>Array.from(t.entries()).map(([t,r])=>{let o=new Map,a=g.get(t),s=function(t,r,n,i){let o=function(e){let[,t]=bD("interaction",e);return e=>{let[r,n]=e;try{return[r,t(r)]}catch(e){return[r,n.type]}}}(n),a=gB(r).map(o).filter(e=>e[1]&&e[1].props&&e[1].props.reapplyWhenUpdate).map(e=>e[0]);return(r,o)=>gj(this,void 0,void 0,function*(){let[s,l]=yield gC(r,n);for(let e of(gI(s,t,[],n,i),a.filter(e=>e!==o)))!function(e,t,r,n,i,o){var a;let[s]=bD("interaction",i),l=t.node().nameInteraction,u=gB(r).find(([t])=>t===e),c=l.get(e);if(!c||(null===(a=c.destroy)||void 0===a||a.call(c),!u[1]))return;let f=gR(n,e,u[1],s)({options:r,view:n,container:t.node(),update:e=>Promise.resolve(e)},[],o.emitter);l.set(e,{destroy:f})}(e,t,r,s,n,i);for(let r of l)e(r,t,n,i);return{options:r,view:s}})}(tl(r),a,n,i);return{view:t,container:r,options:a,setState:(e,t=e=>e)=>o.set(e,t),update:e=>gj(this,void 0,void 0,function*(){let t=e8(Array.from(o.values()))(a);return yield s(t,e)})}}),x=E(O);for(let e of x){let{options:t}=e,r=new Map;for(let n of(e.container.nameInteraction=r,gB(t))){let[t,o]=n;if(o){let n=gR(e.view,t,o,l)(e,x,i.emitter);r.set(t,{destroy:n})}}}let P=E(w);for(let e of P){let{options:t,container:r}=e,n=r.nameInteraction;for(let r of gB(t)){let[t,a]=r,s=n.get(t);if(s&&(null===(o=s.destroy)||void 0===o||o.call(s)),a){let r=gR(e.view,t,a,l)(e,P,i.emitter);n.set(t,{destroy:r})}}}let{width:j,height:T}=t,k=[];for(let t of _){let o=new Promise(o=>gj(this,void 0,void 0,function*(){for(let o of t){let t=Object.assign({width:j,height:T},o);yield e(t,r,n,i)}o()}));k.push(o)}return i.views=b,null===(a=i.animations)||void 0===a||a.forEach(e=>null==e?void 0:e.cancel()),i.animations=S,i.emitter.emit(u6.AFTER_PAINT),Promise.all([...S.filter(tt).map(gz).map(e=>e.finished),...k])})})(Object.assign(Object.assign({},l),{width:o,height:a,depth:s}),h,f,t)).then(()=>{if(s){let[e,t]=u.document.documentElement.getPosition();u.document.documentElement.setPosition(e,t,-s/2)}u.requestAnimationFrame(()=>{c.emit(u6.AFTER_RENDER),null==r||r()})}).catch(e=>{null==n||n(e)}),"string"==typeof(i=u.getConfig().container)?document.getElementById(i):i})(this._computedOptions(),this._context,this._createResolve(e),this._createReject(t))),[n,i,o]=[new Promise((r,n)=>{t=r,e=n}),t,e];return r.then(i).catch(o).then(()=>this._renderTrailing()),n}options(e){if(0==arguments.length)return function(e){let t=function(e){if(null!==e.type)return e;let t=e.children[e.children.length-1];for(let r of gQ)t.attr(r,e.attr(r));return t}(e),r=[t],n=new Map;for(n.set(t,g1(t));r.length;){let e=r.pop(),t=n.get(e),{children:i=[]}=e;for(let e of i)if(e.type===g0)t.children=e.value;else{let i=g1(e),{children:o=[]}=t;o.push(i),r.push(e),n.set(e,i),t.children=o}}return n.get(t)}(this);let{type:t}=e;return t&&(this._previousDefinedType=t),!function(e,t,r,n,i){let o=function(e,t,r,n){let{type:i}=e,{type:o=r||i}=t;if("view"===o||!("function"==typeof o||new Set(Object.keys(n)).has(o)))return t;let a={type:"view"},s=Object.assign({},t);for(let e of gQ)void 0!==s[e]&&(a[e]=s[e],delete s[e]);return Object.assign(Object.assign({},a),{children:[s]})}(e,t,r,n),a=[[null,e,o]];for(;a.length;){let[e,t,r]=a.shift();if(t){if(r){!function(e,t){let{type:r,children:n}=t,i=gX(t,["type","children"]);e.type===r||void 0===r?function e(t,r,n=5,i=0){if(!(i>=n)){for(let o of Object.keys(r)){let a=r[o];(0,e3.Z)(a)&&(0,e3.Z)(t[o])?e(t[o],a,n,i+1):t[o]=a}return t}}(e.value,i):"string"==typeof r&&(e.type=r,e.value=i)}(t,r);let{children:e}=r,{children:n}=t;if(Array.isArray(e)&&Array.isArray(n)){let r=Math.max(e.length,n.length);for(let i=0;i<r;i++){let r=e[i],o=n[i];a.push([t,o,r])}}else"function"==typeof e&&a.push([t,null,e])}else t.remove()}else!function(e,t,r,n){if(!e)return;let i=[[e,t]];for(;i.length;){let[e,t]=i.shift(),o=function(e,t,r){if("function"==typeof e){let t=new gK;return t.value=e,t.type=g0,t}let{type:n,children:i}=e,o=gX(e,["type","children"]),a=new(function(e,t,r){if("function"==typeof e)return t.mark;let n=Object.assign(Object.assign({},t),r)[e];if(!n)throw Error(`Unknown mark: ${e}.`);return n}(n,t,r));return a.value=o,a.type=n,a}(t,r,n);Array.isArray(e.children)&&e.push(o);let{children:a}=t;if(Array.isArray(a))for(let e of a)i.push([o,e]);else"function"==typeof a&&i.push([o,a])}}(e,r,n,i)}}(this,e,this._previousDefinedType,this._marks,this._compositions),this}getContainer(){return this._container}getContext(){return this._context}on(e,t,r){return this._emitter.on(e,t,r),this}once(e,t){return this._emitter.once(e,t),this}emit(e,...t){return this._emitter.emit(e,...t),this}off(e,t){return this._emitter.off(e,t),this}clear(){let e=this.options();this.emit(u6.BEFORE_CLEAR),this._reset(),gH(e,this._context,!1),this.emit(u6.AFTER_CLEAR)}destroy(){let e=this.options();this.emit(u6.BEFORE_DESTROY),this._unbindAutoFit(),this._reset(),gH(e,this._context,!0),this._container[gJ]&&function(e){let t=e.parentNode;t&&t.removeChild(e)}(this._container),this.emit(u6.AFTER_DESTROY)}forceFit(){this.options.autoFit=!0;let{width:e,height:t}=g2(this.options(),this._container);if(e===this._width&&t===this._height)return Promise.resolve(this);this.emit(u6.BEFORE_CHANGE_SIZE);let r=this.render();return r.then(()=>{this.emit(u6.AFTER_CHANGE_SIZE)}),r}changeSize(e,t){if(e===this._width&&t===this._height)return Promise.resolve(this);this.emit(u6.BEFORE_CHANGE_SIZE),this.attr("width",e),this.attr("height",t);let r=this.render();return r.then(()=>{this.emit(u6.AFTER_CHANGE_SIZE)}),r}_create(){let{library:e}=this._context,t=["mark.mark",...Object.keys(e).filter(e=>e.startsWith("mark.")||"component.axisX"===e||"component.axisY"===e||"component.legends"===e)];for(let e of(this._marks={},t)){let t=e.split(".").pop();class r extends g7{constructor(){super({},t)}}this._marks[t]=r,this[t]=function(e){let n=this.append(r);return"mark"===t&&(n.type=e),n}}let r=["composition.view",...Object.keys(e).filter(e=>e.startsWith("composition.")&&"composition.mark"!==e)];for(let e of(this._compositions=Object.fromEntries(r.map(e=>{let t=e.split(".").pop(),r=class extends g9{constructor(){super({},t)}};return[t,r=mt([g5(g4(this._marks))],r)]})),Object.values(this._compositions)))g5(g4(this._compositions))(e);for(let e of r){let t=e.split(".").pop();this[t]=function(){let e=this._compositions[t];return this.type=null,this.append(e)}}}_reset(){let e=["theme","type","width","height","autoFit"];this.type="view",this.value=Object.fromEntries(Object.entries(this.value).filter(([t])=>t.startsWith("margin")||t.startsWith("padding")||t.startsWith("inset")||e.includes(t))),this.children=[]}_renderTrailing(){this._trailing&&(this._trailing=!1,this.render().then(()=>{let e=this._trailingResolve.bind(this);this._trailingResolve=null,e(this)}).catch(e=>{let t=this._trailingReject.bind(this);this._trailingReject=null,t(e)}))}_createResolve(e){return()=>{this._rendering=!1,e(this)}}_createReject(e){return t=>{this._rendering=!1,e(t)}}_computedOptions(){let e=this.options(),{key:t="G2_CHART_KEY"}=e,{width:r,height:n,depth:i}=g2(e,this._container);return this._width=r,this._height=n,this._key=t,Object.assign(Object.assign({key:this._key},e),{width:r,height:n,depth:i})}_createCanvas(){let{width:e,height:t}=g2(this.options(),this._container);this._plugins.push(new bo),this._plugins.forEach(e=>this._renderer.registerPlugin(e)),this._context.canvas=new $.Xz({container:this._container,width:e,height:t,renderer:this._renderer})}_addToTrailing(){var e;return null===(e=this._trailingResolve)||void 0===e||e.call(this,this),this._trailing=!0,new Promise((e,t)=>{this._trailingResolve=e,this._trailingReject=t})}_bindAutoFit(){let{autoFit:e}=this.options();if(this._hasBindAutoFit){e||this._unbindAutoFit();return}e&&(this._hasBindAutoFit=!0,window.addEventListener("resize",this._onResize))}_unbindAutoFit(){this._hasBindAutoFit&&(this._hasBindAutoFit=!1,window.removeEventListener("resize",this._onResize))}}$.GZ.enableCSSParsing=!1;let mi=function(e,t){class r extends e{constructor(e){super(Object.assign(Object.assign({},e),{lib:t}))}}return r}(mn,Object.assign({},Object.assign(Object.assign(Object.assign(Object.assign({},{"composition.geoView":py,"composition.geoPath":pg}),{"data.arc":hc,"data.cluster":pM,"mark.forceGraph":pk,"mark.tree":pF,"mark.pack":pH,"mark.sankey":hi,"mark.chord":hb,"mark.treemap":hk}),{"data.venn":yv,"mark.boxplot":hB,"mark.gauge":hq,"mark.wordCloud":yt,"mark.liquid":yu}),{"data.fetch":dk,"data.inline":dC,"data.sortBy":dA,"data.sort":dR,"data.filter":dI,"data.pick":dN,"data.rename":dL,"data.fold":dD,"data.slice":dz,"data.custom":dF,"data.map":dB,"data.join":dW,"data.kde":dq,"data.log":d$,"transform.stackY":fR,"transform.binX":fX,"transform.bin":fK,"transform.dodgeX":fJ,"transform.jitter":f1,"transform.jitterX":f2,"transform.jitterY":f5,"transform.symmetryY":f3,"transform.diffY":f6,"transform.stackEnter":f8,"transform.normalizeY":de,"transform.select":da,"transform.selectX":dl,"transform.selectY":dc,"transform.groupX":dp,"transform.groupY":dh,"transform.groupColor":dy,"transform.group":dd,"transform.sortX":dv,"transform.sortY":d_,"transform.sortColor":dO,"transform.flexX":dw,"transform.pack":dS,"transform.sample":dx,"transform.filter":dP,"coordinate.cartesian":f,"coordinate.polar":p,"coordinate.transpose":h,"coordinate.theta":b,"coordinate.parallel":g,"coordinate.fisheye":m,"coordinate.radial":_,"coordinate.radar":O,"encode.constant":w,"encode.field":S,"encode.transform":E,"encode.column":x,"mark.interval":rn,"mark.rect":ro,"mark.line":rk,"mark.point":nv,"mark.text":nQ,"mark.cell":n1,"mark.area":io,"mark.link":iv,"mark.image":iS,"mark.polygon":ik,"mark.box":iN,"mark.vector":iD,"mark.lineX":iW,"mark.lineY":iq,"mark.connector":iK,"mark.range":i0,"mark.rangeX":i5,"mark.rangeY":i6,"mark.path":or,"mark.shape":oa,"mark.density":oc,"mark.heatmap":ov,"palette.category10":o_,"palette.category20":oO,"scale.linear":ow,"scale.ordinal":oE,"scale.band":oP,"scale.identity":oT,"scale.point":oC,"scale.time":oR,"scale.log":oI,"scale.pow":oL,"scale.sqrt":oz,"scale.threshold":oB,"scale.quantile":oW,"scale.quantize":oV,"scale.sequential":o$,"scale.constant":oG,"theme.classic":oQ,"theme.classicDark":o1,"theme.academy":o5,"theme.light":oX,"theme.dark":o0,"component.axisX":sz,"component.axisY":sF,"component.legendCategory":s8,"component.legendContinuous":lv,"component.legends":l_,"component.title":lE,"component.sliderX":lY,"component.sliderY":lK,"component.scrollbarX":l0,"component.scrollbarY":l1,"animation.scaleInX":l2,"animation.scaleOutX":(e,t)=>{let{coordinate:r}=t;return(t,n,i)=>{let[o]=t,{transform:a="",fillOpacity:s=1,strokeOpacity:l=1,opacity:u=1}=o.style,[c,f]=D(r)?["left bottom","scale(1, 0.0001)"]:["left top","scale(0.0001, 1)"],d=[{transform:`${a} scale(1, 1)`.trimStart(),transformOrigin:c},{transform:`${a} ${f}`.trimStart(),transformOrigin:c,fillOpacity:s,strokeOpacity:l,opacity:u,offset:.99},{transform:`${a} ${f}`.trimStart(),transformOrigin:c,fillOpacity:0,strokeOpacity:0,opacity:0}];return o.animate(d,Object.assign(Object.assign({},i),e))}},"animation.scaleInY":l5,"animation.scaleOutY":(e,t)=>{let{coordinate:r}=t;return(t,n,i)=>{let[o]=t,{transform:a="",fillOpacity:s=1,strokeOpacity:l=1,opacity:u=1}=o.style,[c,f]=D(r)?["left top","scale(0.0001, 1)"]:["left bottom","scale(1, 0.0001)"],d=[{transform:`${a} scale(1, 1)`.trimStart(),transformOrigin:c},{transform:`${a} ${f}`.trimStart(),transformOrigin:c,fillOpacity:s,strokeOpacity:l,opacity:u,offset:.99},{transform:`${a} ${f}`.trimStart(),transformOrigin:c,fillOpacity:0,strokeOpacity:0,opacity:0}];return o.animate(d,Object.assign(Object.assign({},i),e))}},"animation.waveIn":l4,"animation.fadeIn":l3,"animation.fadeOut":l6,"animation.zoomIn":e=>(t,r,n)=>{let[i]=t,{transform:o="",fillOpacity:a=1,strokeOpacity:s=1,opacity:l=1}=i.style,u="center center",c=[{transform:`${o} scale(0.0001)`.trimStart(),transformOrigin:u,fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${o} scale(0.0001)`.trimStart(),transformOrigin:u,fillOpacity:a,strokeOpacity:s,opacity:l,offset:.01},{transform:`${o} scale(1)`.trimStart(),transformOrigin:u,fillOpacity:a,strokeOpacity:s,opacity:l}];return i.animate(c,Object.assign(Object.assign({},n),e))},"animation.zoomOut":e=>(t,r,n)=>{let[i]=t,{transform:o="",fillOpacity:a=1,strokeOpacity:s=1,opacity:l=1}=i.style,u="center center",c=[{transform:`${o} scale(1)`.trimStart(),transformOrigin:u},{transform:`${o} scale(0.0001)`.trimStart(),transformOrigin:u,fillOpacity:a,strokeOpacity:s,opacity:l,offset:.99},{transform:`${o} scale(0.0001)`.trimStart(),transformOrigin:u,fillOpacity:0,strokeOpacity:0,opacity:0}];return i.animate(c,Object.assign(Object.assign({},n),e))},"animation.pathIn":l8,"animation.morphing":ua,"animation.growInX":us,"animation.growInY":ul,"interaction.elementHighlight":uW,"interaction.elementHighlightByX":uZ,"interaction.elementHighlightByColor":uV,"interaction.elementSelect":u$,"interaction.elementSelectByX":uH,"interaction.elementSelectByColor":uG,"interaction.fisheye":function({wait:e=30,leading:t,trailing:r=!1}){return n=>{let{options:i,update:o,setState:a,container:s}=n,l=ux(s),u=(0,uY.Z)(e=>{let t=uj(l,e);if(!t){a("fisheye"),o();return}a("fisheye",e=>{let r=(0,P.Z)({},e,{interaction:{tooltip:{preserve:!0}}});for(let e of r.marks)e.animate=!1;let[n,i]=t,o=function(e){let{coordinate:t={}}=e,{transform:r=[]}=t,n=r.find(e=>"fisheye"===e.type);if(n)return n;let i={type:"fisheye"};return r.push(i),t.transform=r,e.coordinate=t,i}(r);return o.focusX=n,o.focusY=i,o.visual=!0,r}),o()},e,{leading:t,trailing:r});return l.addEventListener("pointerenter",u),l.addEventListener("pointermove",u),l.addEventListener("pointerleave",u),()=>{l.removeEventListener("pointerenter",u),l.removeEventListener("pointermove",u),l.removeEventListener("pointerleave",u)}}},"interaction.chartIndex":uQ,"interaction.tooltip":cb,"interaction.legendFilter":function(){return(e,t,r)=>{let{container:n}=e,i=t.filter(t=>t!==e),o=i.length>0,a=e=>cS(e).scales.map(e=>e.name),s=[...cw(n),...n.getElementsByClassName("legend-continuous")],l=s.flatMap(a),u=o?(0,uY.Z)(cx,50,{trailing:!0}):(0,uY.Z)(cE,50,{trailing:!0}),c=s.map(t=>{let{name:s,domain:c}=cS(t).scales[0],f=a(t),d={legend:t,channel:s,channels:f,allChannels:l};return t.className===cm?function(e,{legends:t,marker:r,label:n,datum:i,filter:o,emitter:a,channel:s,state:l={}}){let u=new Map,c=new Map,f=new Map,{unselected:d={markerStroke:"#aaa",markerFill:"#aaa",labelFill:"#aaa"}}=l,p={unselected:tr(d,"marker")},h={unselected:tr(d,"label")},{setState:y,removeState:b}=uR(p,void 0),{setState:g,removeState:m}=uR(h,void 0),v=Array.from(t(e)),_=v.map(i),O=()=>{for(let e of v){let t=i(e),o=r(e),a=n(e);_.includes(t)?(b(o,"unselected"),m(a,"unselected")):(y(o,"unselected"),g(a,"unselected"))}};for(let t of v){let r=()=>{uF(e,"pointer")},n=()=>{uF(e,e.cursor)},l=e=>cg(this,void 0,void 0,function*(){let r=i(t),n=_.indexOf(r);-1===n?_.push(r):_.splice(n,1),0===_.length&&_.push(...v.map(i)),yield o(_),O();let{nativeEvent:l=!0}=e;l&&(_.length===v.length?a.emit("legend:reset",{nativeEvent:l}):a.emit("legend:filter",Object.assign(Object.assign({},e),{nativeEvent:l,data:{channel:s,values:_}})))});t.addEventListener("click",l),t.addEventListener("pointerenter",r),t.addEventListener("pointerout",n),u.set(t,l),c.set(t,r),f.set(t,n)}let w=e=>cg(this,void 0,void 0,function*(){let{nativeEvent:t}=e;if(t)return;let{data:r}=e,{channel:n,values:i}=r;n===s&&(_=i,yield o(_),O())}),S=e=>cg(this,void 0,void 0,function*(){let{nativeEvent:t}=e;t||(_=v.map(i),yield o(_),O())});return a.on("legend:filter",w),a.on("legend:reset",S),()=>{for(let e of v)e.removeEventListener("click",u.get(e)),e.removeEventListener("pointerenter",c.get(e)),e.removeEventListener("pointerout",f.get(e)),a.off("legend:filter",w),a.off("legend:reset",S)}}(n,{legends:cO,marker:cv,label:c_,datum:e=>{let{__data__:t}=e,{index:r}=t;return c[r]},filter:t=>{let r=Object.assign(Object.assign({},d),{value:t,ordinal:!0});o?u(i,r):u(e,r)},state:t.attributes.state,channel:s,emitter:r}):function(e,{legend:t,filter:r,emitter:n,channel:i}){let o=({detail:{value:e}})=>{r(e),n.emit({nativeEvent:!0,data:{channel:i,values:e}})};return t.addEventListener("valuechange",o),()=>{t.removeEventListener("valuechange",o)}}(0,{legend:t,filter:t=>{let r=Object.assign(Object.assign({},d),{value:t,ordinal:!1});o?u(i,r):u(e,r)},emitter:r,channel:s})});return()=>{c.forEach(e=>e())}}},"interaction.legendHighlight":function(){return(e,t,r)=>{let{container:n,view:i,options:o}=e,a=cw(n),s=uw(n),l=e=>cS(e).scales[0].name,u=e=>{let{scale:{[e]:t}}=i;return t},c=uI(o,["active","inactive"]),f=uN(s,uA(i)),d=[];for(let e of a){let t=t=>{let{data:r}=e.attributes,{__data__:n}=t,{index:i}=n;return r[i].label},n=l(e),i=cO(e),o=u(n),a=(0,e5.ZP)(s,e=>o.invert(e.__data__[n])),{state:p={}}=e.attributes,{inactive:h={}}=p,{setState:y,removeState:b}=uR(c,f),g={inactive:tr(h,"marker")},m={inactive:tr(h,"label")},{setState:v,removeState:_}=uR(g),{setState:O,removeState:w}=uR(m),S=e=>{for(let t of i){let r=cv(t),n=c_(t);t===e||null===e?(_(r,"inactive"),w(n,"inactive")):(v(r,"inactive"),O(n,"inactive"))}},E=(e,i)=>{let o=t(i),l=new Set(a.get(o));for(let e of s)l.has(e)?y(e,"active"):y(e,"inactive");S(i);let{nativeEvent:u=!0}=e;u&&r.emit("legend:highlight",Object.assign(Object.assign({},e),{nativeEvent:u,data:{channel:n,value:o}}))},x=new Map;for(let e of i){let t=t=>{E(t,e)};e.addEventListener("pointerover",t),x.set(e,t)}let P=e=>{for(let e of s)b(e,"inactive","active");S(null);let{nativeEvent:t=!0}=e;t&&r.emit("legend:unhighlight",{nativeEvent:t})},j=e=>{let{nativeEvent:r,data:o}=e;if(r)return;let{channel:a,value:s}=o;if(a!==n)return;let l=i.find(e=>t(e)===s);l&&E({nativeEvent:!1},l)},T=e=>{let{nativeEvent:t}=e;t||P({nativeEvent:!1})};e.addEventListener("pointerleave",P),r.on("legend:highlight",j),r.on("legend:unhighlight",T);let k=()=>{for(let[t,n]of(e.removeEventListener(P),r.off("legend:highlight",j),r.off("legend:unhighlight",T),x))t.removeEventListener(n)};d.push(k)}return()=>d.forEach(e=>e())}},"interaction.brushHighlight":cR,"interaction.brushXHighlight":function(e){return cR(Object.assign(Object.assign({},e),{brushRegion:cM,selectedHandles:["handle-e","handle-w"]}))},"interaction.brushYHighlight":function(e){return cR(Object.assign(Object.assign({},e),{brushRegion:cI,selectedHandles:["handle-n","handle-s"]}))},"interaction.brushAxisHighlight":function(e){return(t,r,n)=>{let{container:i,view:o,options:a}=t,{x:s,y:l}=ux(i).getBBox(),{coordinate:u}=o;return function(e,t){var{axes:r,elements:n,points:i,horizontal:o,datum:a,offsetY:s,offsetX:l,reverse:u=!1,state:c={},emitter:f,coordinate:d}=t,p=cN(t,["axes","elements","points","horizontal","datum","offsetY","offsetX","reverse","state","emitter","coordinate"]);let h=n(e),y=r(e),{setState:b,removeState:g}=uR(c,uN(h,a)),m=new Map,v=tr(p,"mask"),_=e=>Array.from(m.values()).every(([t,r,n,i])=>e.some(([e,o])=>e>=t&&e<=n&&o>=r&&o<=i)),O=y.map(e=>e.attributes.scale),w=e=>e.length>2?[e[0],e[e.length-1]]:e,S=new Map,E=()=>{S.clear();for(let e=0;e<y.length;e++){let{domain:t}=O[e].getOptions();S.set(e,w(t))}};E();let x=(e,t)=>{let r=[];for(let e of h)_(i(e))?(b(e,"active"),r.push(e)):b(e,"inactive");S.set(e,j(r,e)),t&&f.emit("brushAxis:highlight",{nativeEvent:!0,data:{selection:(()=>{if(!T)return Array.from(S.values());let e=[];for(let[t,r]of S){let{name:n}=O[t].getOptions();"x"===n?e[0]=r:e[1]=r}return e})()}})},P=e=>{for(let e of h)g(e,"active","inactive");E(),e&&f.emit("brushAxis:remove",{nativeEvent:!0})},j=(e,t)=>{let r=O[t],{name:n}=r.getOptions(),i=e.map(e=>{let t=e.__data__;return r.invert(t[n])});return w(lV(r,i))},T=y.some(o)&&y.some(e=>!o(e)),k=[];for(let e=0;e<y.length;e++){let t=y[e],{hotZone:r,brushRegion:n,extent:i}=(o(t)?function(e,t){var{offsetY:r,offsetX:n,cross:i=!1}=t,o=cN(t,["offsetY","offsetX","cross"]);let a=cF(e),[,s]=cz(e).getLocalBounds().min,[l,u]=a.min,[c,f]=a.max,d=f-u;return{brushRegion:cM,hotZone:new $.UL({className:cL,style:Object.assign({x:l,width:c-l,y:i?u:s-d,height:i?d:2*d},o)}),extent:i?(e,t,r,n)=>[e,-1/0,r,1/0]:(e,t,n,i)=>[e,Math.floor(u-r),n,Math.ceil(f-r)]}}:function(e,t){var{cross:r,offsetX:n,offsetY:i}=t,o=cN(t,["cross","offsetX","offsetY"]);let a=cF(e),[s]=cz(e).getLocalBounds().min,[l,u]=a.min,[c,f]=a.max,d=(c-l)*2;return{brushRegion:cI,hotZone:new $.UL({className:cL,style:Object.assign({x:r?l:s-d/2,width:r?d/2:d,y:u,height:f-u},o)}),extent:r?(e,t,r,n)=>[-1/0,t,1/0,n]:(e,t,r,i)=>[Math.floor(l-n),t,Math.ceil(c-n),i]}})(t,{offsetY:s,offsetX:l,cross:T,zIndex:999,fill:"transparent"});t.parentNode.appendChild(r);let a=ck(r,Object.assign(Object.assign({},v),{reverse:u,brushRegion:n,brushended(r){m.delete(t),0===Array.from(m.entries()).length?P(r):x(e,r)},brushed(r,n,o,a,s){m.set(t,i(r,n,o,a)),x(e,s)}}));k.push(a)}let C=(e={})=>{let{nativeEvent:t}=e;t||k.forEach(e=>e.remove(!1))},A=(e,t,r)=>{let[n,i]=e,a=R(n,t,r),s=R(i,t,r)+(t.getStep?t.getStep():0);return o(r)?[a,-1/0,s,1/0]:[-1/0,a,1/0,s]},R=(e,t,r)=>{let{height:n,width:i}=d.getOptions(),a=t.clone();return o(r)?a.update({range:[0,i]}):a.update({range:[n,0]}),a.map(e)},M=e=>{let{nativeEvent:t}=e;if(t)return;let{selection:r}=e.data;for(let e=0;e<k.length;e++){let t=r[e],n=k[e],i=y[e];if(t){let r=O[e];n.move(...A(t,r,i),!1)}else n.remove(!1)}};return f.on("brushAxis:remove",C),f.on("brushAxis:highlight",M),()=>{k.forEach(e=>e.destroy()),f.off("brushAxis:remove",C),f.off("brushAxis:highlight",M)}}(i,Object.assign({elements:uw,axes:cD,offsetY:l,offsetX:s,points:e=>e.__data__.points,horizontal:e=>{let{startPos:[t,r],endPos:[n,i]}=e.attributes;return t!==n&&r===i},datum:uA(o),state:uI(a,["active",["inactive",{opacity:.5}]]),coordinate:u,emitter:n},e))}},"interaction.brushFilter":cU,"interaction.brushXFilter":function(e){return cU(Object.assign(Object.assign({hideX:!0},e),{brushRegion:cM}))},"interaction.brushYFilter":function(e){return cU(Object.assign(Object.assign({hideY:!0},e),{brushRegion:cI}))},"interaction.sliderFilter":cV,"interaction.scrollbarFilter":function(e={}){return(t,r,n)=>{let{view:i,container:o}=t;if(!o.getElementsByClassName(cq).length)return()=>{};let{scale:a}=i,{x:s,y:l}=a,u={x:[...s.getOptions().domain],y:[...l.getOptions().domain]};return s.update({domain:s.getOptions().expectedDomain}),l.update({domain:l.getOptions().expectedDomain}),cV(Object.assign(Object.assign({},e),{initDomain:u,className:cq,prefix:"scrollbar",hasState:!0,setValue:(e,t)=>e.setValue(t[0])}))(t,r,n)}},"interaction.poptip":cK,"composition.spaceLayer":c2,"composition.spaceFlex":c4,"composition.facetRect":fu,"composition.repeatMatrix":()=>e=>[c3.of(e).call(ft).call(c9).call(fd).call(fp).call(c7).call(fe).call(ff).value()],"composition.facetCircle":()=>e=>[c3.of(e).call(ft).call(fg).call(c9).call(fb).call(fr).call(fn,fv,fm,fm,{frame:!1}).call(c7).call(fe).call(fy).value()],"composition.timingKeyframe":f_,"labelTransform.overlapHide":e=>{let{priority:t}=e;return e=>{let r=[];return t&&e.sort(t),e.forEach(e=>{u_(e);let t=e.getLocalBounds();r.some(e=>(function(e,t){let[r,n]=e,[i,o]=t;return r[0]<o[0]&&n[0]>i[0]&&r[1]<o[1]&&n[1]>i[1]})(dH(t),dH(e.getLocalBounds())))?uv(e):r.push(e)}),e}},"labelTransform.overlapDodgeY":e=>{let{maxIterations:t=10,maxError:r=.1,padding:n=1}=e;return e=>{let i=e.length;if(i<=1)return e;let[o,a]=dY(),[s,l]=dY(),[u,c]=dY(),[f,d]=dY();for(let t of e){let{min:e,max:r}=function(e){let t=e.cloneNode(!0),r=t.getElementById("connector");r&&t.removeChild(r);let{min:n,max:i}=t.getRenderBounds();return t.destroy(),{min:n,max:i}}(t),[n,i]=e,[o,s]=r;a(t,i),l(t,i),c(t,s-i),d(t,[n,o])}for(let o=0;o<t;o++){e.sort((e,t)=>(0,fO.Z)(s(e),s(t)));let t=0;for(let r=0;r<i-1;r++){let i;let o=e[r],a=r+1;for(;(i=e[a])&&!function([e,t],[r,n]){return n>e&&t>r}(f(o),f(i));)a+=1;if(i){let e=s(o),r=u(o),a=s(i),c=a-(e+r);if(c<n){let r=(n-c)/2;t=Math.max(t,r),l(o,e-r),l(i,a+r)}}}if(t<r)break}for(let t of e)t.style.y+=s(t)-o(t);return e}},"labelTransform.overflowHide":()=>e=>(e.forEach(e=>{u_(e);let t=e.attr("bounds");(function(e,t){let[r,n]=e;return!(dG(r,t)&&dG(n,t))})(dH(e.getLocalBounds()),t)&&uv(e)}),e),"labelTransform.contrastReverse":e=>{let{threshold:t=4.5,palette:r=["#000","#fff"]}=e;return e=>(e.forEach(e=>{let n=e.attr("dependentElement").parsedStyle.fill;dQ(e.parsedStyle.fill,n)<t&&e.attr("fill",function(e,t){let r=(0,fw.Z)(t,t=>dQ(e,"object"==typeof t?t:(0,$.lu)(t)));return t[r]}(n,r))}),e)}})))},67008:(e,t,r)=>{"use strict";let n=r(52579),i=r(42002),o=r(9686),a=r(41815),s=r(52287),l=r(92140),u=r(9511),c=r(65208),f=r(2208),d=r(83808),p=r(91992),h=r(93767),y=r(15588),b=r(3161),g=r(24695),m=r(12757);e.exports={driver:{RemoteConnection:l.RemoteConnection,RemoteStrategy:l.RemoteStrategy,RemoteTraversal:l.RemoteTraversal,ResponseError:p,DriverRemoteConnection:d,Client:h,ResultSet:y,auth:{Authenticator:b,PlainTextSaslAuthenticator:g}},process:{Bytecode:u,EnumValue:n.EnumValue,P:n.P,TextP:n.TextP,Traversal:n.Traversal,TraversalSideEffects:n.TraversalSideEffects,TraversalStrategies:o.TraversalStrategies,TraversalStrategy:o.TraversalStrategy,Traverser:n.Traverser,barrier:n.barrier,cardinality:n.cardinality,column:n.column,direction:n.direction,dt:n.dt,merge:n.merge,operator:n.operator,order:n.order,pick:n.pick,pop:n.pop,scope:n.scope,t:n.t,GraphTraversal:i.GraphTraversal,GraphTraversalSource:i.GraphTraversalSource,statics:i.statics,Translator:c,traversal:m.traversal,AnonymousTraversalSource:m,withOptions:n.withOptions},structure:{io:s,Edge:a.Edge,Graph:a.Graph,Path:a.Path,Property:a.Property,Vertex:a.Vertex,VertexProperty:a.VertexProperty,toLong:f.toLong}}},3161:e=>{"use strict";class t{constructor(e){this._options=e}evaluateChallenge(e){throw Error("evaluateChallenge should be implemented")}}e.exports=t},13838:e=>{"use strict";class t{constructor(e){this.setopts(e)}get name(){return null}setopts(e){this._options=e}evaluateChallenge(e){throw Error("evaluateChallenge should be implemented")}}e.exports=t},64760:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313),i=r(13838);class o extends i{constructor(e){if(super(e),void 0===this._options.username||null===this._options.username||0===this._options.username.length||void 0===this._options.password||null===this._options.password||0===this._options.password.length)throw Error("Missing credentials for SASL PLAIN mechanism")}get name(){return"PLAIN"}evaluateChallenge(e){return this._hasInitialResponse(e)?Promise.resolve({saslMechanism:this.name,sasl:this._saslArgument(this._options.authzid,this._options.username,this._options.password)}):Promise.resolve({sasl:this._saslArgument(this._options.authzid,this._options.username,this._options.password)})}_saslArgument(e,t,r){return null==e&&(e=""),null==t&&(t=""),(void 0===r||null===r.length)&&(r=""),n.from(`${e}\0${t}\0${r}`).toString("base64")}_hasInitialResponse(e){return null!=e}}e.exports=o},24695:(e,t,r)=>{"use strict";let n=r(3161),i=r(64760);class o extends n{constructor(e,t,r){super({mechanism:new i({username:e,password:t,authzid:r})})}evaluateChallenge(e){return this._options.mechanism.evaluateChallenge(e)}}e.exports=o},93767:(e,t,r)=>{"use strict";let n=r(2208),i=r(70185),o=r(9511);class a{constructor(e,t={}){this._options=t,"session"===this._options.processor&&(this._options.session=t.session||n.getUuid()),this._options.session&&(this._options.processor=t.processor||"session"),this._connection=new i(e,t)}open(){return this._connection.open()}get isOpen(){return this._connection.isOpen}submit(e,t,r){let n=r&&r.requestId;n&&delete r.requestId;let i=Object.assign({gremlin:e,aliases:{g:this._options.traversalSource||"g"}},r);if(this._options.session&&"session"===this._options.processor&&(i.session=this._options.session),e instanceof o)return this._options.session&&"session"===this._options.processor?this._connection.submit("session","bytecode",i,n):this._connection.submit("traversal","bytecode",i,n);if("string"==typeof e)return i.bindings=t,i.language="gremlin-groovy",i.accept=this._connection.mimeType,this._connection.submit(this._options.processor||"","eval",i,n);throw TypeError("message must be of type Bytecode or string")}stream(e,t,r){let n=r&&r.requestId;n&&delete r.requestId;let i=Object.assign({gremlin:e,aliases:{g:this._options.traversalSource||"g"}},r);if(this._options.session&&"session"===this._options.processor&&(i.session=this._options.session),e instanceof o)return this._options.session&&"session"===this._options.processor?this._connection.stream("session","bytecode",i,n):this._connection.stream("traversal","bytecode",i,n);if("string"==typeof e)return i.bindings=t,i.language="gremlin-groovy",i.accept=this._connection.mimeType,this._connection.stream(this._options.processor||"","eval",i,n);throw TypeError("message must be of type Bytecode or string")}close(){if(this._options.session&&"session"===this._options.processor){let e={session:this._options.session};return this._connection.submit(this._options.processor,"close",e,null).then(()=>this._connection.close())}return this._connection.close()}addListener(e,t){this._connection.on(e,t)}removeListener(e,t){this._connection.removeListener(e,t)}}e.exports=a},70185:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313),i=r(60413),o=r(75517),a=r(2208),{DeferredPromise:s}=a,l=r(52287),{graphBinaryReader:u,graphBinaryWriter:c}=r(45622),f=r(15588),d=r(91992),p={noContent:204,partialContent:206,authenticationChallenge:407},h="application/vnd.gremlin-v2.0+json",y="application/vnd.graphbinary-v1.0",b="[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}";class g extends i{constructor(e,t){super(),this.url=e,this.options=t=t||{},this.mimeType=t.mimeType||"application/vnd.gremlin-v3.0+json",this._responseHandlers={},this._reader=t.reader||this.#e(this.mimeType),this._writer=t.writer||this.#t(this.mimeType),this._openPromise=null,this._openCallback=null,this._closePromise=null,this._closeCallback=null,this._header=String.fromCharCode(this.mimeType.length)+this.mimeType,this._header_buf=n.from(this._header),this.isOpen=!1,this.traversalSource=t.traversalSource||"g",this._authenticator=t.authenticator,this._enableUserAgentOnConnect=!1!==t.enableUserAgentOnConnect}async open(){if(this.isOpen)return;if(this._openPromise)return this._openPromise;this._openPromise=s(),this.emit("log","ws open");let e=this.options.headers;this._enableUserAgentOnConnect&&(e||(e=[]),void 0!==await a.getUserAgent()&&(e[a.getUserAgentHeader()]=await a.getUserAgent()));let t=globalThis.WebSocket??(await r.e(8016).then(r.t.bind(r,28016,23))).default;return this._ws=new t(this.url,void 0===globalThis.WebSocket?{headers:e,ca:this.options.ca,cert:this.options.cert,pfx:this.options.pfx,rejectUnauthorized:this.options.rejectUnauthorized,agent:this.options.agent}:void 0),"binaryType"in this._ws&&(this._ws.binaryType="arraybuffer"),this._ws.addEventListener("open",this.#r),this._ws.addEventListener("error",this.#n),this._ws.addEventListener("message",this.#i),this._ws.addEventListener("close",this.#o),await this._openPromise}submit(e,t,r,i){let o=(i||a.getUuid()).toLowerCase();if(!o.match(b))throw Error('Provided requestId "'+o+'" is not a valid UUID.');return this.open().then(()=>new Promise((i,s)=>{"authentication"!==t&&(this._responseHandlers[o]={callback:(e,t)=>e?s(e):i(t),result:null});let l=this._writer.writeRequest({requestId:o,op:t||"bytecode",processor:e||"eval"===t?e:"traversal",args:r||{}}),u=a.toArrayBuffer(n.concat([this._header_buf,l]));this._ws.send(u)}))}stream(e,t,r,i){let s=(i||a.getUuid()).toLowerCase();if(!s.match(b))throw Error('Provided requestId "'+s+'" is not a valid UUID.');let l=new o.Readable({objectMode:!0,read(){}});return this._responseHandlers[s]={callback:e=>e?l.destroy(e):l.push(null),result:l},this.open().then(()=>{let i=this._writer.writeRequest({requestId:s,op:t||"bytecode",processor:e||"eval"===t?e:"traversal",args:r||{}}),o=a.toArrayBuffer(n.concat([this._header_buf,i]));this._ws.send(o)}).catch(e=>l.destroy(e)),l}#e(e){return e===y?u:e===h?new l.GraphSON2Reader:new l.GraphSONReader}#t(e){return e===y?c:e===h?new l.GraphSON2Writer:new l.GraphSONWriter}#r=()=>{this._openPromise.resolve(),this.isOpen=!0};#n=({error:e})=>{this._openPromise.reject(e),this.emit("log",`ws error ${e}`),this.#a(e),this.emit("socketError",e)};#o=({code:e,message:t})=>{this.emit("log",`ws close code=${e} message=${t}`),this.#a(),this._closeCallback&&this._closeCallback(),this.emit("close",e,t)};#i=({data:e})=>{let t=e instanceof ArrayBuffer?n.from(e):e,r=this._reader.readResponse(t);if(null===r.requestId||void 0===r.requestId){Object.keys(this._responseHandlers).forEach(e=>{let t=this._responseHandlers[e];return(this.#s(e),void 0!==r.status&&r.status.message)?t.callback(new d(`Server error (no request information): ${r.status.message} (${r.status.code})`,r.status)):t.callback(new d(`Server error (no request information): ${JSON.stringify(r)}`,r.status))});return}r.requestId=r.requestId.toLowerCase();let i=this._responseHandlers[r.requestId];if(!i)return;if(r.status.code===p.authenticationChallenge&&this._authenticator){this._authenticator.evaluateChallenge(r.result.data).then(e=>this.submit(void 0,"authentication",e,r.requestId)).catch(i.callback);return}if(r.status.code>=400)return i.callback(new d(`Server error: ${r.status.message} (${r.status.code})`,r.status));let s=i.result instanceof o.Readable;switch(r.status.code){case p.noContent:if(this.#s(r.requestId),s)return i.result.push(new f(a.emptyArray,r.status.attributes)),i.callback(null);return i.callback(null,new f(a.emptyArray,r.status.attributes));case p.partialContent:if(s){i.result.push(new f(r.result.data,r.status.attributes));break}i.result=i.result||[],i.result.push.apply(i.result,r.result.data);break;default:if(s)return i.result.push(new f(r.result.data,r.status.attributes)),i.callback(null);return i.result?i.result.push.apply(i.result,r.result.data):i.result=r.result.data,this.#s(r.requestId),i.callback(null,new f(i.result,r.status.attributes))}};#a(e){Object.keys(this._responseHandlers).forEach(t=>{let r=this._responseHandlers[t];if(r.result instanceof o.Readable)r.callback(null);else{let t=e||Error("Connection has been closed.");r.callback(t)}}),this._ws.removeEventListener("open",this.#r),this._ws.removeEventListener("error",this.#n),this._ws.removeEventListener("message",this.#i),this._ws.removeEventListener("close",this.#o),this._openPromise=null,this._closePromise=null,this.isOpen=!1}#s(e){delete this._responseHandlers[e]}close(){return!1===this.isOpen?Promise.resolve():(this._closePromise||(this._closePromise=new Promise(e=>{this._closeCallback=e,this._ws.close()})),this._closePromise)}}e.exports=g},83808:(e,t,r)=>{"use strict";let n=r(92140),i=n.RemoteConnection,o=n.RemoteTraversal,a=r(2208),s=r(93767),l=r(9511),u=r(9686).OptionsStrategy;class c extends i{constructor(e,t={}){super(e,t),this._client=new s(e,t)}open(){return this._client.open()}get isOpen(){return this._client.isOpen}submit(e){let t;let r=e.sourceInstructions.find(e=>"withStrategies"===e[0]&&e[1]instanceof u),n=["evaluationTimeout","scriptEvaluationTimeout","batchSize","requestId","userAgent","materializeProperties"];if(void 0!==r){t={};let e=r[1].configuration;for(let r in e)e.hasOwnProperty(r)&&n.indexOf(r)>-1&&(t[r]=e[r])}return this._client.submit(e,null,t).then(e=>new o(e.toArray()))}createSession(){if(this.isSessionBound)throw Error("Connection is already bound to a session - child sessions are not allowed");let e=Object.assign({},this.options);return e.session=a.getUuid(),new c(this.url,e)}get isSessionBound(){return this.options.session}commit(){return this._client.submit(l.GraphOp.commit,null)}rollback(){return this._client.submit(l.GraphOp.rollback,null)}close(){return this._client.close()}addListener(...e){return this._client.addListener(...e)}removeListener(...e){return this._client.removeListener(...e)}}e.exports=c},92140:(e,t,r)=>{"use strict";let n=r(52579),i=r(9686).TraversalStrategy;class o{constructor(e,t={}){this.url=e,this.options=t}open(){throw Error("open() must be implemented")}get isOpen(){throw Error("isOpen() must be implemented")}get isSessionBound(){return!1}submit(e){throw Error("submit() must be implemented")}createSession(){throw Error("createSession() must be implemented")}commit(){throw Error("commit() must be implemented")}rollback(){throw Error("rollback() must be implemented")}close(){throw Error("close() must be implemented")}}class a extends n.Traversal{constructor(e,t){super(null,null,null),this.traversers=e,this.sideEffects=t}}class s extends i{constructor(e){super("js:RemoteStrategy"),this.connection=e}apply(e){return e.traversers?Promise.resolve():this.connection.submit(e.getBytecode()).then(function(t){e.sideEffects=t.sideEffects,e.traversers=t.traversers})}}e.exports={RemoteConnection:o,RemoteStrategy:s,RemoteTraversal:a}},91992:e=>{"use strict";class t extends Error{constructor(e,t){super(e),this.name="ResponseError",this.statusCode=t.code,this.statusMessage=t.message,this.statusAttributes=t.attributes||{}}}e.exports=t},15588:(e,t,r)=>{"use strict";let n=Object.freeze(new(r(2208)).ImmutableMap);class i{constructor(e,t){if(!Array.isArray(e))throw TypeError("items must be an Array instance");this._items=e,this.attributes=t||n,this.length=e.length}[Symbol.iterator](){return this._items[Symbol.iterator]()}toArray(){return this._items}first(){let e=this._items[0];return void 0!==e?e:null}}e.exports=i},12757:(e,t,r)=>{"use strict";let n=r(42002),i=r(92140),o=r(9686).TraversalStrategies,a=n.GraphTraversalSource,s=n.GraphTraversal,l=r(9511),u=r(41815).Graph;class c{constructor(e,t){this.traversalSourceClass=e,this.traversalClass=t}static traversal(e,t){return new c(e||a,t||s)}with_(e){let t=new o;return t.addStrategy(new i.RemoteStrategy(e)),new this.traversalSourceClass(new u,t,new l,this.traversalSourceClass,this.traversalClass)}withRemote(e){return this.with_(e)}}e.exports=c},9511:(e,t,r)=>{"use strict";let{Traversal:n}=r(52579);class i{constructor(e){e?(this.sourceInstructions=[...e.sourceInstructions],this.stepInstructions=[...e.stepInstructions]):(this.sourceInstructions=[],this.stepInstructions=[])}addSource(e,t){if(void 0===e)throw Error("Name is not defined");let r=Array(t.length+1);r[0]=e;for(let e=0;e<t.length;++e)r[e+1]=t[e];return this.sourceInstructions.push(i._generateInstruction(e,t)),this}addStep(e,t){if(void 0===e)throw Error("Name is not defined");return this.stepInstructions.push(i._generateInstruction(e,t)),this}static _generateInstruction(e,t){let r=(t?t.length:0)+1,i=Array(r);i[0]=e;for(let e=1;e<r;e++){let r=t[e-1];if(r instanceof n&&null!=r.graph)throw Error(`The child traversal of ${r} was not spawned anonymously - use the __ class rather than a TraversalSource to construct the child traversal`);i[e]=r}return i}toString(){return JSON.stringify([this.sourceInstructions,this.stepInstructions])}static _createGraphOp(e,t){let r=new i;return r.addSource(e,t),r}static get GraphOp(){return{commit:i._createGraphOp("tx",["commit"]),rollback:i._createGraphOp("tx",["rollback"])}}}e.exports=i},42002:(e,t,r)=>{"use strict";let{Traversal:n,cardinality:i}=r(52579),{Transaction:o}=r(24614),a=r(9511),{TraversalStrategies:s,VertexProgramStrategy:l,OptionsStrategy:u}=r(9686);class c{constructor(e,t,r,n,i){this.graph=e,this.traversalStrategies=t,this.bytecode=r||new a,this.graphTraversalSourceClass=n||c,this.graphTraversalClass=i||f;let o=t.strategies.find(e=>"js:RemoteStrategy"===e.fqcn);this.remoteConnection=void 0!==o?o.connection:void 0}tx(){if(this.remoteConnection&&this.remoteConnection.isSessionBound)throw Error("This TraversalSource is already bound to a transaction - child transactions are not supported");return new o(this)}withComputer(e,t,r,n,i,o,a){let s={};return void 0!==e&&(s.graphComputer=e),void 0!==t&&(s.workers=t),void 0!==r&&(s.result=r),void 0!==n&&(s.graphComputer=n),void 0!==i&&(s.vertices=i),void 0!==o&&(s.edges=o),void 0!==a&&(s.configuration=a),this.withStrategies(new l(s))}with_(e,t){let r=void 0===t||t,n=this.bytecode.sourceInstructions.find(e=>"withStrategies"===e[0]&&e[1]instanceof u);return void 0===n?(n=new u({[e]:r}),this.withStrategies(n)):(n[1].configuration[e]=r,new this.graphTraversalSourceClass(this.graph,new s(this.traversalStrategies),this.bytecode,this.graphTraversalSourceClass,this.graphTraversalClass))}toString(){return"graphtraversalsource["+this.graph.toString()+"]"}withBulk(...e){let t=new a(this.bytecode).addSource("withBulk",e);return new this.graphTraversalSourceClass(this.graph,new s(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}withPath(...e){let t=new a(this.bytecode).addSource("withPath",e);return new this.graphTraversalSourceClass(this.graph,new s(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}withSack(...e){let t=new a(this.bytecode).addSource("withSack",e);return new this.graphTraversalSourceClass(this.graph,new s(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}withSideEffect(...e){let t=new a(this.bytecode).addSource("withSideEffect",e);return new this.graphTraversalSourceClass(this.graph,new s(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}withStrategies(...e){let t=new a(this.bytecode).addSource("withStrategies",e);return new this.graphTraversalSourceClass(this.graph,new s(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}withoutStrategies(...e){let t=new a(this.bytecode).addSource("withoutStrategies",e);return new this.graphTraversalSourceClass(this.graph,new s(this.traversalStrategies),t,this.graphTraversalSourceClass,this.graphTraversalClass)}E(...e){let t=new a(this.bytecode).addStep("E",e);return new this.graphTraversalClass(this.graph,new s(this.traversalStrategies),t)}V(...e){let t=new a(this.bytecode).addStep("V",e);return new this.graphTraversalClass(this.graph,new s(this.traversalStrategies),t)}addE(...e){let t=new a(this.bytecode).addStep("addE",e);return new this.graphTraversalClass(this.graph,new s(this.traversalStrategies),t)}mergeE(...e){let t=new a(this.bytecode).addStep("mergeE",e);return new this.graphTraversalClass(this.graph,new s(this.traversalStrategies),t)}addV(...e){let t=new a(this.bytecode).addStep("addV",e);return new this.graphTraversalClass(this.graph,new s(this.traversalStrategies),t)}mergeV(...e){let t=new a(this.bytecode).addStep("mergeV",e);return new this.graphTraversalClass(this.graph,new s(this.traversalStrategies),t)}inject(...e){let t=new a(this.bytecode).addStep("inject",e);return new this.graphTraversalClass(this.graph,new s(this.traversalStrategies),t)}io(...e){let t=new a(this.bytecode).addStep("io",e);return new this.graphTraversalClass(this.graph,new s(this.traversalStrategies),t)}call(...e){let t=new a(this.bytecode).addStep("call",e);return new this.graphTraversalClass(this.graph,new s(this.traversalStrategies),t)}union(...e){let t=new a(this.bytecode).addStep("union",e);return new this.graphTraversalClass(this.graph,new s(this.traversalStrategies),t)}}class f extends n{constructor(e,t,r){super(e,t,r)}clone(){return new f(this.graph,this.traversalStrategies,this.getBytecode())}V(...e){return this.bytecode.addStep("V",e),this}E(...e){return this.bytecode.addStep("E",e),this}addE(...e){return this.bytecode.addStep("addE",e),this}addV(...e){return this.bytecode.addStep("addV",e),this}aggregate(...e){return this.bytecode.addStep("aggregate",e),this}all(...e){return this.bytecode.addStep("all",e),this}and(...e){return this.bytecode.addStep("and",e),this}any(...e){return this.bytecode.addStep("any",e),this}as(...e){return this.bytecode.addStep("as",e),this}asDate(...e){return this.bytecode.addStep("asDate",e),this}asString(...e){return this.bytecode.addStep("asString",e),this}barrier(...e){return this.bytecode.addStep("barrier",e),this}both(...e){return this.bytecode.addStep("both",e),this}bothE(...e){return this.bytecode.addStep("bothE",e),this}bothV(...e){return this.bytecode.addStep("bothV",e),this}branch(...e){return this.bytecode.addStep("branch",e),this}by(...e){return this.bytecode.addStep("by",e),this}call(...e){return this.bytecode.addStep("call",e),this}cap(...e){return this.bytecode.addStep("cap",e),this}choose(...e){return this.bytecode.addStep("choose",e),this}coalesce(...e){return this.bytecode.addStep("coalesce",e),this}coin(...e){return this.bytecode.addStep("coin",e),this}combine(...e){return this.bytecode.addStep("combine",e),this}concat(...e){return this.bytecode.addStep("concat",e),this}conjoin(...e){return this.bytecode.addStep("conjoin",e),this}connectedComponent(...e){return this.bytecode.addStep("connectedComponent",e),this}constant(...e){return this.bytecode.addStep("constant",e),this}count(...e){return this.bytecode.addStep("count",e),this}cyclicPath(...e){return this.bytecode.addStep("cyclicPath",e),this}dateAdd(...e){return this.bytecode.addStep("dateAdd",e),this}dateDiff(...e){return this.bytecode.addStep("dateDiff",e),this}dedup(...e){return this.bytecode.addStep("dedup",e),this}difference(...e){return this.bytecode.addStep("difference",e),this}discard(...e){return this.bytecode.addStep("discard",e),this}disjunct(...e){return this.bytecode.addStep("disjunct",e),this}drop(...e){return this.bytecode.addStep("drop",e),this}element(...e){return this.bytecode.addStep("element",e),this}elementMap(...e){return this.bytecode.addStep("elementMap",e),this}emit(...e){return this.bytecode.addStep("emit",e),this}fail(...e){return this.bytecode.addStep("fail",e),this}filter(...e){return this.bytecode.addStep("filter",e),this}flatMap(...e){return this.bytecode.addStep("flatMap",e),this}fold(...e){return this.bytecode.addStep("fold",e),this}format(...e){return this.bytecode.addStep("format",e),this}from_(...e){return this.bytecode.addStep("from",e),this}group(...e){return this.bytecode.addStep("group",e),this}groupCount(...e){return this.bytecode.addStep("groupCount",e),this}has(...e){return this.bytecode.addStep("has",e),this}hasId(...e){return this.bytecode.addStep("hasId",e),this}hasKey(...e){return this.bytecode.addStep("hasKey",e),this}hasLabel(...e){return this.bytecode.addStep("hasLabel",e),this}hasNot(...e){return this.bytecode.addStep("hasNot",e),this}hasValue(...e){return this.bytecode.addStep("hasValue",e),this}id(...e){return this.bytecode.addStep("id",e),this}identity(...e){return this.bytecode.addStep("identity",e),this}in_(...e){return this.bytecode.addStep("in",e),this}inE(...e){return this.bytecode.addStep("inE",e),this}inV(...e){return this.bytecode.addStep("inV",e),this}index(...e){return this.bytecode.addStep("index",e),this}inject(...e){return this.bytecode.addStep("inject",e),this}intersect(...e){return this.bytecode.addStep("intersect",e),this}is(...e){return this.bytecode.addStep("is",e),this}key(...e){return this.bytecode.addStep("key",e),this}label(...e){return this.bytecode.addStep("label",e),this}length(...e){return this.bytecode.addStep("length",e),this}limit(...e){return this.bytecode.addStep("limit",e),this}local(...e){return this.bytecode.addStep("local",e),this}loops(...e){return this.bytecode.addStep("loops",e),this}lTrim(...e){return this.bytecode.addStep("lTrim",e),this}map(...e){return this.bytecode.addStep("map",e),this}match(...e){return this.bytecode.addStep("match",e),this}math(...e){return this.bytecode.addStep("math",e),this}max(...e){return this.bytecode.addStep("max",e),this}mean(...e){return this.bytecode.addStep("mean",e),this}merge(...e){return this.bytecode.addStep("merge",e),this}mergeE(...e){return this.bytecode.addStep("mergeE",e),this}mergeV(...e){return this.bytecode.addStep("mergeV",e),this}min(...e){return this.bytecode.addStep("min",e),this}none(...e){return this.bytecode.addStep("none",e),this}not(...e){return this.bytecode.addStep("not",e),this}option(...e){return this.bytecode.addStep("option",e),this}optional(...e){return this.bytecode.addStep("optional",e),this}or(...e){return this.bytecode.addStep("or",e),this}order(...e){return this.bytecode.addStep("order",e),this}otherV(...e){return this.bytecode.addStep("otherV",e),this}out(...e){return this.bytecode.addStep("out",e),this}outE(...e){return this.bytecode.addStep("outE",e),this}outV(...e){return this.bytecode.addStep("outV",e),this}pageRank(...e){return this.bytecode.addStep("pageRank",e),this}path(...e){return this.bytecode.addStep("path",e),this}peerPressure(...e){return this.bytecode.addStep("peerPressure",e),this}product(...e){return this.bytecode.addStep("product",e),this}profile(...e){return this.bytecode.addStep("profile",e),this}program(...e){return this.bytecode.addStep("program",e),this}project(...e){return this.bytecode.addStep("project",e),this}properties(...e){return this.bytecode.addStep("properties",e),this}property(...e){return this.bytecode.addStep("property",e),this}propertyMap(...e){return this.bytecode.addStep("propertyMap",e),this}range(...e){return this.bytecode.addStep("range",e),this}read(...e){return this.bytecode.addStep("read",e),this}repeat(...e){return this.bytecode.addStep("repeat",e),this}replace(...e){return this.bytecode.addStep("replace",e),this}reverse(...e){return this.bytecode.addStep("reverse",e),this}rTrim(...e){return this.bytecode.addStep("rTrim",e),this}sack(...e){return this.bytecode.addStep("sack",e),this}sample(...e){return this.bytecode.addStep("sample",e),this}select(...e){return this.bytecode.addStep("select",e),this}shortestPath(...e){return this.bytecode.addStep("shortestPath",e),this}sideEffect(...e){return this.bytecode.addStep("sideEffect",e),this}simplePath(...e){return this.bytecode.addStep("simplePath",e),this}skip(...e){return this.bytecode.addStep("skip",e),this}split(...e){return this.bytecode.addStep("split",e),this}store(...e){return this.bytecode.addStep("store",e),this}subgraph(...e){return this.bytecode.addStep("subgraph",e),this}substring(...e){return this.bytecode.addStep("substring",e),this}sum(...e){return this.bytecode.addStep("sum",e),this}tail(...e){return this.bytecode.addStep("tail",e),this}timeLimit(...e){return this.bytecode.addStep("timeLimit",e),this}times(...e){return this.bytecode.addStep("times",e),this}to(...e){return this.bytecode.addStep("to",e),this}toE(...e){return this.bytecode.addStep("toE",e),this}toLower(...e){return this.bytecode.addStep("toLower",e),this}toUpper(...e){return this.bytecode.addStep("toUpper",e),this}toV(...e){return this.bytecode.addStep("toV",e),this}tree(...e){return this.bytecode.addStep("tree",e),this}trim(...e){return this.bytecode.addStep("trim",e),this}unfold(...e){return this.bytecode.addStep("unfold",e),this}union(...e){return this.bytecode.addStep("union",e),this}until(...e){return this.bytecode.addStep("until",e),this}value(...e){return this.bytecode.addStep("value",e),this}valueMap(...e){return this.bytecode.addStep("valueMap",e),this}values(...e){return this.bytecode.addStep("values",e),this}where(...e){return this.bytecode.addStep("where",e),this}with_(...e){return this.bytecode.addStep("with",e),this}write(...e){return this.bytecode.addStep("write",e),this}}class d extends a{constructor(e,t){super(),this.addSource("CardinalityValueTraversal",[e,t])}static single(e){return new d(i.single,e)}static list(e){return new d(i.list,e)}static set(e){return new d(i.set,e)}}function p(e,t){let r=new f(null,null,new a);return r[e].apply(r,t)}e.exports={GraphTraversal:f,GraphTraversalSource:c,CardinalityValue:d,statics:{E:(...e)=>p("E",e),V:(...e)=>p("V",e),addE:(...e)=>p("addE",e),addV:(...e)=>p("addV",e),aggregate:(...e)=>p("aggregate",e),all:(...e)=>p("all",e),and:(...e)=>p("and",e),any:(...e)=>p("any",e),as:(...e)=>p("as",e),asDate:(...e)=>p("asDate",e),asString:(...e)=>p("asString",e),barrier:(...e)=>p("barrier",e),both:(...e)=>p("both",e),bothE:(...e)=>p("bothE",e),bothV:(...e)=>p("bothV",e),branch:(...e)=>p("branch",e),call:(...e)=>p("call",e),cap:(...e)=>p("cap",e),choose:(...e)=>p("choose",e),coalesce:(...e)=>p("coalesce",e),coin:(...e)=>p("coin",e),concat:(...e)=>p("concat",e),constant:(...e)=>p("constant",e),count:(...e)=>p("count",e),cyclicPath:(...e)=>p("cyclicPath",e),dateAdd:(...e)=>p("dateAdd",e),dateDiff:(...e)=>p("dateDiff",e),dedup:(...e)=>p("dedup",e),drop:(...e)=>p("drop",e),element:(...e)=>p("element",e),elementMap:(...e)=>p("elementMap",e),emit:(...e)=>p("emit",e),fail:(...e)=>p("fail",e),filter:(...e)=>p("filter",e),flatMap:(...e)=>p("flatMap",e),fold:(...e)=>p("fold",e),format:(...e)=>p("format",e),group:(...e)=>p("group",e),groupCount:(...e)=>p("groupCount",e),has:(...e)=>p("has",e),hasId:(...e)=>p("hasId",e),hasKey:(...e)=>p("hasKey",e),hasLabel:(...e)=>p("hasLabel",e),hasNot:(...e)=>p("hasNot",e),hasValue:(...e)=>p("hasValue",e),id:(...e)=>p("id",e),identity:(...e)=>p("identity",e),in_:(...e)=>p("in_",e),inE:(...e)=>p("inE",e),inV:(...e)=>p("inV",e),index:(...e)=>p("index",e),inject:(...e)=>p("inject",e),is:(...e)=>p("is",e),key:(...e)=>p("key",e),label:(...e)=>p("label",e),length:(...e)=>p("length",e),limit:(...e)=>p("limit",e),local:(...e)=>p("local",e),loops:(...e)=>p("loops",e),lTrim:(...e)=>p("lTrim",e),map:(...e)=>p("map",e),match:(...e)=>p("match",e),math:(...e)=>p("math",e),max:(...e)=>p("max",e),mean:(...e)=>p("mean",e),mergeE:(...e)=>p("mergeE",e),mergeV:(...e)=>p("mergeV",e),min:(...e)=>p("min",e),none:(...e)=>p("none",e),not:(...e)=>p("not",e),optional:(...e)=>p("optional",e),or:(...e)=>p("or",e),order:(...e)=>p("order",e),otherV:(...e)=>p("otherV",e),out:(...e)=>p("out",e),outE:(...e)=>p("outE",e),outV:(...e)=>p("outV",e),path:(...e)=>p("path",e),project:(...e)=>p("project",e),properties:(...e)=>p("properties",e),property:(...e)=>p("property",e),propertyMap:(...e)=>p("propertyMap",e),range:(...e)=>p("range",e),repeat:(...e)=>p("repeat",e),replace:(...e)=>p("replace",e),reverse:(...e)=>p("reverse",e),rTrim:(...e)=>p("rTrim",e),sack:(...e)=>p("sack",e),sample:(...e)=>p("sample",e),select:(...e)=>p("select",e),sideEffect:(...e)=>p("sideEffect",e),simplePath:(...e)=>p("simplePath",e),skip:(...e)=>p("skip",e),split:(...e)=>p("split",e),store:(...e)=>p("store",e),subgraph:(...e)=>p("subgraph",e),substring:(...e)=>p("substring",e),sum:(...e)=>p("sum",e),tail:(...e)=>p("tail",e),timeLimit:(...e)=>p("timeLimit",e),times:(...e)=>p("times",e),to:(...e)=>p("to",e),toE:(...e)=>p("toE",e),toLower:(...e)=>p("toLower",e),toUpper:(...e)=>p("toUpper",e),toV:(...e)=>p("toV",e),tree:(...e)=>p("tree",e),trim:(...e)=>p("trim",e),unfold:(...e)=>p("unfold",e),union:(...e)=>p("union",e),until:(...e)=>p("until",e),value:(...e)=>p("value",e),valueMap:(...e)=>p("valueMap",e),values:(...e)=>p("values",e),where:(...e)=>p("where",e)}}},24614:(e,t,r)=>{"use strict";let n=r(92140),i=r(9511),{TraversalStrategies:o}=r(9686);class a{constructor(e){this._g=e,this._sessionBasedConnection=void 0}begin(){if(this._sessionBasedConnection)throw Error("Transaction already started on this object");this._sessionBasedConnection=this._g.remoteConnection.createSession();let e=new o;return e.addStrategy(new n.RemoteStrategy(this._sessionBasedConnection)),new this._g.graphTraversalSourceClass(this._g.graph,e,new i(this._g.bytecode),this._g.graphTraversalSourceClass,this._g.graphTraversalClass)}commit(){if(!this._sessionBasedConnection)throw Error("Cannot commit a transaction that is not started");return this._sessionBasedConnection.commit().finally(()=>this.close())}rollback(){if(!this._sessionBasedConnection)throw Error("Cannot rollback a transaction that is not started");return this._sessionBasedConnection.rollback().finally(()=>this.close())}get isOpen(){return this._sessionBasedConnection.isOpen}close(){this._sessionBasedConnection&&this._sessionBasedConnection.close()}}e.exports={Transaction:a}},65208:(e,t,r)=>{"use strict";let n=r(52579).Traversal,i=r(9511);class o{constructor(e){this._traversalSource=e}getTraversalSource(){return this._traversalSource}getTargetLanguage(){return"gremlin-groovy"}of(e){this._traversalSource=e}translate(e,t=!1){let r=t?"__":this._traversalSource,n=(e instanceof i?e:e.getBytecode()).stepInstructions;for(let e=0;e<n.length;e++){let t=n[e].slice(1);if(r+="."+n[e][0]+"(",t.length)for(let e=0;e<t.length;e++)e>0&&(r+=", "),r+=this.convert(t[e]);r+=")"}return r}convert(e){let t="";if(Object(e)===e){if(e instanceof n)t+=this.translate(e.getBytecode(),!0);else if("[object Object]"===e.toString())Object.keys(e).forEach(function(r,n){n>0&&(t+=", "),t+=`('${r}', `,e[r]instanceof String||"string"==typeof e[r]?t+=`'${e[r]}'`:t+=e[r],t+=")"});else if(Array.isArray(e)){let r=[];for(let t of e)r.push(this.convert(t));t+="["+r.join(", ")+"]"}else t+=e.toString()}else void 0===e?t+="":"number"==typeof e||"boolean"==typeof e?t+=e:t+=`'${e}'`;return t}}e.exports=o},9686:(e,t,r)=>{"use strict";let n=r(52579).Traversal;class i{constructor(e){e?this.strategies=[...e.strategies]:this.strategies=[]}addStrategy(e){this.strategies.push(e)}removeStrategy(e){let t=this.strategies.findIndex(t=>t.fqcn===e.fqcn);if(-1!==t)return this.strategies.splice(t,1)[0]}applyStrategies(e){return this.strategies.reduce((t,r)=>t.then(()=>r.apply(e)),Promise.resolve())}}class o{constructor(e,t={}){this.fqcn=e,this.configuration=t}apply(e){}}class a extends o{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.ConnectiveStrategy")}}class s extends o{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.ElementIdStrategy")}}class l extends o{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.HaltedTraverserStrategy"),void 0!==e&&(this.configuration.haltedTraverserFactory=e)}}class u extends o{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.OptionsStrategy",e)}}class c extends o{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.PartitionStrategy",e)}}class f extends o{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.SubgraphStrategy",e),this.configuration.vertices instanceof n&&(this.configuration.vertices=this.configuration.vertices.bytecode),this.configuration.edges instanceof n&&(this.configuration.edges=this.configuration.edges.bytecode),this.configuration.vertexProperties instanceof n&&(this.configuration.vertexProperties=this.configuration.vertexProperties.bytecode)}}class d extends o{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.ProductiveByStrategy",e)}}class p extends o{constructor(e){super("org.apache.tinkerpop.gremlin.process.computer.traversal.strategy.decoration.VertexProgramStrategy",e)}}class h extends o{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.finalization.MatchAlgorithmStrategy"),void 0!==e&&(this.configuration.matchAlgorithm=e)}}class y extends o{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.AdjacentToIncidentStrategy")}}class b extends o{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.FilterRankingStrategy")}}class g extends o{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.IdentityRemovalStrategy")}}class m extends o{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.IncidentToAdjacentStrategy")}}class v extends o{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.InlineFilterStrategy")}}class _ extends o{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.LazyBarrierStrategy")}}class O extends o{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.MatchPredicateStrategy")}}class w extends o{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.OrderLimitStrategy")}}class S extends o{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.PathProcessorStrategy")}}class E extends o{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.PathRetractionStrategy")}}class x extends o{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.CountStrategy")}}class P extends o{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.RepeatUnrollStrategy")}}class j extends o{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.GraphFilterStrategy")}}class T extends o{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.EarlyLimitStrategy")}}class k extends o{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.verification.LambdaRestrictionStrategy")}}class C extends o{constructor(){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.verification.ReadOnlyStrategy")}}class A extends o{constructor(e=!1,t=!1){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.verification.EdgeLabelVerificationStrategy",{logWarnings:e,throwException:t})}}class R extends o{constructor(e=!1,t=!1,r=["id","label"]){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.verification.ReservedKeysVerificationStrategy",{logWarnings:e,throwException:t,keys:r})}}class M extends o{constructor(e){super("org.apache.tinkerpop.gremlin.process.traversal.strategy.decoration.SeedStrategy",{seed:e.seed})}}e.exports={TraversalStrategies:i,TraversalStrategy:o,ConnectiveStrategy:a,ElementIdStrategy:s,HaltedTraverserStrategy:l,OptionsStrategy:u,PartitionStrategy:c,SeedStrategy:M,SubgraphStrategy:f,VertexProgramStrategy:p,MatchAlgorithmStrategy:h,AdjacentToIncidentStrategy:y,FilterRankingStrategy:b,IdentityRemovalStrategy:g,IncidentToAdjacentStrategy:m,InlineFilterStrategy:v,LazyBarrierStrategy:_,MatchPredicateStrategy:O,OrderLimitStrategy:w,PathProcessorStrategy:S,PathRetractionStrategy:E,ProductiveByStrategy:d,CountStrategy:x,RepeatUnrollStrategy:P,GraphFilterStrategy:j,EarlyLimitStrategy:T,EdgeLabelVerificationStrategy:A,LambdaRestrictionStrategy:k,ReadOnlyStrategy:C,ReservedKeysVerificationStrategy:R}},52579:e=>{"use strict";let t=Object.freeze({value:null,done:!0}),r=Symbol.asyncIterator||Symbol("@@asyncIterator");class n{constructor(e,t,r){this.graph=e,this.traversalStrategies=t,this.bytecode=r,this.traversers=null,this.sideEffects=null,this._traversalStrategiesPromise=null,this._traversersIteratorIndex=0}[r](){return this}getBytecode(){return this.bytecode}toList(){return this._applyStrategies().then(()=>{let e;let t=[];for(;(e=this._getNext())&&!e.done;)t.push(e.value);return t})}hasNext(){return this._applyStrategies().then(()=>this.traversers&&this.traversers.length>0&&this._traversersIteratorIndex<this.traversers.length&&this.traversers[this._traversersIteratorIndex].bulk>0)}iterate(){return this.bytecode.addStep("discard"),this._applyStrategies().then(()=>{let e;for(;(e=this._getNext())&&!e.done;);})}next(){return this._applyStrategies().then(()=>this._getNext())}_getNext(){for(;this.traversers&&this._traversersIteratorIndex<this.traversers.length;){let e=this.traversers[this._traversersIteratorIndex];if(e.bulk>0)return e.bulk--,{value:e.object,done:!1};this._traversersIteratorIndex++}return t}_applyStrategies(){return this._traversalStrategiesPromise?this._traversalStrategiesPromise:this._traversalStrategiesPromise=this.traversalStrategies.applyStrategies(this)}toJSON(){return this.bytecode.stepInstructions}toString(){return this.bytecode.toString()}}class i{static get graphml(){return"graphml"}static get graphson(){return"graphson"}static get gryo(){return"gryo"}static get reader(){return"~tinkerpop.io.reader"}static get registry(){return"~tinkerpop.io.registry"}static get writer(){return"~tinkerpop.io.writer"}}class o{constructor(e,t,r){this.operator=e,this.value=t,this.other=r}toString(){function e(t){if(Array.isArray(t)){let r=[];for(let n of t)r.push(e(n));return r}return t&&"string"==typeof t?`'${t}'`:t}return void 0===this.other||null===this.other?this.operator+"("+e(this.value)+")":this.operator+"("+e(this.value)+", "+e(this.other)+")"}and(e){return new o("and",this,e)}or(e){return new o("or",this,e)}static within(...e){return 1===e.length&&Array.isArray(e[0])?new o("within",e[0],null):new o("within",e,null)}static without(...e){return 1===e.length&&Array.isArray(e[0])?new o("without",e[0],null):new o("without",e,null)}static between(...e){return a("between",e)}static eq(...e){return a("eq",e)}static gt(...e){return a("gt",e)}static gte(...e){return a("gte",e)}static inside(...e){return a("inside",e)}static lt(...e){return a("lt",e)}static lte(...e){return a("lte",e)}static neq(...e){return a("neq",e)}static not(...e){return a("not",e)}static outside(...e){return a("outside",e)}static test(...e){return a("test",e)}}function a(e,t){return t.unshift(null,e),new(Function.prototype.bind.apply(o,t))}class s{constructor(e,t,r){this.operator=e,this.value=t,this.other=r}toString(){function e(e){return e&&"string"==typeof e?`'${e}'`:e}return void 0===this.other?this.operator+"("+e(this.value)+")":this.operator+"("+e(this.value)+", "+e(this.other)+")"}and(e){return new o("and",this,e)}or(e){return new o("or",this,e)}static containing(...e){return l("containing",e)}static endingWith(...e){return l("endingWith",e)}static notContaining(...e){return l("notContaining",e)}static notEndingWith(...e){return l("notEndingWith",e)}static notStartingWith(...e){return l("notStartingWith",e)}static startingWith(...e){return l("startingWith",e)}static regex(...e){return l("regex",e)}static notRegex(...e){return l("notRegex",e)}}function l(e,t){return t.unshift(null,e),new(Function.prototype.bind.apply(s,t))}class u{constructor(e,t){this.object=e,this.bulk=t||1}}class c{}function f(e,t){let r={};return t.split(" ").forEach(t=>{let n=t;n===n.toUpperCase()&&(n=n.toLowerCase()),r[n]=new p(e,t)}),r}let d={from_:"out",to:"in"};class p{constructor(e,t){this.typeName=e,this.elementName=t}toString(){return this.elementName}}e.exports={EnumValue:p,P:o,TextP:s,withOptions:{tokens:"~tinkerpop.valueMap.tokens",none:0,ids:1,labels:2,keys:4,values:8,all:15,indexer:"~tinkerpop.index.indexer",list:0,map:1},IO:i,Traversal:n,TraversalSideEffects:c,Traverser:u,barrier:f("Barrier","normSack"),cardinality:f("Cardinality","list set single"),column:f("Column","keys values"),direction:function(e,t){let r=f(e,t);return Object.keys(d).forEach(e=>{r[e]=r[d[e]]}),r}("Direction","BOTH IN OUT from_ to"),dt:f("DT","second minute hour day"),graphSONVersion:f("GraphSONVersion","V1_0 V2_0 V3_0"),gryoVersion:f("GryoVersion","V1_0 V3_0"),merge:f("Merge","onCreate onMatch outV inV"),operator:f("Operator","addAll and assign div max min minus mult or sum sumLong"),order:f("Order","asc desc shuffle"),pick:f("Pick","any none"),pop:f("Pop","all first last mixed"),scope:f("Scope","global local"),t:f("T","id key label value")}},41815:(e,t,r)=>{"use strict";let n=r(42002),{TraversalStrategies:i}=r(9686);class o{traversal(e){return new(e||n.GraphTraversalSource)(this,new i)}toString(){return"graph[]"}}class a{constructor(e,t){this.id=e,this.label=t}equals(e){return e instanceof a&&this.id===e.id}}class s extends a{constructor(e,t,r){super(e,t),this.properties=r}toString(){return`v[${this.id}]`}}class l extends a{constructor(e,t,r,n,i){if(super(e,r),this.outV=t,this.inV=n,this.properties={},i){let e=Object.keys(i);for(let t=0;t<e.length;t++){let r=e[t];this.properties[r]=i[r].value}}}toString(){let e=this.outV?this.outV.id:"?",t=this.inV?this.inV.id:"?";return`e[${this.id}][${e}-${this.label}->${t}]`}}class u extends a{constructor(e,t,r,n){super(e,t),this.value=r,this.key=this.label,this.properties=n}toString(){return`vp[${this.label}->${p(this.value)}]`}}class c{constructor(e,t){this.key=e,this.value=t}toString(){return`p[${this.key}->${p(this.value)}]`}equals(e){return e instanceof c&&this.key===e.key&&this.value===e.value}}class f{constructor(e,t){this.labels=e,this.objects=t}toString(){return`path[${(this.objects||[]).join(", ")}]`}equals(e){return e instanceof f&&(e===this||d(this.objects,e.objects)&&d(this.labels,e.labels))}}function d(e,t){if(e===t)return!0;if("function"==typeof e.equals)return e.equals(t);if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!d(e[r],t[r]))return!1;return!0}return!1}function p(e){if(null==e)return e;let t=e.toString();return t.length>20?t.substr(0,20):t}e.exports={Edge:l,Graph:o,Path:f,Property:c,Vertex:s,VertexProperty:u}},45622:(e,t,r)=>{"use strict";let n={};n.DataType=r(21593),n.utils=r(83895),n.serializers={},n.intSerializer=new(r(74202))(n),n.longSerializer=new(r(17648))(n),n.longSerializerNg=new(r(31127))(n),n.stringSerializer=new(r(90260))(n,n.DataType.STRING),n.dateSerializer=new(r(90391))(n,n.DataType.DATE),n.timestampSerializer=new(r(90391))(n,n.DataType.TIMESTAMP),n.classSerializer=new(r(90260))(n,n.DataType.CLASS),n.doubleSerializer=new(r(87777))(n),n.floatSerializer=new(r(86683))(n),n.listSerializer=new(r(4502))(n,n.DataType.LIST),n.mapSerializer=new(r(31330))(n),n.setSerializer=new(r(48331))(n,n.DataType.SET),n.uuidSerializer=new(r(57485))(n),n.edgeSerializer=new(r(28027))(n),n.pathSerializer=new(r(86079))(n),n.propertySerializer=new(r(6395))(n),n.vertexSerializer=new(r(1806))(n),n.vertexPropertySerializer=new(r(57453))(n),n.bytecodeSerializer=new(r(94674))(n),n.pSerializer=new(r(35826))(n),n.traverserSerializer=new(r(16051))(n),n.enumSerializer=new(r(12032))(n),n.lambdaSerializer=new(r(32631))(n),n.bigIntegerSerializer=new(r(86444))(n),n.byteSerializer=new(r(39144))(n),n.byteBufferSerializer=new(r(54486))(n),n.shortSerializer=new(r(42660))(n),n.booleanSerializer=new(r(62639))(n),n.textPSerializer=new(r(12277))(n),n.traversalStrategySerializer=new(r(56688))(n),n.bulkSetSerializer=new(r(93899))(n),n.unspecifiedNullSerializer=new(r(33070))(n),n.numberSerializationStrategy=new(r(99155))(n),n.anySerializer=new(r(63332))(n),n.graphBinaryReader=new(r(71336))(n),n.graphBinaryWriter=new(r(42693))(n),e.exports=n},63332:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports=class{constructor(e){this.ioc=e,this.serializers=[e.unspecifiedNullSerializer,e.numberSerializationStrategy,e.booleanSerializer,e.dateSerializer,e.bytecodeSerializer,e.pSerializer,e.traverserSerializer,e.enumSerializer,e.listSerializer,e.uuidSerializer,e.edgeSerializer,e.pathSerializer,e.propertySerializer,e.vertexSerializer,e.vertexPropertySerializer,e.stringSerializer,e.textPSerializer,e.traversalStrategySerializer,e.byteBufferSerializer,e.lambdaSerializer,e.mapSerializer]}getSerializerCanBeUsedFor(e){for(let t=0;t<this.serializers.length;t++)if(this.serializers[t].canBeUsedFor(e))return this.serializers[t];throw Error(`No serializer found to support item where typeof(item)='${typeof e}' and String(item)='${String(e)}'.`)}serialize(e,t=!0){return this.getSerializerCanBeUsedFor(e).serialize(e,t)}deserialize(e){try{if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");let t=e.readUInt8(),r=this.ioc.serializers[t];if(!r)throw Error("unknown {type_code}");return r.deserialize(e)}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,err:e})}}}},4502:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports=class{constructor(e,t){this.ioc=e,this.ID=t,this.ioc.serializers[t]=this}canBeUsedFor(e){return Array.isArray(e)}serialize(e,t=!0){if(null==e)return t?n.from([this.ID,1]):n.from([0,0,0,0]);let r=[];t&&r.push(n.from([this.ID,0]));let i=e.length;if(i<0&&(i=0),i>this.ioc.intSerializer.INT32_MAX)throw Error(`Array length=${i} is greater than supported max_length=${this.ioc.intSerializer.INT32_MAX}.`);r.push(this.ioc.intSerializer.serialize(i,!1));for(let t=0;t<i;t++)r.push(this.ioc.anySerializer.serialize(e[t]));return n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{let o,a;if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=i.readUInt8();if(r++,e!==this.ID)throw Error("unexpected {type_code}");if((i=i.slice(1)).length<1)throw Error("{value_flag} is missing");let t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");i=i.slice(1)}try{({v:o,len:a}=this.ioc.intSerializer.deserialize(i,!1)),r+=a}catch(e){throw e.message="{length}: "+e.message,e}if(o<0)throw Error("{length} is less than zero");i=i.slice(a);let s=[];for(let e=0;e<o;e++){let t,n;try{({v:t,len:n}=this.ioc.anySerializer.deserialize(i)),r+=n}catch(t){throw t.message=`{item_${e}}: `+t.message,t}i=i.slice(n),s.push(t)}return{v:s,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},86444:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BIGINTEGER]=this}canBeUsedFor(e){return"bigint"==typeof e}serialize(e,t=!0){let r;if(null==e)return t?n.from([this.ioc.DataType.BIGINTEGER,1]):n.from([0,0,0,1,0]);let i=[];if(t&&i.push(n.from([this.ioc.DataType.BIGINTEGER,0])),e>=0){let t=e.toString(16);t.length%2!=0&&(t="0"+t),Number.parseInt(t[0],16)>7&&(t="00"+t),r=n.from(t,"hex")}else{let t=(-e).toString(16),i=BigInt((t.length+t.length%2)/2)*BigInt(8);e<-(BigInt(2)**(i-BigInt(1)))&&(i+=BigInt(8)),(t=(BigInt(2)**i+e).toString(16)).length%2!=0&&(t="0"+t),r=n.from(t,"hex")}return i.push(this.ioc.intSerializer.serialize(r.length,!1)),i.push(r),n.concat(i)}deserialize(e,t=!0){let r=0,i=e;try{let o,a;if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=i.readUInt8();if(r++,e!==this.ioc.DataType.BIGINTEGER)throw Error("unexpected {type_code}");if((i=i.slice(1)).length<1)throw Error("{value_flag} is missing");let t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");i=i.slice(1)}try{({v:o,len:a}=this.ioc.intSerializer.deserialize(i,!1)),r+=a}catch(e){throw e.message="{length}: "+e.message,e}if(o<1)throw Error(`{length}=${o} is less than one`);i=i.slice(a),r+=o,i=i.slice(0,o);let s=BigInt(`0x${i.toString("hex")}`);return(128&i[0])==128&&(s=BigInt.asIntN(8*o,s)),{v:s,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},62639:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BOOLEAN]=this}canBeUsedFor(e){return"boolean"==typeof e}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.BOOLEAN,1]):n.from([0]);let r=[];return t&&r.push(n.from([this.ioc.DataType.BOOLEAN,0])),r.push(n.from([e?1:0])),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=i.readUInt8();if(r++,e!==this.ioc.DataType.BOOLEAN)throw Error("unexpected {type_code}");if((i=i.slice(1)).length<1)throw Error("{value_flag} is missing");let t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<1)throw Error("unexpected {value} length");r+=1;let o=i.readUInt8();if(0!==o&&1!==o)throw Error(`unexpected boolean byte=${o}`);return{v:o=1===o,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},93899:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BULKSET]=this}deserialize(e,t=!0){let r=0,i=e;try{let o,a;if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=i.readUInt8();if(r++,e!==this.ioc.DataType.BULKSET)throw Error("unexpected {type_code}");if((i=i.slice(1)).length<1)throw Error("{value_flag} is missing");let t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");i=i.slice(1)}try{({v:o,len:a}=this.ioc.intSerializer.deserialize(i,!1)),r+=a}catch(e){throw e.message="{length}: "+e.message,e}if(o<0)throw Error("{length} is less than zero");i=i.slice(a);let s=[];for(let e=0;e<o;e++){let t,n,o,a;try{({v:t,len:n}=this.ioc.anySerializer.deserialize(i)),r+=n}catch(t){throw t.message=`{item_${e}} value: `+t.message,t}i=i.slice(n);try{({v:o,len:a}=this.ioc.longSerializer.deserialize(i,!1)),r+=a}catch(t){throw t.message=`{item_${e}} bulk: `+t.message,t}if(o<0)throw Error(`{item_${e}}: bulk is less than zero`);if(o>0xffffffff)throw Error(`{item_${e}}: bulk is greater than 2^32-1`);i=i.slice(a),o=Number(o);let l=Array(o).fill(t);s=s.concat(l)}return{v:s,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},54486:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BYTEBUFFER]=this}canBeUsedFor(e){return e instanceof n}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.BYTEBUFFER,1]):n.from([0,0,0,0]);let r=[];t&&r.push(n.from([this.ioc.DataType.BYTEBUFFER,0]));let i=e.length;if(i<0&&(i=0),i>this.ioc.intSerializer.INT32_MAX)throw Error(`Buffer length=${i} is greater than supported max_length=${this.ioc.intSerializer.INT32_MAX}.`);return r.push(this.ioc.intSerializer.serialize(i,!1)),r.push(e),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{let o,a;if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=i.readUInt8();if(r++,e!==this.ioc.DataType.BYTEBUFFER)throw Error("unexpected {type_code}");if((i=i.slice(1)).length<1)throw Error("{value_flag} is missing");let t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");i=i.slice(1)}try{({v:o,len:a}=this.ioc.intSerializer.deserialize(i,!1)),r+=a}catch(e){throw e.message="{length}: "+e.message,e}if(o<0)throw Error("{length} is less than zero");if(i=i.slice(a),o!==i.length)throw Error(`{value}: unexpected actual {value} length=${i.length} when {length}=${o}`);let s=i.slice(0,o);return r+=o,{v:s,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},39144:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BYTE]=this}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.BYTE,1]):n.from([0]);let r=[];t&&r.push(n.from([this.ioc.DataType.BYTE,0]));let i=n.alloc(1);return i.writeUInt8(e),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=i.readUInt8();if(r++,e!==this.ioc.DataType.BYTE)throw Error("unexpected {type_code}");if((i=i.slice(1)).length<1)throw Error("{value_flag} is missing");let t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<1)throw Error("unexpected {value} length");return r+=1,{v:i.readUInt8(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},94674:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313),i=r(9511),o=r(52579);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.BYTECODE]=this}canBeUsedFor(e){return e instanceof i||e instanceof o.Traversal}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.BYTECODE,1]):n.from([0,0,0,0,0,0,0,0]);e instanceof o.Traversal&&(e=e.getBytecode());let r=[];t&&r.push(n.from([this.ioc.DataType.BYTECODE,0])),r.push(this.ioc.intSerializer.serialize(e.stepInstructions.length,!1));for(let t=0;t<e.stepInstructions.length;t++){let n=e.stepInstructions[t],i=n[0],o=n.length-1;r.push(this.ioc.stringSerializer.serialize(i,!1)),r.push(this.ioc.intSerializer.serialize(o,!1));for(let e=0;e<o;e++)r.push(this.ioc.anySerializer.serialize(n[1+e],!0))}r.push(this.ioc.intSerializer.serialize(e.sourceInstructions.length,!1));for(let t=0;t<e.sourceInstructions.length;t++){let n=e.sourceInstructions[t],i=n[0],o=n.length-1;r.push(this.ioc.stringSerializer.serialize(i,!1)),r.push(this.ioc.intSerializer.serialize(o,!1));for(let e=0;e<o;e++)r.push(this.ioc.anySerializer.serialize(n[1+e],!0))}return n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{let a,s,l,u;if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=o.readUInt8();if(r++,e!==this.ioc.DataType.BYTECODE)throw Error("unexpected {type_code}");if((o=o.slice(1)).length<1)throw Error("{value_flag} is missing");let t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");o=o.slice(1)}let c=new i;try{({v:a,len:s}=this.ioc.intSerializer.deserialize(o,!1)),r+=s}catch(e){throw e.message="{steps_length}: "+e.message,e}if(a<0)throw Error("{steps_length} is less than zero");o=o.slice(s);for(let e=0;e<a;e++){let t,n,i,a,s,l;try{({v:t,len:n}=this.ioc.stringSerializer.deserialize(o,!1)),r+=n}catch(t){throw t.message=`{step_${e}} {name}: `+t.message,t}o=o.slice(n);try{({v:i,len:a}=this.ioc.intSerializer.deserialize(o,!1)),r+=a}catch(t){throw t.message=`{step_${e}} {values_length}: `+t.message,t}if(i<0)throw Error(`{step_${e}} {values_length} is less than zero`);o=o.slice(a);let u=[];for(let t=0;t<i;t++){try{({v:s,len:l}=this.ioc.anySerializer.deserialize(o)),r+=l,u.push(s)}catch(r){throw r.message=`{step_${e}} {value_${t}}: `+r.message,r}o=o.slice(l)}c.addStep(t,u)}try{({v:l,len:u}=this.ioc.intSerializer.deserialize(o,!1)),r+=u}catch(e){throw e.message="{sources_length}: "+e.message,e}if(l<0)throw Error("{sources_length} is less than zero");o=o.slice(u);for(let e=0;e<l;e++){let t,n,i,a,s,l;try{({v:t,len:n}=this.ioc.stringSerializer.deserialize(o,!1)),r+=n}catch(t){throw t.message=`{source_${e}} {name}: `+t.message,t}o=o.slice(n);try{({v:i,len:a}=this.ioc.intSerializer.deserialize(o,!1)),r+=a}catch(t){throw t.message=`{source_${e}} {values_length}: `+t.message,t}if(i<0)throw Error(`{source_${e}} {values_length} is less than zero`);o=o.slice(a);let u=[];for(let t=0;t<i;t++){try{({v:s,len:l}=this.ioc.anySerializer.deserialize(o)),r+=l,u.push(s)}catch(r){throw r.message=`{source_${e}} {value_${t}}: `+r.message,r}o=o.slice(l)}c.addSource(t,u)}return{v:c,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},21593:e=>{"use strict";e.exports={INT:1,LONG:2,STRING:3,DATE:4,TIMESTAMP:5,CLASS:6,DOUBLE:7,FLOAT:8,LIST:9,MAP:10,SET:11,UUID:12,EDGE:13,PATH:14,PROPERTY:15,GRAPH:16,VERTEX:17,VERTEXPROPERTY:18,BARRIER:19,BINDING:20,BYTECODE:21,CARDINALITY:22,COLUMN:23,DIRECTION:24,OPERATOR:25,ORDER:26,PICK:27,POP:28,LAMBDA:29,P:30,SCOPE:31,T:32,TRAVERSER:33,BIGDECIMAL:34,BIGINTEGER:35,BYTE:36,BYTEBUFFER:37,SHORT:38,BOOLEAN:39,TEXTP:40,TRAVERSALSTRATEGY:41,BULKSET:42,TREE:43,METRICS:44,TRAVERSALMETRICS:45,MERGE:46,DT:47,CHAR:128,DURATION:129,INETADDRESS:130,INSTANT:131,LOCALDATE:132,LOCALDATETIME:133,LOCALTIME:134,MONTHDAY:135,OFFSETDATETIME:136,OFFSETTIME:137,PERIOD:138,YEAR:139,YEARMONTH:140,ZONEDATETIME:141,ZONEOFFSET:142,CUSTOM:0,UNSPECIFIED_NULL:254}},90391:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports=class{constructor(e,t){this.ioc=e,this.ID=t,this.ioc.serializers[t]=this}canBeUsedFor(e){return e instanceof Date}serialize(e,t=!0){if(null==e)return t?n.from([this.ID,1]):n.from([0,0,0,0,0,0,0,0]);let r=[];t&&r.push(n.from([this.ID,0]));let i=n.alloc(8);return i.writeBigInt64BE(BigInt(e.getTime())),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=i.readUInt8();if(r++,e!==this.ID)throw Error("unexpected {type_code}");if((i=i.slice(1)).length<1)throw Error("{value_flag} is missing");let t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<8)throw Error("unexpected {value} length");r+=8;let o=i.readBigInt64BE();return{v:new Date(Number(o)),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},87777:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.DOUBLE]=this}canBeUsedFor(e){return"number"==typeof e&&!Number.isInteger(e)}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.DOUBLE,1]):n.from([0,0,0,0,0,0,0,0]);let r=[];t&&r.push(n.from([this.ioc.DataType.DOUBLE,0]));let i=n.alloc(8);return i.writeDoubleBE(e),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=i.readUInt8();if(r++,e!==this.ioc.DataType.DOUBLE)throw Error("unexpected {type_code}");if((i=i.slice(1)).length<1)throw Error("{value_flag} is missing");let t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<8)throw Error("unexpected {value} length");return r+=8,{v:i.readDoubleBE(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},28027:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313),i=r(41815);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.EDGE]=this}canBeUsedFor(e){return e instanceof i.Edge}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.EDGE,1]):n.from([3,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,254,1,254,1]);let r=[];t&&r.push(n.from([this.ioc.DataType.EDGE,0])),r.push(this.ioc.anySerializer.serialize(e.id)),r.push(this.ioc.stringSerializer.serialize(e.label,!1));let i=e.inV&&e.inV.id;r.push(this.ioc.anySerializer.serialize(i));let o=e.inV&&e.inV.label;r.push(this.ioc.stringSerializer.serialize(o,!1));let a=e.outV&&e.outV.id;r.push(this.ioc.anySerializer.serialize(a));let s=e.outV&&e.outV.label;return r.push(this.ioc.stringSerializer.serialize(s,!1)),r.push(this.ioc.unspecifiedNullSerializer.serialize(null)),r.push(this.ioc.unspecifiedNullSerializer.serialize(null)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{let a,s,l,u,c,f,d,p,h,y,b,g,m,v,_;if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=o.readUInt8();if(r++,e!==this.ioc.DataType.EDGE)throw Error("unexpected {type_code}");if((o=o.slice(1)).length<1)throw Error("{value_flag} is missing");let t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");o=o.slice(1)}try{({v:a,len:s}=this.ioc.anySerializer.deserialize(o)),r+=s}catch(e){throw e.message="{id}: "+e.message,e}o=o.slice(s);try{({v:l,len:u}=this.ioc.stringSerializer.deserialize(o,!1)),r+=u}catch(e){throw e.message="{label}: "+e.message,e}o=o.slice(u);try{({v:c,len:f}=this.ioc.anySerializer.deserialize(o)),r+=f}catch(e){throw e.message="{inVId}: "+e.message,e}o=o.slice(f);try{({v:d,len:p}=this.ioc.stringSerializer.deserialize(o,!1)),r+=p}catch(e){throw e.message="{inVLabel}: "+e.message,e}o=o.slice(p);try{({v:h,len:y}=this.ioc.anySerializer.deserialize(o)),r+=y}catch(e){throw e.message="{outVId}: "+e.message,e}o=o.slice(y);try{({v:b,len:g}=this.ioc.stringSerializer.deserialize(o,!1)),r+=g}catch(e){throw e.message="{outVLabel}: "+e.message,e}o=o.slice(g);try{({len:m}=this.ioc.anySerializer.deserialize(o)),r+=m}catch(e){throw e.message="{parent}: "+e.message,e}o=o.slice(m);try{({v:v,len:_}=this.ioc.anySerializer.deserialize(o)),r+=_}catch(e){throw e.message="{properties}: "+e.message,e}return o=o.slice(_),{v:new i.Edge(a,new i.Vertex(h,b,null),l,new i.Vertex(c,d,null),v),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},12032:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313),i=r(52579);e.exports=class{constructor(e){this.ioc=e;let t=e=>{let t={};return Object.values(e).forEach(e=>t[e.elementName]=e),t},r=e.DataType;for(let e of(this.types=[{name:"Barrier",code:r.BARRIER,enum:t(i.barrier)},{name:"Cardinality",code:r.CARDINALITY,enum:t(i.cardinality)},{name:"Column",code:r.COLUMN,enum:t(i.column)},{name:"Direction",code:r.DIRECTION,enum:t(i.direction)},{name:"DT",code:r.DT,enum:t(i.dt)},{name:"Merge",code:r.MERGE,enum:t(i.merge)},{name:"Operator",code:r.OPERATOR,enum:t(i.operator)},{name:"Order",code:r.ORDER,enum:t(i.order)},{name:"Pick",code:r.PICK,enum:t(i.pick)},{name:"Pop",code:r.POP,enum:t(i.pop)},{name:"Scope",code:r.SCOPE,enum:t(i.scope)},{name:"T",code:r.T,enum:t(i.t)}],this.byname={},this.bycode={},this.types))this.ioc.serializers[e.code]=this,this.byname[e.name]=e,this.bycode[e.code]=e}canBeUsedFor(e){if(!(e instanceof i.EnumValue))return!1;if(!this.byname[e.typeName])throw Error(`EnumSerializer.serialize: typeName=${e.typeName} is not supported.`);return!0}serialize(e,t=!0){let r=this.byname[e.typeName];if(void 0===e.elementName||null===e.elementName)return t?n.from([r.code,1]):n.from([this.ioc.DataType.STRING,0,0,0,0,0]);let i=[];return t&&i.push(n.from([r.code,0])),i.push(this.ioc.stringSerializer.serialize(e.elementName,!0)),n.concat(i)}deserialize(e,t=!0){let r=0,o=e;try{let a,s,l;if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=o.readUInt8();if(r++,!(l=this.bycode[e]))throw Error(`unexpected {type_code}=${e}`);if((o=o.slice(1)).length<1)throw Error("{value_flag} is missing");let t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");o=o.slice(1)}try{({v:a,len:s}=this.ioc.stringSerializer.deserialize(o,!0)),r+=s}catch(e){throw e.message="elementName: "+e.message,e}return o=o.slice(s),{v:l?l.enum[a]:new i.EnumValue(void 0,a),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},86683:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.FLOAT]=this}canBeUsedFor(e){}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.FLOAT,1]):n.from([0,0,0,0]);let r=[];t&&r.push(n.from([this.ioc.DataType.FLOAT,0]));let i=n.alloc(4);return i.writeFloatBE(e),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=i.readUInt8();if(r++,e!==this.ioc.DataType.FLOAT)throw Error("unexpected {type_code}");if((i=i.slice(1)).length<1)throw Error("{value_flag} is missing");let t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<4)throw Error("unexpected {value} length");return r+=4,{v:i.readFloatBE(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},71336:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports=class{constructor(e){this.ioc=e}readResponse(e){let t;if(null==e)throw Error("Buffer is missing.");if(!(e instanceof n))throw Error("Not an instance of Buffer.");if(e.length<1)throw Error("Buffer is empty.");let r={status:{},result:{}},i=e,o=i[0];if(129!==o)throw Error(`Unsupported version '${o}'.`);return i=i.slice(1),{v:r.requestId,len:t}=this.ioc.uuidSerializer.deserialize(i,!1,!0),i=i.slice(t),{v:r.status.code,len:t}=this.ioc.intSerializer.deserialize(i,!1),i=i.slice(t),{v:r.status.message,len:t}=this.ioc.stringSerializer.deserialize(i,!1,!0),i=i.slice(t),{v:r.status.attributes,len:t}=this.ioc.mapSerializer.deserialize(i,!1),i=i.slice(t),{v:r.result.meta,len:t}=this.ioc.mapSerializer.deserialize(i,!1),i=i.slice(t),{v:r.result.data}=this.ioc.anySerializer.deserialize(i),r}}},42693:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports=class{constructor(e){this.ioc=e}writeRequest({requestId:e,op:t,processor:r,args:i}){let o=[n.from([129]),this.ioc.uuidSerializer.serialize(e,!1),this.ioc.stringSerializer.serialize(t,!1),this.ioc.stringSerializer.serialize(r,!1),this.ioc.mapSerializer.serialize(i,!1)];return n.concat(o)}}},74202:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports=class{get INT32_MIN(){return -0x80000000}get INT32_MAX(){return 0x7fffffff}constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.INT]=this}canBeUsedFor(e){return"number"==typeof e&&!(e<this.INT32_MIN)&&!(e>this.INT32_MAX)}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.INT,1]):n.from([0,0,0,0]);let r=[];t&&r.push(n.from([this.ioc.DataType.INT,0]));let i=n.alloc(4);return i.writeInt32BE(e),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=i.readUInt8();if(r++,e!==this.ioc.DataType.INT)throw Error("unexpected {type_code}");if((i=i.slice(1)).length<1)throw Error("{value_flag} is missing");let t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<4)throw Error("unexpected {value} length");return r+=4,{v:i.readInt32BE(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},32631:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313),{valueKey:i,LambdaSerializer:o}=r(4536);e.exports=class{constructor(e){this.ioc=e,this.graphsonLambdaSerializer=new o}canBeUsedFor(e){return this.graphsonLambdaSerializer.canBeUsedFor(e)}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.LAMBDA,1]):n.from([0,0,0,0,0,0,0,0,0,0,0,0]);let r=[];t&&r.push(n.from([this.ioc.DataType.LAMBDA,0]));let o=this.graphsonLambdaSerializer.serialize(e),a=o[i].language,s=o[i].script,l=o[i].arguments;return r.push(this.ioc.stringSerializer.serialize(a,!1)),r.push(this.ioc.stringSerializer.serialize(s,!1)),r.push(this.ioc.intSerializer.serialize(l,!1)),n.concat(r)}}},17648:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.LONG]=this}canBeUsedFor(){}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.LONG,1]):n.from([0,0,0,0,0,0,0,0]);let r=[];t&&r.push(n.from([this.ioc.DataType.LONG,0]));let i=n.alloc(8);return i.writeBigInt64BE(BigInt(e)),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=i.readUInt8();if(r++,e!==this.ioc.DataType.LONG)throw Error("unexpected {type_code}");if((i=i.slice(1)).length<1)throw Error("{value_flag} is missing");let t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<8)throw Error("unexpected {value} length");r+=8;let o=i.readBigInt64BE();return{v:o=o<Number.MIN_SAFE_INTEGER||o>Number.MAX_SAFE_INTEGER?parseFloat(o.toString()):Number(o),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},31127:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports=class{constructor(e){this.ioc=e}canBeUsedFor(){}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.LONG,1]):n.from([0,0,0,0,0,0,0,0]);let r=[];t&&r.push(n.from([this.ioc.DataType.LONG,0]));let i=n.alloc(8);return i.writeBigInt64BE(BigInt(e)),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=i.readUInt8();if(r++,e!==this.ioc.DataType.LONG)throw Error("unexpected {type_code}");if((i=i.slice(1)).length<1)throw Error("{value_flag} is missing");let t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<8)throw Error("unexpected {value} length");return r+=8,{v:i.readBigInt64BE(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},31330:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.MAP]=this}canBeUsedFor(e){return null!=e&&(e instanceof Map||!Array.isArray(e)&&"object"==typeof e)}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.MAP,1]):this.ioc.intSerializer.serialize(0,!1);let r=e instanceof Map,i=r?Array.from(e.keys()):Object.keys(e),o=i.length;o<0?o=0:o>this.ioc.intSerializer.INT32_MAX&&(o=this.ioc.intSerializer.INT32_MAX);let a=[];t&&a.push(n.from([this.ioc.DataType.MAP,0])),a.push(this.ioc.intSerializer.serialize(o,!1));for(let t=0;t<o;t++){let n=i[t],o=r?e.get(n):e[n];a.push(this.ioc.anySerializer.serialize(n),this.ioc.anySerializer.serialize(o))}return n.concat(a)}deserialize(e,t=!0){let r=0,i=e;try{let o,a;if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=i.readUInt8();if(r++,e!==this.ioc.DataType.MAP)throw Error("unexpected {type_code}");if((i=i.slice(1)).length<1)throw Error("{value_flag} is missing");let t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");i=i.slice(1)}try{({v:o,len:a}=this.ioc.intSerializer.deserialize(i,!1)),r+=a}catch(e){throw e.message="{length}: "+e.message,e}if(o<0)throw Error("{length} is less than zero");i=i.slice(a);let s=new Map;for(let e=0;e<o;e++){let t,n,o,a;try{({v:t,len:n}=this.ioc.anySerializer.deserialize(i)),r+=n}catch(t){throw t.message=`{item_${e}} key: `+t.message,t}i=i.slice(n);try{({v:o,len:a}=this.ioc.anySerializer.deserialize(i)),r+=a}catch(t){throw t.message=`{item_${e}} value: `+t.message,t}i=i.slice(a),s.set(t,o)}return{v:s,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},99155:e=>{"use strict";e.exports=class{constructor(e){this.ioc=e}canBeUsedFor(e){return!!Number.isNaN(e)||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY||"number"==typeof e||"bigint"==typeof e}serialize(e,t=!0){return"number"==typeof e?Number.isNaN(e)||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY||!Number.isInteger(e)?this.ioc.doubleSerializer.serialize(e,t):e>=-0x80000000&&e<=0x7fffffff?this.ioc.intSerializer.serialize(e,t):this.ioc.longSerializer.serialize(e,t):"bigint"==typeof e?this.ioc.bigIntegerSerializer.serialize(e,t):void 0}}},35826:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313),i=r(52579);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.P]=this}canBeUsedFor(e){return e instanceof i.P}serialize(e,t=!0){let r;if(null==e)return t?n.from([this.ioc.DataType.P,1]):n.from([0,0,0,0,0,0,0,0]);let i=[];return t&&i.push(n.from([this.ioc.DataType.P,0])),i.push(this.ioc.stringSerializer.serialize(e.operator,!1)),r=void 0===e.other||null===e.other?Array.isArray(e.value)?e.value:[e.value]:[e.value,e.other],i.push(this.ioc.listSerializer.serialize(r,!1)),n.concat(i)}deserialize(e,t=!0){let r=0,o=e;try{let a,s,l,u;if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=o.readUInt8();if(r++,e!==this.ioc.DataType.P)throw Error("unexpected {type_code}");if((o=o.slice(1)).length<1)throw Error("{value_flag} is missing");let t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");o=o.slice(1)}try{({v:a,len:s}=this.ioc.stringSerializer.deserialize(o,!1)),r+=s}catch(e){throw e.message="{name}: "+e.message,e}o=o.slice(s);try{({v:l,len:u}=this.ioc.listSerializer.deserialize(o,!1)),r+=u}catch(e){throw e.message="{values}: "+e.message,e}if(o=o.slice(u),l.length<1)return{v:new i.P(""),len:r};let c=i.P[a];return{v:"function"==typeof c?c(...l):new i.P(a,...l),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},86079:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313),i=r(41815);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.PATH]=this}canBeUsedFor(e){return e instanceof i.Path}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.PATH,1]):n.concat([this.ioc.listSerializer.serialize([]),this.ioc.listSerializer.serialize([])]);let r=[];return t&&r.push(n.from([this.ioc.DataType.PATH,0])),r.push(this.ioc.listSerializer.serialize(e.labels)),r.push(this.ioc.listSerializer.serialize(e.objects)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{let a,s,l,u;if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=o.readUInt8();if(r++,e!==this.ioc.DataType.PATH)throw Error("unexpected {type_code}");if((o=o.slice(1)).length<1)throw Error("{value_flag} is missing");let t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");o=o.slice(1)}try{({v:a,len:s}=this.ioc.listSerializer.deserialize(o)),r+=s}catch(e){throw e.message="{labels}: "+e.message,e}o=o.slice(s);try{({v:l,len:u}=this.ioc.listSerializer.deserialize(o)),r+=u}catch(e){throw e.message="{objects}: "+e.message,e}return o=o.slice(u),{v:new i.Path(a,l),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},6395:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313),i=r(41815);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.PROPERTY]=this}canBeUsedFor(e){return e instanceof i.Property}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.PROPERTY,1]):n.concat([this.ioc.stringSerializer.serialize("",!1),this.ioc.unspecifiedNullSerializer.serialize(null),this.ioc.unspecifiedNullSerializer.serialize(null)]);let r=[];return t&&r.push(n.from([this.ioc.DataType.PROPERTY,0])),r.push(this.ioc.stringSerializer.serialize(e.key,!1)),r.push(this.ioc.anySerializer.serialize(e.value)),r.push(this.ioc.unspecifiedNullSerializer.serialize(null)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{let a,s,l,u,c;if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=o.readUInt8();if(r++,e!==this.ioc.DataType.PROPERTY)throw Error("unexpected {type_code}");if((o=o.slice(1)).length<1)throw Error("{value_flag} is missing");let t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");o=o.slice(1)}try{({v:a,len:s}=this.ioc.stringSerializer.deserialize(o,!1)),r+=s}catch(e){throw e.message="{key}: "+e.message,e}o=o.slice(s);try{({v:l,len:u}=this.ioc.anySerializer.deserialize(o)),r+=u}catch(e){throw e.message="{value}: "+e.message,e}o=o.slice(u);try{({len:c}=this.ioc.unspecifiedNullSerializer.deserialize(o)),r+=c}catch(e){throw e.message="{parent}: "+e.message,e}return o=o.slice(c),{v:new i.Property(a,l),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},48331:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports=class{constructor(e,t){this.ioc=e,this.ID=t,this.ioc.serializers[t]=this}canBeUsedFor(e){return e instanceof Set}serialize(e,t=!0){throw Error("serialize() method not implemented for SetSerializer")}deserialize(e,t=!0){let r=0,i=e;try{let o,a;if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=i.readUInt8();if(r++,e!==this.ID)throw Error("unexpected {type_code}");if((i=i.slice(1)).length<1)throw Error("{value_flag} is missing");let t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");i=i.slice(1)}try{({v:o,len:a}=this.ioc.intSerializer.deserialize(i,!1)),r+=a}catch(e){throw e.message="{length}: "+e.message,e}if(o<0)throw Error("{length} is less than zero");i=i.slice(a);let s=new Set;for(let e=0;e<o;e++){let t,n;try{({v:t,len:n}=this.ioc.anySerializer.deserialize(i)),r+=n}catch(t){throw t.message=`{item_${e}}: `+t.message,t}i=i.slice(n),s.add(t)}return{v:s,len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},42660:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.SHORT]=this}canBeUsedFor(e){}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.SHORT,1]):n.from([0,0]);let r=[];t&&r.push(n.from([this.ioc.DataType.SHORT,0]));let i=n.alloc(2);return i.writeInt16BE(e),r.push(i),n.concat(r)}deserialize(e,t=!0){let r=0,i=e;try{if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=i.readUInt8();if(r++,e!==this.ioc.DataType.SHORT)throw Error("unexpected {type_code}");if((i=i.slice(1)).length<1)throw Error("{value_flag} is missing");let t=i.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");i=i.slice(1)}if(i.length<2)throw Error("unexpected {value} length");return r+=2,{v:i.readInt16BE(),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:i,err:e})}}}},90260:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports=class{constructor(e,t){this.ioc=e,this.ID=t,this.ioc.serializers[t]=this}canBeUsedFor(e){return"string"==typeof e}serialize(e,t=!0){if(null==e)return t?n.from([this.ID,1]):this.ioc.intSerializer.serialize(0,!1);let r=[];t&&r.push(n.from([this.ID,0]));let i=n.from(String(e),"utf8");return r.push(this.ioc.intSerializer.serialize(i.length,!1)),r.push(i),n.concat(r)}deserialize(e,t=!0,r=!1){let i=0,o=e;try{let a,s;if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=o.readUInt8();if(i++,e!==this.ID)throw Error("unexpected {type_code}");o=o.slice(1)}if(t||r){if(o.length<1)throw Error("{value_flag} is missing");let e=o.readUInt8();if(i++,1===e)return{v:null,len:i};if(0!==e)throw Error("unexpected {value_flag}");o=o.slice(1)}try{({v:a,len:s}=this.ioc.intSerializer.deserialize(o,!1)),i+=s}catch(e){throw e.message="{length}: "+e.message,e}if(a<0)throw Error("{length} is less than zero");if((o=o.slice(s)).length<a)throw Error("unexpected {text_value} length");return i+=a,{v:o.toString("utf8",0,a),len:i}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},12277:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313),i=r(52579);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.TEXTP]=this}canBeUsedFor(e){return e instanceof i.TextP}serialize(e,t=!0){let r;if(null==e)return t?n.from([this.ioc.DataType.TEXTP,1]):n.from([0,0,0,0,0,0,0,0]);let i=[];return t&&i.push(n.from([this.ioc.DataType.TEXTP,0])),i.push(this.ioc.stringSerializer.serialize(e.operator,!1)),r=void 0===e.other||null===e.other?Array.isArray(e.value)?e.value:[e.value]:[e.value,e.other],i.push(this.ioc.listSerializer.serialize(r,!1)),n.concat(i)}deserialize(e,t=!0){let r=0,o=e;try{let a,s,l,u;if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=o.readUInt8();if(r++,e!==this.ioc.DataType.TEXTP)throw Error("unexpected {type_code}");if((o=o.slice(1)).length<1)throw Error("{value_flag} is missing");let t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");o=o.slice(1)}try{({v:a,len:s}=this.ioc.stringSerializer.deserialize(o,!1)),r+=s}catch(e){throw e.message="{name}: "+e.message,e}o=o.slice(s);try{({v:l,len:u}=this.ioc.listSerializer.deserialize(o,!1)),r+=u}catch(e){throw e.message="{values}: "+e.message,e}if(o=o.slice(u),l.length<1)return{v:new i.TextP(""),len:r};let c=i.TextP[a];return{v:"function"==typeof c?c(...l):new i.TextP(a,...l),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},56688:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313),{TraversalStrategySerializer:i}=r(4536);e.exports=class{constructor(e){this.ioc=e,this.graphsonTraversalStrategySerializer=new i}canBeUsedFor(e){return this.graphsonTraversalStrategySerializer.canBeUsedFor(e)}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.TRAVERSALSTRATEGY,1]):n.from([0,0,0,0,0,0,0,0]);let r=[];t&&r.push(n.from([this.ioc.DataType.TRAVERSALSTRATEGY,0]));let i=e.fqcn,o={};for(let t in e.configuration)e.configuration.hasOwnProperty(t)&&(o[t]=e.configuration[t]);return r.push(this.ioc.classSerializer.serialize(i,!1)),r.push(this.ioc.mapSerializer.serialize(o,!1)),n.concat(r)}}},16051:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313),i=r(52579);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.TRAVERSER]=this}canBeUsedFor(e){return e instanceof i.Traverser}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.TRAVERSER,1]):n.from([0,0,0,0,0,0,0,1,254,1]);let r=[];return t&&r.push(n.from([this.ioc.DataType.TRAVERSER,0])),r.push(this.ioc.longSerializer.serialize(e.bulk,!1)),r.push(this.ioc.anySerializer.serialize(e.object)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{let a,s,l,u;if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=o.readUInt8();if(r++,e!==this.ioc.DataType.TRAVERSER)throw Error("unexpected {type_code}");if((o=o.slice(1)).length<1)throw Error("{value_flag} is missing");let t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");o=o.slice(1)}try{({v:a,len:s}=this.ioc.longSerializer.deserialize(o,!1)),r+=s}catch(e){throw e.message="{bulk}: "+e.message,e}if(a<0)throw Error("{bulk} is less than zero");o=o.slice(s);try{({v:l,len:u}=this.ioc.anySerializer.deserialize(o)),r+=u}catch(e){throw e.message="{value}: "+e.message,e}return o=o.slice(u),{v:new i.Traverser(l,a),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},33070:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.UNSPECIFIED_NULL]=this}canBeUsedFor(e){return null==e}serialize(e){return n.from([this.ioc.DataType.UNSPECIFIED_NULL,1])}deserialize(e){let t=0,r=e;try{if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");let i=r.readUInt8();if(t++,i!==this.ioc.DataType.UNSPECIFIED_NULL)throw Error("unexpected {type_code}");if((r=r.slice(1)).length<1)throw Error("{value_flag} is missing");let o=r.readUInt8();if(t++,1!==o)throw Error("unexpected {value_flag}");return r=r.slice(1),{v:null,len:t}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:r,err:e})}}}},57485:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.UUID]=this}canBeUsedFor(e){}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.UUID,1]):n.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);let r=String(e).replace(/^urn:uuid:/,"").replace(/[{}-]/g,""),i=[];t&&i.push(n.from([this.ioc.DataType.UUID,0]));let o=n.alloc(16,0);for(let e=0;e<16&&2*e<r.length;e++)o[e]=parseInt(r.slice(2*e,2*e+2),16);return i.push(o),n.concat(i)}deserialize(e,t=!0,r=!1){let i=0,o=e;try{if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=o.readUInt8();if(i++,e!==this.ioc.DataType.UUID)throw Error("unexpected {type_code}");o=o.slice(1)}if(t||r){if(o.length<1)throw Error("{value_flag} is missing");let e=o.readUInt8();if(i++,1===e)return{v:null,len:i};if(0!==e)throw Error("unexpected {value_flag}");o=o.slice(1)}if(o.length<16)throw Error("unexpected {value} length");return i+=16,{v:o.slice(0,4).toString("hex")+"-"+o.slice(4,6).toString("hex")+"-"+o.slice(6,8).toString("hex")+"-"+o.slice(8,10).toString("hex")+"-"+o.slice(10,16).toString("hex"),len:i}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},57453:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313),i=r(41815);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.VERTEXPROPERTY]=this}canBeUsedFor(e){return e instanceof i.VertexProperty}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.VERTEXPROPERTY,1]):n.concat([this.ioc.unspecifiedNullSerializer.serialize(null),this.ioc.stringSerializer.serialize("",!1),this.ioc.unspecifiedNullSerializer.serialize(null),this.ioc.unspecifiedNullSerializer.serialize(null),this.ioc.unspecifiedNullSerializer.serialize(null)]);let r=[];return t&&r.push(n.from([this.ioc.DataType.VERTEXPROPERTY,0])),r.push(this.ioc.anySerializer.serialize(e.id)),r.push(this.ioc.stringSerializer.serialize(e.label,!1)),r.push(this.ioc.anySerializer.serialize(e.value)),r.push(this.ioc.unspecifiedNullSerializer.serialize(null)),r.push(this.ioc.anySerializer.serialize(e.properties)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{let a,s,l,u,c,f,d,p,h;if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=o.readUInt8();if(r++,e!==this.ioc.DataType.VERTEXPROPERTY)throw Error("unexpected {type_code}");if((o=o.slice(1)).length<1)throw Error("{value_flag} is missing");let t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");o=o.slice(1)}try{({v:a,len:s}=this.ioc.anySerializer.deserialize(o)),r+=s}catch(e){throw e.message="{id}: "+e.message,e}o=o.slice(s);try{({v:l,len:u}=this.ioc.stringSerializer.deserialize(o,!1)),r+=u}catch(e){throw e.message="{label}: "+e.message,e}o=o.slice(u);try{({v:c,len:f}=this.ioc.anySerializer.deserialize(o)),r+=f}catch(e){throw e.message="{value}: "+e.message,e}o=o.slice(f);try{({len:d}=this.ioc.unspecifiedNullSerializer.deserialize(o)),r+=d}catch(e){throw e.message="{parent}: "+e.message,e}o=o.slice(d);try{({v:p,len:h}=this.ioc.anySerializer.deserialize(o)),r+=h}catch(e){throw e.message="{properties}: "+e.message,e}return o=o.slice(h),{v:new i.VertexProperty(a,l,c,p),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},1806:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313),i=r(41815);e.exports=class{constructor(e){this.ioc=e,this.ioc.serializers[e.DataType.VERTEX]=this}canBeUsedFor(e){return e instanceof i.Vertex}serialize(e,t=!0){if(null==e)return t?n.from([this.ioc.DataType.VERTEX,1]):n.from([3,0,0,0,0,0,0,0,0,0,254,1]);let r=[];return t&&r.push(n.from([this.ioc.DataType.VERTEX,0])),r.push(this.ioc.anySerializer.serialize(e.id)),r.push(this.ioc.stringSerializer.serialize(e.label,!1)),r.push(this.ioc.anySerializer.serialize(e.properties)),n.concat(r)}deserialize(e,t=!0){let r=0,o=e;try{let a,s,l,u,c,f;if(null==e||!(e instanceof n))throw Error("buffer is missing");if(e.length<1)throw Error("buffer is empty");if(t){let e=o.readUInt8();if(r++,e!==this.ioc.DataType.VERTEX)throw Error("unexpected {type_code}");if((o=o.slice(1)).length<1)throw Error("{value_flag} is missing");let t=o.readUInt8();if(r++,1===t)return{v:null,len:r};if(0!==t)throw Error("unexpected {value_flag}");o=o.slice(1)}try{({v:a,len:s}=this.ioc.anySerializer.deserialize(o)),r+=s}catch(e){throw e.message="{id}: "+e.message,e}o=o.slice(s);try{({v:l,len:u}=this.ioc.stringSerializer.deserialize(o,!1)),r+=u}catch(e){throw e.message="{label}: "+e.message,e}o=o.slice(u);try{({v:c,len:f}=this.ioc.anySerializer.deserialize(o)),r+=f}catch(e){throw e.message="{properties}: "+e.message,e}return o=o.slice(f),{v:new i.Vertex(a,l,c),len:r}}catch(e){throw this.ioc.utils.des_error({serializer:this,args:arguments,cursor:o,err:e})}}}},83895:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313);e.exports={des_error:({serializer:e,args:t,cursor:r,err:i})=>{void 0===r&&(r=t[0]);let o="";r instanceof n&&(r.length>32&&(o="..."),r=r.slice(0,32).toString("hex"));let a=t[1],s=t[2],l=`${e.constructor.name}.deserialize(cursor=${r}${o}`;return void 0!==a&&(l+=`, fullyQualifiedFormat=${a}`),void 0!==s&&(l+=`, nullable=${s}`),l+=`): ${i.message.replace(/\.$/,"")}.`,i.message=l,i}}},52287:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313),i=r(4536),o=r(9511),a=r(93342);class s{constructor(e){this._options=e||{},this._serializers=this.getDefaultSerializers().map(e=>{let t=new e;return t.writer=this,t});let t=this._options.serializers||{};Object.keys(t).forEach(e=>{let r=t[e];r.serialize&&(r.writer=this,this._serializers.unshift(r))})}getDefaultSerializers(){return p}adaptObject(e){let t;for(let r=0;r<this._serializers.length;r++){let n=this._serializers[r];if(n.canBeUsedFor&&n.canBeUsedFor(e)){t=n;break}}return t?t.serialize(e):Array.isArray(e)?e.map(e=>this.adaptObject(e)):e}write(e){return JSON.stringify(this.adaptObject(e))}writeRequest({requestId:e,op:t,processor:r,args:i}){let a={requestId:{"@type":"g:UUID","@value":e},op:t,processor:r,args:this._adaptArgs(i,!0)};return a.args.gremlin instanceof o&&(a.args.gremlin=this.adaptObject(a.args.gremlin)),n.from(JSON.stringify(a))}_adaptArgs(e,t){if(e instanceof Object){let r={};return Object.keys(e).forEach(n=>{t&&"bindings"===n?r[n]=this._adaptArgs(e[n],!1):r[n]=this.adaptObject(e[n])}),r}return e}}class l extends s{getDefaultSerializers(){return h}}class u{constructor(e){this._options=e||{},this._deserializers={};let t=this.getDefaultDeserializers();if(Object.keys(t).forEach(e=>{let r=new t[e];r.reader=this,this._deserializers[e]=r}),this._options.serializers){let e=this._options.serializers||{};Object.keys(e).forEach(t=>{let r=e[t];r.deserialize&&(r.reader=this,this._deserializers[t]=r)})}}getDefaultDeserializers(){return f}read(e){if(void 0===e)return;if(null===e)return null;if(Array.isArray(e))return e.map(e=>this.read(e));let t=e[i.typeKey];if(t){let r=this._deserializers[t];return r?r.deserialize(e):e[i.valueKey]}return e&&"object"==typeof e?this._deserializeObject(e):e}readResponse(e){return this.read(a.parse(e.toString()))}_deserializeObject(e){let t=Object.keys(e),r={};for(let n=0;n<t.length;n++)r[t[n]]=this.read(e[t[n]]);return r}}class c extends u{getDefaultDeserializers(){return d}}let f={"g:Traverser":i.TraverserSerializer,"g:TraversalStrategy":i.TraversalStrategySerializer,"g:Int32":i.NumberSerializer,"g:Int64":i.BigNumberSerializer,"g:Float":i.NumberSerializer,"g:Double":i.NumberSerializer,"g:Date":i.DateSerializer,"g:Direction":i.DirectionSerializer,"g:Vertex":i.VertexSerializer,"g:Edge":i.EdgeSerializer,"g:VertexProperty":i.VertexPropertySerializer,"g:Property":i.PropertySerializer,"g:Path":i.Path3Serializer,"g:TextP":i.TextPSerializer,"g:T":i.TSerializer,"g:BulkSet":i.BulkSetSerializer},d=Object.assign({},f,{"g:List":i.ListSerializer,"g:Set":i.SetSerializer,"g:Map":i.MapSerializer}),p=[i.NumberSerializer,i.DateSerializer,i.BytecodeSerializer,i.TraverserSerializer,i.TraversalStrategySerializer,i.PSerializer,i.TextPSerializer,i.LambdaSerializer,i.EnumSerializer,i.VertexSerializer,i.EdgeSerializer,i.LongSerializer],h=p.concat([i.ListSerializer,i.SetSerializer,i.MapSerializer]);e.exports={GraphSON3Writer:l,GraphSON3Reader:c,GraphSON2Writer:s,GraphSON2Reader:u,GraphSONWriter:l,GraphSONReader:c}},4536:(e,t,r)=>{"use strict";let n=r(52579),i=r(9686),o=r(9511),a=r(41815),s=r(2208),l=r(96355),u="@value",c="@type";class f{serialize(){throw Error("serialize() method not implemented for "+this.constructor.name)}deserialize(){throw Error("deserialize() method not implemented for "+this.constructor.name)}canBeUsedFor(){throw Error("canBeUsedFor() method not implemented for "+this.constructor.name)}}class d extends f{serialize(e){return isNaN(e)?{[c]:"g:Double",[u]:"NaN"}:e===Number.POSITIVE_INFINITY?{[c]:"g:Double",[u]:"Infinity"}:e===Number.NEGATIVE_INFINITY?{[c]:"g:Double",[u]:"-Infinity"}:e}deserialize(e){let t=e[u];return"NaN"===t?NaN:"Infinity"===t?Number.POSITIVE_INFINITY:"-Infinity"===t?Number.NEGATIVE_INFINITY:parseFloat(t)}canBeUsedFor(e){return"number"==typeof e}}class p extends f{serialize(e){return isNaN(e)?{[c]:"g:Double",[u]:"NaN"}:e===Number.POSITIVE_INFINITY?{[c]:"g:Double",[u]:"Infinity"}:e===Number.NEGATIVE_INFINITY?{[c]:"g:Double",[u]:"-Infinity"}:e}deserialize(e){return e[u]}canBeUsedFor(e){return e instanceof l}}class h extends f{serialize(e){return{[c]:"g:Date",[u]:e.getTime()}}deserialize(e){return new Date(e[u])}canBeUsedFor(e){return e instanceof Date}}class y extends f{serialize(e){return{[c]:"g:Int64",[u]:e.value}}canBeUsedFor(e){return e instanceof s.Long}}class b extends f{serialize(e){let t=e;e instanceof n.Traversal&&(t=e.getBytecode());let r={};r[c]="g:Bytecode";let i=r[u]={},o=this._serializeInstructions(t.sourceInstructions);o&&(i.source=o);let a=this._serializeInstructions(t.stepInstructions);return a&&(i.step=a),r}_serializeInstructions(e){if(0===e.length)return null;let t=Array(e.length);t[0]=e[0];for(let r=0;r<e.length;r++)t[r]=e[r].map(e=>this.writer.adaptObject(e));return t}canBeUsedFor(e){return e instanceof o||e instanceof n.Traversal}}class g extends f{serialize(e){let t={};t[c]="g:P";let r=t[u]={predicate:e.operator};return void 0===e.other||null===e.other?r.value=this.writer.adaptObject(e.value):r.value=[this.writer.adaptObject(e.value),this.writer.adaptObject(e.other)],t}canBeUsedFor(e){return e instanceof n.P}}class m extends f{serialize(e){let t={};t[c]="g:TextP";let r=t[u]={predicate:e.operator};return void 0===e.other||null===e.other?r.value=this.writer.adaptObject(e.value):r.value=[this.writer.adaptObject(e.value),this.writer.adaptObject(e.other)],t}canBeUsedFor(e){return e instanceof n.TextP}}class v extends f{serialize(e){let t=e(),r="string"==typeof t,n=r?t:t[0],i=r?"gremlin-groovy":t[1];return{[c]:"g:Lambda",[u]:{arguments:"gremlin-groovy"===i&&n.includes("->")?n.substring(0,n.indexOf("->")).includes(",")?2:1:-1,language:i,script:n}}}canBeUsedFor(e){return"function"==typeof e}}class _ extends f{serialize(e){return{[c]:"g:"+e.typeName,[u]:e.elementName}}canBeUsedFor(e){return e&&e.typeName&&e instanceof n.EnumValue}}class O extends f{serialize(e){return{[c]:"g:Traverser",[u]:{value:this.writer.adaptObject(e.object),bulk:this.writer.adaptObject(e.bulk)}}}deserialize(e){let t=e[u];return new n.Traverser(this.reader.read(t.value),this.reader.read(t.bulk))}canBeUsedFor(e){return e instanceof n.Traverser}}class w extends f{serialize(e){let t={};for(let r in e.configuration)e.configuration.hasOwnProperty(r)&&(t[r]=this.writer.adaptObject(e.configuration[r]));return{[c]:"g:"+e.constructor.name,[u]:t}}canBeUsedFor(e){return e instanceof i.TraversalStrategy}}class S extends f{deserialize(e){let t=e[u];return new a.Vertex(this.reader.read(t.id),t.label,this.reader.read(t.properties))}serialize(e){return{[c]:"g:Vertex",[u]:{id:this.writer.adaptObject(e.id),label:e.label}}}canBeUsedFor(e){return e instanceof a.Vertex}}class E extends f{deserialize(e){let t=e[u];return new a.VertexProperty(this.reader.read(t.id),t.label,this.reader.read(t.value),this.reader.read(t.properties))}}class x extends f{deserialize(e){let t=e[u];return new a.Property(t.key,this.reader.read(t.value))}}class P extends f{deserialize(e){let t=e[u];return new a.Edge(this.reader.read(t.id),new a.Vertex(this.reader.read(t.outV),this.reader.read(t.outVLabel)),t.label,new a.Vertex(this.reader.read(t.inV),this.reader.read(t.inVLabel)),this.reader.read(t.properties))}serialize(e){return{[c]:"g:Edge",[u]:{id:this.writer.adaptObject(e.id),label:e.label,outV:this.writer.adaptObject(e.outV.id),outVLabel:e.outV.label,inV:this.writer.adaptObject(e.inV.id),inVLabel:e.inV.label}}}canBeUsedFor(e){return e instanceof a.Edge}}class j extends f{deserialize(e){let t=e[u],r=t.objects.map(e=>this.reader.read(e));return new a.Path(this.reader.read(t.labels),r)}}class T extends f{deserialize(e){let t=e[u];return new a.Path(this.reader.read(t.labels),this.reader.read(t.objects))}}class k extends f{deserialize(e){return n.t[e[u]]}}class C extends f{deserialize(e){return n.direction[e[u].toLowerCase()]}}class A extends f{constructor(e){super(),this.typeKey=e}deserialize(e){let t=e[u];if(!Array.isArray(t))throw Error("Expected Array, obtained: "+t);return t.map(e=>this.reader.read(e))}serialize(e){return{[c]:this.typeKey,[u]:e.map(e=>this.writer.adaptObject(e))}}canBeUsedFor(e){return Array.isArray(e)}}class R extends f{deserialize(e){let t=e[u];if(!Array.isArray(t))throw Error("Expected Array, obtained: "+t);let r=[];for(let e=0,n=t.length;e<n;e+=2){let n=t.slice(e,e+2);r=r.concat(Array(this.reader.read(n[1])).fill(this.reader.read(n[0])))}return r}}class M extends f{deserialize(e){let t=e[u];if(!Array.isArray(t))throw Error("Expected Array, obtained: "+t);let r=new Map;for(let e=0;e<t.length;e+=2)r.set(this.reader.read(t[e]),this.reader.read(t[e+1]));return r}serialize(e){let t=[];return e.forEach((e,r)=>{t.push(this.writer.adaptObject(r)),t.push(this.writer.adaptObject(e))}),{[c]:"g:Map",[u]:t}}canBeUsedFor(e){return e instanceof Map}}class I extends A{constructor(){super("g:List")}}class N extends A{constructor(){super("g:Set")}deserialize(e){return new Set(super.deserialize(e))}}e.exports={BulkSetSerializer:R,BytecodeSerializer:b,DateSerializer:h,BigNumberSerializer:p,DirectionSerializer:C,EdgeSerializer:P,EnumSerializer:_,LambdaSerializer:v,ListSerializer:I,LongSerializer:y,MapSerializer:M,NumberSerializer:d,Path3Serializer:T,PathSerializer:j,PropertySerializer:x,PSerializer:g,TextPSerializer:m,SetSerializer:N,TSerializer:k,TraverserSerializer:O,TraversalStrategySerializer:w,typeKey:c,valueKey:u,VertexPropertySerializer:E,VertexSerializer:S}},2208:(e,t,r)=>{"use strict";var n=r(73656);let i=r(35088);t.toLong=function(e){return new o(e)};let o=t.Long=function(e){if("string"!=typeof e&&"number"!=typeof e)throw TypeError("The value must be a string or a number");this.value=e.toString()};t.getUuid=function(){return i.v4()},t.emptyArray=Object.freeze([]);class a extends Map{constructor(e){super(e)}set(){return this}delete(){return!1}clear(){}}async function s(){let e,t,r,i;let o=(n?.env.npm_package_name??"NotAvailable").replace("_"," ");return e=t=r=i="NotAvailable",null!=n&&(n.version&&(e=n.version.replace(" ","_")),n.arch&&(i=n.arch.replace(" ","_"))),`${o} Gremlin-Javascript.4.0.0-SNAPSHOT ${e} ${t}.${r} ${i}`}t.ImmutableMap=a,t.getUserAgentHeader=function(){return"User-Agent"},t.getUserAgent=async()=>"navigator"in globalThis?globalThis.navigator.userAgent:n?.versions?.node!==void 0?await s():void 0,t.toArrayBuffer=e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),e.exports.DeferredPromise=()=>{let e=e=>{},t=e=>{};return Object.assign(new Promise((r,n)=>{e=r,t=n}),{resolve:e,reject:t})}},73019:e=>{"use strict";let{AbortController:t,AbortSignal}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=AbortSignal,e.exports.default=t},96355:function(e,t,r){var n;!function(i){"use strict";var o,a=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,l=Math.floor,u="[BigNumber Error] ",c=u+"Number primitive has more than 15 significant digits: ",f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function d(e){var t=0|e;return e>0||e===t?t:t-1}function p(e){for(var t,r,n=1,i=e.length,o=e[0]+"";n<i;){for(r=14-(t=e[n++]+"").length;r--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function h(e,t){var r,n,i=e.c,o=t.c,a=e.s,s=t.s,l=e.e,u=t.e;if(!a||!s)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-s:a;if(a!=s)return a;if(r=a<0,n=l==u,!i||!o)return n?0:!i^r?1:-1;if(!n)return l>u^r?1:-1;for(a=0,s=(l=i.length)<(u=o.length)?l:u;a<s;a++)if(i[a]!=o[a])return i[a]>o[a]^r?1:-1;return l==u?0:l>u^r?1:-1}function y(e,t,r,n){if(e<t||e>r||e!==l(e))throw Error(u+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function b(e){var t=e.c.length-1;return d(e.e/14)==t&&e.c[t]%2!=0}function g(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function m(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(n=e.length,++t>n){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}(o=function e(t){var r,n,i,o,v,_,O,w,S,E=z.prototype={constructor:z,toString:null,valueOf:null},x=new z(1),P=20,j=4,T=-7,k=21,C=-1e7,A=1e7,R=!1,M=1,I=0,N={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},L="0123456789abcdefghijklmnopqrstuvwxyz",D=!0;function z(e,t){var r,n,i,o,s,u,f,d,p=this;if(!(p instanceof z))return new z(e,t);if(null==t){if(e&&!0===e._isBigNumber){p.s=e.s,!e.c||e.e>A?p.c=p.e=null:e.e<C?p.c=[p.e=0]:(p.e=e.e,p.c=e.c.slice());return}if((u="number"==typeof e)&&0*e==0){if(p.s=1/e<0?(e=-e,-1):1,e===~~e){for(o=0,s=e;s>=10;s/=10,o++);o>A?p.c=p.e=null:(p.e=o,p.c=[e]);return}d=String(e)}else{if(!a.test(d=String(e)))return S(p,d,u);p.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(o=d.indexOf("."))>-1&&(d=d.replace(".","")),(s=d.search(/e/i))>0?(o<0&&(o=s),o+=+d.slice(s+1),d=d.substring(0,s)):o<0&&(o=d.length)}else{if(y(t,2,L.length,"Base"),10==t&&D)return W(p=new z(e),P+p.e+1,j);if(d=String(e),u="number"==typeof e){if(0*e!=0)return S(p,d,u,t);if(p.s=1/e<0?(d=d.slice(1),-1):1,z.DEBUG&&d.replace(/^0\.0*|\./,"").length>15)throw Error(c+e)}else p.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(r=L.slice(0,t),o=s=0,f=d.length;s<f;s++)if(0>r.indexOf(n=d.charAt(s))){if("."==n){if(s>o){o=f;continue}}else if(!i&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){i=!0,s=-1,o=0;continue}return S(p,String(e),u,t)}u=!1,(o=(d=w(d,t,10,p.s)).indexOf("."))>-1?d=d.replace(".",""):o=d.length}for(s=0;48===d.charCodeAt(s);s++);for(f=d.length;48===d.charCodeAt(--f););if(d=d.slice(s,++f)){if(f-=s,u&&z.DEBUG&&f>15&&(e>0x1fffffffffffff||e!==l(e)))throw Error(c+p.s*e);if((o=o-s-1)>A)p.c=p.e=null;else if(o<C)p.c=[p.e=0];else{if(p.e=o,p.c=[],s=(o+1)%14,o<0&&(s+=14),s<f){for(s&&p.c.push(+d.slice(0,s)),f-=14;s<f;)p.c.push(+d.slice(s,s+=14));s=14-(d=d.slice(s)).length}else s-=f;for(;s--;d+="0");p.c.push(+d)}}else p.c=[p.e=0]}function F(e,t,r,n){var i,o,a,s,l;if(null==r?r=j:y(r,0,8),!e.c)return e.toString();if(i=e.c[0],a=e.e,null==t)l=p(e.c),l=1==n||2==n&&(a<=T||a>=k)?g(l,a):m(l,a,"0");else if(o=(e=W(new z(e),t,r)).e,s=(l=p(e.c)).length,1==n||2==n&&(t<=o||o<=T)){for(;s<t;l+="0",s++);l=g(l,o)}else if(t-=a,l=m(l,o,"0"),o+1>s){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=o-s)>0)for(o+1==s&&(l+=".");t--;l+="0");return e.s<0&&i?"-"+l:l}function B(e,t){for(var r,n,i=1,o=new z(e[0]);i<e.length;i++)(n=new z(e[i])).s&&(r=h(o,n))!==t&&(0!==r||o.s!==t)||(o=n);return o}function U(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+14*r-1)>A?e.c=e.e=null:r<C?e.c=[e.e=0]:(e.e=r,e.c=t),e}function W(e,t,r,n){var i,o,a,u,c,d,p,h=e.c;if(h){e:{for(i=1,u=h[0];u>=10;u/=10,i++);if((o=t-i)<0)o+=14,a=t,p=l((c=h[d=0])/f[i-a-1]%10);else if((d=s((o+1)/14))>=h.length){if(n){for(;h.length<=d;h.push(0));c=p=0,i=1,o%=14,a=o-14+1}else break e}else{for(i=1,c=u=h[d];u>=10;u/=10,i++);o%=14,p=(a=o-14+i)<0?0:l(c/f[i-a-1]%10)}if(n=n||t<0||null!=h[d+1]||(a<0?c:c%f[i-a-1]),n=r<4?(p||n)&&(0==r||r==(e.s<0?3:2)):p>5||5==p&&(4==r||n||6==r&&(o>0?a>0?c/f[i-a]:0:h[d-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,n?(t-=e.e+1,h[0]=f[(14-t%14)%14],e.e=-t||0):h[0]=e.e=0,e;if(0==o?(h.length=d,u=1,d--):(h.length=d+1,u=f[14-o],h[d]=a>0?l(c/f[i-a]%f[a])*u:0),n)for(;;){if(0==d){for(o=1,a=h[0];a>=10;a/=10,o++);for(a=h[0]+=u,u=1;a>=10;a/=10,u++);o!=u&&(e.e++,1e14==h[0]&&(h[0]=1));break}if(h[d]+=u,1e14!=h[d])break;h[d--]=0,u=1}for(o=h.length;0===h[--o];h.pop());}e.e>A?e.c=e.e=null:e.e<C&&(e.c=[e.e=0])}return e}function Z(e){var t,r=e.e;return null===r?e.toString():(t=p(e.c),t=r<=T||r>=k?g(t,r):m(t,r,"0"),e.s<0?"-"+t:t)}return z.clone=e,z.ROUND_UP=0,z.ROUND_DOWN=1,z.ROUND_CEIL=2,z.ROUND_FLOOR=3,z.ROUND_HALF_UP=4,z.ROUND_HALF_DOWN=5,z.ROUND_HALF_EVEN=6,z.ROUND_HALF_CEIL=7,z.ROUND_HALF_FLOOR=8,z.EUCLID=9,z.config=z.set=function(e){var t,r;if(null!=e){if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(y(r=e[t],0,1e9,t),P=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(y(r=e[t],0,8,t),j=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(y(r[0],-1e9,0,t),y(r[1],0,1e9,t),T=r[0],k=r[1]):(y(r,-1e9,1e9,t),T=-(k=r<0?-r:r))),e.hasOwnProperty(t="RANGE")){if((r=e[t])&&r.pop)y(r[0],-1e9,-1,t),y(r[1],1,1e9,t),C=r[0],A=r[1];else if(y(r,-1e9,1e9,t),r)C=-(A=r<0?-r:r);else throw Error(u+t+" cannot be zero: "+r)}if(e.hasOwnProperty(t="CRYPTO")){if(!!(r=e[t])===r){if(r){if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))R=r;else throw R=!r,Error(u+"crypto unavailable")}else R=r}else throw Error(u+t+" not true or false: "+r)}if(e.hasOwnProperty(t="MODULO_MODE")&&(y(r=e[t],0,9,t),M=r),e.hasOwnProperty(t="POW_PRECISION")&&(y(r=e[t],0,1e9,t),I=r),e.hasOwnProperty(t="FORMAT")){if("object"==typeof(r=e[t]))N=r;else throw Error(u+t+" not an object: "+r)}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(u+t+" invalid: "+r);D="0123456789"==r.slice(0,10),L=r}}else throw Error(u+"Object expected: "+e)}return{DECIMAL_PLACES:P,ROUNDING_MODE:j,EXPONENTIAL_AT:[T,k],RANGE:[C,A],CRYPTO:R,MODULO_MODE:M,POW_PRECISION:I,FORMAT:N,ALPHABET:L}},z.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!z.DEBUG)return!0;var t,r,n=e.c,i=e.e,o=e.s;e:if("[object Array]"==({}).toString.call(n)){if((1===o||-1===o)&&i>=-1e9&&i<=1e9&&i===l(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%14)<1&&(t+=14),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=1e14||r!==l(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(u+"Invalid BigNumber: "+e)},z.maximum=z.max=function(){return B(arguments,-1)},z.minimum=z.min=function(){return B(arguments,1)},z.random=(r=0x20000000000000*Math.random()&2097151?function(){return l(0x20000000000000*Math.random())}:function(){return(0x40000000*Math.random()|0)*8388608+(8388608*Math.random()|0)},function(e){var t,n,i,o,a,c=0,d=[],p=new z(x);if(null==e?e=P:y(e,0,1e9),o=s(e/14),R){if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));c<o;)(a=131072*t[c]+(t[c+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[c]=n[0],t[c+1]=n[1]):(d.push(a%1e14),c+=2);c=o/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(o*=7);c<o;)(a=(31&t[c])*0x1000000000000+0x10000000000*t[c+1]+0x100000000*t[c+2]+0x1000000*t[c+3]+(t[c+4]<<16)+(t[c+5]<<8)+t[c+6])>=9e15?crypto.randomBytes(7).copy(t,c):(d.push(a%1e14),c+=7);c=o/7}else throw R=!1,Error(u+"crypto unavailable")}if(!R)for(;c<o;)(a=r())<9e15&&(d[c++]=a%1e14);for(o=d[--c],e%=14,o&&e&&(a=f[14-e],d[c]=l(o/a)*a);0===d[c];d.pop(),c--);if(c<0)d=[i=0];else{for(i=-1;0===d[0];d.splice(0,1),i-=14);for(c=1,a=d[0];a>=10;a/=10,c++);c<14&&(i-=14-c)}return p.e=i,p.c=d,p}),z.sum=function(){for(var e=1,t=arguments,r=new z(t[0]);e<t.length;)r=r.plus(t[e++]);return r},w=function(){var e="0123456789";function t(e,t,r,n){for(var i,o,a=[0],s=0,l=e.length;s<l;){for(o=a.length;o--;a[o]*=t);for(a[0]+=n.indexOf(e.charAt(s++)),i=0;i<a.length;i++)a[i]>r-1&&(null==a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/r|0,a[i]%=r)}return a.reverse()}return function(r,n,i,o,a){var s,l,u,c,f,d,h,y,b=r.indexOf("."),g=P,v=j;for(b>=0&&(c=I,I=0,r=r.replace(".",""),d=(y=new z(n)).pow(r.length-b),I=c,y.c=t(m(p(d.c),d.e,"0"),10,i,e),y.e=y.c.length),u=c=(h=t(r,n,i,a?(s=L,e):(s=e,L))).length;0==h[--c];h.pop());if(!h[0])return s.charAt(0);if(b<0?--u:(d.c=h,d.e=u,d.s=o,h=(d=O(d,y,g,v,i)).c,f=d.r,u=d.e),b=h[l=u+g+1],c=i/2,f=f||l<0||null!=h[l+1],f=v<4?(null!=b||f)&&(0==v||v==(d.s<0?3:2)):b>c||b==c&&(4==v||f||6==v&&1&h[l-1]||v==(d.s<0?8:7)),l<1||!h[0])r=f?m(s.charAt(1),-g,s.charAt(0)):s.charAt(0);else{if(h.length=l,f)for(--i;++h[--l]>i;)h[l]=0,l||(++u,h=[1].concat(h));for(c=h.length;!h[--c];);for(b=0,r="";b<=c;r+=s.charAt(h[b++]));r=m(r,u,s.charAt(0))}return r}}(),O=function(){function e(e,t,r){var n,i,o,a,s=0,l=e.length,u=t%1e7,c=t/1e7|0;for(e=e.slice();l--;)n=c*(o=e[l]%1e7)+(a=e[l]/1e7|0)*u,s=((i=u*o+n%1e7*1e7+s)/r|0)+(n/1e7|0)+c*a,e[l]=i%r;return s&&(e=[s].concat(e)),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,o,a,s){var u,c,f,p,h,y,b,g,m,v,_,O,w,S,E,x,P,j=n.s==i.s?1:-1,T=n.c,k=i.c;if(!T||!T[0]||!k||!k[0])return new z(n.s&&i.s&&(T?!k||T[0]!=k[0]:k)?T&&0==T[0]||!k?0*j:j/0:NaN);for(m=(g=new z(j)).c=[],j=o+(c=n.e-i.e)+1,s||(s=1e14,c=d(n.e/14)-d(i.e/14),j=j/14|0),f=0;k[f]==(T[f]||0);f++);if(k[f]>(T[f]||0)&&c--,j<0)m.push(1),p=!0;else{for(S=T.length,x=k.length,f=0,j+=2,(h=l(s/(k[0]+1)))>1&&(k=e(k,h,s),T=e(T,h,s),x=k.length,S=T.length),w=x,_=(v=T.slice(0,x)).length;_<x;v[_++]=0);P=[0].concat(P=k.slice()),E=k[0],k[1]>=s/2&&E++;do{if(h=0,(u=t(k,v,x,_))<0){if(O=v[0],x!=_&&(O=O*s+(v[1]||0)),(h=l(O/E))>1)for(h>=s&&(h=s-1),b=(y=e(k,h,s)).length,_=v.length;1==t(y,v,b,_);)h--,r(y,x<b?P:k,b,s),b=y.length,u=1;else 0==h&&(u=h=1),b=(y=k.slice()).length;if(b<_&&(y=[0].concat(y)),r(v,y,_,s),_=v.length,-1==u)for(;1>t(k,v,x,_);)h++,r(v,x<_?P:k,_,s),_=v.length}else 0===u&&(h++,v=[0]);m[f++]=h,v[0]?v[_++]=T[w]||0:(v=[T[w]],_=1)}while((w++<S||null!=v[0])&&j--);p=null!=v[0],m[0]||m.splice(0,1)}if(1e14==s){for(f=1,j=m[0];j>=10;j/=10,f++);W(g,o+(g.e=f+14*c-1)+1,a,p)}else g.e=c,g.r=+p;return g}}(),n=/^(-?)0([xbo])(?=\w[\w.]*$)/i,i=/^([^.]+)\.$/,o=/^\.([^.]+)$/,v=/^-?(Infinity|NaN)$/,_=/^\s*\+(?=[\w.])|^\s+|\s+$/g,S=function(e,t,r,a){var s,l=r?t:t.replace(_,"");if(v.test(l))e.s=isNaN(l)?null:l<0?-1:1;else{if(!r&&(l=l.replace(n,function(e,t,r){return s="x"==(r=r.toLowerCase())?16:"b"==r?2:8,a&&a!=s?e:t}),a&&(s=a,l=l.replace(i,"$1").replace(o,"0.$1")),t!=l))return new z(l,s);if(z.DEBUG)throw Error(u+"Not a"+(a?" base "+a:"")+" number: "+t);e.s=null}e.c=e.e=null},E.absoluteValue=E.abs=function(){var e=new z(this);return e.s<0&&(e.s=1),e},E.comparedTo=function(e,t){return h(this,new z(e,t))},E.decimalPlaces=E.dp=function(e,t){var r,n,i;if(null!=e)return y(e,0,1e9),null==t?t=j:y(t,0,8),W(new z(this),e+this.e+1,t);if(!(r=this.c))return null;if(n=((i=r.length-1)-d(this.e/14))*14,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},E.dividedBy=E.div=function(e,t){return O(this,new z(e,t),P,j)},E.dividedToIntegerBy=E.idiv=function(e,t){return O(this,new z(e,t),0,1)},E.exponentiatedBy=E.pow=function(e,t){var r,n,i,o,a,c,f,d,p,h=this;if((e=new z(e)).c&&!e.isInteger())throw Error(u+"Exponent not an integer: "+Z(e));if(null!=t&&(t=new z(t)),c=e.e>14,!h.c||!h.c[0]||1==h.c[0]&&!h.e&&1==h.c.length||!e.c||!e.c[0])return p=new z(Math.pow(+Z(h),c?e.s*(2-b(e)):+Z(e))),t?p.mod(t):p;if(f=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new z(NaN);(n=!f&&h.isInteger()&&t.isInteger())&&(h=h.mod(t))}else{if(e.e>9&&(h.e>0||h.e<-1||(0==h.e?h.c[0]>1||c&&h.c[1]>=24e7:h.c[0]<8e13||c&&h.c[0]<=9999975e7)))return o=h.s<0&&b(e)?-0:0,h.e>-1&&(o=1/o),new z(f?1/o:o);I&&(o=s(I/14+2))}for(c?(r=new z(.5),f&&(e.s=1),d=b(e)):d=(i=Math.abs(+Z(e)))%2,p=new z(x);;){if(d){if(!(p=p.times(h)).c)break;o?p.c.length>o&&(p.c.length=o):n&&(p=p.mod(t))}if(i){if(0===(i=l(i/2)))break;d=i%2}else if(W(e=e.times(r),e.e+1,1),e.e>14)d=b(e);else{if(0==(i=+Z(e)))break;d=i%2}h=h.times(h),o?h.c&&h.c.length>o&&(h.c.length=o):n&&(h=h.mod(t))}return n?p:(f&&(p=x.div(p)),t?p.mod(t):o?W(p,I,j,a):p)},E.integerValue=function(e){var t=new z(this);return null==e?e=j:y(e,0,8),W(t,t.e+1,e)},E.isEqualTo=E.eq=function(e,t){return 0===h(this,new z(e,t))},E.isFinite=function(){return!!this.c},E.isGreaterThan=E.gt=function(e,t){return h(this,new z(e,t))>0},E.isGreaterThanOrEqualTo=E.gte=function(e,t){return 1===(t=h(this,new z(e,t)))||0===t},E.isInteger=function(){return!!this.c&&d(this.e/14)>this.c.length-2},E.isLessThan=E.lt=function(e,t){return 0>h(this,new z(e,t))},E.isLessThanOrEqualTo=E.lte=function(e,t){return -1===(t=h(this,new z(e,t)))||0===t},E.isNaN=function(){return!this.s},E.isNegative=function(){return this.s<0},E.isPositive=function(){return this.s>0},E.isZero=function(){return!!this.c&&0==this.c[0]},E.minus=function(e,t){var r,n,i,o,a=this.s;if(t=(e=new z(e,t)).s,!a||!t)return new z(NaN);if(a!=t)return e.s=-t,this.plus(e);var s=this.e/14,l=e.e/14,u=this.c,c=e.c;if(!s||!l){if(!u||!c)return u?(e.s=-t,e):new z(c?this:NaN);if(!u[0]||!c[0])return c[0]?(e.s=-t,e):new z(u[0]?this:3==j?-0:0)}if(s=d(s),l=d(l),u=u.slice(),a=s-l){for((o=a<0)?(a=-a,i=u):(l=s,i=c),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(n=(o=(a=u.length)<(t=c.length))?a:t,a=t=0;t<n;t++)if(u[t]!=c[t]){o=u[t]<c[t];break}if(o&&(i=u,u=c,c=i,e.s=-e.s),(t=(n=c.length)-(r=u.length))>0)for(;t--;u[r++]=0);for(t=1e14-1;n>a;){if(u[--n]<c[n]){for(r=n;r&&!u[--r];u[r]=t);--u[r],u[n]+=1e14}u[n]-=c[n]}for(;0==u[0];u.splice(0,1),--l);return u[0]?U(e,u,l):(e.s=3==j?-1:1,e.c=[e.e=0],e)},E.modulo=E.mod=function(e,t){var r,n;return(e=new z(e,t),this.c&&e.s&&(!e.c||e.c[0]))?e.c&&(!this.c||this.c[0])?(9==M?(n=e.s,e.s=1,r=O(this,e,0,3),e.s=n,r.s*=n):r=O(this,e,0,M),(e=this.minus(r.times(e))).c[0]||1!=M||(e.s=this.s),e):new z(this):new z(NaN)},E.multipliedBy=E.times=function(e,t){var r,n,i,o,a,s,l,u,c,f,p,h,y,b=this.c,g=(e=new z(e,t)).c;if(!b||!g||!b[0]||!g[0])return this.s&&e.s&&(!b||b[0]||g)&&(!g||g[0]||b)?(e.s*=this.s,b&&g?(e.c=[0],e.e=0):e.c=e.e=null):e.c=e.e=e.s=null,e;for(n=d(this.e/14)+d(e.e/14),e.s*=this.s,(l=b.length)<(f=g.length)&&(y=b,b=g,g=y,i=l,l=f,f=i),i=l+f,y=[];i--;y.push(0));for(i=f;--i>=0;){for(r=0,p=g[i]%1e7,h=g[i]/1e7|0,o=i+(a=l);o>i;)s=h*(u=b[--a]%1e7)+(c=b[a]/1e7|0)*p,r=((u=p*u+s%1e7*1e7+y[o]+r)/1e14|0)+(s/1e7|0)+h*c,y[o--]=u%1e14;y[o]=r}return r?++n:y.splice(0,1),U(e,y,n)},E.negated=function(){var e=new z(this);return e.s=-e.s||null,e},E.plus=function(e,t){var r,n=this.s;if(t=(e=new z(e,t)).s,!n||!t)return new z(NaN);if(n!=t)return e.s=-t,this.minus(e);var i=this.e/14,o=e.e/14,a=this.c,s=e.c;if(!i||!o){if(!a||!s)return new z(n/0);if(!a[0]||!s[0])return s[0]?e:new z(a[0]?this:0*n)}if(i=d(i),o=d(o),a=a.slice(),n=i-o){for(n>0?(o=i,r=s):(n=-n,r=a),r.reverse();n--;r.push(0));r.reverse()}for((n=a.length)-(t=s.length)<0&&(r=s,s=a,a=r,t=n),n=0;t;)n=(a[--t]=a[t]+s[t]+n)/1e14|0,a[t]=1e14===a[t]?0:a[t]%1e14;return n&&(a=[n].concat(a),++o),U(e,a,o)},E.precision=E.sd=function(e,t){var r,n,i;if(null!=e&&!!e!==e)return y(e,1,1e9),null==t?t=j:y(t,0,8),W(new z(this),e,t);if(!(r=this.c))return null;if(n=14*(i=r.length-1)+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&this.e+1>n&&(n=this.e+1),n},E.shiftedBy=function(e){return y(e,-0x1fffffffffffff,0x1fffffffffffff),this.times("1e"+e)},E.squareRoot=E.sqrt=function(){var e,t,r,n,i,o=this.c,a=this.s,s=this.e,l=P+4,u=new z("0.5");if(1!==a||!o||!o[0])return new z(!a||a<0&&(!o||o[0])?NaN:o?this:1/0);if(0==(a=Math.sqrt(+Z(this)))||a==1/0?(((t=p(o)).length+s)%2==0&&(t+="0"),a=Math.sqrt(+t),s=d((s+1)/2)-(s<0||s%2),r=new z(t=a==1/0?"5e"+s:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+s)):r=new z(a+""),r.c[0]){for((a=(s=r.e)+l)<3&&(a=0);;)if(i=r,r=u.times(i.plus(O(this,i,l,1))),p(i.c).slice(0,a)===(t=p(r.c)).slice(0,a)){if(r.e<s&&--a,"9999"!=(t=t.slice(a-3,a+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(W(r,r.e+P+2,1),e=!r.times(r).eq(this));break}if(!n&&(W(i,i.e+P+2,0),i.times(i).eq(this))){r=i;break}l+=4,a+=4,n=1}}return W(r,r.e+P+1,j,e)},E.toExponential=function(e,t){return null!=e&&(y(e,0,1e9),e++),F(this,e,t,1)},E.toFixed=function(e,t){return null!=e&&(y(e,0,1e9),e=e+this.e+1),F(this,e,t)},E.toFormat=function(e,t,r){var n;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=N;else if("object"!=typeof r)throw Error(u+"Argument not an object: "+r);if(n=this.toFixed(e,t),this.c){var i,o=n.split("."),a=+r.groupSize,s=+r.secondaryGroupSize,l=r.groupSeparator||"",c=o[0],f=o[1],d=this.s<0,p=d?c.slice(1):c,h=p.length;if(s&&(i=a,a=s,s=i,h-=i),a>0&&h>0){for(i=h%a||a,c=p.substr(0,i);i<h;i+=a)c+=l+p.substr(i,a);s>0&&(c+=l+p.slice(i)),d&&(c="-"+c)}n=f?c+(r.decimalSeparator||"")+((s=+r.fractionGroupSize)?f.replace(RegExp("\\d{"+s+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):f):c}return(r.prefix||"")+n+(r.suffix||"")},E.toFraction=function(e){var t,r,n,i,o,a,s,l,c,d,h,y,b=this.c;if(null!=e&&(!(s=new z(e)).isInteger()&&(s.c||1!==s.s)||s.lt(x)))throw Error(u+"Argument "+(s.isInteger()?"out of range: ":"not an integer: ")+Z(s));if(!b)return new z(this);for(t=new z(x),c=r=new z(x),n=l=new z(x),y=p(b),o=t.e=y.length-this.e-1,t.c[0]=f[(a=o%14)<0?14+a:a],e=!e||s.comparedTo(t)>0?o>0?t:c:s,a=A,A=1/0,s=new z(y),l.c[0]=0;d=O(s,t,0,1),1!=(i=r.plus(d.times(n))).comparedTo(e);)r=n,n=i,c=l.plus(d.times(i=c)),l=i,t=s.minus(d.times(i=t)),s=i;return i=O(e.minus(r),n,0,1),l=l.plus(i.times(c)),r=r.plus(i.times(n)),l.s=c.s=this.s,o*=2,h=1>O(c,n,o,j).minus(this).abs().comparedTo(O(l,r,o,j).minus(this).abs())?[c,n]:[l,r],A=a,h},E.toNumber=function(){return+Z(this)},E.toPrecision=function(e,t){return null!=e&&y(e,1,1e9),F(this,e,t,2)},E.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=i<=T||i>=k?g(p(r.c),i):m(p(r.c),i,"0"):10===e&&D?t=m(p((r=W(new z(r),P+i+1,j)).c),r.e,"0"):(y(e,2,L.length,"Base"),t=w(m(p(r.c),i,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},E.valueOf=E.toJSON=function(){return Z(this)},E._isBigNumber=!0,null!=t&&z.set(t),z}()).default=o.BigNumber=o,void 0!==(n=(function(){return o}).call(t,r,t,e))&&(e.exports=n)}(0)},92495:(e,t,r)=>{"use strict";function n(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function i(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function o(){}r.d(t,{ZP:()=>v});var a="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u=/^#([0-9a-f]{3,8})$/,c=RegExp("^rgb\\("+[a,a,a]+"\\)$"),f=RegExp("^rgb\\("+[l,l,l]+"\\)$"),d=RegExp("^rgba\\("+[a,a,a,s]+"\\)$"),p=RegExp("^rgba\\("+[l,l,l,s]+"\\)$"),h=RegExp("^hsl\\("+[s,l,l]+"\\)$"),y=RegExp("^hsla\\("+[s,l,l,s]+"\\)$"),b={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function g(){return this.rgb().formatHex()}function m(){return this.rgb().formatRgb()}function v(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=u.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?_(t):3===r?new w(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?O(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?O(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=c.exec(e))?new w(t[1],t[2],t[3],1):(t=f.exec(e))?new w(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=d.exec(e))?O(t[1],t[2],t[3],t[4]):(t=p.exec(e))?O(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=h.exec(e))?P(t[1],t[2]/100,t[3]/100,1):(t=y.exec(e))?P(t[1],t[2]/100,t[3]/100,t[4]):b.hasOwnProperty(e)?_(b[e]):"transparent"===e?new w(NaN,NaN,NaN,0):null}function _(e){return new w(e>>16&255,e>>8&255,255&e,1)}function O(e,t,r,n){return n<=0&&(e=t=r=NaN),new w(e,t,r,n)}function w(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function S(){return"#"+x(this.r)+x(this.g)+x(this.b)}function E(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function x(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function P(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new T(e,t,r,n)}function j(e){if(e instanceof T)return new T(e.h,e.s,e.l,e.opacity);if(e instanceof o||(e=v(e)),!e)return new T;if(e instanceof T)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,l=a-i,u=(a+i)/2;return l?(s=t===a?(r-n)/l+(r<n)*6:r===a?(n-t)/l+2:(t-r)/l+4,l/=u<.5?a+i:2-a-i,s*=60):l=u>0&&u<1?0:s,new T(s,l,u,e.opacity)}function T(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function k(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}n(o,v,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:g,formatHex:g,formatHsl:function(){return j(this).formatHsl()},formatRgb:m,toString:m}),n(w,function(e,t,r,n){var i;return 1==arguments.length?((i=e)instanceof o||(i=v(i)),i)?new w((i=i.rgb()).r,i.g,i.b,i.opacity):new w:new w(e,t,r,null==n?1:n)},i(o,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new w(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new w(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S,formatHex:S,formatRgb:E,toString:E})),n(T,function(e,t,r,n){return 1==arguments.length?j(e):new T(e,t,r,null==n?1:n)},i(o,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new T(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new T(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new w(k(e>=240?e-240:e+120,i,n),k(e,i,n),k(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))},47324:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise(function(r,n){var i;function o(r){e.removeListener(t,a),n(r)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}y(e,t,a,{once:!0}),"error"!==t&&(i={once:!0},"function"==typeof e.on&&y(e,"error",o,i))})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){if(s(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var i,o,a,u=Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,console&&console.warn&&console.warn(u)}return e}function c(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=c.bind(n);return i.listener=r,n.wrapFn=i,i}function d(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):h(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function h(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var a,s=Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)n(l,this,t);else for(var u=l.length,c=h(l,u),r=0;r<u;++r)n(c[r],this,t);return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,f(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,a;if(s(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},93342:(e,t,r)=>{var n=r(2914).stringify,i=r(15085);e.exports=function(e){return{parse:i(e),stringify:n}},e.exports.parse=i(),e.exports.stringify=n},15085:(e,t,r)=>{var n=null;let i=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,o=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;e.exports=function(e){"use strict";var t={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(null!=e){if(!0===e.strict&&(t.strict=!0),!0===e.storeAsString&&(t.storeAsString=!0),t.alwaysParseAsBig=!0===e.alwaysParseAsBig&&e.alwaysParseAsBig,t.useNativeBigInt=!0===e.useNativeBigInt&&e.useNativeBigInt,void 0!==e.constructorAction){if("error"===e.constructorAction||"ignore"===e.constructorAction||"preserve"===e.constructorAction)t.constructorAction=e.constructorAction;else throw Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${e.constructorAction}`)}if(void 0!==e.protoAction){if("error"===e.protoAction||"ignore"===e.protoAction||"preserve"===e.protoAction)t.protoAction=e.protoAction;else throw Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${e.protoAction}`)}}var a,s,l,u,c={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},f=function(e){throw{name:"SyntaxError",message:e,at:a,text:l}},d=function(e){return e&&e!==s&&f("Expected '"+e+"' instead of '"+s+"'"),s=l.charAt(a),a+=1,s},p=function(){var e,i="";for("-"===s&&(i="-",d("-"));s>="0"&&s<="9";)i+=s,d();if("."===s)for(i+=".";d()&&s>="0"&&s<="9";)i+=s;if("e"===s||"E"===s)for(i+=s,d(),("-"===s||"+"===s)&&(i+=s,d());s>="0"&&s<="9";)i+=s,d();if(isFinite(e=+i))return(null==n&&(n=r(96355)),i.length>15)?t.storeAsString?i:t.useNativeBigInt?BigInt(i):new n(i):t.alwaysParseAsBig?t.useNativeBigInt?BigInt(e):new n(e):e;f("Bad number")},h=function(){var e,t,r,n="";if('"'===s)for(var i=a;d();){if('"'===s)return a-1>i&&(n+=l.substring(i,a-1)),d(),n;if("\\"===s){if(a-1>i&&(n+=l.substring(i,a-1)),d(),"u"===s){for(t=0,r=0;t<4&&isFinite(e=parseInt(d(),16));t+=1)r=16*r+e;n+=String.fromCharCode(r)}else if("string"==typeof c[s])n+=c[s];else break;i=a}}f("Bad string")},y=function(){for(;s&&s<=" ";)d()},b=function(){switch(s){case"t":return d("t"),d("r"),d("u"),d("e"),!0;case"f":return d("f"),d("a"),d("l"),d("s"),d("e"),!1;case"n":return d("n"),d("u"),d("l"),d("l"),null}f("Unexpected '"+s+"'")},g=function(){var e=[];if("["===s){if(d("["),y(),"]"===s)return d("]"),e;for(;s;){if(e.push(u()),y(),"]"===s)return d("]"),e;d(","),y()}}f("Bad array")},m=function(){var e,r=Object.create(null);if("{"===s){if(d("{"),y(),"}"===s)return d("}"),r;for(;s;){if(e=h(),y(),d(":"),!0===t.strict&&Object.hasOwnProperty.call(r,e)&&f('Duplicate key "'+e+'"'),!0===i.test(e)?"error"===t.protoAction?f("Object contains forbidden prototype property"):"ignore"===t.protoAction?u():r[e]=u():!0===o.test(e)?"error"===t.constructorAction?f("Object contains forbidden constructor property"):"ignore"===t.constructorAction?u():r[e]=u():r[e]=u(),y(),"}"===s)return d("}"),r;d(","),y()}}f("Bad object")};return u=function(){switch(y(),s){case"{":return m();case"[":return g();case'"':return h();case"-":return p();default:return s>="0"&&s<="9"?p():b()}},function(e,t){var r;return l=e+"",a=0,s=" ",r=u(),y(),s&&f("Syntax error"),"function"==typeof t?function e(r,n){var i,o=r[n];return o&&"object"==typeof o&&Object.keys(o).forEach(function(t){void 0!==(i=e(o,t))?o[t]=i:delete o[t]}),t.call(r,n,o)}({"":r},""):r}}},2914:(e,t,r)=>{var n=r(96355),i=e.exports;!function(){"use strict";var e,t,r,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function s(e){return o.lastIndex=0,o.test(e)?'"'+e.replace(o,function(e){var t=a[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}"function"!=typeof i.stringify&&(i.stringify=function(i,o,a){var l;if(e="",t="","number"==typeof a)for(l=0;l<a;l+=1)t+=" ";else"string"==typeof a&&(t=a);if(r=o,o&&"function"!=typeof o&&("object"!=typeof o||"number"!=typeof o.length))throw Error("JSON.stringify");return function i(o,a){var l,u,c,f,d,p=e,h=a[o],y=null!=h&&(h instanceof n||n.isBigNumber(h));switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(o)),"function"==typeof r&&(h=r.call(a,o,h)),typeof h){case"string":if(y)return h;return s(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":case"bigint":return String(h);case"object":if(!h)return"null";if(e+=t,d=[],"[object Array]"===Object.prototype.toString.apply(h)){for(l=0,f=h.length;l<f;l+=1)d[l]=i(l,h)||"null";return c=0===d.length?"[]":e?"[\n"+e+d.join(",\n"+e)+"\n"+p+"]":"["+d.join(",")+"]",e=p,c}if(r&&"object"==typeof r)for(l=0,f=r.length;l<f;l+=1)"string"==typeof r[l]&&(c=i(u=r[l],h))&&d.push(s(u)+(e?": ":":")+c);else Object.keys(h).forEach(function(t){var r=i(t,h);r&&d.push(s(t)+(e?": ":":")+r)});return c=0===d.length?"{}":e?"{\n"+e+d.join(",\n"+e)+"\n"+p+"}":"{"+d.join(",")+"}",e=p,c}}("",{"":i})})}()},21478:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNotificationFilterIsEmpty=t.assertImpersonatedUserIsEmpty=t.assertTxConfigIsEmpty=t.assertDatabaseIsEmpty=void 0;var n=r(56214);r(58402),t.assertTxConfigIsEmpty=function(e,t,r){if(void 0===t&&(t=function(){}),e&&!e.isEmpty()){var i=(0,n.newError)("Driver is connected to the database that does not support transaction configuration. Please upgrade to neo4j 3.5.0 or later in order to use this functionality");throw t(i.message),r.onError(i),i}},t.assertDatabaseIsEmpty=function(e,t,r){if(void 0===t&&(t=function(){}),e){var i=(0,n.newError)("Driver is connected to the database that does not support multiple databases. Please upgrade to neo4j 4.0.0 or later in order to use this functionality");throw t(i.message),r.onError(i),i}},t.assertImpersonatedUserIsEmpty=function(e,t,r){if(void 0===t&&(t=function(){}),e){var i=(0,n.newError)("Driver is connected to the database that does not support user impersonation. Please upgrade to neo4j 4.4.0 or later in order to use this functionality. "+"Trying to impersonate ".concat(e,"."));throw t(i.message),r.onError(i),i}},t.assertNotificationFilterIsEmpty=function(e,t,r){if(void 0===t&&(t=function(){}),void 0!==e){var i=(0,n.newError)("Driver is connected to a database that does not support user notification filters. Please upgrade to Neo4j 5.7.0 or later in order to use this functionality. "+"Trying to set notifications to ".concat(n.json.stringify(e),"."));throw t(i.message),r.onError(i),i}}},50996:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(21478);r(14315);var l=r(43043),u=o(r(91653)),c=r(58402),f=r(56214),d=a(r(93828)),p=a(r(66911)),h=f.internal.bookmarks.Bookmarks,y=f.internal.constants,b=y.ACCESS_MODE_WRITE,g=y.BOLT_PROTOCOL_V1,m=(f.internal.logger.Logger,f.internal.txConfig.TxConfig),v=function(){function e(e,t,r,n,i,o){var a=void 0===r?{}:r,s=a.disableLosslessIntegers,l=a.useBigInt;void 0===n&&(n=function(){return null}),this._server=e||{},this._chunker=t,this._packer=this._createPacker(t),this._unpacker=this._createUnpacker(s,l),this._responseHandler=n(this),this._log=i,this._onProtocolError=o,this._fatalError=null,this._lastMessageSignature=null,this._config={disableLosslessIntegers:s,useBigInt:l}}return Object.defineProperty(e.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new p.default(Object.values(d.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return g},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"supportsReAuth",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"initialized",{get:function(){return!!this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authToken",{get:function(){return this._authToken},enumerable:!1,configurable:!0}),e.prototype.packer=function(){return this._packer},e.prototype.packable=function(e){return this._packer.packable(e,this.transformer.toStructure)},e.prototype.unpacker=function(){return this._unpacker},e.prototype.unpack=function(e){return this._unpacker.unpack(e,this.transformer.fromStructure)},e.prototype.transformMetadata=function(e){return e},e.prototype.initialize=function(e){var t=this,r=void 0===e?{}:e,n=r.userAgent,i=(r.boltAgent,r.authToken),o=r.notificationFilter,a=r.onError,l=r.onComplete,f=new c.LoginObserver({onError:function(e){return t._onLoginError(e,a)},onCompleted:function(e){return t._onLoginCompleted(e,l)}});return(0,s.assertNotificationFilterIsEmpty)(o,this._onProtocolError,f),this.write(u.default.init(n,i),f,!0),f},e.prototype.logoff=function(e){var t=void 0===e?{}:e,r=t.onComplete,n=t.onError;t.flush;var i=new c.LogoffObserver({onCompleted:r,onError:n}),o=(0,f.newError)("Driver is connected to a database that does not support logoff. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(o.message),i.onError(o),o},e.prototype.logon=function(e){var t=this,r=void 0===e?{}:e,n=r.authToken,i=r.onComplete,o=r.onError;r.flush;var a=new c.LoginObserver({onCompleted:function(){return t._onLoginCompleted({},n,i)},onError:function(e){return t._onLoginError(e,o)}}),s=(0,f.newError)("Driver is connected to a database that does not support logon. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(s.message),a.onError(s),s},e.prototype.prepareToClose=function(){},e.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,r=t.bookmarks,n=t.txConfig,i=t.database,o=t.mode,a=t.impersonatedUser,s=t.notificationFilter,l=t.beforeError,u=t.afterError,c=t.beforeComplete,f=t.afterComplete;return this.run("BEGIN",r?r.asBeginTransactionParameters():{},{bookmarks:r,txConfig:n,database:i,mode:o,impersonatedUser:a,notificationFilter:s,beforeError:l,afterError:u,beforeComplete:c,afterComplete:f,flush:!1})},e.prototype.commitTransaction=function(e){var t=void 0===e?{}:e,r=t.beforeError,n=t.afterError,i=t.beforeComplete,o=t.afterComplete;return this.run("COMMIT",{},{bookmarks:h.empty(),txConfig:m.empty(),mode:b,beforeError:r,afterError:n,beforeComplete:i,afterComplete:o})},e.prototype.rollbackTransaction=function(e){var t=void 0===e?{}:e,r=t.beforeError,n=t.afterError,i=t.beforeComplete,o=t.afterComplete;return this.run("ROLLBACK",{},{bookmarks:h.empty(),txConfig:m.empty(),mode:b,beforeError:r,afterError:n,beforeComplete:i,afterComplete:o})},e.prototype.run=function(e,t,r){var n=void 0===r?{}:r,i=(n.bookmarks,n.txConfig),o=n.database,a=(n.mode,n.impersonatedUser),l=n.notificationFilter,f=n.beforeKeys,d=n.afterKeys,p=n.beforeError,h=n.afterError,y=n.beforeComplete,b=n.afterComplete,g=n.flush,m=n.highRecordWatermark,v=void 0===m?Number.MAX_VALUE:m,_=n.lowRecordWatermark,O=void 0===_?Number.MAX_VALUE:_,w=new c.ResultStreamObserver({server:this._server,beforeKeys:f,afterKeys:d,beforeError:p,afterError:h,beforeComplete:y,afterComplete:b,highRecordWatermark:v,lowRecordWatermark:O});return(0,s.assertTxConfigIsEmpty)(i,this._onProtocolError,w),(0,s.assertDatabaseIsEmpty)(o,this._onProtocolError,w),(0,s.assertImpersonatedUserIsEmpty)(a,this._onProtocolError,w),(0,s.assertNotificationFilterIsEmpty)(l,this._onProtocolError,w),this.write(u.default.run(e,t),w,!1),this.write(u.default.pullAll(),w,void 0===g||g),w},Object.defineProperty(e.prototype,"currentFailure",{get:function(){return this._responseHandler.currentFailure},enumerable:!1,configurable:!0}),e.prototype.reset=function(e){var t=void 0===e?{}:e,r=t.onError,n=t.onComplete,i=new c.ResetObserver({onProtocolError:this._onProtocolError,onError:r,onComplete:n});return this.write(u.default.reset(),i,!0),i},e.prototype.telemetry=function(e,t){e.api;var r=void 0===t?{}:t,n=(r.onError,r.onCompleted),i=new c.CompletedObserver;return n&&n(),i},e.prototype._createPacker=function(e){return new l.v1.Packer(e)},e.prototype._createUnpacker=function(e,t){return new l.v1.Unpacker(e,t)},e.prototype.write=function(e,t,r){if(this.queueObserverIfProtocolIsNotBroken(t)){this._log.isDebugEnabled()&&this._log.debug("C: ".concat(e)),this._lastMessageSignature=e.signature;var n=new l.structure.Structure(e.signature,e.fields);this.packable(n)(),this._chunker.messageBoundary(),r&&this._chunker.flush()}},e.prototype.isLastMessageLogon=function(){return this._lastMessageSignature===u.SIGNATURES.HELLO||this._lastMessageSignature===u.SIGNATURES.LOGON},e.prototype.isLastMessageReset=function(){return this._lastMessageSignature===u.SIGNATURES.RESET},e.prototype.notifyFatalError=function(e){return this._fatalError=e,this._responseHandler._notifyErrorToObservers(e)},e.prototype.updateCurrentObserver=function(){return this._responseHandler._updateCurrentObserver()},e.prototype.hasOngoingObservableRequests=function(){return this._responseHandler.hasOngoingObservableRequests()},e.prototype.queueObserverIfProtocolIsNotBroken=function(e){return this.isBroken()?(this.notifyFatalErrorToObserver(e),!1):this._responseHandler._queueObserver(e)},e.prototype.isBroken=function(){return!!this._fatalError},e.prototype.notifyFatalErrorToObserver=function(e){e&&e.onError&&e.onError(this._fatalError)},e.prototype.resetFailure=function(){this._responseHandler._resetFailure()},e.prototype._onLoginCompleted=function(e,t,r){if(this._initialized=!0,this._authToken=t,e){var n=e.server;this._server.version||(this._server.version=n)}r&&r(e)},e.prototype._onLoginError=function(e,t){this._onProtocolError(e.message),t&&t(e)},e}();t.default=v},93828:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var i=r(56214),o=r(43043),a=r(66911),s=i.error.PROTOCOL_ERROR;t.default={createNodeTransformer:function(){return new a.TypeTransformer({signature:78,isTypeInstance:function(e){return e instanceof i.Node},toStructure:function(e){throw(0,i.newError)("It is not allowed to pass nodes in query parameters, given: ".concat(e),s)},fromStructure:function(e){o.structure.verifyStructSize("Node",3,e.size);var t=n(e.fields,3),r=t[0],a=t[1],s=t[2];return new i.Node(r,a,s)}})},createRelationshipTransformer:function(){return new a.TypeTransformer({signature:82,isTypeInstance:function(e){return e instanceof i.Relationship},toStructure:function(e){throw(0,i.newError)("It is not allowed to pass relationships in query parameters, given: ".concat(e),s)},fromStructure:function(e){o.structure.verifyStructSize("Relationship",5,e.size);var t=n(e.fields,5),r=t[0],a=t[1],s=t[2],l=t[3],u=t[4];return new i.Relationship(r,a,s,l,u)}})},createUnboundRelationshipTransformer:function(){return new a.TypeTransformer({signature:114,isTypeInstance:function(e){return e instanceof i.UnboundRelationship},toStructure:function(e){throw(0,i.newError)("It is not allowed to pass unbound relationships in query parameters, given: ".concat(e),s)},fromStructure:function(e){o.structure.verifyStructSize("UnboundRelationship",3,e.size);var t=n(e.fields,3),r=t[0],a=t[1],s=t[2];return new i.UnboundRelationship(r,a,s)}})},createPathTransformer:function(){return new a.TypeTransformer({signature:80,isTypeInstance:function(e){return e instanceof i.Path},toStructure:function(e){throw(0,i.newError)("It is not allowed to pass paths in query parameters, given: ".concat(e),s)},fromStructure:function(e){o.structure.verifyStructSize("Path",3,e.size);for(var t=n(e.fields,3),r=t[0],a=t[1],s=t[2],l=[],u=r[0],c=0;c<s.length;c+=2){var f=r[s[c+1]],d=(0,i.toNumber)(s[c]),p=void 0;d>0?(p=a[d-1])instanceof i.UnboundRelationship&&(a[d-1]=p=p.bindTo(u,f)):(p=a[-d-1])instanceof i.UnboundRelationship&&(a[-d-1]=p=p.bindTo(f,u)),l.push(new i.PathSegment(u,p,f)),u=f}return new i.Path(r[0],r[r.length-1],l)}})}}},5917:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(50996)),s=o(r(43043)),l=r(56214),u=o(r(69066)),c=o(r(66911)),f=l.internal.constants.BOLT_PROTOCOL_V2,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype._createPacker=function(e){return new s.default.Packer(e)},t.prototype._createUnpacker=function(e,t){return new s.default.Unpacker(e,t)},Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new c.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),t}(a.default);t.default=d},69066:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(56214),s=r(43043),l=r(66911),u=r(1108),c=o(r(93828)),f=a.internal.temporalUtil,d=f.dateToEpochDay,p=f.localDateTimeToEpochSecond,h=f.localTimeToNanoOfDay;function y(e,t,r){if(!t&&!r)return e;var n=Object.create(Object.getPrototypeOf(e));for(var i in e)if(!0===Object.prototype.hasOwnProperty.call(e,i)){var o=e[i];n[i]=(0,a.isInt)(o)?r?o.toBigInt():o.toNumberOrInfinity():o}return Object.freeze(n),n}t.default=n(n({},c.default),{createPoint2DTransformer:function(){return new l.TypeTransformer({signature:88,isTypeInstance:function(e){return(0,a.isPoint)(e)&&(null===e.z||void 0===e.z)},toStructure:function(e){return new s.structure.Structure(88,[(0,a.int)(e.srid),e.x,e.y])},fromStructure:function(e){s.structure.verifyStructSize("Point2D",3,e.size);var t=i(e.fields,3),r=t[0],n=t[1],o=t[2];return new a.Point(r,n,o,void 0)}})},createPoint3DTransformer:function(){return new l.TypeTransformer({signature:89,isTypeInstance:function(e){return(0,a.isPoint)(e)&&null!==e.z&&void 0!==e.z},toStructure:function(e){return new s.structure.Structure(89,[(0,a.int)(e.srid),e.x,e.y,e.z])},fromStructure:function(e){s.structure.verifyStructSize("Point3D",4,e.size);var t=i(e.fields,4),r=t[0],n=t[1],o=t[2],l=t[3];return new a.Point(r,n,o,l)}})},createDurationTransformer:function(){return new l.TypeTransformer({signature:69,isTypeInstance:a.isDuration,toStructure:function(e){var t=(0,a.int)(e.months),r=(0,a.int)(e.days),n=(0,a.int)(e.seconds),i=(0,a.int)(e.nanoseconds);return new s.structure.Structure(69,[t,r,n,i])},fromStructure:function(e){s.structure.verifyStructSize("Duration",4,e.size);var t=i(e.fields,4),r=t[0],n=t[1],o=t[2],l=t[3];return new a.Duration(r,n,o,l)}})},createLocalTimeTransformer:function(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return new l.TypeTransformer({signature:116,isTypeInstance:a.isLocalTime,toStructure:function(e){var t=h(e.hour,e.minute,e.second,e.nanosecond);return new s.structure.Structure(116,[t])},fromStructure:function(e){s.structure.verifyStructSize("LocalTime",1,e.size);var n=i(e.fields,1)[0];return y((0,u.nanoOfDayToLocalTime)(n),t,r)}})},createTimeTransformer:function(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return new l.TypeTransformer({signature:84,isTypeInstance:a.isTime,toStructure:function(e){var t=h(e.hour,e.minute,e.second,e.nanosecond),r=(0,a.int)(e.timeZoneOffsetSeconds);return new s.structure.Structure(84,[t,r])},fromStructure:function(e){s.structure.verifyStructSize("Time",2,e.size);var n=i(e.fields,2),o=n[0],l=n[1],c=(0,u.nanoOfDayToLocalTime)(o);return y(new a.Time(c.hour,c.minute,c.second,c.nanosecond,l),t,r)}})},createDateTransformer:function(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return new l.TypeTransformer({signature:68,isTypeInstance:a.isDate,toStructure:function(e){var t=d(e.year,e.month,e.day);return new s.structure.Structure(68,[t])},fromStructure:function(e){s.structure.verifyStructSize("Date",1,e.size);var n=i(e.fields,1)[0];return y((0,u.epochDayToDate)(n),t,r)}})},createLocalDateTimeTransformer:function(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return new l.TypeTransformer({signature:100,isTypeInstance:a.isLocalDateTime,toStructure:function(e){var t=p(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),r=(0,a.int)(e.nanosecond);return new s.structure.Structure(100,[t,r])},fromStructure:function(e){s.structure.verifyStructSize("LocalDateTime",2,e.size);var n=i(e.fields,2),o=n[0],a=n[1];return y((0,u.epochSecondAndNanoToLocalDateTime)(o,a),t,r)}})},createDateTimeWithZoneIdTransformer:function(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return new l.TypeTransformer({signature:102,isTypeInstance:function(e){return(0,a.isDateTime)(e)&&null!=e.timeZoneId},toStructure:function(e){var t=p(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),r=(0,a.int)(e.nanosecond),n=e.timeZoneId;return new s.structure.Structure(102,[t,r,n])},fromStructure:function(e){s.structure.verifyStructSize("DateTimeWithZoneId",3,e.size);var n=i(e.fields,3),o=n[0],l=n[1],c=n[2],f=(0,u.epochSecondAndNanoToLocalDateTime)(o,l);return y(new a.DateTime(f.year,f.month,f.day,f.hour,f.minute,f.second,f.nanosecond,null,c),t,r)}})},createDateTimeWithOffsetTransformer:function(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return new l.TypeTransformer({signature:70,isTypeInstance:function(e){return(0,a.isDateTime)(e)&&null==e.timeZoneId},toStructure:function(e){var t=p(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),r=(0,a.int)(e.nanosecond),n=(0,a.int)(e.timeZoneOffsetSeconds);return new s.structure.Structure(70,[t,r,n])},fromStructure:function(e){s.structure.verifyStructSize("DateTimeWithZoneOffset",3,e.size);var n=i(e.fields,3),o=n[0],l=n[1],c=n[2],f=(0,u.epochSecondAndNanoToLocalDateTime)(o,l);return y(new a.DateTime(f.year,f.month,f.day,f.hour,f.minute,f.second,f.nanosecond,c,null),t,r)}})}})},24021:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(r(5917)),l=a(r(91653)),u=r(21478),c=r(58402),f=a(r(3858)),d=a(r(66911)),p=r(56214);p.internal.bookmarks.Bookmarks;var h=p.internal.constants.BOLT_PROTOCOL_V3,y=p.internal.txConfig.TxConfig,b="context",g="CALL dbms.cluster.routing.getRoutingTable($".concat(b,")"),m=new c.StreamObserver,v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new d.default(Object.values(f.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.transformMetadata=function(e){return"t_first"in e&&(e.result_available_after=e.t_first,delete e.t_first),"t_last"in e&&(e.result_consumed_after=e.t_last,delete e.t_last),e},t.prototype.initialize=function(e){var t=this,r=void 0===e?{}:e,n=r.userAgent,i=(r.boltAgent,r.authToken),o=r.notificationFilter,a=r.onError,s=r.onComplete,f=new c.LoginObserver({onError:function(e){return t._onLoginError(e,a)},onCompleted:function(e){return t._onLoginCompleted(e,i,s)}});return(0,u.assertNotificationFilterIsEmpty)(o,this._onProtocolError,f),this.write(l.default.hello(n,i),f,!0),f},t.prototype.prepareToClose=function(){this.write(l.default.goodbye(),m,!0)},t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,r=t.bookmarks,n=t.txConfig,i=t.database,o=t.impersonatedUser,a=t.notificationFilter,s=t.mode,f=t.beforeError,d=t.afterError,p=t.beforeComplete,h=t.afterComplete,y=new c.ResultStreamObserver({server:this._server,beforeError:f,afterError:d,beforeComplete:p,afterComplete:h});return y.prepareToHandleSingleResponse(),(0,u.assertDatabaseIsEmpty)(i,this._onProtocolError,y),(0,u.assertImpersonatedUserIsEmpty)(o,this._onProtocolError,y),(0,u.assertNotificationFilterIsEmpty)(a,this._onProtocolError,y),this.write(l.default.begin({bookmarks:r,txConfig:n,mode:s}),y,!0),y},t.prototype.commitTransaction=function(e){var t=void 0===e?{}:e,r=t.beforeError,n=t.afterError,i=t.beforeComplete,o=t.afterComplete,a=new c.ResultStreamObserver({server:this._server,beforeError:r,afterError:n,beforeComplete:i,afterComplete:o});return a.prepareToHandleSingleResponse(),this.write(l.default.commit(),a,!0),a},t.prototype.rollbackTransaction=function(e){var t=void 0===e?{}:e,r=t.beforeError,n=t.afterError,i=t.beforeComplete,o=t.afterComplete,a=new c.ResultStreamObserver({server:this._server,beforeError:r,afterError:n,beforeComplete:i,afterComplete:o});return a.prepareToHandleSingleResponse(),this.write(l.default.rollback(),a,!0),a},t.prototype.run=function(e,t,r){var n=void 0===r?{}:r,i=n.bookmarks,o=n.txConfig,a=n.database,s=n.impersonatedUser,f=n.notificationFilter,d=n.mode,p=n.beforeKeys,h=n.afterKeys,y=n.beforeError,b=n.afterError,g=n.beforeComplete,m=n.afterComplete,v=n.flush,_=n.highRecordWatermark,O=void 0===_?Number.MAX_VALUE:_,w=n.lowRecordWatermark,S=void 0===w?Number.MAX_VALUE:w,E=new c.ResultStreamObserver({server:this._server,beforeKeys:p,afterKeys:h,beforeError:y,afterError:b,beforeComplete:g,afterComplete:m,highRecordWatermark:O,lowRecordWatermark:S});return(0,u.assertDatabaseIsEmpty)(a,this._onProtocolError,E),(0,u.assertImpersonatedUserIsEmpty)(s,this._onProtocolError,E),(0,u.assertNotificationFilterIsEmpty)(f,this._onProtocolError,E),this.write(l.default.runWithMetadata(e,t,{bookmarks:i,txConfig:o,mode:d}),E,!1),this.write(l.default.pullAll(),E,void 0===v||v),E},t.prototype.requestRoutingInformation=function(e){var t,r=e.routingContext,n=e.sessionContext,i=e.onError,a=e.onCompleted,s=this.run(g,((t={})[b]=void 0===r?{}:r,t),o(o({},void 0===n?{}:n),{txConfig:y.empty()}));return new c.ProcedureRouteObserver({resultObserver:s,onProtocolError:this._onProtocolError,onError:i,onCompleted:a})},t}(s.default);t.default=v},3858:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(69066));t.default=n({},o.default)},82876:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(r(24021)),l=a(r(91653)),u=r(21478),c=r(58402),f=a(r(47153)),d=a(r(66911)),p=r(56214);p.internal.bookmarks.Bookmarks;var h=p.internal.constants,y=h.BOLT_PROTOCOL_V4_0,b=h.FETCH_ALL,g=p.internal.txConfig.TxConfig,m="context",v="database",_="CALL dbms.routing.getRoutingTable($".concat(m,", $").concat(v,")"),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new d.default(Object.values(f.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,r=t.bookmarks,n=t.txConfig,i=t.database,o=t.impersonatedUser,a=t.notificationFilter,s=t.mode,f=t.beforeError,d=t.afterError,p=t.beforeComplete,h=t.afterComplete,y=new c.ResultStreamObserver({server:this._server,beforeError:f,afterError:d,beforeComplete:p,afterComplete:h});return y.prepareToHandleSingleResponse(),(0,u.assertImpersonatedUserIsEmpty)(o,this._onProtocolError,y),(0,u.assertNotificationFilterIsEmpty)(a,this._onProtocolError,y),this.write(l.default.begin({bookmarks:r,txConfig:n,database:i,mode:s}),y,!0),y},t.prototype.run=function(e,t,r){var n=void 0===r?{}:r,i=n.bookmarks,o=n.txConfig,a=n.database,s=n.impersonatedUser,f=n.notificationFilter,d=n.mode,p=n.beforeKeys,h=n.afterKeys,y=n.beforeError,g=n.afterError,m=n.beforeComplete,v=n.afterComplete,_=n.flush,O=void 0===_||_,w=n.reactive,S=void 0!==w&&w,E=n.fetchSize,x=void 0===E?b:E,P=n.highRecordWatermark,j=void 0===P?Number.MAX_VALUE:P,T=n.lowRecordWatermark,k=void 0===T?Number.MAX_VALUE:T,C=new c.ResultStreamObserver({server:this._server,reactive:S,fetchSize:x,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:p,afterKeys:h,beforeError:y,afterError:g,beforeComplete:m,afterComplete:v,highRecordWatermark:j,lowRecordWatermark:k});return(0,u.assertImpersonatedUserIsEmpty)(s,this._onProtocolError,C),(0,u.assertNotificationFilterIsEmpty)(f,this._onProtocolError,C),this.write(l.default.runWithMetadata(e,t,{bookmarks:i,txConfig:o,database:a,mode:d}),C,S&&O),S||this.write(l.default.pull({n:x}),C,O),C},t.prototype._requestMore=function(e,t,r){this.write(l.default.pull({stmtId:e,n:t}),r,!0)},t.prototype._requestDiscard=function(e,t){this.write(l.default.discard({stmtId:e}),t,!0)},t.prototype._noOp=function(){},t.prototype.requestRoutingInformation=function(e){var t,r=e.routingContext,n=e.databaseName,i=e.sessionContext,a=e.onError,s=e.onCompleted,l=this.run(_,((t={})[m]=void 0===r?{}:r,t[v]=void 0===n?null:n,t),o(o({},void 0===i?{}:i),{txConfig:g.empty()}));return new c.ProcedureRouteObserver({resultObserver:l,onProtocolError:this._onProtocolError,onError:a,onCompleted:s})},t}(s.default);t.default=O},47153:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(3858));t.default=n({},o.default)},22199:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(82876)),s=o(r(91653)),l=r(58402),u=r(56214),c=r(21478),f=o(r(91107)),d=o(r(66911)),p=u.internal.constants.BOLT_PROTOCOL_V4_1,h=function(e){function t(t,r,n,i,o,a,s){void 0===i&&(i=function(){return null});var l=e.call(this,t,r,n,i,o,a)||this;return l._serversideRouting=s,l}return i(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return p},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new d.default(Object.values(f.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,r=void 0===e?{}:e,n=r.userAgent,i=(r.boltAgent,r.authToken),o=r.notificationFilter,a=r.onError,u=r.onComplete,f=new l.LoginObserver({onError:function(e){return t._onLoginError(e,a)},onCompleted:function(e){return t._onLoginCompleted(e,i,u)}});return(0,c.assertNotificationFilterIsEmpty)(o,this._onProtocolError,f),this.write(s.default.hello(n,i,this._serversideRouting),f,!0),f},t}(a.default);t.default=h},91107:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(47153));t.default=n({},o.default)},39193:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(22199)),s=r(56214),l=o(r(66410)),u=o(r(66911)),c=s.internal.constants.BOLT_PROTOCOL_V4_2,f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new u.default(Object.values(l.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t}(a.default);t.default=f},66410:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(91107));t.default=n({},o.default)},88939:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(r(39193)),l=a(r(91653)),u=r(58402),c=r(21478),f=a(r(45875)),d=a(r(40466)),p=a(r(66911)),h=r(56214),y=h.internal.bookmarks.Bookmarks,b=h.internal.constants.BOLT_PROTOCOL_V4_3,g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return b},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new p.default(Object.values(f.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.requestRoutingInformation=function(e){var t=e.routingContext,r=e.databaseName,n=e.sessionContext,i=e.onError,o=e.onCompleted,a=new u.RouteObserver({onProtocolError:this._onProtocolError,onError:i,onCompleted:o}),s=(void 0===n?{}:n).bookmarks||y.empty();return this.write(l.default.route(void 0===t?{}:t,s.values(),void 0===r?null:r),a,!0),a},t.prototype.initialize=function(e){var t=this,r=void 0===e?{}:e,n=r.userAgent,i=(r.boltAgent,r.authToken),o=r.notificationFilter,a=r.onError,s=r.onComplete,f=new u.LoginObserver({onError:function(e){return t._onLoginError(e,a)},onCompleted:function(e){return void 0!==e.patch_bolt&&t._applyPatches(e.patch_bolt),t._onLoginCompleted(e,i,s)}});return(0,c.assertNotificationFilterIsEmpty)(o,this._onProtocolError,f),this.write(l.default.hello(n,i,this._serversideRouting,["utc"]),f,!0),f},t.prototype._applyPatches=function(e){e.includes("utc")&&this._applyUtcPatch()},t.prototype._applyUtcPatch=function(){var e=this;this._transformer=new p.default(Object.values(o(o({},f.default),d.default)).map(function(t){return t(e._config,e._log)}))},t}(s.default);t.default=g},45875:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(66410));t.default=n({},o.default)},76806:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(r(88939)),l=r(56214),u=a(r(91653)),c=r(58402),f=r(21478),d=a(r(10387)),p=a(r(40466)),h=a(r(66911)),y=l.internal.constants,b=y.BOLT_PROTOCOL_V4_4,g=y.FETCH_ALL,m=l.internal.bookmarks.Bookmarks,v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return b},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new h.default(Object.values(d.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.requestRoutingInformation=function(e){var t=e.routingContext,r=e.databaseName,n=e.impersonatedUser,i=e.sessionContext,o=e.onError,a=e.onCompleted,s=new c.RouteObserver({onProtocolError:this._onProtocolError,onError:o,onCompleted:a}),l=(void 0===i?{}:i).bookmarks||m.empty();return this.write(u.default.routeV4x4(void 0===t?{}:t,l.values(),{databaseName:void 0===r?null:r,impersonatedUser:void 0===n?null:n}),s,!0),s},t.prototype.run=function(e,t,r){var n=void 0===r?{}:r,i=n.bookmarks,o=n.txConfig,a=n.database,s=n.mode,l=n.impersonatedUser,d=n.notificationFilter,p=n.beforeKeys,h=n.afterKeys,y=n.beforeError,b=n.afterError,m=n.beforeComplete,v=n.afterComplete,_=n.flush,O=void 0===_||_,w=n.reactive,S=void 0!==w&&w,E=n.fetchSize,x=void 0===E?g:E,P=n.highRecordWatermark,j=void 0===P?Number.MAX_VALUE:P,T=n.lowRecordWatermark,k=void 0===T?Number.MAX_VALUE:T,C=new c.ResultStreamObserver({server:this._server,reactive:S,fetchSize:x,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:p,afterKeys:h,beforeError:y,afterError:b,beforeComplete:m,afterComplete:v,highRecordWatermark:j,lowRecordWatermark:k});return(0,f.assertNotificationFilterIsEmpty)(d,this._onProtocolError,C),this.write(u.default.runWithMetadata(e,t,{bookmarks:i,txConfig:o,database:a,mode:s,impersonatedUser:l}),C,S&&O),S||this.write(u.default.pull({n:x}),C,O),C},t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,r=t.bookmarks,n=t.txConfig,i=t.database,o=t.mode,a=t.impersonatedUser,s=t.notificationFilter,l=t.beforeError,d=t.afterError,p=t.beforeComplete,h=t.afterComplete,y=new c.ResultStreamObserver({server:this._server,beforeError:l,afterError:d,beforeComplete:p,afterComplete:h});return y.prepareToHandleSingleResponse(),(0,f.assertNotificationFilterIsEmpty)(s,this._onProtocolError,y),this.write(u.default.begin({bookmarks:r,txConfig:n,database:i,mode:o,impersonatedUser:a}),y,!0),y},t.prototype._applyUtcPatch=function(){var e=this;this._transformer=new h.default(Object.values(o(o({},d.default),p.default)).map(function(t){return t(e._config,e._log)}))},t}(s.default);t.default=v},10387:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(45875));t.default=n({},o.default)},39319:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(76806)),s=r(21478),l=o(r(82004)),u=o(r(66911)),c=o(r(91653)),f=r(58402),d=r(56214).internal.constants.BOLT_PROTOCOL_V5_0,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new u.default(Object.values(l.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,r=void 0===e?{}:e,n=r.userAgent,i=(r.boltAgent,r.authToken),o=r.notificationFilter,a=r.onError,l=r.onComplete,u=new f.LoginObserver({onError:function(e){return t._onLoginError(e,a)},onCompleted:function(e){return t._onLoginCompleted(e,i,l)}});return(0,s.assertNotificationFilterIsEmpty)(o,this._onProtocolError,u),this.write(c.default.hello(n,i,this._serversideRouting),u,!0),u},t}(a.default);t.default=p},82004:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(43043),s=r(56214),l=o(r(10387)),u=o(r(40466));t.default=n(n(n({},l.default),u.default),{createNodeTransformer:function(e){return l.default.createNodeTransformer(e).extendsWith({fromStructure:function(e){a.structure.verifyStructSize("Node",4,e.size);var t=i(e.fields,4),r=t[0],n=t[1],o=t[2],l=t[3];return new s.Node(r,n,o,l)}})},createRelationshipTransformer:function(e){return l.default.createRelationshipTransformer(e).extendsWith({fromStructure:function(e){a.structure.verifyStructSize("Relationship",8,e.size);var t=i(e.fields,8),r=t[0],n=t[1],o=t[2],l=t[3],u=t[4],c=t[5],f=t[6],d=t[7];return new s.Relationship(r,n,o,l,u,c,f,d)}})},createUnboundRelationshipTransformer:function(e){return l.default.createUnboundRelationshipTransformer(e).extendsWith({fromStructure:function(e){a.structure.verifyStructSize("UnboundRelationship",4,e.size);var t=i(e.fields,4),r=t[0],n=t[1],o=t[2],l=t[3];return new s.UnboundRelationship(r,n,o,l)}})}})},40466:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(43043),a=r(56214),s=i(r(10387)),l=r(1108),u=r(90762),c=a.internal.temporalUtil.localDateTimeToEpochSecond,f=new Map;function d(e,t,r){var n=function(e){if(!f.has(e)){var t=new Intl.DateTimeFormat("en-US",{timeZone:e,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,era:"narrow"});f.set(e,t)}return f.get(e)}(e),i=(0,a.int)(t).multiply(1e3).add((0,a.int)(r).div(1e6)).toNumber(),o=n.formatToParts(i).reduce(function(e,t){return"era"===t.type?e.adjustEra="B"===t.value.toUpperCase()?function(e){return e.subtract(1).negate()}:u.identity:"hour"===t.type?e.hour=(0,a.int)(t.value).modulo(24):"literal"!==t.type&&(e[t.type]=(0,a.int)(t.value)),e},{});o.year=o.adjustEra(o.year);var s=c(o.year,o.month,o.day,o.hour,o.minute,o.second,o.nanosecond);return o.timeZoneOffsetSeconds=s.subtract(t),o.hour=o.hour.modulo(24),o}function p(e,t,r){if(!t&&!r)return e;var n=Object.create(Object.getPrototypeOf(e));for(var i in e)if(!0===Object.prototype.hasOwnProperty.call(e,i)){var o=e[i];n[i]=(0,a.isInt)(o)?r?o.toBigInt():o.toNumberOrInfinity():o}return Object.freeze(n),n}t.default={createDateTimeWithZoneIdTransformer:function(e,t){var r=e.disableLosslessIntegers,i=e.useBigInt;return s.default.createDateTimeWithZoneIdTransformer(e).extendsWith({signature:105,fromStructure:function(e){o.structure.verifyStructSize("DateTimeWithZoneId",3,e.size);var t=n(e.fields,3),s=t[0],l=t[1],u=t[2],c=d(u,s,l);return p(new a.DateTime(c.year,c.month,c.day,c.hour,c.minute,c.second,(0,a.int)(l),c.timeZoneOffsetSeconds,u),r,i)},toStructure:function(e){var r,n,i,s,l,u,f=c(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),p=null!=e.timeZoneOffsetSeconds?e.timeZoneOffsetSeconds:(s=c((i=d(r=e.timeZoneId,f,n=e.nanosecond)).year,i.month,i.day,i.hour,i.minute,i.second,n).subtract(f),c((u=d(r,l=f.subtract(s),n)).year,u.month,u.day,u.hour,u.minute,u.second,n).subtract(l));null==e.timeZoneOffsetSeconds&&t.warn('DateTime objects without "timeZoneOffsetSeconds" property are prune to bugs related to ambiguous times. For instance, 2022-10-30T2:30:00[Europe/Berlin] could be GMT+1 or GMT+2.');var h=f.subtract(p),y=(0,a.int)(e.nanosecond),b=e.timeZoneId;return new o.structure.Structure(105,[h,y,b])}})},createDateTimeWithOffsetTransformer:function(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return s.default.createDateTimeWithOffsetTransformer(e).extendsWith({signature:73,toStructure:function(e){var t=c(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),r=(0,a.int)(e.nanosecond),n=(0,a.int)(e.timeZoneOffsetSeconds),i=t.subtract(n);return new o.structure.Structure(73,[i,r,n])},fromStructure:function(e){o.structure.verifyStructSize("DateTimeWithZoneOffset",3,e.size);var i=n(e.fields,3),s=i[0],u=i[1],c=i[2],f=(0,a.int)(s).add(c),d=(0,l.epochSecondAndNanoToLocalDateTime)(f,u);return p(new a.DateTime(d.year,d.month,d.day,d.hour,d.minute,d.second,d.nanosecond,c,null),t,r)}})}}},38572:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(r(39319)),l=r(21478),u=a(r(89864)),c=a(r(66911)),f=a(r(91653)),d=r(58402),p=r(56214).internal.constants.BOLT_PROTOCOL_V5_1,h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return p},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new c.default(Object.values(u.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,r=void 0===e?{}:e,n=r.userAgent,i=(r.boltAgent,r.authToken),a=r.notificationFilter,s=r.onError,u=r.onComplete,c={},p=new d.LoginObserver({onError:function(e){return t._onLoginError(e,s)},onCompleted:function(e){return c.metadata=e,t._onLoginCompleted(e)}});return(0,l.assertNotificationFilterIsEmpty)(a,this._onProtocolError,p),this.write(f.default.hello5x1(n,this._serversideRouting),p,!1),this.logon({authToken:i,onComplete:function(e){return u(o(o({},e),c.metadata))},onError:s,flush:!0})},t.prototype.logon=function(e){var t=this,r=void 0===e?{}:e,n=r.authToken,i=r.onComplete,o=r.onError,a=r.flush,s=new d.LoginObserver({onCompleted:function(){return t._onLoginCompleted(null,n,i)},onError:function(e){return t._onLoginError(e,o)}});return this.write(f.default.logon(n),s,a),s},t.prototype.logoff=function(e){var t=void 0===e?{}:e,r=t.onComplete,n=t.onError,i=t.flush,o=new d.LogoffObserver({onCompleted:r,onError:n});return this.write(f.default.logoff(),o,i),o},t}(s.default);t.default=h},89864:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(82004));t.default=n({},o.default)},98172:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(r(38572)),l=a(r(65718)),u=a(r(66911)),c=a(r(91653)),f=r(58402),d=r(56214).internal.constants,p=d.BOLT_PROTOCOL_V5_2,h=d.FETCH_ALL,y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return p},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new u.default(Object.values(l.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,r=void 0===e?{}:e,n=r.userAgent,i=(r.boltAgent,r.authToken),a=r.notificationFilter,s=r.onError,l=r.onComplete,u={},d=new f.LoginObserver({onError:function(e){return t._onLoginError(e,s)},onCompleted:function(e){return u.metadata=e,t._onLoginCompleted(e)}});return this.write(c.default.hello5x2(n,a,this._serversideRouting),d,!1),this.logon({authToken:i,onComplete:function(e){return l(o(o({},e),u.metadata))},onError:s,flush:!0})},t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,r=t.bookmarks,n=t.txConfig,i=t.database,o=t.mode,a=t.impersonatedUser,s=t.notificationFilter,l=t.beforeError,u=t.afterError,d=t.beforeComplete,p=t.afterComplete,h=new f.ResultStreamObserver({server:this._server,beforeError:l,afterError:u,beforeComplete:d,afterComplete:p});return h.prepareToHandleSingleResponse(),this.write(c.default.begin({bookmarks:r,txConfig:n,database:i,mode:o,impersonatedUser:a,notificationFilter:s}),h,!0),h},t.prototype.run=function(e,t,r){var n=void 0===r?{}:r,i=n.bookmarks,o=n.txConfig,a=n.database,s=n.mode,l=n.impersonatedUser,u=n.notificationFilter,d=n.beforeKeys,p=n.afterKeys,y=n.beforeError,b=n.afterError,g=n.beforeComplete,m=n.afterComplete,v=n.flush,_=void 0===v||v,O=n.reactive,w=void 0!==O&&O,S=n.fetchSize,E=void 0===S?h:S,x=n.highRecordWatermark,P=void 0===x?Number.MAX_VALUE:x,j=n.lowRecordWatermark,T=void 0===j?Number.MAX_VALUE:j,k=new f.ResultStreamObserver({server:this._server,reactive:w,fetchSize:E,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:d,afterKeys:p,beforeError:y,afterError:b,beforeComplete:g,afterComplete:m,highRecordWatermark:P,lowRecordWatermark:T});return this.write(c.default.runWithMetadata(e,t,{bookmarks:i,txConfig:o,database:a,mode:s,impersonatedUser:l,notificationFilter:u}),k,w&&_),w||this.write(c.default.pull({n:E}),k,_),k},t}(s.default);t.default=y},65718:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(89864));t.default=n({},o.default)},36999:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(r(98172)),l=a(r(79748)),u=a(r(66911)),c=a(r(91653)),f=r(58402),d=r(56214).internal.constants.BOLT_PROTOCOL_V5_3,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new u.default(Object.values(l.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,r=void 0===e?{}:e,n=r.userAgent,i=r.boltAgent,a=r.authToken,s=r.notificationFilter,l=r.onError,u=r.onComplete,d={},p=new f.LoginObserver({onError:function(e){return t._onLoginError(e,l)},onCompleted:function(e){return d.metadata=e,t._onLoginCompleted(e)}});return this.write(c.default.hello5x3(n,i,s,this._serversideRouting),p,!1),this.logon({authToken:a,onComplete:function(e){return u(o(o({},e),d.metadata))},onError:l,flush:!0})},t}(s.default);t.default=p},79748:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(65718));t.default=n({},o.default)},99056:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(36999)),s=o(r(56308)),l=o(r(91653)),u=r(58402),c=o(r(66911)),f=r(56214).internal.constants.BOLT_PROTOCOL_V5_4,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new c.default(Object.values(s.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.telemetry=function(e,t){var r=e.api,n=void 0===t?{}:t,i=n.onError,o=n.onCompleted,a=new u.TelemetryObserver({onCompleted:o,onError:i});return this.write(l.default.telemetry({api:r}),a,!1),a},t}(a.default);t.default=d},56308:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(79748));t.default=n({},o.default)},62459:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(r(99056)),l=a(r(55287)),u=a(r(66911)),c=a(r(91653)),f=r(58402),d=r(56214).internal.constants,p=d.BOLT_PROTOCOL_V5_5,h=d.FETCH_ALL,y=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return p},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new u.default(Object.values(l.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype.initialize=function(e){var t=this,r=void 0===e?{}:e,n=r.userAgent,i=r.boltAgent,a=r.authToken,s=r.notificationFilter,l=r.onError,u=r.onComplete,d={},p=new f.LoginObserver({onError:function(e){return t._onLoginError(e,l)},onCompleted:function(e){return d.metadata=e,t._onLoginCompleted(e)}});return this.write(c.default.hello5x5(n,i,s,this._serversideRouting),p,!1),this.logon({authToken:a,onComplete:function(e){return u(o(o({},e),d.metadata))},onError:l,flush:!0})},t.prototype.beginTransaction=function(e){var t=void 0===e?{}:e,r=t.bookmarks,n=t.txConfig,i=t.database,o=t.mode,a=t.impersonatedUser,s=t.notificationFilter,l=t.beforeError,u=t.afterError,d=t.beforeComplete,p=t.afterComplete,h=new f.ResultStreamObserver({server:this._server,beforeError:l,afterError:u,beforeComplete:d,afterComplete:p});return h.prepareToHandleSingleResponse(),this.write(c.default.begin5x5({bookmarks:r,txConfig:n,database:i,mode:o,impersonatedUser:a,notificationFilter:s}),h,!0),h},t.prototype.run=function(e,t,r){var n=void 0===r?{}:r,i=n.bookmarks,o=n.txConfig,a=n.database,s=n.mode,l=n.impersonatedUser,u=n.notificationFilter,d=n.beforeKeys,p=n.afterKeys,y=n.beforeError,b=n.afterError,g=n.beforeComplete,m=n.afterComplete,v=n.flush,_=void 0===v||v,O=n.reactive,w=void 0!==O&&O,S=n.fetchSize,E=void 0===S?h:S,x=n.highRecordWatermark,P=void 0===x?Number.MAX_VALUE:x,j=n.lowRecordWatermark,T=void 0===j?Number.MAX_VALUE:j,k=new f.ResultStreamObserver({server:this._server,reactive:w,fetchSize:E,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:d,afterKeys:p,beforeError:y,afterError:b,beforeComplete:g,afterComplete:m,highRecordWatermark:P,lowRecordWatermark:T,enrichMetadata:this._enrichMetadata});return this.write(c.default.runWithMetadata5x5(e,t,{bookmarks:i,txConfig:o,database:a,mode:s,impersonatedUser:l,notificationFilter:u}),k,w&&_),w||this.write(c.default.pull({n:E}),k,_),k},t.prototype._enrichMetadata=function(e){return Array.isArray(e.statuses)&&(e.statuses=e.statuses.map(function(e){return o(o({},e),{description:null!=e.neo4j_code?e.status_description:e.description,diagnostic_record:null!==e.diagnostic_record?o(o({},y),e.diagnostic_record):null})})),e},t}(s.default);t.default=b},55287:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(56308));t.default=n({},o.default)},55994:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(r(62459)),l=a(r(55287)),u=a(r(66911)),c=r(56214).internal.constants.BOLT_PROTOCOL_V5_6,f=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transformer",{get:function(){var e=this;return void 0===this._transformer&&(this._transformer=new u.default(Object.values(l.default).map(function(t){return t(e._config,e._log)}))),this._transformer},enumerable:!1,configurable:!0}),t.prototype._enrichMetadata=function(e){return Array.isArray(e.statuses)&&(e.statuses=e.statuses.map(function(e){return o(o({},e),{diagnostic_record:null!==e.diagnostic_record?o(o({},f),e.diagnostic_record):null})})),e},t}(s.default);t.default=d},24517:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(56214),o=n(r(50996)),a=n(r(5917)),s=n(r(24021)),l=n(r(82876)),u=n(r(22199)),c=n(r(39193)),f=n(r(88939)),d=n(r(76806)),p=n(r(39319)),h=n(r(38572)),y=n(r(98172)),b=n(r(36999)),g=n(r(99056)),m=n(r(62459)),v=n(r(55994));r(14315);var _=n(r(57705));t.default=function(e){var t=void 0===e?{}:e,r=t.version,n=t.chunker,O=t.dechunker,w=t.channel,S=t.disableLosslessIntegers,E=t.useBigInt,x=t.serversideRouting,P=t.server,j=t.log,T=t.observer;return function(e,t,r,n,_,O,w,S){switch(e){case 1:return new o.default(t,r,n,O,S,w);case 2:return new a.default(t,r,n,O,S,w);case 3:return new s.default(t,r,n,O,S,w);case 4:return new l.default(t,r,n,O,S,w);case 4.1:return new u.default(t,r,n,O,S,w,_);case 4.2:return new c.default(t,r,n,O,S,w,_);case 4.3:return new f.default(t,r,n,O,S,w,_);case 4.4:return new d.default(t,r,n,O,S,w,_);case 5:return new p.default(t,r,n,O,S,w,_);case 5.1:return new h.default(t,r,n,O,S,w,_);case 5.2:return new y.default(t,r,n,O,S,w,_);case 5.3:return new b.default(t,r,n,O,S,w,_);case 5.4:return new g.default(t,r,n,O,S,w,_);case 5.5:return new m.default(t,r,n,O,S,w,_);case 5.6:return new v.default(t,r,n,O,S,w,_);default:throw(0,i.newError)("Unknown Bolt protocol version: "+e)}}(r,P,n,{disableLosslessIntegers:S,useBigInt:E},x,function(e){var t=new _.default({transformMetadata:e.transformMetadata.bind(e),log:j,observer:T});return w.onerror=T.onError.bind(T),w.onmessage=function(e){return O.write(e)},O.onmessage=function(r){try{t.handleResponse(e.unpack(r))}catch(e){return T.onError(e)}},t},T.onProtocolError.bind(T),j)}},39242:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(14315),i=r(56214);function o(e,t){return{major:e,minor:t}}t.default=function(e,t){var r=this;return new Promise(function(a,s){var l=function(e){s(e)};e.onerror=l.bind(r),e._error&&l(e._error),e.onmessage=function(e){try{var r=function(e,t){var r=[e.readUInt8(),e.readUInt8(),e.readUInt8(),e.readUInt8()];if(72===r[0]&&84===r[1]&&84===r[2]&&80===r[3])throw t.error("Handshake failed since server responded with HTTP."),(0,i.newError)("Server responded HTTP. Make sure you are not trying to connect to the http endpoint (HTTP defaults to port 7474 whereas BOLT defaults to port 7687)");return Number(r[3]+"."+r[2])}(e,t);a({protocolVersion:r,consumeRemainingBuffer:function(t){e.hasRemaining()&&t(e.readSlice(e.remaining()))}})}catch(e){s(e)}},e.write(function(e){if(e.length>4)throw(0,i.newError)("It should not have more than 4 versions of the protocol");var t=(0,n.alloc)(20);return t.writeInt32(0x6060b017),e.forEach(function(e){if(e instanceof Array){var r=e[0],n=r.major,i=r.minor,o=i-e[1].minor;t.writeInt32(o<<16|i<<8|n)}else{var n=e.major,i=e.minor;t.writeInt32(i<<8|n)}}),t.reset(),t}([[o(5,6),o(5,0)],[o(4,4),o(4,2)],o(4,1),o(3,0)]))})}},5395:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RawRoutingTable=t.BoltProtocol=void 0;var a=o(r(39242)),s=o(r(24517)),l=o(r(88939)),u=o(r(4451));i(r(58402),t),t.BoltProtocol=l.default,t.RawRoutingTable=u.default,t.default={handshake:a.default,create:s.default}},91653:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIGNATURES=void 0;var n=r(56214),i=n.internal.constants,o=i.ACCESS_MODE_READ,a=i.FETCH_ALL,s=n.internal.util.assertString,l=Object.freeze({INIT:1,RESET:15,RUN:16,PULL_ALL:63,HELLO:1,GOODBYE:2,BEGIN:17,COMMIT:18,ROLLBACK:19,TELEMETRY:84,ROUTE:102,LOGON:106,LOGOFF:107,DISCARD:47,PULL:63});t.SIGNATURES=l;var u=function(){function e(e,t,r){this.signature=e,this.fields=t,this.toString=r}return e.init=function(t,r){return new e(1,[t,r],function(){return"INIT ".concat(t," {...}")})},e.run=function(t,r){return new e(16,[t,r],function(){return"RUN ".concat(t," ").concat(n.json.stringify(r))})},e.pullAll=function(){return h},e.reset=function(){return y},e.hello=function(t,r,n,i){void 0===n&&(n=null),void 0===i&&(i=null);var o=Object.assign({user_agent:t},r);return n&&(o.routing=n),i&&(o.patch_bolt=i),new e(1,[o],function(){return"HELLO {user_agent: '".concat(t,"', ...}")})},e.hello5x1=function(t,r){void 0===r&&(r=null);var n={user_agent:t};return r&&(n.routing=r),new e(1,[n],function(){return"HELLO {user_agent: '".concat(t,"', ...}")})},e.hello5x2=function(t,r,i){void 0===r&&(r=null),void 0===i&&(i=null);var o={user_agent:t};return d(o,r),i&&(o.routing=i),new e(1,[o],function(){return"HELLO ".concat(n.json.stringify(o))})},e.hello5x3=function(t,r,i,o){void 0===i&&(i=null),void 0===o&&(o=null);var a={};return t&&(a.user_agent=t),r&&(a.bolt_agent={product:r.product,platform:r.platform,language:r.language,language_details:r.languageDetails}),d(a,i),o&&(a.routing=o),new e(1,[a],function(){return"HELLO ".concat(n.json.stringify(a))})},e.hello5x5=function(t,r,i,o){void 0===i&&(i=null),void 0===o&&(o=null);var a={};return t&&(a.user_agent=t),r&&(a.bolt_agent={product:r.product,platform:r.platform,language:r.language,language_details:r.languageDetails}),p(a,i),o&&(a.routing=o),new e(1,[a],function(){return"HELLO ".concat(n.json.stringify(a))})},e.logon=function(t){return new e(106,[t],function(){return"LOGON { ... }"})},e.logoff=function(){return new e(107,[],function(){return"LOGOFF"})},e.begin=function(t){var r=void 0===t?{}:t,i=c(r.bookmarks,r.txConfig,r.database,r.mode,r.impersonatedUser,r.notificationFilter);return new e(17,[i],function(){return"BEGIN ".concat(n.json.stringify(i))})},e.begin5x5=function(t){var r=void 0===t?{}:t,i=c(r.bookmarks,r.txConfig,r.database,r.mode,r.impersonatedUser,r.notificationFilter,{appendNotificationFilter:p});return new e(17,[i],function(){return"BEGIN ".concat(n.json.stringify(i))})},e.commit=function(){return b},e.rollback=function(){return g},e.runWithMetadata=function(t,r,i){var o=void 0===i?{}:i,a=c(o.bookmarks,o.txConfig,o.database,o.mode,o.impersonatedUser,o.notificationFilter);return new e(16,[t,r,a],function(){return"RUN ".concat(t," ").concat(n.json.stringify(r)," ").concat(n.json.stringify(a))})},e.runWithMetadata5x5=function(t,r,i){var o=void 0===i?{}:i,a=c(o.bookmarks,o.txConfig,o.database,o.mode,o.impersonatedUser,o.notificationFilter,{appendNotificationFilter:p});return new e(16,[t,r,a],function(){return"RUN ".concat(t," ").concat(n.json.stringify(r)," ").concat(n.json.stringify(a))})},e.goodbye=function(){return m},e.pull=function(t){var r=void 0===t?{}:t,i=r.stmtId,o=void 0===i?-1:i,s=r.n,l=f(null==o?-1:o,(void 0===s?a:s)||a);return new e(63,[l],function(){return"PULL ".concat(n.json.stringify(l))})},e.discard=function(t){var r=void 0===t?{}:t,i=r.stmtId,o=void 0===i?-1:i,s=r.n,l=f(null==o?-1:o,(void 0===s?a:s)||a);return new e(47,[l],function(){return"DISCARD ".concat(n.json.stringify(l))})},e.telemetry=function(t){var r=t.api,i=(0,n.int)(r);return new e(84,[i],function(){return"TELEMETRY ".concat(i.toString())})},e.route=function(t,r,i){return void 0===t&&(t={}),void 0===r&&(r=[]),void 0===i&&(i=null),new e(102,[t,r,i],function(){return"ROUTE ".concat(n.json.stringify(t)," ").concat(n.json.stringify(r)," ").concat(i)})},e.routeV4x4=function(t,r,i){void 0===t&&(t={}),void 0===r&&(r=[]),void 0===i&&(i={});var o={};return i.databaseName&&(o.db=i.databaseName),i.impersonatedUser&&(o.imp_user=i.impersonatedUser),new e(102,[t,r,o],function(){return"ROUTE ".concat(n.json.stringify(t)," ").concat(n.json.stringify(r)," ").concat(n.json.stringify(o))})},e}();function c(e,t,r,n,i,a,l){void 0===l&&(l={});var u,c={};return e.isEmpty()||(c.bookmarks=e.values()),null!==t.timeout&&(c.tx_timeout=t.timeout),t.metadata&&(c.tx_metadata=t.metadata),r&&(c.db=s(r,"database")),i&&(c.imp_user=s(i,"impersonatedUser")),n===o&&(c.mode="r"),(null!==(u=l.appendNotificationFilter)&&void 0!==u?u:d)(c,a),c}function f(e,t){var r={n:(0,n.int)(t)};return -1!==e&&(r.qid=(0,n.int)(e)),r}function d(e,t){t&&(t.minimumSeverityLevel&&(e.notifications_minimum_severity=t.minimumSeverityLevel),t.disabledCategories&&(e.notifications_disabled_categories=t.disabledCategories),t.disabledClassifications&&(e.notifications_disabled_categories=t.disabledClassifications))}function p(e,t){t&&(t.minimumSeverityLevel&&(e.notifications_minimum_severity=t.minimumSeverityLevel),t.disabledCategories&&(e.notifications_disabled_classifications=t.disabledCategories),t.disabledClassifications&&(e.notifications_disabled_classifications=t.disabledClassifications))}t.default=u;var h=new u(63,[],function(){return"PULL_ALL"}),y=new u(15,[],function(){return"RESET"}),b=new u(18,[],function(){return"COMMIT"}),g=new u(19,[],function(){return"ROLLBACK"}),m=new u(2,[],function(){return"GOODBYE"})},57705:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(56214);function i(){}function o(e){return e}var a={onNext:i,onCompleted:i,onError:i},s=function(){function e(e){var t=void 0===e?{}:e,r=t.transformMetadata,n=t.log,a=t.observer;this._pendingObservers=[],this._log=n,this._transformMetadata=r||o,this._observer=Object.assign({onObserversCountChange:i,onError:i,onFailure:i,onErrorApplyTransformation:o},a)}return Object.defineProperty(e.prototype,"currentFailure",{get:function(){return this._currentFailure},enumerable:!1,configurable:!0}),e.prototype.handleResponse=function(e){var t=e.fields[0];switch(e.signature){case 113:this._log.isDebugEnabled()&&this._log.debug("S: RECORD ".concat(n.json.stringify(e))),this._currentObserver.onNext(t);break;case 112:this._log.isDebugEnabled()&&this._log.debug("S: SUCCESS ".concat(n.json.stringify(e)));try{var r=this._transformMetadata(t);this._currentObserver.onCompleted(r)}finally{this._updateCurrentObserver()}break;case 127:this._log.isDebugEnabled()&&this._log.debug("S: FAILURE ".concat(n.json.stringify(e)));try{var i,o=(i=t.code,"Neo.TransientError.Transaction.Terminated"===i?"Neo.ClientError.Transaction.Terminated":"Neo.TransientError.Transaction.LockClientStopped"===i?"Neo.ClientError.Transaction.LockClientStopped":i),a=(0,n.newError)(t.message,o);this._currentFailure=this._observer.onErrorApplyTransformation(a),this._currentObserver.onError(this._currentFailure)}finally{this._updateCurrentObserver(),this._observer.onFailure(this._currentFailure)}break;case 126:this._log.isDebugEnabled()&&this._log.debug("S: IGNORED ".concat(n.json.stringify(e)));try{this._currentFailure&&this._currentObserver.onError?this._currentObserver.onError(this._currentFailure):this._currentObserver.onError&&this._currentObserver.onError((0,n.newError)("Ignored either because of an error or RESET"))}finally{this._updateCurrentObserver()}break;default:this._observer.onError((0,n.newError)("Unknown Bolt protocol message: "+e))}},e.prototype._updateCurrentObserver=function(){this._currentObserver=this._pendingObservers.shift(),this._observer.onObserversCountChange(this._observersCount)},Object.defineProperty(e.prototype,"_observersCount",{get:function(){return null==this._currentObserver?this._pendingObservers.length:this._pendingObservers.length+1},enumerable:!1,configurable:!0}),e.prototype._queueObserver=function(e){return(e=e||a).onCompleted=e.onCompleted||i,e.onError=e.onError||i,e.onNext=e.onNext||i,void 0===this._currentObserver?this._currentObserver=e:this._pendingObservers.push(e),this._observer.onObserversCountChange(this._observersCount),!0},e.prototype._notifyErrorToObservers=function(e){for(this._currentObserver&&this._currentObserver.onError&&this._currentObserver.onError(e);this._pendingObservers.length>0;){var t=this._pendingObservers.shift();t&&t.onError&&t.onError(e)}},e.prototype.hasOngoingObservableRequests=function(){return null!=this._currentObserver||this._pendingObservers.length>0},e.prototype._resetFailure=function(){this._currentFailure=null},e}();t.default=s},4451:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),o(r(56214));var a=function(){function e(){}return e.ofRecord=function(t){return null===t?e.ofNull():new u(t)},e.ofMessageResponse=function(t){return null===t?e.ofNull():new s(t)},e.ofNull=function(){return new l},Object.defineProperty(e.prototype,"ttl",{get:function(){throw Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"db",{get:function(){throw Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"servers",{get:function(){throw Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNull",{get:function(){throw Error("Not implemented")},enumerable:!1,configurable:!0}),e}();t.default=a;var s=function(e){function t(t){var r=e.call(this)||this;return r._response=t,r}return i(t,e),Object.defineProperty(t.prototype,"ttl",{get:function(){return this._response.rt.ttl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"servers",{get:function(){return this._response.rt.servers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"db",{get:function(){return this._response.rt.db},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNull",{get:function(){return null===this._response},enumerable:!1,configurable:!0}),t}(a),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"isNull",{get:function(){return!0},enumerable:!1,configurable:!0}),t}(a),u=function(e){function t(t){var r=e.call(this)||this;return r._record=t,r}return i(t,e),Object.defineProperty(t.prototype,"ttl",{get:function(){return this._record.get("ttl")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"servers",{get:function(){return this._record.get("servers")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"db",{get:function(){return this._record.has("db")?this._record.get("db"):null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNull",{get:function(){return null===this._record},enumerable:!1,configurable:!0}),t}(a)},58402:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryObserver=t.ProcedureRouteObserver=t.RouteObserver=t.CompletedObserver=t.FailedObserver=t.ResetObserver=t.LogoffObserver=t.LoginObserver=t.ResultStreamObserver=t.StreamObserver=void 0;var a=r(56214),s=o(r(4451)),l=r(42835),u=a.internal.constants.FETCH_ALL,c=a.error.PROTOCOL_ERROR,f=function(){function e(){}return e.prototype.onNext=function(e){},e.prototype.onError=function(e){},e.prototype.onCompleted=function(e){},e}();t.StreamObserver=f;var d=function(e){function t(t){var r=void 0===t?{}:t,n=r.reactive,i=void 0!==n&&n,o=r.moreFunction,a=r.discardFunction,s=r.fetchSize,c=r.beforeError,f=r.afterError,d=r.beforeKeys,p=r.afterKeys,h=r.beforeComplete,y=r.afterComplete,b=r.server,g=r.highRecordWatermark,m=void 0===g?Number.MAX_VALUE:g,v=r.lowRecordWatermark,_=void 0===v?Number.MAX_VALUE:v,w=r.enrichMetadata,S=e.call(this)||this;return S._fieldKeys=null,S._fieldLookup=null,S._head=null,S._queuedRecords=[],S._tail=null,S._error=null,S._observers=[],S._meta={},S._server=b,S._beforeError=c,S._afterError=f,S._beforeKeys=d,S._afterKeys=p,S._beforeComplete=h,S._afterComplete=y,S._enrichMetadata=w||l.functional.identity,S._queryId=null,S._moreFunction=o,S._discardFunction=a,S._discard=!1,S._fetchSize=void 0===s?u:s,S._lowRecordWatermark=_,S._highRecordWatermark=m,S._setState(i?O.READY:O.READY_STREAMING),S._setupAutoPull(),S._paused=!1,S._pulled=!i,S._haveRecordStreamed=!1,S}return i(t,e),t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1,this._setupAutoPull(!0),this._state.pull(this)},t.prototype.onNext=function(e){this._haveRecordStreamed=!0;var t=new a.Record(this._fieldKeys,e,this._fieldLookup);this._observers.some(function(e){return e.onNext})?this._observers.forEach(function(e){e.onNext&&e.onNext(t)}):(this._queuedRecords.push(t),this._queuedRecords.length>this._highRecordWatermark&&(this._autoPull=!1))},t.prototype.onCompleted=function(e){this._state.onSuccess(this,e)},t.prototype.onError=function(e){this._state.onError(this,e)},t.prototype.cancel=function(){this._discard=!0},t.prototype.prepareToHandleSingleResponse=function(){this._head=[],this._fieldKeys=[],this._setState(O.STREAMING)},t.prototype.markCompleted=function(){this._head=[],this._fieldKeys=[],this._tail={},this._setState(O.SUCCEEDED)},t.prototype.subscribe=function(e){if(this._head&&e.onKeys&&e.onKeys(this._head),this._queuedRecords.length>0&&e.onNext)for(var t=0;t<this._queuedRecords.length;t++)e.onNext(this._queuedRecords[t]),this._queuedRecords.length-t-1<=this._lowRecordWatermark&&(this._autoPull=!0,this._state===O.READY&&this._handleStreaming());this._tail&&e.onCompleted&&e.onCompleted(this._tail),this._error&&e.onError(this._error),this._observers.push(e),this._state===O.READY&&this._handleStreaming()},t.prototype._handleHasMore=function(e){this._setState(O.READY),this._handleStreaming(),delete e.has_more},t.prototype._handlePullSuccess=function(e){var t=this,r=this._enrichMetadata(Object.assign(this._server?{server:this._server}:{},this._meta,{stream_summary:{have_records_streamed:this._haveRecordStreamed,pulled:this._pulled,has_keys:this._fieldKeys.length>0}},e));if(![void 0,null,"r","w","rw","s"].includes(r.type)){this.onError((0,a.newError)('Server returned invalid query type. Expected one of [undefined, null, "r", "w", "rw", "s"] but got \''.concat(r.type,"'"),c));return}this._setState(O.SUCCEEDED);var n=null;this._beforeComplete&&(n=this._beforeComplete(r));var i=function(){t._tail=r,t._observers.some(function(e){return e.onCompleted})&&t._observers.forEach(function(e){e.onCompleted&&e.onCompleted(r)}),t._afterComplete&&t._afterComplete(r)};n?Promise.resolve(n).then(function(){return i()}):i()},t.prototype._handleRunSuccess=function(e,t){var r=this;if(null===this._fieldKeys){if(this._fieldKeys=[],this._fieldLookup={},e.fields&&e.fields.length>0){this._fieldKeys=e.fields;for(var n=0;n<e.fields.length;n++)this._fieldLookup[e.fields[n]]=n}null!=e.fields&&delete e.fields,null!==e.qid&&void 0!==e.qid&&(this._queryId=e.qid,delete e.qid),this._storeMetadataForCompletion(e);var i=null;this._beforeKeys&&(i=this._beforeKeys(this._fieldKeys));var o=function(){r._head=r._fieldKeys,r._observers.some(function(e){return e.onKeys})&&r._observers.forEach(function(e){e.onKeys&&e.onKeys(r._fieldKeys)}),r._afterKeys&&r._afterKeys(r._fieldKeys),t()};i?Promise.resolve(i).then(function(){return o()}):o()}},t.prototype._handleError=function(e){var t=this;this._setState(O.FAILED),this._error=e;var r=null;this._beforeError&&(r=this._beforeError(e));var n=function(){t._observers.some(function(e){return e.onError})&&t._observers.forEach(function(t){t.onError&&t.onError(e)}),t._afterError&&t._afterError(e)};r?Promise.resolve(r).then(function(){return n()}):n()},t.prototype._handleStreaming=function(){this._head&&this._observers.some(function(e){return e.onNext||e.onCompleted})&&!this._paused&&(this._discard||this._autoPull)&&this._more()},t.prototype._more=function(){this._discard?this._discardFunction(this._queryId,this):(this._pulled=!0,this._moreFunction(this._queryId,this._fetchSize,this)),this._setState(O.STREAMING)},t.prototype._storeMetadataForCompletion=function(e){for(var t=Object.keys(e),r=t.length,n="";r--;)n=t[r],this._meta[n]=e[n]},t.prototype._setState=function(e){this._state=e},t.prototype._setupAutoPull=function(){this._autoPull=!0},t}(f);t.ResultStreamObserver=d;var p=function(e){function t(t){var r=void 0===t?{}:t,n=r.onError,i=r.onCompleted,o=e.call(this)||this;return o._onError=n,o._onCompleted=i,o}return i(t,e),t.prototype.onNext=function(e){this.onError((0,a.newError)("Received RECORD when initializing "+a.json.stringify(e)))},t.prototype.onError=function(e){this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(e)},t}(f);t.LoginObserver=p;var h=function(e){function t(t){var r=void 0===t?{}:t,n=r.onError,i=r.onCompleted,o=e.call(this)||this;return o._onError=n,o._onCompleted=i,o}return i(t,e),t.prototype.onNext=function(e){this.onError((0,a.newError)("Received RECORD when logging off "+a.json.stringify(e)))},t.prototype.onError=function(e){this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(e)},t}(f);t.LogoffObserver=h;var y=function(e){function t(t){var r=void 0===t?{}:t,n=r.onProtocolError,i=r.onError,o=r.onComplete,a=e.call(this)||this;return a._onProtocolError=n,a._onError=i,a._onComplete=o,a}return i(t,e),t.prototype.onNext=function(e){this.onError((0,a.newError)("Received RECORD when resetting: received record is: "+a.json.stringify(e),c))},t.prototype.onError=function(e){e.code===c&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onComplete&&this._onComplete(e)},t}(f);t.ResetObserver=y;var b=function(e){function t(t){var r=void 0===t?{}:t,n=r.onError,i=r.onCompleted,o=e.call(this)||this;return o._onError=n,o._onCompleted=i,o}return i(t,e),t.prototype.onNext=function(e){this.onError((0,a.newError)("Received RECORD when sending telemetry "+a.json.stringify(e),c))},t.prototype.onError=function(e){this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(e)},t}(d);t.TelemetryObserver=b;var g=function(e){function t(t){var r=t.error,n=t.onError,i=e.call(this,{beforeError:n})||this;return i.onError(r),i}return i(t,e),t}(d);t.FailedObserver=g;var m=function(e){function t(){var t=e.call(this)||this;return e.prototype.markCompleted.call(t),t}return i(t,e),t}(d);t.CompletedObserver=m;var v=function(e){function t(t){var r=t.resultObserver,n=t.onProtocolError,i=t.onError,o=t.onCompleted,a=e.call(this)||this;return a._resultObserver=r,a._onError=i,a._onCompleted=o,a._records=[],a._onProtocolError=n,r.subscribe(a),a}return i(t,e),t.prototype.onNext=function(e){this._records.push(e)},t.prototype.onError=function(e){e.code===c&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},t.prototype.onCompleted=function(){if(null!==this._records&&1!==this._records.length){this.onError((0,a.newError)("Illegal response from router. Received "+this._records.length+" records but expected only one.\n"+a.json.stringify(this._records),c));return}this._onCompleted&&this._onCompleted(s.default.ofRecord(this._records[0]))},t}(f);t.ProcedureRouteObserver=v;var _=function(e){function t(t){var r=void 0===t?{}:t,n=r.onProtocolError,i=r.onError,o=r.onCompleted,a=e.call(this)||this;return a._onProtocolError=n,a._onError=i,a._onCompleted=o,a}return i(t,e),t.prototype.onNext=function(e){this.onError((0,a.newError)("Received RECORD when resetting: received record is: "+a.json.stringify(e),c))},t.prototype.onError=function(e){e.code===c&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},t.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(s.default.ofMessageResponse(e))},t}(f);t.RouteObserver=_;var O={READY_STREAMING:{onSuccess:function(e,t){e._handleRunSuccess(t,function(){e._setState(O.STREAMING)})},onError:function(e,t){e._handleError(t)},name:function(){return"READY_STREAMING"},pull:function(){}},READY:{onSuccess:function(e,t){e._handleRunSuccess(t,function(){return e._handleStreaming()})},onError:function(e,t){e._handleError(t)},name:function(){return"READY"},pull:function(e){return e._more()}},STREAMING:{onSuccess:function(e,t){t.has_more?e._handleHasMore(t):e._handlePullSuccess(t)},onError:function(e,t){e._handleError(t)},name:function(){return"STREAMING"},pull:function(){}},FAILED:{onError:function(e){},name:function(){return"FAILED"},pull:function(){}},SUCCEEDED:{name:function(){return"SUCCEEDED"},pull:function(){}}}},1108:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.epochSecondAndNanoToLocalDateTime=t.nanoOfDayToLocalTime=t.epochDayToDate=void 0;var n=r(56214),i=n.internal.temporalUtil,o=i.DAYS_0000_TO_1970,a=i.DAYS_PER_400_YEAR_CYCLE,s=i.NANOS_PER_HOUR,l=i.NANOS_PER_MINUTE,u=i.NANOS_PER_SECOND,c=i.SECONDS_PER_DAY,f=i.floorDiv,d=i.floorMod;function p(e){var t=(e=(0,n.int)(e)).add(o).subtract(60),r=(0,n.int)(0);if(t.lessThan(0)){var i=t.add(1).div(a).subtract(1);r=i.multiply(400),t=t.add(i.multiply(-a))}var s=t.multiply(400).add(591).div(a),l=t.subtract(s.multiply(365).add(s.div(4)).subtract(s.div(100)).add(s.div(400)));l.lessThan(0)&&(s=s.subtract(1),l=t.subtract(s.multiply(365).add(s.div(4)).subtract(s.div(100)).add(s.div(400)))),s=s.add(r);var u=l,c=u.multiply(5).add(2).div(153),f=c.add(2).modulo(12).add(1),d=u.subtract(c.multiply(306).add(5).div(10)).add(1);return s=s.add(c.div(10)),new n.Date(s,f,d)}function h(e){var t=(e=(0,n.int)(e)).div(s),r=(e=e.subtract(t.multiply(s))).div(l),i=(e=e.subtract(r.multiply(l))).div(u),o=e.subtract(i.multiply(u));return new n.LocalTime(t,r,i,o)}t.epochDayToDate=p,t.nanoOfDayToLocalTime=h,t.epochSecondAndNanoToLocalDateTime=function(e,t){var r=f(e,c),i=d(e,c).multiply(u).add(t),o=p(r),a=h(i);return new n.LocalDateTime(o.year,o.month,o.day,a.hour,a.minute,a.second,a.nanosecond)}},66911:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeTransformer=void 0;var n=r(43043),i=r(56214).internal.objectUtil,o=function(){function e(e){this._transformers=e,this._transformersPerSignature=new Map(e.map(function(e){return[e.signature,e]})),this.fromStructure=this.fromStructure.bind(this),this.toStructure=this.toStructure.bind(this),Object.freeze(this)}return e.prototype.fromStructure=function(e){try{if(e instanceof n.structure.Structure&&this._transformersPerSignature.has(e.signature))return(0,this._transformersPerSignature.get(e.signature).fromStructure)(e);return e}catch(e){return i.createBrokenObject(e)}},e.prototype.toStructure=function(e){var t=this._transformers.find(function(t){return(0,t.isTypeInstance)(e)});return void 0!==t?t.toStructure(e):e},e}();t.default=o;var a=function(){function e(e){var t=e.signature,r=e.fromStructure,n=e.toStructure,i=e.isTypeInstance;this.signature=t,this.isTypeInstance=i,this.fromStructure=r,this.toStructure=n,Object.freeze(this)}return e.prototype.extendsWith=function(t){var r=t.signature,n=t.fromStructure,i=t.toStructure,o=t.isTypeInstance;return new e({signature:r||this.signature,fromStructure:n||this.fromStructure,toStructure:i||this.toStructure,isTypeInstance:o||this.isTypeInstance})},e}();t.TypeTransformer=a},82275:function(e,t){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.position=0,this.length=e}return e.prototype.getUInt8=function(e){throw Error("Not implemented")},e.prototype.getInt8=function(e){throw Error("Not implemented")},e.prototype.getFloat64=function(e){throw Error("Not implemented")},e.prototype.putUInt8=function(e,t){throw Error("Not implemented")},e.prototype.putInt8=function(e,t){throw Error("Not implemented")},e.prototype.putFloat64=function(e,t){throw Error("Not implemented")},e.prototype.getInt16=function(e){return this.getInt8(e)<<8|this.getUInt8(e+1)},e.prototype.getUInt16=function(e){return this.getUInt8(e)<<8|this.getUInt8(e+1)},e.prototype.getInt32=function(e){return this.getInt8(e)<<24|this.getUInt8(e+1)<<16|this.getUInt8(e+2)<<8|this.getUInt8(e+3)},e.prototype.getUInt32=function(e){return this.getUInt8(e)<<24|this.getUInt8(e+1)<<16|this.getUInt8(e+2)<<8|this.getUInt8(e+3)},e.prototype.getInt64=function(e){return this.getInt8(e)<<56|this.getUInt8(e+1)<<48|this.getUInt8(e+2)<<40|this.getUInt8(e+3)<<32|this.getUInt8(e+4)<<24|this.getUInt8(e+5)<<16|this.getUInt8(e+6)<<8|this.getUInt8(e+7)},e.prototype.getSlice=function(e,t){return new o(e,t,this)},e.prototype.putInt16=function(e,t){this.putInt8(e,t>>8),this.putUInt8(e+1,255&t)},e.prototype.putUInt16=function(e,t){this.putUInt8(e,t>>8&255),this.putUInt8(e+1,255&t)},e.prototype.putInt32=function(e,t){this.putInt8(e,t>>24),this.putUInt8(e+1,t>>16&255),this.putUInt8(e+2,t>>8&255),this.putUInt8(e+3,255&t)},e.prototype.putUInt32=function(e,t){this.putUInt8(e,t>>24&255),this.putUInt8(e+1,t>>16&255),this.putUInt8(e+2,t>>8&255),this.putUInt8(e+3,255&t)},e.prototype.putInt64=function(e,t){this.putInt8(e,t>>48),this.putUInt8(e+1,t>>42&255),this.putUInt8(e+2,t>>36&255),this.putUInt8(e+3,t>>30&255),this.putUInt8(e+4,t>>24&255),this.putUInt8(e+5,t>>16&255),this.putUInt8(e+6,t>>8&255),this.putUInt8(e+7,255&t)},e.prototype.putBytes=function(e,t){for(var r=0,n=t.remaining();r<n;r++)this.putUInt8(e+r,t.readUInt8())},e.prototype.readUInt8=function(){return this.getUInt8(this._updatePos(1))},e.prototype.readInt8=function(){return this.getInt8(this._updatePos(1))},e.prototype.readUInt16=function(){return this.getUInt16(this._updatePos(2))},e.prototype.readUInt32=function(){return this.getUInt32(this._updatePos(4))},e.prototype.readInt16=function(){return this.getInt16(this._updatePos(2))},e.prototype.readInt32=function(){return this.getInt32(this._updatePos(4))},e.prototype.readInt64=function(){return this.getInt32(this._updatePos(8))},e.prototype.readFloat64=function(){return this.getFloat64(this._updatePos(8))},e.prototype.writeUInt8=function(e){this.putUInt8(this._updatePos(1),e)},e.prototype.writeInt8=function(e){this.putInt8(this._updatePos(1),e)},e.prototype.writeInt16=function(e){this.putInt16(this._updatePos(2),e)},e.prototype.writeInt32=function(e){this.putInt32(this._updatePos(4),e)},e.prototype.writeUInt32=function(e){this.putUInt32(this._updatePos(4),e)},e.prototype.writeInt64=function(e){this.putInt64(this._updatePos(8),e)},e.prototype.writeFloat64=function(e){this.putFloat64(this._updatePos(8),e)},e.prototype.writeBytes=function(e){this.putBytes(this._updatePos(e.remaining()),e)},e.prototype.readSlice=function(e){return this.getSlice(this._updatePos(e),e)},e.prototype._updatePos=function(e){var t=this.position;return this.position+=e,t},e.prototype.remaining=function(){return this.length-this.position},e.prototype.hasRemaining=function(){return this.remaining()>0},e.prototype.reset=function(){this.position=0},e.prototype.toString=function(){return this.constructor.name+"( position="+this.position+" )\n  "+this.toHex()},e.prototype.toHex=function(){for(var e="",t=0;t<this.length;t++){var r=this.getUInt8(t).toString(16);1===r.length&&(r="0"+r),e+=r,t!==this.length-1&&(e+=" ")}return e},e}();t.default=i;var o=function(e){function t(t,r,n){var i=e.call(this,r)||this;return i._start=t,i._inner=n,i}return n(t,e),t.prototype.putUInt8=function(e,t){this._inner.putUInt8(this._start+e,t)},t.prototype.getUInt8=function(e){return this._inner.getUInt8(this._start+e)},t.prototype.putInt8=function(e,t){this._inner.putInt8(this._start+e,t)},t.prototype.putFloat64=function(e,t){this._inner.putFloat64(this._start+e,t)},t.prototype.getInt8=function(e){return this._inner.getInt8(this._start+e)},t.prototype.getFloat64=function(e){return this._inner.getFloat64(this._start+e)},t}(i)},45761:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseBuffer=void 0;var i=n(r(82275));t.BaseBuffer=i.default,t.default=i.default},80386:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(75807)),o=r(56214),a=o.internal.util,s=a.ENCRYPTION_OFF,l=a.ENCRYPTION_ON,u=function(){function e(e,t,r){void 0===t&&(t=c),void 0===r&&(r=function(e){return new WebSocket(e)});var n,a,u,f,d,p,h=this;this._open=!0,this._pending=[],this._error=null,this._handleConnectionError=this._handleConnectionError.bind(this),this._config=e,this._receiveTimeout=null,this._receiveTimeoutStarted=!1,this._receiveTimeoutId=null,this._closingPromise=null;var y=(n=t,u=!0===e.encrypted||e.encrypted===l,f=!1===e.encrypted||e.encrypted===s,d=e.trust,(null===(p=(a="function"==typeof n?n():"")&&a.toLowerCase().indexOf("https")>=0)||(u&&!p?console.warn("Neo4j driver is configured to use secure WebSocket on a HTTP web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to not use encryption."):f&&p&&console.warn("Neo4j driver is configured to use insecure WebSocket on a HTTPS web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to use encryption.")),f)?{scheme:"ws",error:null}:p?{scheme:"wss",error:null}:u?d&&"TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"!==d?{scheme:null,error:(0,o.newError)("The browser version of this driver only supports one trust strategy, 'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES'. "+d+' is not supported. Please either use TRUST_SYSTEM_CA_SIGNED_CERTIFICATES or disable encryption by setting `encrypted:"'+s+'"` in the driver configuration.')}:{scheme:"wss",error:null}:{scheme:"ws",error:null}),b=y.scheme,g=y.error;if(g){this._error=g;return}this._ws=function(e,t,r){var n,i,o=e+"://"+t.asHostPort();try{return r(o)}catch(o){if("SyntaxError"===o.name&&"["===(n=t.asHostPort()).charAt(0)&&-1!==n.indexOf("]"))return r((i=t.host().replace(/:/g,"-").replace("%","s"),"".concat(e,"://").concat(i+".ipv6-literal.net",":").concat(t.port())));throw o}}(b,e.address,r),this._ws.binaryType="arraybuffer";var m=this;this._ws.onclose=function(e){e&&!e.wasClean&&m._handleConnectionError(),m._open=!1},this._ws.onopen=function(){m._clearConnectionTimeout();var e=m._pending;m._pending=null;for(var t=0;t<e.length;t++)m.write(e[t])},this._ws.onmessage=function(e){if(h._resetTimeout(),m.onmessage){var t=new i.default(e.data);m.onmessage(t)}},this._ws.onerror=this._handleConnectionError,this._connectionTimeoutFired=!1,this._connectionTimeoutId=this._setupConnectionTimeout()}return e.prototype._handleConnectionError=function(){if(this._connectionTimeoutFired){this._error=(0,o.newError)("Failed to establish connection in ".concat(this._config.connectionTimeout,"ms"),this._config.connectionErrorCode),this.onerror&&this.onerror(this._error);return}this._open&&!this._timedout&&(this._error=(0,o.newError)("WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the certificate Neo4j is configured to use. WebSocket `readyState` is: "+this._ws.readyState,this._config.connectionErrorCode),this.onerror&&this.onerror(this._error))},e.prototype.write=function(e){if(null!==this._pending)this._pending.push(e);else if(e instanceof i.default)try{this._ws.send(e._buffer)}catch(e){if(1!==this._ws.readyState)this._handleConnectionError();else throw e}else throw(0,o.newError)("Don't know how to send buffer: "+e)},e.prototype.close=function(){var e=this;return null===this._closingPromise&&(this._closingPromise=new Promise(function(t,r){e._clearConnectionTimeout(),e._ws&&3!==e._ws.readyState?(e._open=!1,e.stopReceiveTimeout(),e._ws.onclose=function(){t()},e._ws.close()):t()})),this._closingPromise},e.prototype.setupReceiveTimeout=function(e){this._receiveTimeout=e},e.prototype.stopReceiveTimeout=function(){null!==this._receiveTimeout&&this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!1,null!=this._receiveTimeoutId&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=null)},e.prototype.startReceiveTimeout=function(){this._open&&null!==this._receiveTimeout&&!this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!0,this._resetTimeout())},e.prototype._resetTimeout=function(){var e=this;this._receiveTimeoutStarted&&(null!==this._receiveTimeoutId&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=setTimeout(function(){e._receiveTimeoutId=null,e._timedout=!0,e.stopReceiveTimeout(),e._error=(0,o.newError)("Connection lost. Server didn't respond in ".concat(e._receiveTimeout,"ms"),e._config.connectionErrorCode),e.close(),e.onerror&&e.onerror(e._error)},this._receiveTimeout))},e.prototype._setupConnectionTimeout=function(){var e=this,t=this._config.connectionTimeout;if(t){var r=this._ws;return setTimeout(function(){1!==r.readyState&&(e._connectionTimeoutFired=!0,r.close())},t)}return null},e.prototype._clearConnectionTimeout=function(){var e=this._connectionTimeoutId;(e||0===e)&&(this._connectionTimeoutFired=!1,this._connectionTimeoutId=null,clearTimeout(e))},e}();function c(){return"undefined"!=typeof window&&window.location?window.location.protocol:null}t.default=u},58558:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.default={load:function(e){return r(this,void 0,void 0,function(){return n(this,function(t){return[2,e]})})}}},27575:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.resolve=function(e){return this._resolveToItself(e)},t}(r(56214).internal.resolver.BaseHostNameResolver);t.default=o},21078:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ClientCertificatesLoader=t.HostNameResolver=t.Channel=void 0;var i=n(r(80386)),o=n(r(27575)),a=n(r(58558));t.Channel=i.default,t.HostNameResolver=o.default,t.ClientCertificatesLoader=a.default},75807:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.alloc=void 0;var a=o(r(15313)),s=function(e){function t(t){var r=this,n=t instanceof a.default.Buffer?t:"number"==typeof t&&"function"==typeof a.default.Buffer.alloc?a.default.Buffer.alloc(t):new a.default.Buffer(t);return(r=e.call(this,n.length)||this)._buffer=n,r}return i(t,e),t.prototype.getUInt8=function(e){return this._buffer.readUInt8(e)},t.prototype.getInt8=function(e){return this._buffer.readInt8(e)},t.prototype.getFloat64=function(e){return this._buffer.readDoubleBE(e)},t.prototype.putUInt8=function(e,t){this._buffer.writeUInt8(t,e)},t.prototype.putInt8=function(e,t){this._buffer.writeInt8(t,e)},t.prototype.putFloat64=function(e,t){this._buffer.writeDoubleBE(t,e)},t.prototype.putBytes=function(r,n){if(n instanceof t){var i=Math.min(n.length-n.position,this.length-r);n._buffer.copy(this._buffer,r,n.position,n.position+i),n.position+=i}else e.prototype.putBytes.call(this,r,n)},t.prototype.getSlice=function(e,r){return new t(this._buffer.slice(e,e+r))},t}(o(r(45761)).default);t.default=s,t.alloc=function(e){return new s(e)}},75626:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(56214),i=n.internal.util,o=i.ENCRYPTION_OFF,a=i.ENCRYPTION_ON,s=n.error.SERVICE_UNAVAILABLE,l=[null,void 0,!0,!1,a,o],u=[null,void 0,"TRUST_ALL_CERTIFICATES","TRUST_CUSTOM_CA_SIGNED_CERTIFICATES","TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"];t.default=function(e,t,r,i){this.address=e,this.encrypted=function(e){var t=e.encrypted;if(-1===l.indexOf(t))throw(0,n.newError)("Illegal value of the encrypted setting ".concat(t,". Expected one of ").concat(l));return t}(t),this.trust=function(e){var t=e.trust;if(-1===u.indexOf(t))throw(0,n.newError)("Illegal value of the trust setting ".concat(t,". Expected one of ").concat(u));return t}(t),this.trustedCertificates=t.trustedCertificates||[],this.knownHostsPath=t.knownHosts||null,this.connectionErrorCode=r||s,this.connectionTimeout=t.connectionTimeout,this.clientCertificate=i}},70733:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Dechunker=t.Chunker=void 0;var a=o(r(82275)),s=r(75807),l=o(r(1103)),u=function(e){function t(t,r){var n=e.call(this,0)||this;return n._bufferSize=r||1400,n._ch=t,n._buffer=(0,s.alloc)(n._bufferSize),n._currentChunkStart=0,n._chunkOpen=!1,n}return i(t,e),t.prototype.putUInt8=function(e,t){this._ensure(1),this._buffer.writeUInt8(t)},t.prototype.putInt8=function(e,t){this._ensure(1),this._buffer.writeInt8(t)},t.prototype.putFloat64=function(e,t){this._ensure(8),this._buffer.writeFloat64(t)},t.prototype.putBytes=function(e,t){for(;t.remaining()>0;)this._ensure(1),this._buffer.remaining()>t.remaining()?this._buffer.writeBytes(t):this._buffer.writeBytes(t.readSlice(this._buffer.remaining()));return this},t.prototype.flush=function(){if(this._buffer.position>0){this._closeChunkIfOpen();var e=this._buffer;this._buffer=null,this._ch.write(e.getSlice(0,e.position)),this._buffer=(0,s.alloc)(this._bufferSize),this._chunkOpen=!1}return this},t.prototype.messageBoundary=function(){this._closeChunkIfOpen(),2>this._buffer.remaining()&&this.flush(),this._buffer.writeInt16(0)},t.prototype._ensure=function(e){var t=this._chunkOpen?e:e+2;this._buffer.remaining()<t&&this.flush(),this._chunkOpen||(this._currentChunkStart=this._buffer.position,this._buffer.position=this._buffer.position+2,this._chunkOpen=!0)},t.prototype._closeChunkIfOpen=function(){if(this._chunkOpen){var e=this._buffer.position-(this._currentChunkStart+2);this._buffer.putUInt16(this._currentChunkStart,e),this._chunkOpen=!1}},t}(a.default);t.Chunker=u;var c=function(){function e(){this._currentMessage=[],this._partialChunkHeader=0,this._state=this.AWAITING_CHUNK}return e.prototype.AWAITING_CHUNK=function(e){return e.remaining()>=2?this._onHeader(e.readUInt16()):(this._partialChunkHeader=e.readUInt8()<<8,this.IN_HEADER)},e.prototype.IN_HEADER=function(e){return this._onHeader((this._partialChunkHeader|e.readUInt8())&65535)},e.prototype.IN_CHUNK=function(e){return this._chunkSize<=e.remaining()?(this._currentMessage.push(e.readSlice(this._chunkSize)),this.AWAITING_CHUNK):(this._chunkSize-=e.remaining(),this._currentMessage.push(e.readSlice(e.remaining())),this.IN_CHUNK)},e.prototype.CLOSED=function(e){},e.prototype._onHeader=function(e){if(0!==e)return this._chunkSize=e,this.IN_CHUNK;var t=void 0;switch(this._currentMessage.length){case 0:return this.AWAITING_CHUNK;case 1:t=this._currentMessage[0];break;default:t=new l.default(this._currentMessage)}return this._currentMessage=[],this.onmessage(t),this.AWAITING_CHUNK},e.prototype.write=function(e){for(;e.hasRemaining();)this._state=this._state(e)},e}();t.Dechunker=c},1103:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(45761),a=r(75807),s=function(e){function t(t){for(var r=this,n=0,i=0;i<t.length;i++)n+=t[i].length;return(r=e.call(this,n)||this)._buffers=t,r}return i(t,e),t.prototype.getUInt8=function(e){for(var t=0;t<this._buffers.length;t++){var r=this._buffers[t];if(!(e>=r.length))return r.getUInt8(e);e-=r.length}},t.prototype.getInt8=function(e){for(var t=0;t<this._buffers.length;t++){var r=this._buffers[t];if(!(e>=r.length))return r.getInt8(e);e-=r.length}},t.prototype.getFloat64=function(e){for(var t=(0,a.alloc)(8),r=0;r<8;r++)t.putUInt8(r,this.getUInt8(e+r));return t.getFloat64(0)},t}(o.BaseBuffer);t.default=s},14315:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.utf8=t.alloc=t.ChannelConfig=void 0,i(r(21078),t),i(r(70733),t);var a=r(75626);Object.defineProperty(t,"ChannelConfig",{enumerable:!0,get:function(){return o(a).default}});var s=r(75807);Object.defineProperty(t,"alloc",{enumerable:!0,get:function(){return s.alloc}});var l=r(78602);Object.defineProperty(t,"utf8",{enumerable:!0,get:function(){return o(l).default}})},78602:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(75807)),o=r(56214),a=n(r(15313)),s=new(r(23457)).StringDecoder("utf8");t.default={encode:function(e){return new i.default("function"==typeof a.default.Buffer.from?a.default.Buffer.from(e,"utf8"):new a.default.Buffer(e,"utf8"))},decode:function(e,t){var r,n,i,a,l,u;if(Object.prototype.hasOwnProperty.call(e,"_buffer"))return n=(r=e.position)+t,e.position=Math.min(n,e.length),e._buffer.toString("utf8",r,n);if(Object.prototype.hasOwnProperty.call(e,"_buffers"))return i=function(e){return s.write(e._buffer)},a=function(){return s.end()},l=t,u=e.position,e._updatePos(Math.min(t,e.length-u)),e._buffers.reduce(function(e,t){if(l<=0)return e;if(u>=t.length)return u-=t.length,"";t._updatePos(u-t.position);var r=Math.min(t.length-u,l),n=t.readSlice(r);return t._updatePos(r),l=Math.max(l-n.length,0),u=0,e+i(n)},"")+a();throw(0,o.newError)("Don't know how to decode strings from '".concat(e,"'"))}}},19328:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(56214),a=r(42835),s=function(){function e(e){var t=e.authTokenManager,r=e.userAgent,n=e.boltAgent;this._authTokenManager=t||(0,o.staticAuthTokenManager)({}),this._userAgent=r,this._boltAgent=n}return e.prototype.authenticate=function(e){var t=e.connection,r=e.auth,o=e.skipReAuth,s=e.waitReAuth,l=e.forceReAuth;return n(this,void 0,void 0,function(){var e,n;return i(this,function(i){switch(i.label){case 0:if(!(null!=r))return[3,3];if(e=!0===t.supportsReAuth&&(!a.object.equals(t.authToken,r)&&!0!==o||!0===l),!(null==t.authToken||e))return[3,2];return[4,t.connect(this._userAgent,this._boltAgent,r,s||!1)];case 1:case 5:return[2,i.sent()];case 2:case 6:return[2,t];case 3:return[4,this._authTokenManager.getToken()];case 4:if(n=i.sent(),a.object.equals(n,t.authToken))return[3,6];return[4,t.connect(this._userAgent,this._boltAgent,n,!1)]}})})},e.prototype.handleError=function(e){var t=e.connection,r=e.code;return!!(t&&r.startsWith("Neo.ClientError.Security."))&&this._authTokenManager.handleSecurityException(t.authToken,r)},e}();t.default=s},83555:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(14315),a=function(){function e(e){var t=e.clientCertificateProvider,r=e.loader;this._clientCertificateProvider=t,this._loader=r||o.ClientCertificatesLoader,this._clientCertificate=null}return e.prototype.getClientCertificate=function(){return n(this,void 0,void 0,function(){var e,t,r=this;return i(this,function(n){switch(n.label){case 0:if(!(e=null!=this._clientCertificateProvider))return[3,3];if(t=null==this._clientCertificate)return[3,2];return[4,this._clientCertificateProvider.hasUpdate()];case 1:t=n.sent(),n.label=2;case 2:e=t,n.label=3;case 3:return e&&(this._clientCertificate=Promise.resolve(this._clientCertificateProvider.getClientCertificate()).then(this._loader.load).then(function(e){return r._clientCertificate=e,r._clientCertificate}).catch(function(e){throw r._clientCertificate=null,e})),[2,this._clientCertificate]}})})},e}();t.default=a},66362:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(r(80017)),u=r(29202),c=r(56214),f=c.internal.constants,d=f.BOLT_PROTOCOL_V3,p=f.BOLT_PROTOCOL_V4_0,h=f.BOLT_PROTOCOL_V4_4,y=f.BOLT_PROTOCOL_V5_1,b=c.error.SERVICE_UNAVAILABLE,g=function(e){function t(t){var r=t.id,n=t.config,i=t.log,o=t.address,a=t.userAgent,s=t.boltAgent,l=t.authTokenManager,u=t.newPool,c=e.call(this,{id:r,config:n,log:i,userAgent:a,boltAgent:s,authTokenManager:l,newPool:u})||this;return c._address=o,c}return i(t,e),t.prototype.acquireConnection=function(e){var t=void 0===e?{}:e,r=(t.accessMode,t.database),n=(t.bookmarks,t.auth),i=t.forceReAuth;return o(this,void 0,void 0,function(){var e,t,o=this;return a(this,function(a){switch(a.label){case 0:return e=u.ConnectionErrorHandler.create({errorCode:b,handleSecurityError:function(e,t,n){return o._handleSecurityError(e,t,n,r)}}),[4,this._connectionPool.acquire({auth:n,forceReAuth:i},this._address)];case 1:if(t=a.sent(),!n)return[3,3];return[4,this._verifyStickyConnection({auth:n,connection:t,address:this._address})];case 2:return a.sent(),[2,t];case 3:return[2,new u.DelegateConnection(t,e)]}})})},t.prototype._handleSecurityError=function(t,r,n,i){return this._log.warn("Direct driver ".concat(this._id," will close connection to ").concat(r," for database '").concat(i,"' because of an error ").concat(t.code," '").concat(t.message,"'")),e.prototype._handleSecurityError.call(this,t,r,n)},t.prototype._hasProtocolVersion=function(e){return o(this,void 0,void 0,function(){var t,r;return a(this,function(n){switch(n.label){case 0:return[4,this._createChannelConnection(this._address)];case 1:return r=(t=n.sent()).protocol()?t.protocol().version:null,[4,t.close()];case 2:if(n.sent(),r)return[2,e(r)];return[2,!1]}})})},t.prototype.supportsMultiDb=function(){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=p})];case 1:return[2,e.sent()]}})})},t.prototype.getNegotiatedProtocolVersion=function(){var e=this;return new Promise(function(t,r){e._hasProtocolVersion(t).catch(r)})},t.prototype.supportsTransactionConfig=function(){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=d})];case 1:return[2,e.sent()]}})})},t.prototype.supportsUserImpersonation=function(){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=h})];case 1:return[2,e.sent()]}})})},t.prototype.supportsSessionAuth=function(){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=y})];case 1:return[2,e.sent()]}})})},t.prototype.verifyAuthentication=function(e){var t=e.auth;return o(this,void 0,void 0,function(){var e=this;return a(this,function(r){return[2,this._verifyAuthentication({auth:t,getAddress:function(){return e._address}})]})})},t.prototype.verifyConnectivityAndGetServerInfo=function(){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this._verifyConnectivityAndGetServerVersion({address:this._address})];case 1:return[2,e.sent()]}})})},t}(l.default);t.default=g},80017:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},l=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=r(29202),f=r(56214),d=u(r(19328)),p=r(42835),h=u(r(99105)),y=u(r(83555)),b=f.error.SERVICE_UNAVAILABLE,g=["Neo.ClientError.Security.CredentialsExpired","Neo.ClientError.Security.Forbidden","Neo.ClientError.Security.TokenExpired","Neo.ClientError.Security.Unauthorized"],m=f.internal.pool,v=m.Pool,_=m.PoolConfig,O=function(e){function t(r,n){var i=r.id,u=r.config,f=r.log,p=r.userAgent,b=r.boltAgent,g=r.authTokenManager,m=r.newPool,O=void 0===m?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(v.bind.apply(v,l([void 0],s(e),!1)))}:m;void 0===n&&(n=null);var w=e.call(this)||this;return w._id=i,w._config=u,w._log=f,w._clientCertificateHolder=new y.default({clientCertificateProvider:w._config.clientCertificate}),w._authenticationProvider=new d.default({authTokenManager:g,userAgent:p,boltAgent:b}),w._livenessCheckProvider=new h.default({connectionLivenessCheckTimeout:u.connectionLivenessCheckTimeout}),w._userAgent=p,w._boltAgent=b,w._createChannelConnection=n||function(e){return o(w,void 0,void 0,function(){var t,r;return a(this,function(n){switch(n.label){case 0:return t=c.createChannelConnection,r=[e,this._config,this._createConnectionErrorHandler(),this._log],[4,this._clientCertificateHolder.getClientCertificate()];case 1:return[2,t.apply(void 0,r.concat([n.sent()]))]}})})},w._connectionPool=O({create:w._createConnection.bind(w),destroy:w._destroyConnection.bind(w),validateOnAcquire:w._validateConnectionOnAcquire.bind(w),validateOnRelease:w._validateConnectionOnRelease.bind(w),installIdleObserver:t._installIdleObserverOnConnection.bind(w),removeIdleObserver:t._removeIdleObserverOnConnection.bind(w),config:_.fromDriverConfig(u),log:w._log}),w._openConnections={},w}return i(t,e),t.prototype._createConnectionErrorHandler=function(){return new c.ConnectionErrorHandler(b)},t.prototype._getClientCertificate=function(){return o(this,void 0,void 0,function(){return a(this,function(e){return[2,this._config.clientCertificate.getClientCertificate()]})})},t.prototype._createConnection=function(e,t,r){var n=this,i=e.auth;return this._createChannelConnection(t).then(function(e){return e.release=function(){return e.idleTimestamp=Date.now(),r(t,e)},n._openConnections[e.id]=e,n._authenticationProvider.authenticate({connection:e,auth:i}).catch(function(t){throw n._destroyConnection(e),t})})},t.prototype._validateConnectionOnAcquire=function(e,t){var r=e.auth,n=e.skipReAuth;return o(this,void 0,void 0,function(){var e,i;return a(this,function(o){switch(o.label){case 0:if(!this._validateConnection(t))return[2,!1];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this._livenessCheckProvider.check(t)];case 2:return o.sent(),[3,4];case 3:return e=o.sent(),this._log.debug("The connection ".concat(t.id," is not alive because of an error ").concat(e.code," '").concat(e.message,"'")),[2,!1];case 4:return o.trys.push([4,6,,7]),[4,this._authenticationProvider.authenticate({connection:t,auth:r,skipReAuth:n})];case 5:return o.sent(),[2,!0];case 6:return i=o.sent(),this._log.debug("The connection ".concat(t.id," is not valid because of an error ").concat(i.code," '").concat(i.message,"'")),[2,!1];case 7:return[2]}})})},t.prototype._validateConnectionOnRelease=function(e){return!0!==e._sticky&&this._validateConnection(e)},t.prototype._validateConnection=function(e){if(!e.isOpen())return!1;var t=this._config.maxConnectionLifetime;return!(Date.now()-e.creationTimestamp>t)},t.prototype._destroyConnection=function(e){return delete this._openConnections[e.id],e.close()},t.prototype._verifyConnectivityAndGetServerVersion=function(e){var t=e.address;return o(this,void 0,void 0,function(){var e,r;return a(this,function(n){switch(n.label){case 0:return[4,this._connectionPool.acquire({},t)];case 1:e=n.sent(),r=new f.ServerInfo(e.server,e.protocol().version),n.label=2;case 2:if(n.trys.push([2,,5,7]),e.protocol().isLastMessageLogon())return[3,4];return[4,e.resetAndFlush()];case 3:n.sent(),n.label=4;case 4:return[3,7];case 5:return[4,e.release()];case 6:return n.sent(),[7];case 7:return[2,r]}})})},t.prototype._verifyAuthentication=function(e){var t=e.getAddress,r=e.auth;return o(this,void 0,void 0,function(){var e,n,i,o,s,l;return a(this,function(a){switch(a.label){case 0:e=[],a.label=1;case 1:return a.trys.push([1,8,9,11]),[4,t()];case 2:return n=a.sent(),[4,this._connectionPool.acquire({auth:r,skipReAuth:!0},n)];case 3:if(i=a.sent(),e.push(i),o=!i.protocol().isLastMessageLogon(),!i.supportsReAuth)throw(0,f.newError)("Driver is connected to a database that does not support user switch.");if(!(o&&i.supportsReAuth))return[3,5];return[4,this._authenticationProvider.authenticate({connection:i,auth:r,waitReAuth:!0,forceReAuth:!0})];case 4:return a.sent(),[3,7];case 5:if(!(o&&!i.supportsReAuth))return[3,7];return[4,this._connectionPool.acquire({auth:r},n,{requireNew:!0})];case 6:(s=a.sent())._sticky=!0,e.push(s),a.label=7;case 7:return[2,!0];case 8:if(l=a.sent(),g.includes(l.code))return[2,!1];throw l;case 9:return[4,Promise.all(e.map(function(e){return e.release()}))];case 10:return a.sent(),[7];case 11:return[2]}})})},t.prototype._verifyStickyConnection=function(e){var t=e.auth,r=e.connection;return e.address,o(this,void 0,void 0,function(){var e,n;return a(this,function(i){switch(i.label){case 0:if(n=!(e=p.object.equals(t,r.authToken)),r._sticky=e&&!r.supportsReAuth,!(n||r._sticky))return[3,2];return[4,r.release()];case 1:throw i.sent(),(0,f.newError)("Driver is connected to a database that does not support user switch.");case 2:return[2]}})})},t.prototype.close=function(){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this._connectionPool.close()];case 1:return e.sent(),[4,Promise.all(Object.values(this._openConnections).map(function(e){return e.close()}))];case 2:return e.sent(),[2]}})})},t._installIdleObserverOnConnection=function(e,t){e._setIdle(t)},t._removeIdleObserverOnConnection=function(e){e._unsetIdle()},t.prototype._handleSecurityError=function(e,t,r){return this._authenticationProvider.handleError({connection:r,code:e.code})&&(e.retriable=!0),"Neo.ClientError.Security.AuthorizationExpired"===e.code&&this._connectionPool.apply(t,function(e){e.authToken=null}),r&&r.close().catch(function(){}),e},t}(f.ConnectionProvider);t.default=O},88922:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return s(t,e),t},u=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},f=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},d=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=r(56214),y=l(r(85803)),b=r(14315),g=p(r(95366)),m=p(r(80017)),v=r(323),_=r(29202),O=r(42835),w=h.error.SERVICE_UNAVAILABLE,S=h.error.SESSION_EXPIRED,E=h.internal.bookmarks.Bookmarks,x=h.internal.constants,P=x.ACCESS_MODE_READ,j=x.ACCESS_MODE_WRITE,T=x.BOLT_PROTOCOL_V3,k=x.BOLT_PROTOCOL_V4_0,C=x.BOLT_PROTOCOL_V4_4,A=x.BOLT_PROTOCOL_V5_1,R=(0,h.int)(3e4),M=function(e){function t(t){var r=t.id,n=t.address,i=t.routingContext,a=t.hostNameResolver,s=t.config,l=t.log,f=t.userAgent,d=t.boltAgent,p=t.authTokenManager,g=t.routingTablePurgeDelay,m=t.newPool,w=e.call(this,{id:r,config:s,log:l,userAgent:f,boltAgent:d,authTokenManager:p,newPool:m},function(e){return u(w,void 0,void 0,function(){var t,r;return c(this,function(n){switch(n.label){case 0:return t=_.createChannelConnection,r=[e,this._config,this._createConnectionErrorHandler(),this._log],[4,this._clientCertificateHolder.getClientCertificate()];case 1:return[2,t.apply(void 0,r.concat([n.sent(),this._routingContext]))]}})})})||this;return w._routingContext=o(o({},i),{address:n.toString()}),w._seedRouter=n,w._rediscovery=new y.default(w._routingContext),w._loadBalancingStrategy=new v.LeastConnectedLoadBalancingStrategy(w._connectionPool),w._hostNameResolver=a,w._dnsResolver=new b.HostNameResolver,w._log=l,w._useSeedRouter=!0,w._routingTableRegistry=new I(g?(0,h.int)(g):R),w._refreshRoutingTable=O.functional.reuseOngoingRequest(w._refreshRoutingTable,w),w}return i(t,e),t.prototype._createConnectionErrorHandler=function(){return new _.ConnectionErrorHandler(S)},t.prototype._handleUnavailability=function(e,t,r){return this._log.warn("Routing driver ".concat(this._id," will forget ").concat(t," for database '").concat(r,"' because of an error ").concat(e.code," '").concat(e.message,"'")),this.forget(t,r||null),e},t.prototype._handleSecurityError=function(t,r,n,i){return this._log.warn("Routing driver ".concat(this._id," will close connections to ").concat(r," for database '").concat(i,"' because of an error ").concat(t.code," '").concat(t.message,"'")),e.prototype._handleSecurityError.call(this,t,r,n,i)},t.prototype._handleWriteFailure=function(e,t,r){return this._log.warn("Routing driver ".concat(this._id," will forget writer ").concat(t," for database '").concat(r,"' because of an error ").concat(e.code," '").concat(e.message,"'")),this.forgetWriter(t,r||null),(0,h.newError)("No longer possible to write to server at "+t,S,e)},t.prototype.acquireConnection=function(e){var t=void 0===e?{}:e,r=t.accessMode,n=t.database,i=t.bookmarks,o=t.impersonatedUser,a=t.onDatabaseNameResolved,s=t.auth;return u(this,void 0,void 0,function(){var e,t,l,u,f,d,p,y=this;return c(this,function(c){switch(c.label){case 0:return l={database:n||null},u=new _.ConnectionErrorHandler(S,function(e,t){return y._handleUnavailability(e,t,l.database)},function(e,t){return y._handleWriteFailure(e,t,l.database)},function(e,t,r){return y._handleSecurityError(e,t,r,l.database)}),[4,this._freshRoutingTable({accessMode:r,database:l.database,bookmarks:i,impersonatedUser:o,auth:s,onDatabaseNameResolved:function(e){l.database=l.database||e,a&&a(e)}})];case 1:if(f=c.sent(),r===P)t=this._loadBalancingStrategy.selectReader(f.readers),e="read";else if(r===j)t=this._loadBalancingStrategy.selectWriter(f.writers),e="write";else throw(0,h.newError)("Illegal mode "+r);if(!t)throw(0,h.newError)("Failed to obtain connection towards ".concat(e," server. Known routing table is: ").concat(f),S);c.label=2;case 2:return c.trys.push([2,6,,7]),[4,this._connectionPool.acquire({auth:s},t)];case 3:if(d=c.sent(),!s)return[3,5];return[4,this._verifyStickyConnection({auth:s,connection:d,address:t})];case 4:return c.sent(),[2,d];case 5:return[2,new _.DelegateConnection(d,u)];case 6:throw p=c.sent(),u.handleAndTransformError(p,t);case 7:return[2]}})})},t.prototype._hasProtocolVersion=function(e){return u(this,void 0,void 0,function(){var t,r,n,i,o;return c(this,function(a){switch(a.label){case 0:return[4,this._resolveSeedRouter(this._seedRouter)];case 1:t=a.sent(),n=0,a.label=2;case 2:if(!(n<t.length))return[3,8];a.label=3;case 3:return a.trys.push([3,6,,7]),[4,this._createChannelConnection(t[n])];case 4:return o=(i=a.sent()).protocol()?i.protocol().version:null,[4,i.close()];case 5:if(a.sent(),o)return[2,e(o)];return[2,!1];case 6:return r=a.sent(),[3,7];case 7:return n++,[3,2];case 8:if(r)throw r;return[2,!1]}})})},t.prototype.supportsMultiDb=function(){return u(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=k})];case 1:return[2,e.sent()]}})})},t.prototype.supportsTransactionConfig=function(){return u(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=T})];case 1:return[2,e.sent()]}})})},t.prototype.supportsUserImpersonation=function(){return u(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=C})];case 1:return[2,e.sent()]}})})},t.prototype.supportsSessionAuth=function(){return u(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return e>=A})];case 1:return[2,e.sent()]}})})},t.prototype.getNegotiatedProtocolVersion=function(){var e=this;return new Promise(function(t,r){e._hasProtocolVersion(t).catch(r)})},t.prototype.verifyAuthentication=function(e){var t=e.database,r=e.accessMode,n=e.auth;return u(this,void 0,void 0,function(){var e=this;return c(this,function(i){return[2,this._verifyAuthentication({auth:n,getAddress:function(){return u(e,void 0,void 0,function(){var e,i,o;return c(this,function(a){switch(a.label){case 0:return e={database:t||null},[4,this._freshRoutingTable({accessMode:r,database:e.database,auth:n,onDatabaseNameResolved:function(t){e.database=e.database||t}})];case 1:if(i=a.sent(),0===(o=r===j?i.writers:i.readers).length)throw(0,h.newError)("No servers available for database '".concat(e.database,"' with access mode '").concat(r,"'"),w);return[2,o[0]]}})})}})]})})},t.prototype.verifyConnectivityAndGetServerInfo=function(e){var t=e.database,r=e.accessMode;return u(this,void 0,void 0,function(){var e,n,i,o,a,s,l,u,d;return c(this,function(c){switch(c.label){case 0:return e={database:t||null},[4,this._freshRoutingTable({accessMode:r,database:e.database,onDatabaseNameResolved:function(t){e.database=e.database||t}})];case 1:n=c.sent(),i=r===j?n.writers:n.readers,o=(0,h.newError)("No servers available for database '".concat(e.database,"' with access mode '").concat(r,"'"),w),c.label=2;case 2:c.trys.push([2,9,10,11]),s=(a=f(i)).next(),c.label=3;case 3:if(s.done)return[3,8];l=s.value,c.label=4;case 4:return c.trys.push([4,6,,7]),[4,this._verifyConnectivityAndGetServerVersion({address:l})];case 5:return[2,c.sent()];case 6:return o=c.sent(),[3,7];case 7:return s=a.next(),[3,3];case 8:return[3,11];case 9:return u={error:c.sent()},[3,11];case 10:try{s&&!s.done&&(d=a.return)&&d.call(a)}finally{if(u)throw u.error}return[7];case 11:throw o}})})},t.prototype.forget=function(e,t){this._routingTableRegistry.apply(t,{applyWhenExists:function(t){return t.forget(e)}}),this._connectionPool.purge(e).catch(function(){})},t.prototype.forgetWriter=function(e,t){this._routingTableRegistry.apply(t,{applyWhenExists:function(t){return t.forgetWriter(e)}})},t.prototype._freshRoutingTable=function(e){var t=void 0===e?{}:e,r=t.accessMode,n=t.database,i=t.bookmarks,o=t.impersonatedUser,a=t.onDatabaseNameResolved,s=t.auth,l=this._routingTableRegistry.get(n,function(){return new y.RoutingTable({database:n})});return l.isStaleFor(r)?(this._log.info('Routing table is stale for database: "'.concat(n,'" and access mode: "').concat(r,'": ').concat(l)),this._refreshRoutingTable(l,i,o,s).then(function(e){return a(e.database),e})):l},t.prototype._refreshRoutingTable=function(e,t,r,n){var i=e.routers;return this._useSeedRouter?this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(i,e,t,r,n):this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(i,e,t,r,n)},t.prototype._fetchRoutingTableFromSeedRouterFallbackToKnownRouters=function(e,t,r,n,i){return u(this,void 0,void 0,function(){var o,a,s,l,u,f,p;return c(this,function(c){switch(c.label){case 0:return o=[],[4,this._fetchRoutingTableUsingSeedRouter(o,this._seedRouter,t,r,n,i)];case 1:if(s=(a=d.apply(void 0,[c.sent(),2]))[0],l=a[1],!s)return[3,2];return this._useSeedRouter=!1,[3,4];case 2:return[4,this._fetchRoutingTableUsingKnownRouters(e,t,r,n,i)];case 3:f=(u=d.apply(void 0,[c.sent(),2]))[0],p=u[1],s=f,l=p||l,c.label=4;case 4:return[4,this._applyRoutingTableIfPossible(t,s,l)];case 5:return[2,c.sent()]}})})},t.prototype._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter=function(e,t,r,n,i){return u(this,void 0,void 0,function(){var o,a,s,l;return c(this,function(u){switch(u.label){case 0:return[4,this._fetchRoutingTableUsingKnownRouters(e,t,r,n,i)];case 1:if(a=(o=d.apply(void 0,[u.sent(),2]))[0],s=o[1],a)return[3,3];return[4,this._fetchRoutingTableUsingSeedRouter(e,this._seedRouter,t,r,n,i)];case 2:a=(l=d.apply(void 0,[u.sent(),2]))[0],s=l[1],u.label=3;case 3:return[4,this._applyRoutingTableIfPossible(t,a,s)];case 4:return[2,u.sent()]}})})},t.prototype._fetchRoutingTableUsingKnownRouters=function(e,r,n,i,o){return u(this,void 0,void 0,function(){var a,s,l,u;return c(this,function(c){switch(c.label){case 0:return[4,this._fetchRoutingTable(e,r,n,i,o)];case 1:if(s=(a=d.apply(void 0,[c.sent(),2]))[0],l=a[1],s)return[2,[s,null]];return u=e.length-1,t._forgetRouter(r,e,u),[2,[null,l]]}})})},t.prototype._fetchRoutingTableUsingSeedRouter=function(e,t,r,n,i,o){return u(this,void 0,void 0,function(){var a;return c(this,function(s){switch(s.label){case 0:return[4,this._resolveSeedRouter(t)];case 1:return a=s.sent().filter(function(t){return 0>e.indexOf(t)}),[4,this._fetchRoutingTable(a,r,n,i,o)];case 2:return[2,s.sent()]}})})},t.prototype._resolveSeedRouter=function(e){return u(this,void 0,void 0,function(){var t,r=this;return c(this,function(n){switch(n.label){case 0:return[4,this._hostNameResolver.resolve(e)];case 1:return[4,Promise.all(n.sent().map(function(e){return r._dnsResolver.resolve(e)}))];case 2:return t=n.sent(),[2,[].concat.apply([],t)]}})})},t.prototype._fetchRoutingTable=function(e,r,n,i,o){return u(this,void 0,void 0,function(){var a=this;return c(this,function(s){return[2,e.reduce(function(s,l,f){return u(a,void 0,void 0,function(){var a,u,p,h,y,b;return c(this,function(c){switch(c.label){case 0:return[4,s];case 1:if(a=d.apply(void 0,[c.sent(),1])[0])return[2,[a,null]];return u=f-1,t._forgetRouter(r,e,u),[4,this._createSessionForRediscovery(l,n,i,o)];case 2:if(h=(p=d.apply(void 0,[c.sent(),2]))[0],y=p[1],!h)return[3,8];c.label=3;case 3:return c.trys.push([3,5,6,7]),[4,this._rediscovery.lookupRoutingTableOnRouter(h,r.database,l,i)];case 4:return[2,[c.sent(),null]];case 5:return b=c.sent(),[2,this._handleRediscoveryError(b,l)];case 6:return h.close(),[7];case 7:return[3,9];case 8:return[2,[null,y]];case 9:return[2]}})})},Promise.resolve([null,null]))]})})},t.prototype._createSessionForRediscovery=function(e,t,r,n){return u(this,void 0,void 0,function(){var i,o,a,s,l,u=this;return c(this,function(c){switch(c.label){case 0:return c.trys.push([0,4,,5]),[4,this._connectionPool.acquire({auth:n},e)];case 1:if(i=c.sent(),!n)return[3,3];return[4,this._verifyStickyConnection({auth:n,connection:i,address:e})];case 2:c.sent(),c.label=3;case 3:if(o=_.ConnectionErrorHandler.create({errorCode:S,handleSecurityError:function(e,t,r){return u._handleSecurityError(e,t,r)}}),a=i._sticky?new _.DelegateConnection(i):new _.DelegateConnection(i,o),s=new g.default(a),i.protocol().version<4)return[2,[new h.Session({mode:j,bookmarks:E.empty(),connectionProvider:s}),null]];return[2,[new h.Session({mode:P,database:"system",bookmarks:t,connectionProvider:s,impersonatedUser:r}),null]];case 4:return l=c.sent(),[2,this._handleRediscoveryError(l,e)];case 5:return[2]}})})},t.prototype._handleRediscoveryError=function(e,t){if(["Neo.ClientError.Database.DatabaseNotFound","Neo.ClientError.Transaction.InvalidBookmark","Neo.ClientError.Transaction.InvalidBookmarkMixture","Neo.ClientError.Statement.ArgumentError","Neo.ClientError.Request.Invalid","Neo.ClientError.Statement.TypeError","N/A"].includes(e.code)||e.code.startsWith("Neo.ClientError.Security.")&&!["Neo.ClientError.Security.AuthorizationExpired"].includes(e.code))throw e;if("Neo.ClientError.Procedure.ProcedureNotFound"===e.code)throw(0,h.newError)("Server at ".concat(t.asHostPort()," can't perform routing. Make sure you are connecting to a causal cluster"),w,e);return this._log.warn("unable to fetch routing table because of an error ".concat(e)),[null,e]},t.prototype._applyRoutingTableIfPossible=function(e,t,r){return u(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:if(!t)throw(0,h.newError)("Could not perform discovery. No routing servers available. Known routing table: ".concat(e),w,r);return 0===t.writers.length&&(this._useSeedRouter=!0),[4,this._updateRoutingTable(t)];case 1:return n.sent(),[2,t]}})})},t.prototype._updateRoutingTable=function(e){return u(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,this._connectionPool.keepAll(e.allServers())];case 1:return t.sent(),this._routingTableRegistry.removeExpired(),this._routingTableRegistry.register(e),this._log.info("Updated routing table ".concat(e)),[2]}})})},t._forgetRouter=function(e,t,r){var n=t[r];e&&n&&e.forgetRouter(n)},t}(m.default);t.default=M;var I=function(){function e(e){this._tables=new Map,this._routingTablePurgeDelay=e}return e.prototype.register=function(e){return this._tables.set(e.database,e),this},e.prototype.apply=function(e,t){var r=void 0===t?{}:t,n=r.applyWhenExists,i=r.applyWhenDontExists;return this._tables.has(e)?n(this._tables.get(e)):"string"==typeof e||null===e?(void 0===i?function(){}:i)():this._forEach(n),this},e.prototype.get=function(e,t){return this._tables.has(e)?this._tables.get(e):"function"==typeof t?t():t},e.prototype.removeExpired=function(){var e=this;return this._removeIf(function(t){return t.isExpiredFor(e._routingTablePurgeDelay)})},e.prototype._forEach=function(e){var t,r;try{for(var n=f(this._tables),i=n.next();!i.done;i=n.next()){var o=d(i.value,2)[1];e(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return this},e.prototype._remove=function(e){return this._tables.delete(e),this},e.prototype._removeIf=function(e){var t,r;try{for(var n=f(this._tables),i=n.next();!i.done;i=n.next()){var o=d(i.value,2),a=o[0],s=o[1];e(s)&&this._remove(a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return this},e}()},95366:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var r=e.call(this)||this;return r._connection=t,r}return i(t,e),t.prototype.acquireConnection=function(e){var t=void 0===e?{}:e;t.accessMode,t.database,t.bookmarks;var r=this._connection;return this._connection=null,Promise.resolve(r)},t}(r(56214).ConnectionProvider);t.default=o},75232:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoutingConnectionProvider=t.DirectConnectionProvider=t.PooledConnectionProvider=t.SingleConnectionProvider=void 0;var i=r(95366);Object.defineProperty(t,"SingleConnectionProvider",{enumerable:!0,get:function(){return n(i).default}});var o=r(80017);Object.defineProperty(t,"PooledConnectionProvider",{enumerable:!0,get:function(){return n(o).default}});var a=r(66362);Object.defineProperty(t,"DirectConnectionProvider",{enumerable:!0,get:function(){return n(a).default}});var s=r(88922);Object.defineProperty(t,"RoutingConnectionProvider",{enumerable:!0,get:function(){return n(s).default}})},99105:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){var t=e.connectionLivenessCheckTimeout;this._connectionLivenessCheckTimeout=t}return e.prototype.check=function(e){return r(this,void 0,void 0,function(){var t;return n(this,function(r){switch(r.label){case 0:if(this._isCheckDisabled||this._isNewlyCreatedConnection(e))return[2,!0];if(t=Date.now()-e.idleTimestamp,!(0===this._connectionLivenessCheckTimeout||t>this._connectionLivenessCheckTimeout))return[3,2];return[4,e.resetAndFlush().then(function(){return!0})];case 1:return[2,r.sent()];case 2:return[2,!0]}})})},Object.defineProperty(e.prototype,"_isCheckDisabled",{get:function(){return null==this._connectionLivenessCheckTimeout||this._connectionLivenessCheckTimeout<0},enumerable:!1,configurable:!0}),e.prototype._isNewlyCreatedConnection=function(e){return null==e.authToken},e}();t.default=i},15715:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createChannelConnection=void 0;var l=r(14315),u=r(56214),c=s(r(14987)),f=s(r(5395)),d=u.error.PROTOCOL_ERROR,p=u.internal.logger.Logger,h=0;t.createChannelConnection=function(e,t,r,n,i,o,a){void 0===o&&(o=null),void 0===a&&(a=function(e){return new l.Channel(e)});var s=a(new l.ChannelConfig(e,t,r.errorCode(),i));return f.default.handshake(s,n).then(function(i){var a=i.protocolVersion,u=i.consumeRemainingBuffer,c=new l.Chunker(s),d=new l.Dechunker,p=new y(s,r,e,n,t.disableLosslessIntegers,o,c,t.notificationFilter,function(e){return f.default.create({version:a,channel:s,chunker:c,dechunker:d,disableLosslessIntegers:t.disableLosslessIntegers,useBigInt:t.useBigInt,serversideRouting:o,server:e.server,log:e.logger,observer:{onObserversCountChange:e._handleOngoingRequestsNumberChange.bind(e),onError:e._handleFatalError.bind(e),onFailure:e._resetOnFailure.bind(e),onProtocolError:e._handleProtocolError.bind(e),onErrorApplyTransformation:function(t){return e.handleAndTransformError(t,e._address)}}})},t.telemetryDisabled);return u(function(e){return d.write(e)}),p}).catch(function(e){return s.close().then(function(){throw e})})};var y=function(e){function t(t,r,n,i,o,a,s,l,u,c){void 0===o&&(o=!1),void 0===a&&(a=null);var f=e.call(this,r)||this;return f._authToken=null,f._idle=!1,f._reseting=!1,f._resetObservers=[],f._id=h++,f._address=n,f._server={address:n.asHostPort()},f._creationTimestamp=Date.now(),f._disableLosslessIntegers=o,f._ch=t,f._chunker=s,f._log=new p(i._level,function(e,t){return i._loggerFunction(e,"".concat(f," ").concat(t))}),f._serversideRouting=a,f._notificationFilter=l,f._telemetryDisabledDriverConfig=!0===c,f._telemetryDisabledConnection=!0,f._dbConnectionId=null,f._protocol=u(f),f._isBroken=!1,f._log.isDebugEnabled()&&f._log.debug("created towards ".concat(n)),f}return i(t,e),t.prototype.beginTransaction=function(e){return this._sendTelemetryIfEnabled(e),this._protocol.beginTransaction(e)},t.prototype.run=function(e,t,r){return this._sendTelemetryIfEnabled(r),this._protocol.run(e,t,r)},t.prototype._sendTelemetryIfEnabled=function(e){this._telemetryDisabledConnection||this._telemetryDisabledDriverConfig||null==e||null==e.apiTelemetryConfig||this._protocol.telemetry({api:e.apiTelemetryConfig.api},{onCompleted:e.apiTelemetryConfig.onTelemetrySuccess,onError:e.beforeError})},t.prototype.commitTransaction=function(e){return this._protocol.commitTransaction(e)},t.prototype.rollbackTransaction=function(e){return this._protocol.rollbackTransaction(e)},t.prototype.getProtocolVersion=function(){return this._protocol.version},Object.defineProperty(t.prototype,"authToken",{get:function(){return this._authToken},set:function(e){this._authToken=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){return this._protocol.supportsReAuth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){return this._dbConnectionId},set:function(e){this._dbConnectionId=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"idleTimestamp",{get:function(){return this._idleTimestamp},set:function(e){this._idleTimestamp=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creationTimestamp",{get:function(){return this._creationTimestamp},enumerable:!1,configurable:!0}),t.prototype.connect=function(e,t,r,n){return o(this,void 0,void 0,function(){var i=this;return a(this,function(o){switch(o.label){case 0:if(this._protocol.initialized&&!this._protocol.supportsReAuth)throw(0,u.newError)("Connection does not support re-auth");if(this._authToken=r,this._protocol.initialized)return[3,2];return[4,this._initialize(e,t,r)];case 1:case 3:return[2,o.sent()];case 2:if(!n)return[3,4];return[4,new Promise(function(e,t){i._protocol.logoff({onError:t}),i._protocol.logon({authToken:r,onError:t,onComplete:function(){return e(i)},flush:!0})})];case 4:return this._protocol.logoff(),this._protocol.logon({authToken:r,flush:!0}),[2,this]}})})},t.prototype._initialize=function(e,t,r){var n=this,i=this;return new Promise(function(o,a){n._protocol.initialize({userAgent:e,boltAgent:t,authToken:r,notificationFilter:n._notificationFilter,onError:function(e){return a(e)},onComplete:function(e){if(e){var t=e.server;(!n.version||t)&&(n.version=t);var r=e.connection_id;if(n.databaseId||(n.databaseId=r),e.hints){var a=e.hints["connection.recv_timeout_seconds"];if(null!=a){var s=(0,u.toNumber)(a);Number.isInteger(s)&&s>0?n._ch.setupReceiveTimeout(1e3*s):n._log.info("Server located at ".concat(n._address," supplied an invalid connection receive timeout value (").concat(s,"). ")+"Please, verify the server configuration and status because this can be the symptom of a bigger issue.")}!0===e.hints["telemetry.enabled"]&&(n._telemetryDisabledConnection=!1)}}o(i)}})})},t.prototype.protocol=function(){return this._protocol},Object.defineProperty(t.prototype,"address",{get:function(){return this._address},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._server.version},set:function(e){this._server.version=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){return this._server},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"logger",{get:function(){return this._log},enumerable:!1,configurable:!0}),t.prototype._handleFatalError=function(e){this._isBroken=!0,this._error=this.handleAndTransformError(this._protocol.currentFailure||e,this._address),this._log.isErrorEnabled()&&this._log.error("experienced a fatal error caused by ".concat(this._error," (").concat(u.json.stringify(this._error),")")),this._protocol.notifyFatalError(this._error)},t.prototype._setIdle=function(e){this._idle=!0,this._ch.stopReceiveTimeout(),this._protocol.queueObserverIfProtocolIsNotBroken(e)},t.prototype._unsetIdle=function(){this._idle=!1,this._updateCurrentObserver()},t.prototype._queueObserver=function(e){return this._protocol.queueObserverIfProtocolIsNotBroken(e)},t.prototype.hasOngoingObservableRequests=function(){return!this._idle&&this._protocol.hasOngoingObservableRequests()},t.prototype.resetAndFlush=function(){var e=this;return new Promise(function(t,r){e._reset({onError:function(t){e._isBroken?r(t):r(e._handleProtocolError("Received FAILURE as a response for RESET: "+t))},onComplete:function(){t()}})})},t.prototype._resetOnFailure=function(){var e=this;this.isOpen()&&this._reset({onError:function(){e._protocol.resetFailure()},onComplete:function(){e._protocol.resetFailure()}})},t.prototype._reset=function(e){var t=this;if(this._reseting){this._protocol.isLastMessageReset()?this._resetObservers.push(e):this._protocol.reset({onError:function(t){e.onError(t)},onComplete:function(){e.onComplete()}});return}this._resetObservers.push(e),this._reseting=!0;var r=function(e){t._reseting=!1;var r=t._resetObservers;t._resetObservers=[],r.forEach(e)};this._protocol.reset({onError:function(e){r(function(t){return t.onError(e)})},onComplete:function(){r(function(e){return e.onComplete()})}})},t.prototype._updateCurrentObserver=function(){this._protocol.updateCurrentObserver()},t.prototype.isOpen=function(){return!this._isBroken&&this._ch._open},t.prototype._handleOngoingRequestsNumberChange=function(e){this._idle||(0===e?this._ch.stopReceiveTimeout():this._ch.startReceiveTimeout())},t.prototype.close=function(){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return this._log.isDebugEnabled()&&this._log.debug("closing"),this._protocol&&this.isOpen()&&this._protocol.prepareToClose(),[4,this._ch.close()];case 1:return e.sent(),this._log.isDebugEnabled()&&this._log.debug("closed"),[2]}})})},t.prototype.toString=function(){return"Connection [".concat(this.id,"][").concat(this.databaseId||"","]")},t.prototype._handleProtocolError=function(e){this._protocol.resetFailure(),this._updateCurrentObserver();var t=(0,u.newError)(e,d);return this._handleFatalError(t),t},t}(c.default);t.default=y},3905:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,r){var n=e.call(this,r)||this;return r&&(n._originalErrorHandler=t._errorHandler,t._errorHandler=n._errorHandler),n._delegate=t,n}return i(t,e),t.prototype.beginTransaction=function(e){return this._delegate.beginTransaction(e)},t.prototype.run=function(e,t,r){return this._delegate.run(e,t,r)},t.prototype.commitTransaction=function(e){return this._delegate.commitTransaction(e)},t.prototype.rollbackTransaction=function(e){return this._delegate.rollbackTransaction(e)},t.prototype.getProtocolVersion=function(){return this._delegate.getProtocolVersion()},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){return this._delegate.databaseId},set:function(e){this._delegate.databaseId=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){return this._delegate.server},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"authToken",{get:function(){return this._delegate.authToken},set:function(e){this._delegate.authToken=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){return this._delegate.supportsReAuth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"address",{get:function(){return this._delegate.address},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._delegate.version},set:function(e){this._delegate.version=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creationTimestamp",{get:function(){return this._delegate.creationTimestamp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"idleTimestamp",{get:function(){return this._delegate.idleTimestamp},set:function(e){this._delegate.idleTimestamp=e},enumerable:!1,configurable:!0}),t.prototype.isOpen=function(){return this._delegate.isOpen()},t.prototype.protocol=function(){return this._delegate.protocol()},t.prototype.connect=function(e,t,r,n){return this._delegate.connect(e,t,r,n)},t.prototype.write=function(e,t,r){return this._delegate.write(e,t,r)},t.prototype.resetAndFlush=function(){return this._delegate.resetAndFlush()},t.prototype.hasOngoingObservableRequests=function(){return this._delegate.hasOngoingObservableRequests()},t.prototype.close=function(){return this._delegate.close()},t.prototype.release=function(){return this._originalErrorHandler&&(this._delegate._errorHandler=this._originalErrorHandler),this._delegate.release()},t}(o(r(14987)).default);t.default=a},21650:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(56214),i=n.error.SERVICE_UNAVAILABLE,o=n.error.SESSION_EXPIRED,a=function(){function e(e,t,r,n){this._errorCode=e,this._handleUnavailability=t||s,this._handleWriteFailure=r||s,this._handleSecurityError=n||s}return e.create=function(t){return new e(t.errorCode,t.handleUnavailability,t.handleWriteFailure,t.handleSecurityError)},e.prototype.errorCode=function(){return this._errorCode},e.prototype.handleAndTransformError=function(e,t,r){return null!=e&&null!=e.code&&e.code.startsWith("Neo.ClientError.Security.")?this._handleSecurityError(e,t,r):e&&(e.code===o||e.code===i||"Neo.TransientError.General.DatabaseUnavailable"===e.code)?this._handleUnavailability(e,t,r):e&&("Neo.ClientError.Cluster.NotALeader"===e.code||"Neo.ClientError.General.ForbiddenOnReadOnlyDatabase"===e.code)?this._handleWriteFailure(e,t,r):e},e}();function s(e){return e}t.default=a},14987:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),r(5395);var o=function(e){function t(t){var r=e.call(this)||this;return r._errorHandler=t,r}return i(t,e),Object.defineProperty(t.prototype,"id",{get:function(){throw Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){throw Error("not implemented")},set:function(e){throw Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"authToken",{get:function(){throw Error("not implemented")},set:function(e){throw Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportsReAuth",{get:function(){throw Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"creationTimestamp",{get:function(){throw Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"idleTimestamp",{get:function(){throw Error("not implemented")},set:function(e){throw Error("not implemented")},enumerable:!1,configurable:!0}),t.prototype.protocol=function(){throw Error("not implemented")},Object.defineProperty(t.prototype,"address",{get:function(){throw Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){throw Error("not implemented")},set:function(e){throw Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){throw Error("not implemented")},enumerable:!1,configurable:!0}),t.prototype.connect=function(e,t,r,n){throw Error("not implemented")},t.prototype.write=function(e,t,r){throw Error("not implemented")},t.prototype.close=function(){throw Error("not implemented")},t.prototype.handleAndTransformError=function(e,t){return this._errorHandler?this._errorHandler.handleAndTransformError(e,t,this):e},t}(r(56214).Connection);t.default=o},29202:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createChannelConnection=t.ConnectionErrorHandler=t.DelegateConnection=t.ChannelConnection=t.Connection=void 0;var s=a(r(14987));t.Connection=s.default;var l=o(r(15715));t.ChannelConnection=l.default,Object.defineProperty(t,"createChannelConnection",{enumerable:!0,get:function(){return l.createChannelConnection}});var u=a(r(3905));t.DelegateConnection=u.default;var c=a(r(21650));t.ConnectionErrorHandler=c.default,t.default=s.default},58135:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.packstream=t.channel=t.buf=t.bolt=t.loadBalancing=void 0,t.loadBalancing=o(r(323)),t.bolt=o(r(5395)),t.buf=o(r(45761)),t.channel=o(r(14315)),t.packstream=o(r(43043)),a(r(75232),t)},90762:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reuseOngoingRequest=t.identity=void 0;var n=r(56214);t.identity=function(e){return e},t.reuseOngoingRequest=function(e,t){void 0===t&&(t=null);var r=new Map;return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=n.json.stringify(i);if(r.has(a))return r.get(a);var s=e.apply(t,i);return r.set(a,s),s.finally(function(){r.delete(a)})}}},42835:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.object=t.functional=void 0,t.functional=o(r(90762)),t.object=o(r(92304))},92304:function(e,t){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.equals=void 0,t.equals=function(e,t){var n,i;if(e===t)return!0;if(null===e||null===t)return!1;if("object"==typeof e&&"object"==typeof t){var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;try{for(var s=r(o),l=s.next();!l.done;l=s.next()){var u=l.value;if(e[u]!==t[u])return!1}}catch(e){n={error:e}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return!0}return!1}},323:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LeastConnectedLoadBalancingStrategy=t.LoadBalancingStrategy=void 0;var i=n(r(43293));t.LoadBalancingStrategy=i.default;var o=n(r(7560));t.LeastConnectedLoadBalancingStrategy=o.default,t.default=o.default},7560:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(88200)),s=function(e){function t(t){var r=e.call(this)||this;return r._readersIndex=new a.default,r._writersIndex=new a.default,r._connectionPool=t,r}return i(t,e),t.prototype.selectReader=function(e){return this._select(e,this._readersIndex)},t.prototype.selectWriter=function(e){return this._select(e,this._writersIndex)},t.prototype._select=function(e,t){var r=e.length;if(0===r)return null;var n=t.next(r),i=n,o=null,a=Number.MAX_SAFE_INTEGER;do{var s=e[i],l=this._connectionPool.activeResourceCount(s);l<a&&(o=s,a=l),i===r-1?i=0:i++}while(i!==n);return o},t}(o(r(43293)).default);t.default=s},43293:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.selectReader=function(e){throw Error("Abstract function")},e.prototype.selectWriter=function(e){throw Error("Abstract function")},e}();t.default=r},88200:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._offset=e||0}return e.prototype.next=function(e){if(0===e)return -1;var t=this._offset;return this._offset+=1,this._offset===Number.MAX_SAFE_INTEGER&&(this._offset=0),t%e},e}();t.default=r},43043:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.structure=t.v2=t.v1=void 0;var a=o(r(56597));t.v1=a;var s=o(r(79412));t.v2=s;var l=o(r(69416));t.structure=l,t.default=s},56597:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Unpacker=t.Packer=void 0;var n=r(14315),i=r(42835),o=r(69416),a=r(56214),s=a.error.PROTOCOL_ERROR,l=function(){function e(e){this._ch=e,this._byteArraysSupported=!0}return e.prototype.packable=function(e,t){var r,n=this;void 0===t&&(t=i.functional.identity);try{e=t(e)}catch(e){return function(){throw e}}if(null===e)return function(){return n._ch.writeUInt8(192)};if(!0===e)return function(){return n._ch.writeUInt8(195)};if(!1===e)return function(){return n._ch.writeUInt8(194)};if("number"==typeof e)return function(){return n.packFloat(e)};if("string"==typeof e)return function(){return n.packString(e)};if("bigint"==typeof e)return function(){return n.packInteger((0,a.int)(e))};if((0,a.isInt)(e))return function(){return n.packInteger(e)};if(e instanceof Int8Array)return function(){return n.packBytes(e)};if(e instanceof Array)return function(){n.packListHeader(e.length);for(var r=0;r<e.length;r++)n.packable(void 0===e[r]?null:e[r],t)()};if(null!=(r=e)&&"function"==typeof r[Symbol.iterator])return this.packableIterable(e,t);if(e instanceof o.Structure){for(var s=[],l=0;l<e.fields.length;l++)s[l]=this.packable(e.fields[l],t);return function(){return n.packStruct(e.signature,s)}}else if("object"==typeof e)return function(){for(var r=Object.keys(e),i=0,o=0;o<r.length;o++)void 0!==e[r[o]]&&i++;n.packMapHeader(i);for(var o=0;o<r.length;o++){var a=r[o];void 0!==e[a]&&(n.packString(a),n.packable(e[a],t)())}};else return this._nonPackableValue("Unable to pack the given value: ".concat(e))},e.prototype.packableIterable=function(e,t){try{var r=Array.from(e);return this.packable(r,t)}catch(t){throw(0,a.newError)("Cannot pack given iterable, ".concat(t.message,": ").concat(e))}},e.prototype.packStruct=function(e,t){t=t||[],this.packStructHeader(t.length,e);for(var r=0;r<t.length;r++)t[r]()},e.prototype.packInteger=function(e){var t=e.high,r=e.low;e.greaterThanOrEqual(-16)&&e.lessThan(128)?this._ch.writeInt8(r):e.greaterThanOrEqual(-128)&&e.lessThan(-16)?(this._ch.writeUInt8(200),this._ch.writeInt8(r)):e.greaterThanOrEqual(-32768)&&e.lessThan(32768)?(this._ch.writeUInt8(201),this._ch.writeInt16(r)):(e.greaterThanOrEqual(-0x80000000)&&e.lessThan(0x80000000)?this._ch.writeUInt8(202):(this._ch.writeUInt8(203),this._ch.writeInt32(t)),this._ch.writeInt32(r))},e.prototype.packFloat=function(e){this._ch.writeUInt8(193),this._ch.writeFloat64(e)},e.prototype.packString=function(e){var t=n.utf8.encode(e),r=t.length;if(r<16)this._ch.writeUInt8(128|r),this._ch.writeBytes(t);else if(r<256)this._ch.writeUInt8(208),this._ch.writeUInt8(r),this._ch.writeBytes(t);else if(r<65536)this._ch.writeUInt8(209),this._ch.writeUInt8(r/256>>0),this._ch.writeUInt8(r%256),this._ch.writeBytes(t);else if(r<0x100000000)this._ch.writeUInt8(210),this._ch.writeUInt8((r/0x1000000>>0)%256),this._ch.writeUInt8((r/65536>>0)%256),this._ch.writeUInt8((r/256>>0)%256),this._ch.writeUInt8(r%256),this._ch.writeBytes(t);else throw(0,a.newError)("UTF-8 strings of size "+r+" are not supported")},e.prototype.packListHeader=function(e){if(e<16)this._ch.writeUInt8(144|e);else if(e<256)this._ch.writeUInt8(212),this._ch.writeUInt8(e);else if(e<65536)this._ch.writeUInt8(213),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256);else if(e<0x100000000)this._ch.writeUInt8(214),this._ch.writeUInt8((e/0x1000000>>0)%256),this._ch.writeUInt8((e/65536>>0)%256),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256);else throw(0,a.newError)("Lists of size "+e+" are not supported")},e.prototype.packBytes=function(e){if(this._byteArraysSupported){this.packBytesHeader(e.length);for(var t=0;t<e.length;t++)this._ch.writeInt8(e[t])}else throw(0,a.newError)("Byte arrays are not supported by the database this driver is connected to")},e.prototype.packBytesHeader=function(e){if(e<256)this._ch.writeUInt8(204),this._ch.writeUInt8(e);else if(e<65536)this._ch.writeUInt8(205),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256);else if(e<0x100000000)this._ch.writeUInt8(206),this._ch.writeUInt8((e/0x1000000>>0)%256),this._ch.writeUInt8((e/65536>>0)%256),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256);else throw(0,a.newError)("Byte arrays of size "+e+" are not supported")},e.prototype.packMapHeader=function(e){if(e<16)this._ch.writeUInt8(160|e);else if(e<256)this._ch.writeUInt8(216),this._ch.writeUInt8(e);else if(e<65536)this._ch.writeUInt8(217),this._ch.writeUInt8(e/256>>0),this._ch.writeUInt8(e%256);else if(e<0x100000000)this._ch.writeUInt8(218),this._ch.writeUInt8((e/0x1000000>>0)%256),this._ch.writeUInt8((e/65536>>0)%256),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256);else throw(0,a.newError)("Maps of size "+e+" are not supported")},e.prototype.packStructHeader=function(e,t){if(e<16)this._ch.writeUInt8(176|e),this._ch.writeUInt8(t);else if(e<256)this._ch.writeUInt8(220),this._ch.writeUInt8(e),this._ch.writeUInt8(t);else if(e<65536)this._ch.writeUInt8(221),this._ch.writeUInt8(e/256>>0),this._ch.writeUInt8(e%256);else throw(0,a.newError)("Structures of size "+e+" are not supported")},e.prototype.disableByteArrays=function(){this._byteArraysSupported=!1},e.prototype._nonPackableValue=function(e){return function(){throw(0,a.newError)(e,s)}},e}();t.Packer=l;var u=function(){function e(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),this._disableLosslessIntegers=e,this._useBigInt=t}return e.prototype.unpack=function(e,t){void 0===t&&(t=i.functional.identity);var r=e.readUInt8(),n=240&r,o=15&r;if(192===r)return null;var s=this._unpackBoolean(r);if(null!==s)return s;var l=this._unpackNumberOrInteger(r,e);if(null!==l){if((0,a.isInt)(l)){if(this._useBigInt)return l.toBigInt();if(this._disableLosslessIntegers)return l.toNumberOrInfinity()}return l}var u=this._unpackString(r,n,o,e);if(null!==u)return u;var c=this._unpackList(r,n,o,e,t);if(null!==c)return c;var f=this._unpackByteArray(r,e);if(null!==f)return f;var d=this._unpackMap(r,n,o,e,t);if(null!==d)return d;var p=this._unpackStruct(r,n,o,e,t);if(null!==p)return p;throw(0,a.newError)("Unknown packed value with marker "+r.toString(16))},e.prototype.unpackInteger=function(e){var t=e.readUInt8(),r=this._unpackInteger(t,e);if(null==r)throw(0,a.newError)("Unable to unpack integer value with marker "+t.toString(16));return r},e.prototype._unpackBoolean=function(e){return 195===e||194!==e&&null},e.prototype._unpackNumberOrInteger=function(e,t){return 193===e?t.readFloat64():this._unpackInteger(e,t)},e.prototype._unpackInteger=function(e,t){if(e>=0&&e<128)return(0,a.int)(e);if(e>=240&&e<256)return(0,a.int)(e-256);if(200===e)return(0,a.int)(t.readInt8());if(201===e)return(0,a.int)(t.readInt16());if(202===e){var r=t.readInt32();return(0,a.int)(r)}if(203!==e)return null;var n=t.readInt32(),i=t.readInt32();return new a.Integer(i,n)},e.prototype._unpackString=function(e,t,r,i){return 128===t?n.utf8.decode(i,r):208===e?n.utf8.decode(i,i.readUInt8()):209===e?n.utf8.decode(i,i.readUInt16()):210===e?n.utf8.decode(i,i.readUInt32()):null},e.prototype._unpackList=function(e,t,r,n,i){return 144===t?this._unpackListWithSize(r,n,i):212===e?this._unpackListWithSize(n.readUInt8(),n,i):213===e?this._unpackListWithSize(n.readUInt16(),n,i):214===e?this._unpackListWithSize(n.readUInt32(),n,i):null},e.prototype._unpackListWithSize=function(e,t,r){for(var n=[],i=0;i<e;i++)n.push(this.unpack(t,r));return n},e.prototype._unpackByteArray=function(e,t){return 204===e?this._unpackByteArrayWithSize(t.readUInt8(),t):205===e?this._unpackByteArrayWithSize(t.readUInt16(),t):206===e?this._unpackByteArrayWithSize(t.readUInt32(),t):null},e.prototype._unpackByteArrayWithSize=function(e,t){for(var r=new Int8Array(e),n=0;n<e;n++)r[n]=t.readInt8();return r},e.prototype._unpackMap=function(e,t,r,n,i){return 160===t?this._unpackMapWithSize(r,n,i):216===e?this._unpackMapWithSize(n.readUInt8(),n,i):217===e?this._unpackMapWithSize(n.readUInt16(),n,i):218===e?this._unpackMapWithSize(n.readUInt32(),n,i):null},e.prototype._unpackMapWithSize=function(e,t,r){for(var n={},i=0;i<e;i++)n[this.unpack(t,r)]=this.unpack(t,r);return n},e.prototype._unpackStruct=function(e,t,r,n,i){return 176===t?this._unpackStructWithSize(r,n,i):220===e?this._unpackStructWithSize(n.readUInt8(),n,i):221===e?this._unpackStructWithSize(n.readUInt16(),n,i):null},e.prototype._unpackStructWithSize=function(e,t,r){for(var n=t.readUInt8(),i=new o.Structure(n,[]),a=0;a<e;a++)i.fields.push(this.unpack(t,r));return r(i)},e}();t.Unpacker=u},79412:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Unpacker=t.Packer=void 0;var l=s(r(56597)),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.disableByteArrays=function(){throw Error("Bolt V2 should always support byte arrays")},t}(l.Packer);t.Packer=u;var c=function(e){function t(t,r){return void 0===t&&(t=!1),void 0===r&&(r=!1),e.call(this,t,r)||this}return i(t,e),t}(l.Unpacker);t.Unpacker=c},69416:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verifyStructSize=t.Structure=void 0;var n=r(56214),i=n.error.PROTOCOL_ERROR,o=function(){function e(e,t){this.signature=e,this.fields=t}return Object.defineProperty(e.prototype,"size",{get:function(){return this.fields.length},enumerable:!1,configurable:!0}),e.prototype.toString=function(){for(var e="",t=0;t<this.fields.length;t++)t>0&&(e+=", "),e+=this.fields[t];return"Structure("+this.signature+", ["+e+"])"},e}();t.Structure=o,t.verifyStructSize=function(e,t,r){if(t!==r)throw(0,n.newError)("Wrong struct size for ".concat(e,", expected ").concat(t," but was ").concat(r),i)},t.default=o},85803:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoutingTable=t.Rediscovery=void 0;var i=n(r(29932));t.Rediscovery=i.default;var o=n(r(39812));t.RoutingTable=o.default,t.default=i.default},29932:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(39812));r(56214);var o=function(){function e(e){this._routingContext=e}return e.prototype.lookupRoutingTableOnRouter=function(e,t,r,n){var o=this;return e._acquireConnection(function(a){return o._requestRawRoutingTable(a,e,t,r,n).then(function(e){return e.isNull?null:i.default.fromRawRoutingTable(t,r,e)})})},e.prototype._requestRawRoutingTable=function(e,t,r,n,i){var o=this;return new Promise(function(n,a){e.protocol().requestRoutingInformation({routingContext:o._routingContext,databaseName:r,impersonatedUser:i,sessionContext:{bookmarks:t._lastBookmarks,mode:t._mode,database:t._database,afterComplete:t._onComplete},onCompleted:n,onError:a})})},e}();t.default=o},39812:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.createValidRoutingTable=void 0;var o=r(56214),a=o.internal.constants,s=a.ACCESS_MODE_WRITE,l=a.ACCESS_MODE_READ,u=o.internal.serverAddress.ServerAddress,c=o.error.PROTOCOL_ERROR,f=function(){function e(e){var t=void 0===e?{}:e,r=t.database,n=t.routers,i=t.readers,a=t.writers,s=t.expirationTime,l=t.ttl;this.database=r||null,this.databaseName=r||"default database",this.routers=n||[],this.readers=i||[],this.writers=a||[],this.expirationTime=s||(0,o.int)(0),this.ttl=l}return e.fromRawRoutingTable=function(e,t,r){return p(e,t,r)},e.prototype.forget=function(e){this.readers=d(this.readers,e),this.writers=d(this.writers,e)},e.prototype.forgetRouter=function(e){this.routers=d(this.routers,e)},e.prototype.forgetWriter=function(e){this.writers=d(this.writers,e)},e.prototype.isStaleFor=function(e){return this.expirationTime.lessThan(Date.now())||this.routers.length<1||e===l&&0===this.readers.length||e===s&&0===this.writers.length},e.prototype.isExpiredFor=function(e){return this.expirationTime.add(e).lessThan(Date.now())},e.prototype.allServers=function(){return i(i(i([],n(this.routers),!1),n(this.readers),!1),n(this.writers),!1)},e.prototype.toString=function(){return"RoutingTable["+"database=".concat(this.databaseName,", ")+"expirationTime=".concat(this.expirationTime,", ")+"currentTime=".concat(Date.now(),", ")+"routers=[".concat(this.routers,"], ")+"readers=[".concat(this.readers,"], ")+"writers=[".concat(this.writers,"]]")},e}();function d(e,t){return e.filter(function(e){return e.asKey()!==t.asKey()})}function p(e,t,r){var n=r.ttl,i=function(e,t){try{var r=(0,o.int)(Date.now()),n=(0,o.int)(e.ttl).multiply(1e3).add(r);if(n.lessThan(r))return o.Integer.MAX_VALUE;return n}catch(r){throw(0,o.newError)("Unable to parse TTL entry from router ".concat(t," from raw routing table:\n").concat(o.json.stringify(e),"\nError message: ").concat(r.message),c)}}(r,t),a=function(e,t){try{var r=[],n=[],i=[];return e.servers.forEach(function(e){var t=e.role,o=e.addresses;"ROUTE"===t?r=y(o).map(function(e){return u.fromUrl(e)}):"WRITE"===t?i=y(o).map(function(e){return u.fromUrl(e)}):"READ"===t&&(n=y(o).map(function(e){return u.fromUrl(e)}))}),{routers:r,readers:n,writers:i}}catch(r){throw(0,o.newError)("Unable to parse servers entry from router ".concat(t," from addresses:\n").concat(o.json.stringify(e.servers),"\nError message: ").concat(r.message),c)}}(r,t),s=a.routers,l=a.readers,d=a.writers;return h(s,"routers",t),h(l,"readers",t),new f({database:e||r.db,routers:s,readers:l,writers:d,expirationTime:i,ttl:n})}function h(e,t,r){if(0===e.length)throw(0,o.newError)("Received no "+t+" from router "+r,c)}function y(e){if(!Array.isArray(e))throw TypeError("Array expected but got: "+e);return Array.from(e)}t.default=f,t.createValidRoutingTable=p},49457:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.staticAuthTokenManager=t.authTokenManagers=t.AuthTokenAndExpiration=void 0;var a=o(r(14947)),s=r(12166),l=function(){function e(){}return e.prototype.getToken=function(){throw Error("Not Implemented")},e.prototype.handleSecurityException=function(e,t){throw Error("Not implemented")},e}();t.default=l,t.AuthTokenAndExpiration=function(){this.token=a.default.none(),this.expiration=void 0};var u=new(function(){function e(){}return e.prototype.bearer=function(e){var t=e.tokenProvider;if("function"!=typeof t)throw TypeError("tokenProvider should be function, but got: ".concat(typeof t));return new f(t,["Neo.ClientError.Security.Unauthorized","Neo.ClientError.Security.TokenExpired"])},e.prototype.basic=function(e){var t=this,r=e.tokenProvider;if("function"!=typeof r)throw TypeError("tokenProvider should be function, but got: ".concat(typeof r));return new f(function(){return n(t,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return e={},[4,r()];case 1:return[2,(e.token=t.sent(),e)]}})})},["Neo.ClientError.Security.Unauthorized"])},e}());t.authTokenManagers=u,Object.freeze(u),t.staticAuthTokenManager=function(e){return new d(e.authToken)};var c=function(){function e(e){void 0===e&&(e=[]),this._subscribers=e}return e.prototype.subscribe=function(e){this._subscribers.push(e)},e.prototype.onCompleted=function(e){this._subscribers.forEach(function(t){return t.onCompleted(e)})},e.prototype.onError=function(e){this._subscribers.forEach(function(t){return t.onError(e)})},e}(),f=function(){function e(e,t,r,n){this._tokenProvider=e,this._handledSecurityCodes=t,this._currentAuthData=r,this._refreshObservable=n}return e.prototype.getToken=function(){var e;return n(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:if(!(void 0===this._currentAuthData||void 0!==this._currentAuthData.expiration&&this._currentAuthData.expiration<new Date))return[3,2];return[4,this._refreshAuthToken()];case 1:t.sent(),t.label=2;case 2:return[2,null===(e=this._currentAuthData)||void 0===e?void 0:e.token]}})})},e.prototype.handleSecurityException=function(e,t){var r;return!!this._handledSecurityCodes.includes(t)&&(s.util.equals(e,null===(r=this._currentAuthData)||void 0===r?void 0:r.token)&&this._scheduleRefreshAuthToken(),!0)},e.prototype._scheduleRefreshAuthToken=function(e){var t=this;void 0===this._refreshObservable&&(this._currentAuthData=void 0,this._refreshObservable=new c,Promise.resolve(this._tokenProvider()).then(function(e){var r;t._currentAuthData=e,null===(r=t._refreshObservable)||void 0===r||r.onCompleted(e)}).catch(function(e){var r;null===(r=t._refreshObservable)||void 0===r||r.onError(e)}).finally(function(){t._refreshObservable=void 0})),void 0!==e&&this._refreshObservable.subscribe(e)},e.prototype._refreshAuthToken=function(){return n(this,void 0,void 0,function(){var e=this;return i(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t,r){e._scheduleRefreshAuthToken({onCompleted:t,onError:r})})];case 1:return[2,t.sent()]}})})},e}(),d=function(){function e(e){this._authToken=e}return e.prototype.getToken=function(){return this._authToken},e.prototype.handleSecurityException=function(e,t){return!1},e}()},14947:(e,t)=>{"use strict";function r(e){return!(null==e||""===e||Object.getPrototypeOf(e)===Object.prototype&&0===Object.keys(e).length)}Object.defineProperty(t,"__esModule",{value:!0}),t.default={basic:function(e,t,r){return null!=r?{scheme:"basic",principal:e,credentials:t,realm:r}:{scheme:"basic",principal:e,credentials:t}},kerberos:function(e){return{scheme:"kerberos",principal:"",credentials:e}},bearer:function(e){return{scheme:"bearer",credentials:e}},none:function(){return{scheme:"none"}},custom:function(e,t,n,i,o){var a={scheme:i,principal:e};return r(t)&&(a.credentials=t),r(n)&&(a.realm=n),r(o)&&(a.parameters=o),a}}},47908:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.bookmarkManager=void 0;var s=function(){function e(){throw Error("Not implemented")}return e.prototype.updateBookmarks=function(e,t){return r(this,void 0,void 0,function(){return n(this,function(e){throw Error("Not implemented")})})},e.prototype.getBookmarks=function(){return r(this,void 0,void 0,function(){return n(this,function(e){throw Error("Not implemented")})})},e}();t.default=s,t.bookmarkManager=function(e){return void 0===e&&(e={}),new l(new Set(e.initialBookmarks),e.bookmarksSupplier,e.bookmarksConsumer)};var l=function(){function e(e,t,r){this._bookmarks=e,this._bookmarksSupplier=t,this._bookmarksConsumer=r}return e.prototype.updateBookmarks=function(e,t){return r(this,void 0,void 0,function(){var r,s,l,u,c,f,d,p,h,y;return n(this,function(n){switch(n.label){case 0:r=this._bookmarks;try{for(l=(s=i(e)).next();!l.done;l=s.next())u=l.value,r.delete(u)}catch(e){d={error:e}}finally{try{l&&!l.done&&(p=s.return)&&p.call(s)}finally{if(d)throw d.error}}try{for(f=(c=i(t)).next();!f.done;f=c.next())u=f.value,r.add(u)}catch(e){h={error:e}}finally{try{f&&!f.done&&(y=c.return)&&y.call(c)}finally{if(h)throw h.error}}if("function"!=typeof this._bookmarksConsumer)return[3,2];return[4,this._bookmarksConsumer(a([],o(r),!1))];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.getBookmarks=function(){var e;return r(this,void 0,void 0,function(){var t,r,s,l,u,c,f;return n(this,function(n){switch(n.label){case 0:if(t=new Set(this._bookmarks),"function"!=typeof this._bookmarksSupplier)return[3,2];return[4,this._bookmarksSupplier()];case 1:r=null!==(e=n.sent())&&void 0!==e?e:[];try{for(l=(s=i(r)).next();!l.done;l=s.next())u=l.value,t.add(u)}catch(e){c={error:e}}finally{try{l&&!l.done&&(f=s.return)&&f.call(s)}finally{if(c)throw c.error}}n.label=2;case 2:return[2,a([],o(t),!1)]}})})},e}()},60580:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveCertificateProvider=t.clientCertificateProviders=t.RotatingClientCertificateProvider=t.ClientCertificateProvider=void 0;var u=l(r(80134));t.default=function(){this.certfile="",this.keyfile="",this.password=void 0};var c=function(){function e(){}return e.prototype.hasUpdate=function(){throw Error("Not Implemented")},e.prototype.getClientCertificate=function(){throw Error("Not Implemented")},e}();t.ClientCertificateProvider=c;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.updateCertificate=function(e){throw Error("Not implemented")},t}(c);t.RotatingClientCertificateProvider=f;var d=new(function(){function e(){}return e.prototype.rotating=function(e){var t=e.initialCertificate;if(null==t||!p(t))throw TypeError("initialCertificate should be ClientCertificate, but got ".concat(u.stringify(t)));return new g(o({},t))},e}());function p(e){var t;return null!=e&&"object"==typeof e&&"certfile"in e&&(h(t=e.certfile)||y(t,h))&&"keyfile"in e&&function(e){function t(e){return"string"==typeof e||null!=e&&"object"==typeof e&&"path"in e&&"string"==typeof e.path&&b("password",e)}return t(e)||y(e,t)}(e.keyfile)&&b("password",e)}function h(e){return"string"==typeof e}function y(e,t,r){return void 0===r&&(r=!1),Array.isArray(e)&&(r||e.length>0)&&e.filter(t).length===e.length}function b(e,t){return!(e in t)||null==t[e]||"string"==typeof t[e]}t.clientCertificateProviders=d,Object.freeze(d),t.resolveCertificateProvider=function(e){if(null!=e){if("object"==typeof e&&"hasUpdate"in e&&"getClientCertificate"in e&&"function"==typeof e.getClientCertificate&&"function"==typeof e.hasUpdate)return e;if(p(e)){var t=o({},e);return{getClientCertificate:function(){return t},hasUpdate:function(){return!1}}}throw TypeError("clientCertificate should be configured with ClientCertificate or ClientCertificateProvider, but got ".concat(u.stringify(e)))}};var g=function(){function e(e,t){void 0===t&&(t=!1),this._certificate=e,this._updated=t}return e.prototype.hasUpdate=function(){try{return this._updated}finally{this._updated=!1}},e.prototype.getClientCertificate=function(){return this._certificate},e.prototype.updateCertificate=function(e){if(!p(e))throw TypeError("certificate should be ClientCertificate, but got ".concat(u.stringify(e)));this._certificate=o({},e),this._updated=!0},e}()},22651:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Releasable=void 0;var r=function(){function e(){}return e.prototype.release=function(){throw Error("Not implemented")},e}();t.Releasable=r;var n=function(){function e(){}return e.prototype.acquireConnection=function(e){throw Error("Not implemented")},e.prototype.supportsMultiDb=function(){throw Error("Not implemented")},e.prototype.supportsTransactionConfig=function(){throw Error("Not implemented")},e.prototype.supportsUserImpersonation=function(){throw Error("Not implemented")},e.prototype.supportsSessionAuth=function(){throw Error("Not implemented")},e.prototype.verifyConnectivityAndGetServerInfo=function(e){throw Error("Not implemented")},e.prototype.verifyAuthentication=function(e){throw Error("Not implemented")},e.prototype.getNegotiatedProtocolVersion=function(){throw Error("Not Implemented")},e.prototype.close=function(){throw Error("Not implemented")},e}();t.default=n},59220:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.beginTransaction=function(e){throw Error("Not implemented")},e.prototype.run=function(e,t,r){throw Error("Not implemented")},e.prototype.commitTransaction=function(e){throw Error("Not implemented")},e.prototype.rollbackTransaction=function(e){throw Error("Not implemented")},e.prototype.resetAndFlush=function(){throw Error("Not implemented")},e.prototype.isOpen=function(){throw Error("Not implemented")},e.prototype.getProtocolVersion=function(){throw Error("Not implemented")},e.prototype.hasOngoingObservableRequests=function(){throw Error("Not implemented")},e}();t.default=r},5788:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.QueryConfig=t.SessionConfig=t.routing=t.WRITE=t.READ=t.Driver=void 0;var a=r(98732),s=o(r(27351)),l=r(21386),u=r(35318),c=o(r(7423)),f=r(30225),d=r(47908),p=o(r(67126)),h=o(r(64366)),y=r(44454),b=l.ACCESS_MODE_READ;t.READ=b;var g=l.ACCESS_MODE_WRITE;t.WRITE=g;var m=0;t.SessionConfig=function(){this.defaultAccessMode=g,this.bookmarks=[],this.database="",this.impersonatedUser=void 0,this.auth=void 0,this.fetchSize=void 0,this.bookmarkManager=void 0,this.notificationFilter=void 0};var v={WRITE:"WRITE",READ:"READ"};t.routing=v,Object.freeze(v),t.QueryConfig=function(){this.routing=v.WRITE,this.resultTransformer=void 0,this.database="",this.impersonatedUser=void 0,this.bookmarkManager=void 0,this.transactionConfig=void 0,this.auth=void 0,this.signal=void 0};var _=function(){function e(e,t,r,n,i){void 0===t&&(t={}),void 0===n&&(n=function(e){return new c.default(e)}),void 0===i&&(i=function(e){return new h.default(e)}),(o=t).maxConnectionLifetime=O(o.maxConnectionLifetime,36e5),o.maxConnectionPoolSize=O(o.maxConnectionPoolSize,l.DEFAULT_POOL_MAX_SIZE),o.connectionAcquisitionTimeout=O(o.connectionAcquisitionTimeout,l.DEFAULT_POOL_ACQUISITION_TIMEOUT),o.fetchSize=w(o.fetchSize,1e3),o.connectionTimeout=0===(a=parseInt(o.connectionTimeout,10))||!isNaN(a)&&a<0?null:isNaN(a)?l.DEFAULT_CONNECTION_TIMEOUT_MILLIS:a,o.connectionLivenessCheckTimeout=function(e){if(null!=e){var t=parseInt(e,10);if(t<0||Number.isNaN(t))throw Error("The connectionLivenessCheckTimeout can only be a positive value or 0 for always. However connectionLivenessCheckTimeout = ".concat(t));return t}}(o.connectionLivenessCheckTimeout);var o,a,s=u.Logger.create(t);(function(e,t){var r,n,i=e.resolver;if(null!=i&&"function"!=typeof i)throw TypeError("Configured resolver should be a function. Got: ".concat(typeof i));if(e.connectionAcquisitionTimeout<e.connectionTimeout&&t.warn('Configuration for "connectionAcquisitionTimeout" should be greater than or equal to "connectionTimeout". Otherwise, the connection acquisition timeout will take precedence for over the connection timeout in scenarios where a new connection is created while it is acquired'),(null===(r=e.notificationFilter)||void 0===r?void 0:r.disabledCategories)!=null&&(null===(n=e.notificationFilter)||void 0===n?void 0:n.disabledClassifications)!=null)throw Error('The notificationFilter can\'t have both "disabledCategories" and  "disabledClassifications" configured at the same time.')})(t,s),this._id=m++,this._meta=e,this._config=t,this._log=s,this._createConnectionProvider=r,this._createSession=n,this._defaultExecuteQueryBookmarkManager=(0,d.bookmarkManager)(),this._queryExecutor=i(this.session.bind(this)),this._connectionProvider=null,this._afterConstruction()}return Object.defineProperty(e.prototype,"executeQueryBookmarkManager",{get:function(){return this._defaultExecuteQueryBookmarkManager},enumerable:!1,configurable:!0}),e.prototype.executeQuery=function(e,t,r){var o,a,s;return void 0===r&&(r={}),n(this,void 0,void 0,function(){var n,l,u;return i(this,function(i){switch(i.label){case 0:if(n=null===r.bookmarkManager?void 0:null!==(o=r.bookmarkManager)&&void 0!==o?o:this.executeQueryBookmarkManager,l=null!==(a=r.resultTransformer)&&void 0!==a?a:p.default.eagerResultTransformer(),(u=null!==(s=r.routing)&&void 0!==s?s:v.WRITE)!==v.READ&&u!==v.WRITE)throw(0,y.newError)('Illegal query routing config: "'.concat(u,'"'));return[4,this._queryExecutor.execute({resultTransformer:l,bookmarkManager:n,routing:u,database:r.database,impersonatedUser:r.impersonatedUser,transactionConfig:r.transactionConfig,auth:r.auth,signal:r.signal},e,t)];case 1:return[2,i.sent()]}})})},e.prototype.verifyConnectivity=function(e){var t=(void 0===e?{}:e).database;return this._getOrCreateConnectionProvider().verifyConnectivityAndGetServerInfo({database:void 0===t?"":t,accessMode:b})},e.prototype.verifyAuthentication=function(e){var t=void 0===e?{}:e,r=t.database,o=t.auth;return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this._getOrCreateConnectionProvider().verifyAuthentication({database:null!=r?r:"system",auth:o,accessMode:b})];case 1:return[2,e.sent()]}})})},e.prototype.getServerInfo=function(e){var t=(void 0===e?{}:e).database;return this._getOrCreateConnectionProvider().verifyConnectivityAndGetServerInfo({database:void 0===t?"":t,accessMode:b})},e.prototype.supportsMultiDb=function(){return this._getOrCreateConnectionProvider().supportsMultiDb()},e.prototype.supportsTransactionConfig=function(){return this._getOrCreateConnectionProvider().supportsTransactionConfig()},e.prototype.supportsUserImpersonation=function(){return this._getOrCreateConnectionProvider().supportsUserImpersonation()},e.prototype.supportsSessionAuth=function(){return this._getOrCreateConnectionProvider().supportsSessionAuth()},e.prototype.getNegotiatedProtocolVersion=function(){return this._getOrCreateConnectionProvider().getNegotiatedProtocolVersion()},e.prototype.isEncrypted=function(){return this._isEncrypted()},e.prototype._supportsRouting=function(){return this._meta.routing},e.prototype._isEncrypted=function(){return this._config.encrypted===f.ENCRYPTION_ON||!0===this._config.encrypted},e.prototype._getTrust=function(){return this._config.trust},e.prototype.session=function(e){var t=void 0===e?{}:e,r=t.defaultAccessMode,n=void 0===r?g:r,i=t.bookmarks,o=t.database,a=t.impersonatedUser,s=t.fetchSize,l=t.bookmarkManager,u=t.notificationFilter,c=t.auth;return this._newSession({defaultAccessMode:n,bookmarkOrBookmarks:i,database:void 0===o?"":o,reactive:!1,impersonatedUser:a,fetchSize:w(s,this._config.fetchSize),bookmarkManager:l,notificationFilter:u,auth:c})},e.prototype.close=function(){return(this._log.info("Driver ".concat(this._id," closing")),null!=this._connectionProvider)?this._connectionProvider.close():Promise.resolve()},e.prototype[Symbol.asyncDispose]=function(){return this.close()},e.prototype._afterConstruction=function(){this._log.info("".concat(this._meta.typename," driver ").concat(this._id," created for server address ").concat(this._meta.address.toString()))},e.prototype._newSession=function(e){var t=e.defaultAccessMode,r=e.bookmarkOrBookmarks,n=e.database,i=e.reactive,o=e.impersonatedUser,s=e.fetchSize,l=e.bookmarkManager,u=e.notificationFilter,f=e.auth,d=c.default._validateSessionMode(t),p=this._getOrCreateConnectionProvider(),h=null!=r?new a.Bookmarks(r):a.Bookmarks.empty();return this._createSession({mode:d,database:null!=n?n:"",connectionProvider:p,bookmarks:h,config:this._config,reactive:i,impersonatedUser:o,fetchSize:s,bookmarkManager:l,notificationFilter:u,auth:f,log:this._log})},e.prototype._getOrCreateConnectionProvider=function(){var e;return null==this._connectionProvider&&(this._connectionProvider=this._createConnectionProvider(this._id,this._config,this._log,(e=this._config,new s.default(e.resolver)))),this._connectionProvider},e}();function O(e,t){var r=parseInt(e,10);return r>0||0===r?r:r<0?Number.MAX_SAFE_INTEGER:t}function w(e,t){var r=parseInt(e,10);if(r>0||r===l.FETCH_ALL)return r;if(0!==r&&!(r<0))return t;throw Error("The fetch size can only be a positive value or ".concat(l.FETCH_ALL," for ALL. However fetchSize = ").concat(r))}t.Driver=_,t.default=_},44454:function(e,t){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.PROTOCOL_ERROR=t.SESSION_EXPIRED=t.SERVICE_UNAVAILABLE=t.Neo4jError=t.isRetriableError=t.newError=void 0;var i="ServiceUnavailable";t.SERVICE_UNAVAILABLE=i;var o="SessionExpired";t.SESSION_EXPIRED=o,t.PROTOCOL_ERROR="ProtocolError";var a=function(e){function t(r,n,a){var s=e.call(this,r,null!=a?{cause:a}:void 0)||this;return s.constructor=t,s.__proto__=t.prototype,s.code=n,s.name="Neo4jError",s.retriable=n===i||n===o||"Neo.ClientError.Security.AuthorizationExpired"===n||(null==n?void 0:n.includes("TransientError"))===!0,s}return n(t,e),t.isRetriable=function(e){return null!=e&&e instanceof t&&e.retriable},t}(Error);t.Neo4jError=a,t.newError=function(e,t,r){return new a(e,null!=t?t:"N/A",r)};var s=a.isRetriable;t.isRetriableError=s},29359:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPathSegment=t.PathSegment=t.isPath=t.Path=t.isUnboundRelationship=t.UnboundRelationship=t.isRelationship=t.Relationship=t.isNode=t.Node=void 0;var n=r(80134),i={value:!0,enumerable:!1,configurable:!1,writable:!1},o="__isNode__",a="__isRelationship__",s="__isUnboundRelationship__",l="__isPath__",u="__isPathSegment__";function c(e,t){return null!=e&&!0===e[t]}var f=function(){function e(e,t,r,n){this.identity=e,this.labels=t,this.properties=r,this.elementId=b(n,function(){return e.toString()})}return e.prototype.toString=function(){for(var e="("+this.elementId,t=0;t<this.labels.length;t++)e+=":"+this.labels[t];var r=Object.keys(this.properties);if(r.length>0){e+=" {";for(var t=0;t<r.length;t++)t>0&&(e+=","),e+=r[t]+":"+(0,n.stringify)(this.properties[r[t]]);e+="}"}return e+")"},e}();t.Node=f,Object.defineProperty(f.prototype,o,i),t.isNode=function(e){return c(e,o)};var d=function(){function e(e,t,r,n,i,o,a,s){this.identity=e,this.start=t,this.end=r,this.type=n,this.properties=i,this.elementId=b(o,function(){return e.toString()}),this.startNodeElementId=b(a,function(){return t.toString()}),this.endNodeElementId=b(s,function(){return r.toString()})}return e.prototype.toString=function(){var e="("+this.startNodeElementId+")-[:"+this.type,t=Object.keys(this.properties);if(t.length>0){e+=" {";for(var r=0;r<t.length;r++)r>0&&(e+=","),e+=t[r]+":"+(0,n.stringify)(this.properties[t[r]]);e+="}"}return e+("]->("+this.endNodeElementId)+")"},e}();t.Relationship=d,Object.defineProperty(d.prototype,a,i),t.isRelationship=function(e){return c(e,a)};var p=function(){function e(e,t,r,n){this.identity=e,this.type=t,this.properties=r,this.elementId=b(n,function(){return e.toString()})}return e.prototype.bind=function(e,t){return new d(this.identity,e,t,this.type,this.properties,this.elementId)},e.prototype.bindTo=function(e,t){return new d(this.identity,e.identity,t.identity,this.type,this.properties,this.elementId,e.elementId,t.elementId)},e.prototype.toString=function(){var e="-[:"+this.type,t=Object.keys(this.properties);if(t.length>0){e+=" {";for(var r=0;r<t.length;r++)r>0&&(e+=","),e+=t[r]+":"+(0,n.stringify)(this.properties[t[r]]);e+="}"}return e+"]->"},e}();t.UnboundRelationship=p,Object.defineProperty(p.prototype,s,i),t.isUnboundRelationship=function(e){return c(e,s)};var h=function(e,t,r){this.start=e,this.relationship=t,this.end=r};t.PathSegment=h,Object.defineProperty(h.prototype,u,i),t.isPathSegment=function(e){return c(e,u)};var y=function(e,t,r){this.start=e,this.end=t,this.segments=r,this.length=r.length};function b(e,t){return null==e?t():e}t.Path=y,Object.defineProperty(y.prototype,l,i),t.isPath=function(e){return c(e,l)}},56214:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Releasable=t.ConnectionProvider=t.EagerResult=t.Result=t.Stats=t.QueryStatistics=t.ProfiledPlan=t.Plan=t.GqlStatusObject=t.Notification=t.ServerInfo=t.queryType=t.ResultSummary=t.Record=t.isPathSegment=t.PathSegment=t.isPath=t.Path=t.isUnboundRelationship=t.UnboundRelationship=t.isRelationship=t.Relationship=t.isNode=t.Node=t.Time=t.LocalTime=t.LocalDateTime=t.isTime=t.isLocalTime=t.isLocalDateTime=t.isDuration=t.isDateTime=t.isDate=t.Duration=t.DateTime=t.Date=t.Point=t.isPoint=t.internal=t.toString=t.toNumber=t.inSafeRange=t.isInt=t.int=t.Integer=t.error=t.isRetriableError=t.Neo4jError=t.newError=t.authTokenManagers=void 0,t.resolveCertificateProvider=t.clientCertificateProviders=t.notificationFilterMinimumSeverityLevel=t.notificationFilterDisabledClassification=t.notificationFilterDisabledCategory=t.notificationSeverityLevel=t.notificationClassification=t.notificationCategory=t.resultTransformers=t.routing=t.staticAuthTokenManager=t.bookmarkManager=t.auth=t.json=t.driver=t.types=t.Driver=t.Session=t.TransactionPromise=t.ManagedTransaction=t.Transaction=t.Connection=void 0;var s=r(44454);Object.defineProperty(t,"newError",{enumerable:!0,get:function(){return s.newError}}),Object.defineProperty(t,"Neo4jError",{enumerable:!0,get:function(){return s.Neo4jError}}),Object.defineProperty(t,"isRetriableError",{enumerable:!0,get:function(){return s.isRetriableError}});var l=o(r(88355));t.Integer=l.default,Object.defineProperty(t,"int",{enumerable:!0,get:function(){return l.int}}),Object.defineProperty(t,"isInt",{enumerable:!0,get:function(){return l.isInt}}),Object.defineProperty(t,"inSafeRange",{enumerable:!0,get:function(){return l.inSafeRange}}),Object.defineProperty(t,"toNumber",{enumerable:!0,get:function(){return l.toNumber}}),Object.defineProperty(t,"toString",{enumerable:!0,get:function(){return l.toString}});var u=r(22787);Object.defineProperty(t,"Date",{enumerable:!0,get:function(){return u.Date}}),Object.defineProperty(t,"DateTime",{enumerable:!0,get:function(){return u.DateTime}}),Object.defineProperty(t,"Duration",{enumerable:!0,get:function(){return u.Duration}}),Object.defineProperty(t,"isDate",{enumerable:!0,get:function(){return u.isDate}}),Object.defineProperty(t,"isDateTime",{enumerable:!0,get:function(){return u.isDateTime}}),Object.defineProperty(t,"isDuration",{enumerable:!0,get:function(){return u.isDuration}}),Object.defineProperty(t,"isLocalDateTime",{enumerable:!0,get:function(){return u.isLocalDateTime}}),Object.defineProperty(t,"isLocalTime",{enumerable:!0,get:function(){return u.isLocalTime}}),Object.defineProperty(t,"isTime",{enumerable:!0,get:function(){return u.isTime}}),Object.defineProperty(t,"LocalDateTime",{enumerable:!0,get:function(){return u.LocalDateTime}}),Object.defineProperty(t,"LocalTime",{enumerable:!0,get:function(){return u.LocalTime}}),Object.defineProperty(t,"Time",{enumerable:!0,get:function(){return u.Time}});var c=r(29359);Object.defineProperty(t,"Node",{enumerable:!0,get:function(){return c.Node}}),Object.defineProperty(t,"isNode",{enumerable:!0,get:function(){return c.isNode}}),Object.defineProperty(t,"Relationship",{enumerable:!0,get:function(){return c.Relationship}}),Object.defineProperty(t,"isRelationship",{enumerable:!0,get:function(){return c.isRelationship}}),Object.defineProperty(t,"UnboundRelationship",{enumerable:!0,get:function(){return c.UnboundRelationship}}),Object.defineProperty(t,"isUnboundRelationship",{enumerable:!0,get:function(){return c.isUnboundRelationship}}),Object.defineProperty(t,"Path",{enumerable:!0,get:function(){return c.Path}}),Object.defineProperty(t,"isPath",{enumerable:!0,get:function(){return c.isPath}}),Object.defineProperty(t,"PathSegment",{enumerable:!0,get:function(){return c.PathSegment}}),Object.defineProperty(t,"isPathSegment",{enumerable:!0,get:function(){return c.isPathSegment}});var f=a(r(62381));t.Record=f.default;var d=r(36783);Object.defineProperty(t,"isPoint",{enumerable:!0,get:function(){return d.isPoint}}),Object.defineProperty(t,"Point",{enumerable:!0,get:function(){return d.Point}});var p=o(r(59433));t.ResultSummary=p.default,Object.defineProperty(t,"queryType",{enumerable:!0,get:function(){return p.queryType}}),Object.defineProperty(t,"ServerInfo",{enumerable:!0,get:function(){return p.ServerInfo}}),Object.defineProperty(t,"Plan",{enumerable:!0,get:function(){return p.Plan}}),Object.defineProperty(t,"ProfiledPlan",{enumerable:!0,get:function(){return p.ProfiledPlan}}),Object.defineProperty(t,"QueryStatistics",{enumerable:!0,get:function(){return p.QueryStatistics}}),Object.defineProperty(t,"Stats",{enumerable:!0,get:function(){return p.Stats}});var h=o(r(74354));t.Notification=h.default,Object.defineProperty(t,"GqlStatusObject",{enumerable:!0,get:function(){return h.GqlStatusObject}}),Object.defineProperty(t,"notificationCategory",{enumerable:!0,get:function(){return h.notificationCategory}}),Object.defineProperty(t,"notificationClassification",{enumerable:!0,get:function(){return h.notificationClassification}}),Object.defineProperty(t,"notificationSeverityLevel",{enumerable:!0,get:function(){return h.notificationSeverityLevel}});var y=r(13279);Object.defineProperty(t,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return y.notificationFilterDisabledCategory}}),Object.defineProperty(t,"notificationFilterDisabledClassification",{enumerable:!0,get:function(){return y.notificationFilterDisabledClassification}}),Object.defineProperty(t,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return y.notificationFilterMinimumSeverityLevel}});var b=a(r(94023));t.Result=b.default;var g=a(r(68519));t.EagerResult=g.default;var m=o(r(22651));t.ConnectionProvider=m.default,Object.defineProperty(t,"Releasable",{enumerable:!0,get:function(){return m.Releasable}});var v=a(r(59220));t.Connection=v.default;var _=a(r(6139));t.Transaction=_.default;var O=a(r(918));t.ManagedTransaction=O.default;var w=a(r(87657));t.TransactionPromise=w.default;var S=a(r(7423));t.Session=S.default;var E=o(r(5788));t.Driver=E.default,t.driver=E;var x=a(r(14947));t.auth=x.default;var P=r(47908);Object.defineProperty(t,"bookmarkManager",{enumerable:!0,get:function(){return P.bookmarkManager}});var j=r(49457);Object.defineProperty(t,"authTokenManagers",{enumerable:!0,get:function(){return j.authTokenManagers}}),Object.defineProperty(t,"staticAuthTokenManager",{enumerable:!0,get:function(){return j.staticAuthTokenManager}});var T=r(5788);Object.defineProperty(t,"routing",{enumerable:!0,get:function(){return T.routing}});var k=o(r(47124));t.types=k;var C=o(r(80134));t.json=C;var A=a(r(67126));t.resultTransformers=A.default;var R=r(60580);Object.defineProperty(t,"clientCertificateProviders",{enumerable:!0,get:function(){return R.clientCertificateProviders}}),Object.defineProperty(t,"resolveCertificateProvider",{enumerable:!0,get:function(){return R.resolveCertificateProvider}});var M=o(r(12166));t.internal=M;var I={SERVICE_UNAVAILABLE:s.SERVICE_UNAVAILABLE,SESSION_EXPIRED:s.SESSION_EXPIRED,PROTOCOL_ERROR:s.PROTOCOL_ERROR};t.error=I;var N={authTokenManagers:j.authTokenManagers,newError:s.newError,Neo4jError:s.Neo4jError,isRetriableError:s.isRetriableError,error:I,Integer:l.default,int:l.int,isInt:l.isInt,inSafeRange:l.inSafeRange,toNumber:l.toNumber,toString:l.toString,internal:M,isPoint:d.isPoint,Point:d.Point,Date:u.Date,DateTime:u.DateTime,Duration:u.Duration,isDate:u.isDate,isDateTime:u.isDateTime,isDuration:u.isDuration,isLocalDateTime:u.isLocalDateTime,isLocalTime:u.isLocalTime,isTime:u.isTime,LocalDateTime:u.LocalDateTime,LocalTime:u.LocalTime,Time:u.Time,Node:c.Node,isNode:c.isNode,Relationship:c.Relationship,isRelationship:c.isRelationship,UnboundRelationship:c.UnboundRelationship,isUnboundRelationship:c.isUnboundRelationship,Path:c.Path,isPath:c.isPath,PathSegment:c.PathSegment,isPathSegment:c.isPathSegment,Record:f.default,ResultSummary:p.default,queryType:p.queryType,ServerInfo:p.ServerInfo,Notification:h.default,GqlStatusObject:h.GqlStatusObject,Plan:p.Plan,ProfiledPlan:p.ProfiledPlan,QueryStatistics:p.QueryStatistics,Stats:p.Stats,Result:b.default,EagerResult:g.default,Transaction:_.default,ManagedTransaction:O.default,TransactionPromise:w.default,Session:S.default,Driver:E.default,Connection:v.default,Releasable:m.Releasable,types:k,driver:E,json:C,auth:x.default,bookmarkManager:P.bookmarkManager,routing:T.routing,resultTransformers:A.default,notificationCategory:h.notificationCategory,notificationClassification:h.notificationClassification,notificationSeverityLevel:h.notificationSeverityLevel,notificationFilterDisabledCategory:y.notificationFilterDisabledCategory,notificationFilterDisabledClassification:y.notificationFilterDisabledClassification,notificationFilterMinimumSeverityLevel:y.notificationFilterMinimumSeverityLevel,clientCertificateProviders:R.clientCertificateProviders,resolveCertificateProvider:R.resolveCertificateProvider};t.default=N},88355:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toString=t.toNumber=t.inSafeRange=t.isInt=t.int=void 0;var n=r(44454),i=new Map,o=function(){function e(e,t){this.low=null!=e?e:0,this.high=null!=t?t:0}return e.prototype.inSafeRange=function(){return this.greaterThanOrEqual(e.MIN_SAFE_VALUE)&&this.lessThanOrEqual(e.MAX_SAFE_VALUE)},e.prototype.toInt=function(){return this.low},e.prototype.toNumber=function(){return this.high*a+(this.low>>>0)},e.prototype.toBigInt=function(){if(this.isZero())return BigInt(0);if(this.isPositive())return BigInt(this.high>>>0)*BigInt(a)+BigInt(this.low>>>0);var e=this.negate();return BigInt(-1)*(BigInt(e.high>>>0)*BigInt(a)+BigInt(e.low>>>0))},e.prototype.toNumberOrInfinity=function(){return this.lessThan(e.MIN_SAFE_VALUE)?Number.NEGATIVE_INFINITY:this.greaterThan(e.MAX_SAFE_VALUE)?Number.POSITIVE_INFINITY:this.toNumber()},e.prototype.toString=function(t){if((t=null!=t?t:10)<2||t>36)throw RangeError("radix out of range: "+t.toString());if(this.isZero())return"0";if(this.isNegative()){if(!this.equals(e.MIN_VALUE))return"-"+this.negate().toString(t);var r,n=e.fromNumber(t),i=this.div(n);return r=i.multiply(n).subtract(this),i.toString(t)+r.toInt().toString(t)}var o=e.fromNumber(Math.pow(t,6));r=this;for(var a="";;){var s=r.div(o),l=(r.subtract(s.multiply(o)).toInt()>>>0).toString(t);if((r=s).isZero())return l+a;for(;l.length<6;)l="0"+l;a=""+l+a}},e.prototype.valueOf=function(){return this.toBigInt()},e.prototype.getHighBits=function(){return this.high},e.prototype.getLowBits=function(){return this.low},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(e.MIN_VALUE)?64:this.negate().getNumBitsAbs();var t=0!==this.high?this.high:this.low,r=0;for(r=31;r>0&&(t&1<<r)==0;r--);return 0!==this.high?r+33:r+1},e.prototype.isZero=function(){return 0===this.high&&0===this.low},e.prototype.isNegative=function(){return this.high<0},e.prototype.isPositive=function(){return this.high>=0},e.prototype.isOdd=function(){return(1&this.low)==1},e.prototype.isEven=function(){return(1&this.low)==0},e.prototype.equals=function(t){var r=e.fromValue(t);return this.high===r.high&&this.low===r.low},e.prototype.notEquals=function(e){return!this.equals(e)},e.prototype.lessThan=function(e){return 0>this.compare(e)},e.prototype.lessThanOrEqual=function(e){return 0>=this.compare(e)},e.prototype.greaterThan=function(e){return this.compare(e)>0},e.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},e.prototype.compare=function(t){var r=e.fromValue(t);if(this.equals(r))return 0;var n=this.isNegative(),i=r.isNegative();return n&&!i?-1:!n&&i?1:this.subtract(r).isNegative()?-1:1},e.prototype.negate=function(){return this.equals(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.add=function(t){var r,n,i=e.fromValue(t),o=this.high>>>16,a=65535&this.high,s=this.low>>>16,l=65535&this.low,u=i.high>>>16,c=65535&i.high,f=i.low>>>16,d=65535&i.low,p=0,h=0;return r=0+((n=0+(l+d))>>>16),n&=65535,r+=s+f,h+=r>>>16,r&=65535,h+=a+c,p+=h>>>16,h&=65535,p+=o+u,p&=65535,e.fromBits(r<<16|n,p<<16|h)},e.prototype.subtract=function(t){var r=e.fromValue(t);return this.add(r.negate())},e.prototype.multiply=function(t){if(this.isZero())return e.ZERO;var r,n,i=e.fromValue(t);if(i.isZero())return e.ZERO;if(this.equals(e.MIN_VALUE))return i.isOdd()?e.MIN_VALUE:e.ZERO;if(i.equals(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return i.isNegative()?this.negate().multiply(i.negate()):this.negate().multiply(i).negate();if(i.isNegative())return this.multiply(i.negate()).negate();if(this.lessThan(l)&&i.lessThan(l))return e.fromNumber(this.toNumber()*i.toNumber());var o=this.high>>>16,a=65535&this.high,s=this.low>>>16,u=65535&this.low,c=i.high>>>16,f=65535&i.high,d=i.low>>>16,p=65535&i.low,h=0,y=0;return r=0+((n=0+u*p)>>>16),n&=65535,r+=s*p,y+=r>>>16,r&=65535,r+=u*d,y+=r>>>16,r&=65535,y+=a*p,h+=y>>>16,y&=65535,y+=s*d,h+=y>>>16,y&=65535,y+=u*f,h+=y>>>16,y&=65535,h+=o*p+a*d+s*f+u*c,h&=65535,e.fromBits(r<<16|n,h<<16|y)},e.prototype.div=function(t){var r,i,o,a=e.fromValue(t);if(a.isZero())throw(0,n.newError)("division by zero");if(this.isZero())return e.ZERO;if(this.equals(e.MIN_VALUE))return a.equals(e.ONE)||a.equals(e.NEG_ONE)?e.MIN_VALUE:a.equals(e.MIN_VALUE)?e.ONE:(r=this.shiftRight(1).div(a).shiftLeft(1)).equals(e.ZERO)?a.isNegative()?e.ONE:e.NEG_ONE:(i=this.subtract(a.multiply(r)),o=r.add(i.div(a)));if(a.equals(e.MIN_VALUE))return e.ZERO;if(this.isNegative())return a.isNegative()?this.negate().div(a.negate()):this.negate().div(a).negate();if(a.isNegative())return this.div(a.negate()).negate();for(o=e.ZERO,i=this;i.greaterThanOrEqual(a);){for(var s=Math.ceil(Math.log(r=Math.max(1,Math.floor(i.toNumber()/a.toNumber())))/Math.LN2),l=s<=48?1:Math.pow(2,s-48),u=e.fromNumber(r),c=u.multiply(a);c.isNegative()||c.greaterThan(i);)r-=l,c=(u=e.fromNumber(r)).multiply(a);u.isZero()&&(u=e.ONE),o=o.add(u),i=i.subtract(c)}return o},e.prototype.modulo=function(t){var r=e.fromValue(t);return this.subtract(this.div(r).multiply(r))},e.prototype.not=function(){return e.fromBits(~this.low,~this.high)},e.prototype.and=function(t){var r=e.fromValue(t);return e.fromBits(this.low&r.low,this.high&r.high)},e.prototype.or=function(t){var r=e.fromValue(t);return e.fromBits(this.low|r.low,this.high|r.high)},e.prototype.xor=function(t){var r=e.fromValue(t);return e.fromBits(this.low^r.low,this.high^r.high)},e.prototype.shiftLeft=function(t){var r=e.toNumber(t);return 0==(r&=63)?e.ZERO:r<32?e.fromBits(this.low<<r,this.high<<r|this.low>>>32-r):e.fromBits(0,this.low<<r-32)},e.prototype.shiftRight=function(t){var r=e.toNumber(t),n=e.toNumber(t);return 0==(r&=63)?e.ZERO:n<32?e.fromBits(this.low>>>r|this.high<<32-r,this.high>>r):e.fromBits(this.high>>r-32,this.high>=0?0:-1)},e.isInteger=function(e){return(null==e?void 0:e.__isInteger__)===!0},e.fromInt=function(t){if((t|=0)>=-128&&t<128&&null!=(r=i.get(t)))return r;var r,n=new e(t,t<0?-1:0);return t>=-128&&t<128&&i.set(t,n),n},e.fromBits=function(t,r){return new e(t,r)},e.fromNumber=function(t){return isNaN(t)||!isFinite(t)?e.ZERO:t<=-s?e.MIN_VALUE:t+1>=s?e.MAX_VALUE:t<0?e.fromNumber(-t).negate():new e(t%a|0,t/a|0)},e.fromString=function(t,r,i){var o,a=(void 0===i?{}:i).strictStringValidation;if(0===t.length)throw(0,n.newError)("number format error: empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if((r=null!=r?r:10)<2||r>36)throw(0,n.newError)("radix out of range: "+r.toString());if((o=t.indexOf("-"))>0)throw(0,n.newError)('number format error: interior "-" character: '+t);if(0===o)return e.fromString(t.substring(1),r).negate();for(var s=e.fromNumber(Math.pow(r,8)),l=e.ZERO,u=0;u<t.length;u+=8){var c=Math.min(8,t.length-u),f=t.substring(u,u+c),d=parseInt(f,r);if(!0===a&&!function(e,t,r){var n,i,o;return!Number.isNaN(e)&&!Number.isNaN(t)&&(i=Math.max(e.length-(n=t.toString(r)).length,0),o="0".repeat(i),"".concat(o).concat(n)===e.toLowerCase())}(f,d,r))throw(0,n.newError)('number format error: "'.concat(f,'" is NaN in radix ').concat(r,": ").concat(t));if(c<8){var p=e.fromNumber(Math.pow(r,c));l=l.multiply(p).add(e.fromNumber(d))}else l=(l=l.multiply(s)).add(e.fromNumber(d))}return l},e.fromValue=function(t,r){return(void 0===r&&(r={}),t instanceof e)?t:"number"==typeof t?(!0===r.ceilFloat&&(t=Math.ceil(t)),e.fromNumber(t)):"string"==typeof t?e.fromString(t,void 0,r):"bigint"==typeof t?e.fromString(t.toString()):new e(t.low,t.high)},e.toNumber=function(t){switch(typeof t){case"number":return t;case"bigint":return Number(t);default:return e.fromValue(t).toNumber()}},e.toString=function(t,r){return e.fromValue(t).toString(r)},e.inSafeRange=function(t){return e.fromValue(t).inSafeRange()},e.ZERO=e.fromInt(0),e.ONE=e.fromInt(1),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,0x7fffffff),e.MIN_VALUE=e.fromBits(0,-0x80000000),e.MIN_SAFE_VALUE=e.fromBits(1,-2097152),e.MAX_SAFE_VALUE=e.fromBits(-1,2097151),e.__isInteger__=!0,e}();Object.defineProperty(o.prototype,"__isInteger__",{value:!0,enumerable:!1,configurable:!1});var a=0x100000000,s=0x8000000000000000,l=o.fromInt(0x1000000),u=o.fromValue;t.int=u;var c=o.isInteger;t.isInt=c;var f=o.inSafeRange;t.inSafeRange=f;var d=o.toNumber;t.toNumber=d;var p=o.toString;t.toString=p,t.default=o},24297:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromVersion=void 0,t.fromVersion=function(e,t){void 0===t&&(t=function(){return{get userAgent(){var e;return null==e?void 0:e.userAgent}}});var r=t(),n=null!=r.userAgent?r.userAgent.split("(")[1].split(")")[0]:void 0,i=r.userAgent||void 0;return{product:"neo4j-javascript/".concat(e),platform:n,languageDetails:i}}},32678:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(24297),t)},98732:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Bookmarks=void 0;var l=o(r(30225)),u=function(){function e(e){this._values=function(e){if(null==e||""===e)return[];if(l.isString(e))return[e];if(Array.isArray(e)){for(var t=new Set,r=function e(t){return t.reduce(function(t,r){return Array.isArray(r)?t.concat(e(r)):t.concat(r)},[])}(e),n=0;n<r.length;n++){var i=r[n];if(null!=i){if(!l.isString(i))throw TypeError("Bookmark value should be a string, given: '".concat(i,"'"));t.add(i)}}return s([],a(t),!1)}throw TypeError("Bookmarks should either be a string or a string array, given: '".concat(e,"'"))}(e)}return e.empty=function(){return c},e.prototype.isEmpty=function(){return 0===this._values.length},e.prototype.values=function(){return this._values},e.prototype[Symbol.iterator]=function(){return this._values[Symbol.iterator]()},e.prototype.asBeginTransactionParameters=function(){var e;return this.isEmpty()?{}:((e={}).bookmarks=this._values,e)},e}();t.Bookmarks=u;var c=new u(null)},14426:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_CONNECTION_HOLDER=t.ReadOnlyConnectionHolder=t.ConnectionHolder=void 0;var s=r(44454),l=r(30225),u=r(21386),c=r(98732),f=r(35318),d=function(){function e(e){var t=e.mode,r=e.database,n=void 0===r?"":r,i=e.bookmarks,o=e.connectionProvider,a=e.impersonatedUser,s=e.onDatabaseNameResolved,f=e.getConnectionAcquistionBookmarks,d=e.auth,p=e.log;this._mode=null!=t?t:u.ACCESS_MODE_WRITE,this._closed=!1,this._database=null!=n?(0,l.assertString)(n,"database"):"",this._bookmarks=null!=i?i:c.Bookmarks.empty(),this._connectionProvider=o,this._impersonatedUser=a,this._referenceCount=0,this._connectionPromise=Promise.resolve(null),this._onDatabaseNameResolved=s,this._auth=d,this._log=p,this._logError=this._logError.bind(this),this._getConnectionAcquistionBookmarks=null!=f?f:function(){return Promise.resolve(c.Bookmarks.empty())}}return e.prototype.mode=function(){return this._mode},e.prototype.database=function(){return this._database},e.prototype.setDatabase=function(e){this._database=e},e.prototype.bookmarks=function(){return this._bookmarks},e.prototype.connectionProvider=function(){return this._connectionProvider},e.prototype.referenceCount=function(){return this._referenceCount},e.prototype.initializeConnection=function(){return 0!==this._referenceCount||null==this._connectionProvider?(this._referenceCount++,!1):(this._connectionPromise=this._createConnectionPromise(this._connectionProvider),this._referenceCount++,!0)},e.prototype._createConnectionPromise=function(e){return o(this,void 0,void 0,function(){var t,r,n;return a(this,function(i){switch(i.label){case 0:return r=(t=e).acquireConnection,n={accessMode:this._mode,database:this._database},[4,this._getBookmarks()];case 1:return[4,r.apply(t,[(n.bookmarks=i.sent(),n.impersonatedUser=this._impersonatedUser,n.onDatabaseNameResolved=this._onDatabaseNameResolved,n.auth=this._auth,n)])];case 2:return[2,i.sent()]}})})},e.prototype._getBookmarks=function(){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this._getConnectionAcquistionBookmarks()];case 1:return[2,e.sent()]}})})},e.prototype.getConnection=function(){return this._connectionPromise},e.prototype.releaseConnection=function(){return 0===this._referenceCount?this._connectionPromise:(this._referenceCount--,0===this._referenceCount)?this._releaseConnection():this._connectionPromise},e.prototype.close=function(e){return(this._closed=!0,0===this._referenceCount)?this._connectionPromise:(this._referenceCount=0,this._releaseConnection(e))},e.prototype.log=function(){return this._log},e.prototype._releaseConnection=function(e){return this._connectionPromise=this._connectionPromise.then(function(t){return null==t?Promise.resolve(null):t.isOpen()&&(t.hasOngoingObservableRequests()||!0===e)?t.resetAndFlush().catch(y).then(function(){return t.release().then(function(){return null})}):t.release().then(function(){return null})}).catch(this._logError),this._connectionPromise},e.prototype._logError=function(e){return this._log.isWarnEnabled()&&this._log.warn("ConnectionHolder got an error while releasing the connection. Error ".concat(e,". Stacktrace: ").concat(e.stack)),null},e}();t.ConnectionHolder=d;var p=function(e){function t(t){var r=e.call(this,{mode:t.mode(),database:t.database(),bookmarks:t.bookmarks(),getConnectionAcquistionBookmarks:t._getConnectionAcquistionBookmarks,connectionProvider:t.connectionProvider(),log:t.log()})||this;return r._connectionHolder=t,r}return i(t,e),t.prototype.initializeConnection=function(){return 0!==this._connectionHolder.referenceCount()},t.prototype.getConnection=function(){return this._connectionHolder.getConnection()},t.prototype.releaseConnection=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},t.prototype.close=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},t}(d);t.ReadOnlyConnectionHolder=p,t.default=p;var h=new(function(e){function t(){return e.call(this,{log:f.Logger.create({})})||this}return i(t,e),t.prototype.mode=function(){},t.prototype.database=function(){},t.prototype.initializeConnection=function(){return!0},t.prototype.getConnection=function(){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,Promise.reject((0,s.newError)("This connection holder does not serve connections"))];case 1:return[2,e.sent()]}})})},t.prototype.releaseConnection=function(){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,e.sent()]}})})},t.prototype.close=function(){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,e.sent()]}})})},t}(d));function y(e){return null}t.EMPTY_CONNECTION_HOLDER=h},21386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TELEMETRY_APIS=t.BOLT_PROTOCOL_V5_6=t.BOLT_PROTOCOL_V5_5=t.BOLT_PROTOCOL_V5_4=t.BOLT_PROTOCOL_V5_3=t.BOLT_PROTOCOL_V5_2=t.BOLT_PROTOCOL_V5_1=t.BOLT_PROTOCOL_V5_0=t.BOLT_PROTOCOL_V4_4=t.BOLT_PROTOCOL_V4_3=t.BOLT_PROTOCOL_V4_2=t.BOLT_PROTOCOL_V4_1=t.BOLT_PROTOCOL_V4_0=t.BOLT_PROTOCOL_V3=t.BOLT_PROTOCOL_V2=t.BOLT_PROTOCOL_V1=t.DEFAULT_POOL_MAX_SIZE=t.DEFAULT_POOL_ACQUISITION_TIMEOUT=t.DEFAULT_CONNECTION_TIMEOUT_MILLIS=t.ACCESS_MODE_WRITE=t.ACCESS_MODE_READ=t.FETCH_ALL=void 0,t.FETCH_ALL=-1,t.DEFAULT_POOL_ACQUISITION_TIMEOUT=6e4,t.DEFAULT_POOL_MAX_SIZE=100,t.DEFAULT_CONNECTION_TIMEOUT_MILLIS=3e4,t.ACCESS_MODE_READ="READ",t.ACCESS_MODE_WRITE="WRITE",t.BOLT_PROTOCOL_V1=1,t.BOLT_PROTOCOL_V2=2,t.BOLT_PROTOCOL_V3=3,t.BOLT_PROTOCOL_V4_0=4,t.BOLT_PROTOCOL_V4_1=4.1,t.BOLT_PROTOCOL_V4_2=4.2,t.BOLT_PROTOCOL_V4_3=4.3,t.BOLT_PROTOCOL_V4_4=4.4,t.BOLT_PROTOCOL_V5_0=5,t.BOLT_PROTOCOL_V5_1=5.1,t.BOLT_PROTOCOL_V5_2=5.2,t.BOLT_PROTOCOL_V5_3=5.3,t.BOLT_PROTOCOL_V5_4=5.4,t.BOLT_PROTOCOL_V5_5=5.5,t.BOLT_PROTOCOL_V5_6=5.6,t.TELEMETRY_APIS={MANAGED_TRANSACTION:0,UNMANAGED_TRANSACTION:1,AUTO_COMMIT_TRANSACTION:2,EXECUTE_QUERY:3}},12166:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.pool=t.boltAgent=t.objectUtil=t.resolver=t.serverAddress=t.urlUtil=t.logger=t.transactionExecutor=t.txConfig=t.connectionHolder=t.constants=t.bookmarks=t.observer=t.temporalUtil=t.util=void 0;var a=o(r(30225));t.util=a;var s=o(r(65281));t.temporalUtil=s;var l=o(r(63628));t.observer=l;var u=o(r(98732));t.bookmarks=u;var c=o(r(21386));t.constants=c;var f=o(r(14426));t.connectionHolder=f;var d=o(r(92074));t.txConfig=d;var p=o(r(85237));t.transactionExecutor=p;var h=o(r(35318));t.logger=h;var y=o(r(7920));t.urlUtil=y;var b=o(r(21735));t.serverAddress=b;var g=o(r(53733));t.resolver=g;var m=o(r(88403));t.objectUtil=m;var v=o(r(32678));t.boltAgent=v;var _=o(r(35630));t.pool=_},35318:function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var a=r(44454),s="error",l="warn",u="info",c="debug",f=((i={})[s]=0,i[l]=1,i[u]=2,i[c]=3,i),d=function(){function e(e,t){this._level=e,this._loggerFunction=t}return e.create=function(t){if((null==t?void 0:t.logging)!=null){var r=t.logging;return new e(function(e){if((null==e?void 0:e.level)!=null){var t=e.level,r=f[t];if(null==r&&0!==r)throw(0,a.newError)("Illegal logging level: ".concat(t,". Supported levels are: ").concat(Object.keys(f).toString()));return t}return u}(r),function(e){var t,r;if((null==e?void 0:e.logger)!=null){var n=e.logger;if(null!=n&&"function"==typeof n)return n}throw(0,a.newError)("Illegal logger function: ".concat(null!==(r=null===(t=null==e?void 0:e.logger)||void 0===t?void 0:t.toString())&&void 0!==r?r:"undefined"))}(r))}return this.noOp()},e.noOp=function(){return p},e.prototype.isErrorEnabled=function(){return h(this._level,s)},e.prototype.error=function(e){this.isErrorEnabled()&&this._loggerFunction(s,e)},e.prototype.isWarnEnabled=function(){return h(this._level,l)},e.prototype.warn=function(e){this.isWarnEnabled()&&this._loggerFunction(l,e)},e.prototype.isInfoEnabled=function(){return h(this._level,u)},e.prototype.info=function(e){this.isInfoEnabled()&&this._loggerFunction(u,e)},e.prototype.isDebugEnabled=function(){return h(this._level,c)},e.prototype.debug=function(e){this.isDebugEnabled()&&this._loggerFunction(c,e)},e}();t.Logger=d;var p=new(function(e){function t(){return e.call(this,u,function(e,t){})||this}return o(t,e),t.prototype.isErrorEnabled=function(){return!1},t.prototype.error=function(e){},t.prototype.isWarnEnabled=function(){return!1},t.prototype.warn=function(e){},t.prototype.isInfoEnabled=function(){return!1},t.prototype.info=function(e){},t.prototype.isDebugEnabled=function(){return!1},t.prototype.debug=function(e){},t}(d));function h(e,t){return f[e]>=f[t]}},88403:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBrokenObjectReason=t.isBrokenObject=t.createBrokenObject=void 0;var r="__isBrokenObject__",n="__reason__";t.createBrokenObject=function(e,t){void 0===t&&(t={});var i=function(){throw e};return new Proxy(t,{get:function(t,o){return o===r||(o===n?e:void("toJSON"!==o&&i()))},set:i,apply:i,construct:i,defineProperty:i,deleteProperty:i,getOwnPropertyDescriptor:i,getPrototypeOf:i,has:i,isExtensible:i,ownKeys:i,preventExtensions:i,setPrototypeOf:i})},t.isBrokenObject=function(e){return null!==e&&"object"==typeof e&&!0===e[r]},t.getBrokenObjectReason=function(e){return e[n]}},63628:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FailedObserver=t.CompletedObserver=void 0;var r=function(){function e(){}return e.prototype.subscribe=function(e){i(e,e.onKeys,[]),i(e,e.onCompleted,{})},e.prototype.cancel=function(){},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.prepareToHandleSingleResponse=function(){},e.prototype.markCompleted=function(){},e.prototype.onError=function(e){throw Error("CompletedObserver not supposed to call onError",{cause:e})},e}();t.CompletedObserver=r;var n=function(){function e(e){var t=e.error,r=e.onError;this._error=t,this._beforeError=r,this._observers=[],this.onError(t)}return e.prototype.subscribe=function(e){i(e,e.onError,this._error),this._observers.push(e)},e.prototype.onError=function(e){i(this,this._beforeError,e),this._observers.forEach(function(t){return i(t,t.onError,e)})},e.prototype.cancel=function(){},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.markCompleted=function(){},e.prototype.prepareToHandleSingleResponse=function(){},e}();function i(e,t,r){null!=t&&t.bind(e)(r)}t.FailedObserver=n},35630:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MAX_SIZE=t.DEFAULT_ACQUISITION_TIMEOUT=t.PoolConfig=t.Pool=void 0;var s=o(r(96474));t.PoolConfig=s.default,Object.defineProperty(t,"DEFAULT_ACQUISITION_TIMEOUT",{enumerable:!0,get:function(){return s.DEFAULT_ACQUISITION_TIMEOUT}}),Object.defineProperty(t,"DEFAULT_MAX_SIZE",{enumerable:!0,get:function(){return s.DEFAULT_MAX_SIZE}});var l=a(r(83178));t.Pool=l.default,t.default=l.default},96474:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ACQUISITION_TIMEOUT=t.DEFAULT_MAX_SIZE=void 0,t.DEFAULT_MAX_SIZE=100,t.DEFAULT_ACQUISITION_TIMEOUT=6e4;var r=function(){function e(e,t){this.maxSize=n(e)?e:100,this.acquisitionTimeout=n(t)?t:6e4}return e.defaultConfig=function(){return new e(100,6e4)},e.fromDriverConfig=function(t){return new e(n(t.maxConnectionPoolSize)?t.maxConnectionPoolSize:100,n(t.connectionAcquisitionTimeout)?t.connectionAcquisitionTimeout:6e4)},e}();function n(e){return 0===e||null!=e}t.default=r},83178:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(96474)),s=r(44454),l=r(35318),u=function(){function e(e){var t=e.create,r=void 0===t?function(e,t,r){return n(g,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,Promise.reject(Error("Not implemented"))];case 1:return[2,e.sent()]}})})}:t,o=e.destroy,s=void 0===o?function(e){return n(g,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,Promise.resolve()];case 1:return[2,e.sent()]}})})}:o,u=e.validateOnAcquire,c=e.validateOnRelease,f=e.installIdleObserver,d=e.removeIdleObserver,p=e.config,h=void 0===p?a.default.defaultConfig():p,y=e.log,b=void 0===y?l.Logger.noOp():y,g=this;this._create=r,this._destroy=s,this._validateOnAcquire=void 0===u?function(e,t){return!0}:u,this._validateOnRelease=void 0===c?function(e){return!0}:c,this._installIdleObserver=void 0===f?function(e,t){}:f,this._removeIdleObserver=void 0===d?function(e){}:d,this._maxSize=h.maxSize,this._acquisitionTimeout=h.acquisitionTimeout,this._pools={},this._pendingCreates={},this._acquireRequests={},this._activeResourceCounts={},this._release=this._release.bind(this),this._log=b,this._closed=!1}return e.prototype.acquire=function(e,t,r){return n(this,void 0,void 0,function(){var n,o,a=this;return i(this,function(i){switch(i.label){case 0:return n=t.asKey(),null==(o=this._acquireRequests)[n]&&(o[n]=[]),[4,new Promise(function(i,l){var u=setTimeout(function(){var e=o[n];if(null!=e&&(o[n]=e.filter(function(e){return e!==c})),c.isCompleted());else{var r=a.activeResourceCount(t),i=a.has(t)?a._pools[n].length:0;c.reject((0,s.newError)("Connection acquisition timed out in ".concat(a._acquisitionTimeout," ms. Pool status: Active conn count = ").concat(r,", Idle conn count = ").concat(i,".")))}},a._acquisitionTimeout);"object"==typeof u&&u.unref();var c=new d(n,e,r,i,l,u,a._log);o[n].push(c),a._processPendingAcquireRequests(t)})];case 1:return[2,i.sent()]}})})},e.prototype.purge=function(e){return n(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this._purgeKey(e.asKey())];case 1:return[2,t.sent()]}})})},e.prototype.apply=function(e,t){var r=e.asKey();r in this._pools&&this._pools[r].apply(t)},e.prototype.close=function(){return n(this,void 0,void 0,function(){var e=this;return i(this,function(t){switch(t.label){case 0:return this._closed=!0,[4,Promise.all(Object.keys(this._pools).map(function(t){return n(e,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,this._purgeKey(t)];case 1:return[2,e.sent()]}})})})).then()];case 1:return[2,t.sent()]}})})},e.prototype.keepAll=function(e){return n(this,void 0,void 0,function(){var t,r=this;return i(this,function(o){switch(o.label){case 0:return t=e.map(function(e){return e.asKey()}),[4,Promise.all(Object.keys(this._pools).filter(function(e){return!t.includes(e)}).map(function(e){return n(r,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this._purgeKey(e)];case 1:return[2,t.sent()]}})})})).then()];case 1:return[2,o.sent()]}})})},e.prototype.has=function(e){return e.asKey() in this._pools},e.prototype.activeResourceCount=function(e){var t;return null!==(t=this._activeResourceCounts[e.asKey()])&&void 0!==t?t:0},e.prototype._getOrInitializePoolFor=function(e){var t=this._pools[e];return null==t&&(t=new p,this._pools[e]=t,this._pendingCreates[e]=0),t},e.prototype._acquire=function(e,t,r){return n(this,void 0,void 0,function(){var o,a,l,u,d,p,h,y=this;return i(this,function(b){switch(b.label){case 0:if(this._closed)throw(0,s.newError)("Pool is closed, it is no more able to serve requests.");if(o=t.asKey(),a=this._getOrInitializePoolFor(o),r)return[3,10];b.label=1;case 1:if(!(a.length>0))return[3,10];if(null==(l=a.pop()))return[3,1];c(o,this._activeResourceCounts),null!=this._removeIdleObserver&&this._removeIdleObserver(l),u=!1,b.label=2;case 2:return b.trys.push([2,4,,6]),[4,this._validateOnAcquire(e,l)];case 3:return u=b.sent(),[3,6];case 4:return d=b.sent(),f(o,this._activeResourceCounts),a.removeInUse(l),[4,this._destroy(l)];case 5:throw b.sent(),d;case 6:if(!u)return[3,7];return this._log.isDebugEnabled()&&this._log.debug("".concat(l," acquired from the pool ").concat(o)),[2,{resource:l,pool:a}];case 7:return f(o,this._activeResourceCounts),a.removeInUse(l),[4,this._destroy(l)];case 8:b.sent(),b.label=9;case 9:return[3,1];case 10:if(this._maxSize>0&&this.activeResourceCount(t)+this._pendingCreates[o]>=this._maxSize)return[2,{resource:null,pool:a}];this._pendingCreates[o]=this._pendingCreates[o]+1,b.label=11;case 11:if(b.trys.push([11,,15,16]),!(this.activeResourceCount(t)+a.length>=this._maxSize&&r)||!(null!=(h=a.pop())))return[3,13];return null!=this._removeIdleObserver&&this._removeIdleObserver(h),a.removeInUse(h),[4,this._destroy(h)];case 12:b.sent(),b.label=13;case 13:return[4,this._create(e,t,function(e,t){return n(y,void 0,void 0,function(){return i(this,function(r){switch(r.label){case 0:return[4,this._release(e,t,a)];case 1:return[2,r.sent()]}})})})];case 14:return p=b.sent(),a.pushInUse(p),c(o,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug("".concat(p," created for the pool ").concat(o)),[3,16];case 15:return this._pendingCreates[o]=this._pendingCreates[o]-1,[7];case 16:return[2,{resource:p,pool:a}]}})})},e.prototype._release=function(e,t,r){return n(this,void 0,void 0,function(){var n,o=this;return i(this,function(i){switch(i.label){case 0:n=e.asKey(),i.label=1;case 1:if(i.trys.push([1,,9,10]),!r.isActive())return[3,6];return[4,this._validateOnRelease(t)];case 2:if(i.sent())return[3,4];return this._log.isDebugEnabled()&&this._log.debug("".concat(t," destroyed and can't be released to the pool ").concat(n," because it is not functional")),r.removeInUse(t),[4,this._destroy(t)];case 3:return i.sent(),[3,5];case 4:null!=this._installIdleObserver&&this._installIdleObserver(t,{onError:function(e){o._log.debug("Idle connection ".concat(t," destroyed because of error: ").concat(e));var r=o._pools[n];null!=r&&(o._pools[n]=r.filter(function(e){return e!==t}),r.removeInUse(t)),o._destroy(t).catch(function(){})}}),r.push(t),this._log.isDebugEnabled()&&this._log.debug("".concat(t," released to the pool ").concat(n)),i.label=5;case 5:return[3,8];case 6:return this._log.isDebugEnabled()&&this._log.debug("".concat(t," destroyed and can't be released to the pool ").concat(n," because pool has been purged")),r.removeInUse(t),[4,this._destroy(t)];case 7:i.sent(),i.label=8;case 8:return[3,10];case 9:return f(n,this._activeResourceCounts),this._processPendingAcquireRequests(e),[7];case 10:return[2]}})})},e.prototype._purgeKey=function(e){return n(this,void 0,void 0,function(){var t,r,n;return i(this,function(i){switch(i.label){case 0:if(t=this._pools[e],r=[],!(null!=t))return[3,2];for(;t.length>0;)null!=(n=t.pop())&&(null!=this._removeIdleObserver&&this._removeIdleObserver(n),r.push(this._destroy(n)));return t.close(),delete this._pools[e],[4,Promise.all(r)];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype._processPendingAcquireRequests=function(e){var t=this,r=e.asKey(),n=this._acquireRequests[r];if(null!=n){var i=n.shift();null!=i?this._acquire(i.context,e,i.requireNew).catch(function(e){return i.reject(e),{resource:null,pool:null}}).then(function(n){var o=n.resource,a=n.pool;null!=o&&null!=a?i.isCompleted()?t._release(e,o,a).catch(function(e){t._log.isDebugEnabled()&&t._log.debug("".concat(o," could not be release back to the pool. Cause: ").concat(e))}):i.resolve(o):i.isCompleted()||(null==t._acquireRequests[r]&&(t._acquireRequests[r]=[]),t._acquireRequests[r].unshift(i))}).catch(function(e){return i.reject(e)}):delete this._acquireRequests[r]}},e}();function c(e,t){var r,n=null!==(r=t[e])&&void 0!==r?r:0;t[e]=n+1}function f(e,t){var r,n=(null!==(r=t[e])&&void 0!==r?r:0)-1;n>0?t[e]=n:delete t[e]}var d=function(){function e(e,t,r,n,i,o,a){this._key=e,this._context=t,this._resolve=n,this._reject=i,this._timeoutId=o,this._log=a,this._completed=!1,this._config=null!=r?r:{}}return Object.defineProperty(e.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requireNew",{get:function(){var e;return null!==(e=this._config.requireNew)&&void 0!==e&&e},enumerable:!1,configurable:!0}),e.prototype.isCompleted=function(){return this._completed},e.prototype.resolve=function(e){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._log.isDebugEnabled()&&this._log.debug("".concat(e," acquired from the pool ").concat(this._key)),this._resolve(e))},e.prototype.reject=function(e){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._reject(e))},e}(),p=function(){function e(){this._active=!0,this._elements=[],this._elementsInUse=new Set}return e.prototype.isActive=function(){return this._active},e.prototype.close=function(){this._active=!1,this._elements=[],this._elementsInUse=new Set},e.prototype.filter=function(e){return this._elements=this._elements.filter(e),this},e.prototype.apply=function(e){this._elements.forEach(e),this._elementsInUse.forEach(e)},Object.defineProperty(e.prototype,"length",{get:function(){return this._elements.length},enumerable:!1,configurable:!0}),e.prototype.pop=function(){var e=this._elements.pop();return null!=e&&this._elementsInUse.add(e),e},e.prototype.push=function(e){return this._elementsInUse.delete(e),this._elements.push(e)},e.prototype.pushInUse=function(e){this._elementsInUse.add(e)},e.prototype.removeInUse=function(e){this._elementsInUse.delete(e)},e}();t.default=u},64366:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(21386),a=function(){function e(e){this._createSession=e}return e.prototype.execute=function(e,t,r){return n(this,void 0,void 0,function(){var a,s,l=this;return i(this,function(u){switch(u.label){case 0:var c,f,d;a=this._createSession({database:e.database,bookmarkManager:e.bookmarkManager,impersonatedUser:e.impersonatedUser,auth:e.auth}),c=e.signal,f="abort",d=function(){return n(l,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,a.close()];case 1:return[2,e.sent()]}})})},"function"==typeof(null==c?void 0:c.addEventListener)&&c.addEventListener(f,d),s={uninstall:function(){"function"==typeof(null==c?void 0:c.removeEventListener)&&c.removeEventListener(f,d)}},a._configureTransactionExecutor(!0,o.TELEMETRY_APIS.EXECUTE_QUERY),u.label=1;case 1:return u.trys.push([1,,3,5]),[4,("READ"===e.routing?a.executeRead.bind(a):a.executeWrite.bind(a))(function(o){return n(l,void 0,void 0,function(){var n;return i(this,function(i){switch(i.label){case 0:return n=o.run(t,r),[4,e.resultTransformer(n)];case 1:return[2,i.sent()]}})})},e.transactionConfig)];case 2:return[2,u.sent()];case 3:return s.uninstall(),[4,a.close()];case 4:return u.sent(),[7];case 5:return[2]}})})},e}();t.default=a},21908:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.resolve=function(){throw Error("Abstract function")},e.prototype._resolveToItself=function(e){return Promise.resolve([e])},e}();t.default=r},27351:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21735);function i(e){return Promise.resolve([e])}var o=function(){function e(e){this._resolverFunction=null!=e?e:i}return e.prototype.resolve=function(e){var t=this;return new Promise(function(r){return r(t._resolverFunction(e.asHostPort()))}).then(function(e){if(!Array.isArray(e))throw TypeError("Configured resolver function should either return an array of addresses or a Promise resolved with an array of addresses."+"Each address is '<host>:<port>'. Got: ".concat(e));return e.map(function(e){return n.ServerAddress.fromUrl(e)})})},e}();t.default=o},53733:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfiguredCustomResolver=t.BaseHostNameResolver=void 0;var i=n(r(21908));t.BaseHostNameResolver=i.default;var o=n(r(27351));t.ConfiguredCustomResolver=o.default},21735:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ServerAddress=void 0;var a=r(30225),s=o(r(7920)),l=function(){function e(e,t,r,n){this._host=(0,a.assertString)(e,"host"),this._resolved=null!=t?(0,a.assertString)(t,"resolved"):null,this._port=(0,a.assertNumber)(r,"port"),this._hostPort=n,this._stringValue=null!=t?"".concat(n,"(").concat(t,")"):"".concat(n)}return e.prototype.host=function(){return this._host},e.prototype.resolvedHost=function(){return null!=this._resolved?this._resolved:this._host},e.prototype.port=function(){return this._port},e.prototype.resolveWith=function(t){return new e(this._host,t,this._port,this._hostPort)},e.prototype.asHostPort=function(){return this._hostPort},e.prototype.asKey=function(){return this._hostPort},e.prototype.toString=function(){return this._stringValue},e.fromUrl=function(t){var r=s.parseDatabaseUrl(t);return new e(r.host,null,r.port,r.hostAndPort)},e}();t.ServerAddress=l},65281:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.floorMod=t.floorDiv=t.assertValidZoneId=t.assertValidNanosecond=t.assertValidSecond=t.assertValidMinute=t.assertValidHour=t.assertValidDay=t.assertValidMonth=t.assertValidYear=t.timeZoneOffsetInSeconds=t.totalNanoseconds=t.newDate=t.toStandardDate=t.isoStringToStandardDate=t.dateToIsoString=t.timeZoneOffsetToIsoString=t.timeToIsoString=t.durationToIsoString=t.dateToEpochDay=t.localDateTimeToEpochSecond=t.localTimeToNanoOfDay=t.normalizeNanosecondsForDuration=t.normalizeSecondsForDuration=t.SECONDS_PER_DAY=t.DAYS_PER_400_YEAR_CYCLE=t.DAYS_0000_TO_1970=t.NANOS_PER_HOUR=t.NANOS_PER_MINUTE=t.NANOS_PER_MILLISECOND=t.NANOS_PER_SECOND=t.SECONDS_PER_HOUR=t.SECONDS_PER_MINUTE=t.MINUTES_PER_HOUR=t.NANOSECOND_OF_SECOND_RANGE=t.SECOND_OF_MINUTE_RANGE=t.MINUTE_OF_HOUR_RANGE=t.HOUR_OF_DAY_RANGE=t.DAY_OF_MONTH_RANGE=t.MONTH_OF_YEAR_RANGE=t.YEAR_RANGE=void 0;var a=o(r(88355)),s=r(44454),l=r(30225),u=function(){function e(e,t){this._minNumber=e,this._maxNumber=t,this._minInteger=(0,a.int)(e),this._maxInteger=(0,a.int)(t)}return e.prototype.contains=function(e){if((0,a.isInt)(e)&&e instanceof a.default)return e.greaterThanOrEqual(this._minInteger)&&e.lessThanOrEqual(this._maxInteger);if("bigint"!=typeof e)return e>=this._minNumber&&e<=this._maxNumber;var t=(0,a.int)(e);return t.greaterThanOrEqual(this._minInteger)&&t.lessThanOrEqual(this._maxInteger)},e.prototype.toString=function(){return"[".concat(this._minNumber,", ").concat(this._maxNumber,"]")},e}();function c(e,r,n){e=(0,a.int)(e),r=(0,a.int)(r),n=(0,a.int)(n);var i,o=e.multiply(365);return o=(o=(o=e.greaterThanOrEqual(0)?o.add(e.add(3).div(4).subtract(e.add(99).div(100)).add(e.add(399).div(400))):o.subtract(e.div(-4).subtract(e.div(-100)).add(e.div(-400)))).add(r.multiply(367).subtract(362).div(12))).add(n.subtract(1)),r.greaterThan(2)&&(o=o.subtract(1),i=e,(i=(0,a.int)(i)).modulo(4).equals(0)&&(!i.modulo(100).equals(0)||i.modulo(400).equals(0))||(o=o.subtract(1))),o.subtract(t.DAYS_0000_TO_1970)}t.YEAR_RANGE=new u(-0x3b9ac9ff,0x3b9ac9ff),t.MONTH_OF_YEAR_RANGE=new u(1,12),t.DAY_OF_MONTH_RANGE=new u(1,31),t.HOUR_OF_DAY_RANGE=new u(0,23),t.MINUTE_OF_HOUR_RANGE=new u(0,59),t.SECOND_OF_MINUTE_RANGE=new u(0,59),t.NANOSECOND_OF_SECOND_RANGE=new u(0,0x3b9ac9ff),t.MINUTES_PER_HOUR=60,t.SECONDS_PER_MINUTE=60,t.SECONDS_PER_HOUR=t.SECONDS_PER_MINUTE*t.MINUTES_PER_HOUR,t.NANOS_PER_SECOND=1e9,t.NANOS_PER_MILLISECOND=1e6,t.NANOS_PER_MINUTE=t.NANOS_PER_SECOND*t.SECONDS_PER_MINUTE,t.NANOS_PER_HOUR=t.NANOS_PER_MINUTE*t.MINUTES_PER_HOUR,t.DAYS_0000_TO_1970=719528,t.DAYS_PER_400_YEAR_CYCLE=146097,t.SECONDS_PER_DAY=86400,t.normalizeSecondsForDuration=function(e,r){return(0,a.int)(e).add(h(r,t.NANOS_PER_SECOND))},t.normalizeNanosecondsForDuration=function(e){return y(e,t.NANOS_PER_SECOND)},t.localTimeToNanoOfDay=function(e,r,n,i){e=(0,a.int)(e),r=(0,a.int)(r),n=(0,a.int)(n),i=(0,a.int)(i);var o=e.multiply(t.NANOS_PER_HOUR);return(o=(o=o.add(r.multiply(t.NANOS_PER_MINUTE))).add(n.multiply(t.NANOS_PER_SECOND))).add(i)},t.localDateTimeToEpochSecond=function(e,r,n,i,o,s,l){var u,f,d,p,h=c(e,r,n),y=(u=i,f=o,d=s,u=(0,a.int)(u),f=(0,a.int)(f),d=(0,a.int)(d),u.multiply(t.SECONDS_PER_HOUR).add(f.multiply(t.SECONDS_PER_MINUTE)).add(d));return h.multiply(t.SECONDS_PER_DAY).add(y)},t.dateToEpochDay=c,t.durationToIsoString=function(e,r,n,i){var o,s,l,u,c,f,d=g(e),p=g(r),h=(o=n,s=i,o=(0,a.int)(o),s=(0,a.int)(s),c=o.isNegative(),f=s.greaterThan(0),l=c&&f?o.equals(-1)?"-0":o.add(1).toString():o.toString(),f&&(u=c?b(s.negate().add(2*t.NANOS_PER_SECOND).modulo(t.NANOS_PER_SECOND)):b(s.add(t.NANOS_PER_SECOND).modulo(t.NANOS_PER_SECOND))),null!=u?l+u:l);return"P".concat(d,"M").concat(p,"DT").concat(h,"S")},t.timeToIsoString=function(e,t,r,n){var i=g(e,2),o=g(t,2),a=g(r,2),s=b(n);return"".concat(i,":").concat(o,":").concat(a).concat(s)},t.timeZoneOffsetToIsoString=function(e){if((e=(0,a.int)(e)).equals(0))return"Z";var r=e.isNegative();r&&(e=e.multiply(-1));var n=r?"-":"+",i=g(e.div(t.SECONDS_PER_HOUR),2),o=g(e.div(t.SECONDS_PER_MINUTE).modulo(t.MINUTES_PER_HOUR),2),s=e.modulo(t.SECONDS_PER_MINUTE),l=s.equals(0)?null:g(s,2);return null!=l?"".concat(n).concat(i,":").concat(o,":").concat(l):"".concat(n).concat(i,":").concat(o)},t.dateToIsoString=function(e,t,r){var n,i=(n=(0,a.int)(e)).isNegative()||n.greaterThan(9999)?g(n,6,{usePositiveSign:!0}):g(n,4),o=g(t,2),s=g(r,2);return"".concat(i,"-").concat(o,"-").concat(s)},t.isoStringToStandardDate=function(e){return new Date(e)},t.toStandardDate=function(e){return new Date(e)},t.newDate=function(e){return new Date(e)},t.totalNanoseconds=function(e,r){var n,i;return n=r=null!=r?r:0,i=e.getMilliseconds()*t.NANOS_PER_MILLISECOND,n instanceof a.default?n.add(i):"bigint"==typeof n?n+BigInt(i):n+i},t.timeZoneOffsetInSeconds=function(e){var r=e.getSeconds()>=e.getUTCSeconds()?e.getSeconds()-e.getUTCSeconds():e.getSeconds()-e.getUTCSeconds()+60,n=e.getTimezoneOffset();return 0===n?0+r:-1*n*t.SECONDS_PER_MINUTE+r},t.assertValidYear=function(e){return p(e,t.YEAR_RANGE,"Year")},t.assertValidMonth=function(e){return p(e,t.MONTH_OF_YEAR_RANGE,"Month")},t.assertValidDay=function(e){return p(e,t.DAY_OF_MONTH_RANGE,"Day")},t.assertValidHour=function(e){return p(e,t.HOUR_OF_DAY_RANGE,"Hour")},t.assertValidMinute=function(e){return p(e,t.MINUTE_OF_HOUR_RANGE,"Minute")},t.assertValidSecond=function(e){return p(e,t.SECOND_OF_MINUTE_RANGE,"Second")},t.assertValidNanosecond=function(e){return p(e,t.NANOSECOND_OF_SECOND_RANGE,"Nanosecond")};var f=new Map,d=function(e,t){return(0,s.newError)("".concat(t,' is expected to be a valid ZoneId but was: "').concat(e,'"'))};function p(e,t,r){if((0,l.assertNumberOrInteger)(e,r),!t.contains(e))throw(0,s.newError)("".concat(r," is expected to be in range ").concat(t.toString()," but was: ").concat(e.toString()));return e}function h(e,t){e=(0,a.int)(e),t=(0,a.int)(t);var r=e.div(t);return e.isPositive()!==t.isPositive()&&r.multiply(t).notEquals(e)&&(r=r.subtract(1)),r}function y(e,t){return e=(0,a.int)(e),t=(0,a.int)(t),e.subtract(h(e,t).multiply(t))}function b(e){return(e=(0,a.int)(e)).equals(0)?"":"."+g(e,9)}function g(e,t,r){var n=(e=(0,a.int)(e)).isNegative();n&&(e=e.negate());var i=e.toString();if(null!=t)for(;i.length<t;)i="0"+i;return n?"-"+i:(null==r?void 0:r.usePositiveSign)===!0?"+"+i:i}t.assertValidZoneId=function(e,t){var r=f.get(t);if(!0!==r){if(!1===r)throw d(t,e);try{Intl.DateTimeFormat(void 0,{timeZone:t}),f.set(t,!0)}catch(r){throw f.set(t,!1),d(t,e)}}},t.floorDiv=h,t.floorMod=y},85237:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionExecutor=void 0;var l=r(44454),u=r(21386);function c(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,s([e,t],a(r),!1))}function f(e){return clearTimeout(e)}var d=function(){function e(e,t,r,n,i){void 0===i&&(i={setTimeout:c,clearTimeout:f}),this._maxRetryTimeMs=p(e,3e4),this._initialRetryDelayMs=p(t,1e3),this._multiplier=p(r,2),this._jitterFactor=p(n,.2),this._setTimeout=i.setTimeout,this._clearTimeout=i.clearTimeout,this._inFlightTimeoutIds=[],this.pipelineBegin=!1,this.telemetryApi=u.TELEMETRY_APIS.MANAGED_TRANSACTION,this._verifyAfterConstruction()}return e.prototype.execute=function(e,t,r){var n=this,i={apiTransactionConfig:{api:this.telemetryApi,onTelemetrySuccess:function(){i.apiTransactionConfig=void 0}}};return new Promise(function(o,a){n._executeTransactionInsidePromise(e,t,o,a,r,i).catch(a)}).catch(function(o){var a=Date.now(),s=n._initialRetryDelayMs;return n._retryTransactionPromise(e,t,o,a,s,r,i)})},e.prototype.close=function(){var e=this;this._inFlightTimeoutIds.forEach(function(t){return e._clearTimeout(t)}),this._inFlightTimeoutIds=[]},e.prototype._retryTransactionPromise=function(e,t,r,n,i,o,a){var s=this;return Date.now()-n>this._maxRetryTimeMs||!(0,l.isRetriableError)(r)?Promise.reject(r):new Promise(function(r,n){var l=s._computeDelayWithJitter(i),u=s._setTimeout(function(){s._inFlightTimeoutIds=s._inFlightTimeoutIds.filter(function(e){return e!==u}),s._executeTransactionInsidePromise(e,t,r,n,o,a).catch(n)},l);s._inFlightTimeoutIds.push(u)}).catch(function(r){var l=i*s._multiplier;return s._retryTransactionPromise(e,t,r,n,l,o,a)})},e.prototype._executeTransactionInsidePromise=function(e,t,r,a,s,l){return i(this,void 0,void 0,function(){var i,u,c,f,d=this;return o(this,function(o){switch(o.label){case 0:if(o.trys.push([0,4,,5]),u=e((null==l?void 0:l.apiTransactionConfig)!=null?n({},null==l?void 0:l.apiTransactionConfig):void 0),!this.pipelineBegin)return[3,1];return c=u,[3,3];case 1:return[4,u];case 2:c=o.sent(),o.label=3;case 3:return i=c,[3,5];case 4:return a(o.sent()),[2];case 5:return f=(null!=s?s:function(e){return e})(i),this._safeExecuteTransactionWork(f,t).then(function(e){return d._handleTransactionWorkSuccess(e,i,r,a)}).catch(function(e){return d._handleTransactionWorkFailure(e,i,a)}),[2]}})})},e.prototype._safeExecuteTransactionWork=function(e,t){try{var r=t(e);return Promise.resolve(r)}catch(e){return Promise.reject(e)}},e.prototype._handleTransactionWorkSuccess=function(e,t,r,n){t.isOpen()?t.commit().then(function(){r(e)}).catch(function(e){n(e)}):r(e)},e.prototype._handleTransactionWorkFailure=function(e,t,r){t.isOpen()?t.rollback().catch(function(e){}).then(function(){return r(e)}).catch(r):r(e)},e.prototype._computeDelayWithJitter=function(e){var t=e*this._jitterFactor,r=e-t;return Math.random()*(e+t-r)+r},e.prototype._verifyAfterConstruction=function(){if(this._maxRetryTimeMs<0)throw(0,l.newError)("Max retry time should be >= 0: "+this._maxRetryTimeMs.toString());if(this._initialRetryDelayMs<0)throw(0,l.newError)("Initial retry delay should >= 0: "+this._initialRetryDelayMs.toString());if(this._multiplier<1)throw(0,l.newError)("Multiplier should be >= 1.0: "+this._multiplier.toString());if(this._jitterFactor<0||this._jitterFactor>1)throw(0,l.newError)("Jitter factor should be in [0.0, 1.0]: "+this._jitterFactor.toFixed())},e}();function p(e,t){return null!=e?e:t}t.TransactionExecutor=d},92074:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TxConfig=void 0;var a=o(r(30225)),s=r(44454),l=r(88355),u=function(){function e(e,t){null!=e&&a.assertObject(e,"Transaction config"),this.timeout=function(e,t){if(a.isObject(e)&&null!=e.timeout){a.assertNumberOrInteger(e.timeout,"Transaction timeout"),"number"!=typeof e.timeout||Number.isInteger(e.timeout)||(null==t?void 0:t.isInfoEnabled())!==!0||null==t||t.info("Transaction timeout expected to be an integer, got: ".concat(e.timeout,". The value will be rounded up."));var r=(0,l.int)(e.timeout,{ceilFloat:!0});if(r.isNegative())throw(0,s.newError)("Transaction timeout should not be negative");return r}return null}(e,t),this.metadata=function(e){if(a.isObject(e)&&null!=e.metadata){var t=e.metadata;if(a.assertObject(t,"config.metadata"),0!==Object.keys(t).length)return t}return null}(e)}return e.empty=function(){return c},e.prototype.isEmpty=function(){return Object.values(this).every(function(e){return null==e})},e}();t.TxConfig=u;var c=new u({})},7920:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.Url=t.formatIPv6Address=t.formatIPv4Address=t.defaultPortForScheme=t.parseDatabaseUrl=void 0;var o=r(30225),a=function(e,t,r,n,i){this.scheme=e,this.host=t,this.port=r,this.hostAndPort=n,this.query=i};function s(e,t,r){if(""===(e=(null!=e?e:"").trim()))throw Error("Illegal empty ".concat(t," in URL query '").concat(r,"'"));return e}function l(e){var t="["===e.charAt(0),r="]"===e.charAt(e.length-1);if(!t&&!r)return"[".concat(e,"]");if(t&&r)return e;throw Error("Illegal IPv6 address ".concat(e))}function u(e){return"http"===e?7474:"https"===e?7473:7687}t.Url=a,t.parseDatabaseUrl=function(e){(0,o.assertString)(e,"URL");var t,r,c,f,d,p,h,y,b,g,m=(p=(p=e).trim()).includes("://")?{schemeMissing:!1,url:p}:{schemeMissing:!0,url:"none://".concat(p)},v=function(e){function t(e,t){var r=e.indexOf(t);return r>=0?[e.substring(0,r),e[r],e.substring(r+1)]:[e,"",""]}var r,o,a,s,l,u,c,f,d,p,h,y={};return(":"===(h=t(e,":"))[1]&&(y.scheme=decodeURIComponent(h[0]),e=h[2]),"#"===(h=t(e,"#"))[1]&&(y.fragment=decodeURIComponent(h[2]),e=h[0]),"?"===(h=t(e,"?"))[1]&&(y.query=h[2],e=h[0]),e.startsWith("//"))?(h=t(e.substr(2),"/"),(y=n(n({},y),(r=h[0],a={},"@"===(o=(l=(s=r).lastIndexOf("@"))>=0?[s.substring(0,l),s[l],s.substring(l+1)]:["","",s])[1]&&(a.userInfo=decodeURIComponent(o[0]),r=o[2]),d=(f=i((u=t(r,"["),[(c=t(u[2],"]"))[0],c[2]]),2))[0],p=f[1],""!==d?(a.host=d,o=t(p,":")):(o=t(r,":"),a.host=o[0]),":"===o[1]&&(a.port=o[2]),a))).path=h[1]+h[2]):y.path=e,y}(m.url),_=m.schemeMissing?null:null!=(h=v.scheme)?(":"===(h=h.trim()).charAt(h.length-1)&&(h=h.substring(0,h.length-1)),h):null,O=function(e,t){if(null==e)throw Error("Unable to extract host from null or undefined URL");return e.trim()}(v.host),w=function(e){if(""===e||null==e)throw Error("Illegal host ".concat(e));return e.includes(":")?l(e):e}(O),S=null==(b="string"==typeof(y=v.port)?parseInt(y,10):y)||isNaN(b)?u(_):b,E="".concat(w,":").concat(S);return new a(_,O,S,E,(f=null!=(r=null!==(g=v.query)&&void 0!==g?g:"string"!=typeof(t=v.resourceName)?null:i(t.split("?"),2)[1])?((null==(c=(null!=(c=r)?c:"").trim())?void 0:c.charAt(0))==="?"&&(c=c.substring(1,c.length)),c):null,d={},null!=f&&f.split("&").forEach(function(t){var r=t.split("=");if(2!==r.length)throw Error("Invalid parameters: '".concat(r.toString(),"' in URL '").concat(e,"'."));var n=s(r[0],"key",e),i=s(r[1],"value",e);if(void 0!==d[n])throw Error("Duplicated query parameters with key '".concat(n,"' in URL '").concat(e,"'"));d[n]=i}),d))},t.formatIPv4Address=function(e,t){return"".concat(e,":").concat(t)},t.formatIPv6Address=function(e,t){var r=l(e);return"".concat(r,":").concat(t)},t.defaultPortForScheme=u},30225:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.ENCRYPTION_OFF=t.ENCRYPTION_ON=t.equals=t.validateQueryAndParameters=t.toNumber=t.assertValidDate=t.assertNumberOrInteger=t.assertNumber=t.assertString=t.assertObject=t.isString=t.isObject=t.isEmptyObjectOrNull=void 0;var s=o(r(88355)),l=r(80134);function u(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}function c(e,t){if(!f(e))throw TypeError((0,l.stringify)(t)+" expected to be string but was: "+(0,l.stringify)(e));return e}function f(e){return"[object String]"===Object.prototype.toString.call(e)}t.ENCRYPTION_ON="ENCRYPTION_ON",t.ENCRYPTION_OFF="ENCRYPTION_OFF",t.isEmptyObjectOrNull=function(e){if(null===e)return!0;if(!u(e))return!1;for(var t in e)if(void 0!==e[t])return!1;return!0},t.isObject=u,t.validateQueryAndParameters=function(e,t,r){var n,i,o="",a=null!=t?t:{},s=null!==(n=null==r?void 0:r.skipAsserts)&&void 0!==n&&n;return"string"==typeof e?o=e:e instanceof String?o=e.toString():"object"==typeof e&&null!=e.text&&(o=e.text,a=null!==(i=e.parameters)&&void 0!==i?i:{}),s||(function(e){if(c(e,"Cypher query"),0===e.trim().length)throw TypeError("Cypher query is expected to be a non-empty string.")}(o),function(e){if(!u(e)){var t=null!=e.constructor?" "+e.constructor.name:"";throw TypeError("Query parameters are expected to either be undefined/null or an object, given:".concat(t," ").concat(JSON.stringify(e)))}}(a)),{validatedQuery:o,params:a}},t.assertObject=function(e,t){if(!u(e))throw TypeError(t+" expected to be an object but was: "+(0,l.stringify)(e));return e},t.assertString=c,t.assertNumber=function(e,t){if("number"!=typeof e)throw TypeError(t+" expected to be a number but was: "+(0,l.stringify)(e));return e},t.assertNumberOrInteger=function(e,t){if("number"!=typeof e&&"bigint"!=typeof e&&!(0,s.isInt)(e))throw TypeError(t+" expected to be either a number or an Integer object but was: "+(0,l.stringify)(e));return e},t.assertValidDate=function(e,t){if("[object Date]"!==Object.prototype.toString.call(e))throw TypeError(t+" expected to be a standard JavaScript Date but was: "+(0,l.stringify)(e));if(Number.isNaN(e.getTime()))throw TypeError(t+" expected to be valid JavaScript Date but its time was NaN: "+(0,l.stringify)(e));return e},t.isString=f,t.equals=function e(t,r){var n,i;if(t===r)return!0;if(null===t||null===r)return!1;if("object"==typeof t&&"object"==typeof r){var o=Object.keys(t),s=Object.keys(r);if(o.length!==s.length)return!1;try{for(var l=a(o),u=l.next();!u.done;u=l.next()){var c=u.value;if(!e(t[c],r[c]))return!1}}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return!0}return!1},t.toNumber=function(e){return e instanceof s.default?e.toNumber():"bigint"==typeof e?(0,s.int)(e).toNumber():e}},80134:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=void 0;var n=r(88403);t.stringify=function(e,t){return JSON.stringify(e,function(e,r){return(0,n.isBrokenObject)(r)?{__isBrokenObject__:!0,__reason__:(0,n.getBrokenObjectReason)(r)}:"bigint"==typeof r?"".concat(r,"n"):(null==t?void 0:t.useCustomToString)!==!0||"object"!=typeof r||Array.isArray(r)||"function"!=typeof r.toString||r.toString===Object.prototype.toString?r:null==r?void 0:r.toString()})}},13279:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notificationFilterDisabledClassification=t.notificationFilterDisabledCategory=t.notificationFilterMinimumSeverityLevel=void 0;var r={OFF:"OFF",WARNING:"WARNING",INFORMATION:"INFORMATION"};t.notificationFilterMinimumSeverityLevel=r,Object.freeze(r);var n={HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",TOPOLOGY:"TOPOLOGY",SECURITY:"SECURITY",DEPRECATION:"DEPRECATION",GENERIC:"GENERIC",SCHEMA:"SCHEMA"};t.notificationFilterDisabledCategory=n,Object.freeze(n),t.notificationFilterDisabledClassification=n,t.default=function(){throw this.minimumSeverityLevel=void 0,this.disabledCategories=void 0,this.disabledClassifications=void 0,Error("Not implemented")}},74354:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},s=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},l=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.buildNotificationsFromMetadata=t.buildGqlStatusObjectFromMetadata=t.polyfillNotification=t.polyfillGqlStatusObject=t.GqlStatusObject=t.Notification=t.notificationClassification=t.notificationCategory=t.notificationSeverityLevel=void 0;var u=a(r(80134)),c=r(12166),f={WARNING:{gql_status:"01N42",status_description:"warn: unknown warning"},NO_DATA:{gql_status:"02N42",status_description:"note: no data - unknown subcondition"},INFORMATION:{gql_status:"03N42",status_description:"info: unknown notification"}},d={WARNING:"WARNING",INFORMATION:"INFORMATION",UNKNOWN:"UNKNOWN"};t.notificationSeverityLevel=d,Object.freeze(d);var p=Object.values(d),h={HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",DEPRECATION:"DEPRECATION",TOPOLOGY:"TOPOLOGY",SECURITY:"SECURITY",GENERIC:"GENERIC",SCHEMA:"SCHEMA",UNKNOWN:"UNKNOWN"};t.notificationCategory=h,Object.freeze(h);var y=Object.values(h);t.notificationClassification=h;var b=function(e){this.code=e.code,this.title=e.title,this.description=e.description,this.severity=e.severity,this.position=E(e.position),this.severityLevel=x(e.severity),this.rawSeverityLevel=e.severity,this.category=P(e.category),this.rawCategory=e.category};t.Notification=b;var g=function(){function e(e){var t;this.gqlStatus=e.gql_status,this.statusDescription=e.status_description,this.diagnosticRecord=null!==(t=e.diagnostic_record)&&void 0!==t?t:{},this.position=null!=this.diagnosticRecord._position?E(this.diagnosticRecord._position):void 0,this.severity=x(this.diagnosticRecord._severity),this.rawSeverity=this.diagnosticRecord._severity,this.classification=P(this.diagnosticRecord._classification),this.rawClassification=this.diagnosticRecord._classification,this.isNotification=null!=e.neo4j_code,Object.freeze(this)}return Object.defineProperty(e.prototype,"diagnosticRecordAsJsonString",{get:function(){return u.stringify(this.diagnosticRecord,{useCustomToString:!0})},enumerable:!1,configurable:!0}),e}();function m(e){var t,r,n;if(null!=e.neo4j_code)return new b({code:e.neo4j_code,title:e.title,description:e.description,severity:null===(t=e.diagnostic_record)||void 0===t?void 0:t._severity,category:null===(r=e.diagnostic_record)||void 0===r?void 0:r._classification,position:null===(n=e.diagnostic_record)||void 0===n?void 0:n._position})}function v(e){var t,r=e.severity===d.WARNING?f.WARNING:f.INFORMATION,i={gql_status:r.gql_status,status_description:null!==(t=e.description)&&void 0!==t?t:r.status_description,neo4j_code:e.code,title:e.title,diagnostic_record:n({},_)};return null!=e.severity&&(i.diagnostic_record._severity=e.severity),null!=e.category&&(i.diagnostic_record._classification=e.category),null!=e.position&&(i.diagnostic_record._position=e.position),new g(i)}t.GqlStatusObject=g,t.polyfillNotification=m,t.polyfillGqlStatusObject=v;var _={OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"};Object.freeze(_);var O={SUCCESS:new g({gql_status:"00000",status_description:"note: successful completion",diagnostic_record:_}),NO_DATA:new g({gql_status:"02000",status_description:"note: no data",diagnostic_record:_}),NO_DATA_UNKNOWN_SUBCONDITION:new g(n(n({},f.NO_DATA),{diagnostic_record:_})),OMITTED_RESULT:new g({gql_status:"00001",status_description:"note: successful completion - omitted result",diagnostic_record:_})};Object.freeze(O),t.buildGqlStatusObjectFromMetadata=function(e){var t,r,n;return null!=e.statuses?e.statuses.map(function(e){return new g(e)}):l([(null==(t=e.stream_summary)?void 0:t.have_records_streamed)===!0?O.SUCCESS:(null==t?void 0:t.has_keys)===!1?O.OMITTED_RESULT:(null==t?void 0:t.pulled)===!0?O.NO_DATA:O.NO_DATA_UNKNOWN_SUBCONDITION],s(null!==(n=null===(r=e.notifications)||void 0===r?void 0:r.map(v))&&void 0!==n?n:[]),!1).sort(function(e,t){return S(e)-S(t)})};var w=Object.freeze({"02":0,"01":1,"00":2});function S(e){var t,r;return null!==(r=w[null===(t=e.gqlStatus)||void 0===t?void 0:t.slice(0,2)])&&void 0!==r?r:9999}function E(e){return null==e?{}:{offset:c.util.toNumber(e.offset),line:c.util.toNumber(e.line),column:c.util.toNumber(e.column)}}function x(e){return p.includes(e)?e:d.UNKNOWN}function P(e){return y.includes(e)?e:h.UNKNOWN}t.buildNotificationsFromMetadata=function(e){return null!=e.notifications?e.notifications.map(function(e){return new b(e)}):null!=e.statuses?e.statuses.map(m).filter(function(e){return null!=e}):[]},t.default=b},62381:function(e,t,r){"use strict";var n=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var a=r(44454),s=function(){function e(e,t,r){var n;this.keys=e,this.length=e.length,this._fields=t,this._fieldLookup=null!=r?r:(n={},e.forEach(function(e,t){n[e]=t}),n)}return e.prototype.forEach=function(e){var t,r;try{for(var n=i(this.entries()),a=n.next();!a.done;a=n.next()){var s=o(a.value,2),l=s[0],u=s[1];e(u,l,this)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.map=function(e){var t,r,n=[];try{for(var a=i(this.entries()),s=a.next();!s.done;s=a.next()){var l=o(s.value,2),u=l[0],c=l[1];n.push(e(c,u,this))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return n},e.prototype.entries=function(){var e;return n(this,function(t){switch(t.label){case 0:e=0,t.label=1;case 1:if(!(e<this.keys.length))return[3,4];return[4,[this.keys[e],this._fields[e]]];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})},e.prototype.values=function(){var e;return n(this,function(t){switch(t.label){case 0:e=0,t.label=1;case 1:if(!(e<this.keys.length))return[3,4];return[4,this._fields[e]];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})},e.prototype[Symbol.iterator]=function(){var e;return n(this,function(t){switch(t.label){case 0:e=0,t.label=1;case 1:if(!(e<this.keys.length))return[3,4];return[4,this._fields[e]];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})},e.prototype.toObject=function(){var e,t,r={};try{for(var n=i(this.entries()),a=n.next();!a.done;a=n.next()){var s=o(a.value,2),l=s[0],u=s[1];r[l]=u}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r},e.prototype.get=function(e){var t;if("number"!=typeof e){if(void 0===(t=this._fieldLookup[e]))throw(0,a.newError)("This record has no field with key '".concat(e.toString(),"', available keys are: [")+this.keys.toString()+"].")}else t=e;if(t>this._fields.length-1||t<0)throw(0,a.newError)("This record has no field with index '"+t.toString()+"'. Remember that indexes start at `0`, and make sure your query returns records in the shape you meant it to.");return this._fields[t]},e.prototype.has=function(e){return"number"==typeof e?e>=0&&e<this._fields.length:void 0!==this._fieldLookup[e]},e}();t.default=s},68519:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){this.keys=e,this.records=t,this.summary=r}},59433:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stats=t.QueryStatistics=t.ProfiledPlan=t.Plan=t.ServerInfo=t.queryType=void 0;var n=r(12166),i=r(74354),o=function(){function e(e,t,r,n){var o,c,f;this.query={text:e,parameters:t},this.queryType=r.type,this.counters=new l(null!==(o=r.stats)&&void 0!==o?o:{}),this.updateStatistics=this.counters,this.plan=(null!=r.plan||null!=r.profile)&&new a(null!==(c=r.plan)&&void 0!==c?c:r.profile),this.profile=null!=r.profile&&new s(r.profile),this.notifications=(0,i.buildNotificationsFromMetadata)(r),this.gqlStatusObjects=(0,i.buildGqlStatusObjectFromMetadata)(r),this.server=new u(r.server,n),this.resultConsumedAfter=r.result_consumed_after,this.resultAvailableAfter=r.result_available_after,this.database={name:null!==(f=r.db)&&void 0!==f?f:null}}return e.prototype.hasPlan=function(){return this.plan instanceof a},e.prototype.hasProfile=function(){return this.profile instanceof s},e}(),a=function e(t){this.operatorType=t.operatorType,this.identifiers=t.identifiers,this.arguments=t.args,this.children=null!=t.children?t.children.map(function(t){return new e(t)}):[]};t.Plan=a;var s=function(){function e(t){this.operatorType=t.operatorType,this.identifiers=t.identifiers,this.arguments=t.args,this.dbHits=c("dbHits",t),this.rows=c("rows",t),this.pageCacheMisses=c("pageCacheMisses",t),this.pageCacheHits=c("pageCacheHits",t),this.pageCacheHitRatio=c("pageCacheHitRatio",t),this.time=c("time",t),this.children=null!=t.children?t.children.map(function(t){return new e(t)}):[]}return e.prototype.hasPageCacheStats=function(){return this.pageCacheMisses>0||this.pageCacheHits>0||this.pageCacheHitRatio>0},e}();t.ProfiledPlan=s,t.Stats=function(){this.nodesCreated=0,this.nodesDeleted=0,this.relationshipsCreated=0,this.relationshipsDeleted=0,this.propertiesSet=0,this.labelsAdded=0,this.labelsRemoved=0,this.indexesAdded=0,this.indexesRemoved=0,this.constraintsAdded=0,this.constraintsRemoved=0};var l=function(){function e(e){var t=this;this._stats={nodesCreated:0,nodesDeleted:0,relationshipsCreated:0,relationshipsDeleted:0,propertiesSet:0,labelsAdded:0,labelsRemoved:0,indexesAdded:0,indexesRemoved:0,constraintsAdded:0,constraintsRemoved:0},this._systemUpdates=0,Object.keys(e).forEach(function(r){var i=r.replace(/(-\w)/g,function(e){return e[1].toUpperCase()});i in t._stats?t._stats[i]=n.util.toNumber(e[r]):"systemUpdates"===i?t._systemUpdates=n.util.toNumber(e[r]):"containsSystemUpdates"===i?t._containsSystemUpdates=e[r]:"containsUpdates"===i&&(t._containsUpdates=e[r])}),this._stats=Object.freeze(this._stats)}return e.prototype.containsUpdates=function(){var e=this;return void 0!==this._containsUpdates?this._containsUpdates:Object.keys(this._stats).reduce(function(t,r){return t+e._stats[r]},0)>0},e.prototype.updates=function(){return this._stats},e.prototype.containsSystemUpdates=function(){return void 0!==this._containsSystemUpdates?this._containsSystemUpdates:this._systemUpdates>0},e.prototype.systemUpdates=function(){return this._systemUpdates},e}();t.QueryStatistics=l;var u=function(e,t){null!=e&&(this.address=e.address,this.agent=e.version),this.protocolVersion=t};function c(e,t,r){if(void 0===r&&(r=0),!1===t||!(e in t))return r;var i=t[e];return n.util.toNumber(i)}t.ServerInfo=u,t.queryType={READ_ONLY:"r",READ_WRITE:"rw",WRITE_ONLY:"w",SCHEMA_WRITE:"s"},t.default=o},67126:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(68519)),s=r(44454),l=new(function(){function e(){}return e.prototype.eagerResultTransformer=function(){return u},e.prototype.eager=function(){return u},e.prototype.mappedResultTransformer=function(e){return c(e)},e.prototype.mapped=function(e){return c(e)},e.prototype.first=function(){return f},e.prototype.summary=function(){return d},e}());function u(e){return n(this,void 0,void 0,function(){var t,r,n,o;return i(this,function(i){switch(i.label){case 0:return[4,e];case 1:return r=(t=i.sent()).summary,n=t.records,[4,e.keys()];case 2:return o=i.sent(),[2,new a.default(o,n,r)]}})})}function c(e){var t=this;if(null==e||null==e.collect&&null==e.map)throw(0,s.newError)("Requires a map or/and a collect functions.");return function(r){return n(t,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t,n){var i={records:[],keys:[]};r.subscribe({onKeys:function(e){i.keys=e},onNext:function(t){if(null!=e.map){var r=e.map(t);void 0!==r&&i.records.push(r)}else i.records.push(t)},onCompleted:function(r){null!=e.collect?t(e.collect(i.records,r,i.keys)):t({records:i.records,summary:r,keys:i.keys})},onError:function(e){n(e)}})})];case 1:return[2,t.sent()]}})})}}function f(e){return n(this,void 0,void 0,function(){var t,r,n,o;return i(this,function(i){switch(i.label){case 0:return[4,(t=e[Symbol.asyncIterator]()).next()];case 1:n=(r=i.sent()).value,o=r.done,i.label=2;case 2:if(i.trys.push([2,,3,6]),!0===o)return[2,void 0];return[2,n];case 3:if(!(null!=t.return))return[3,5];return[4,t.return()];case 4:i.sent(),i.label=5;case 5:return[7];case 6:return[2]}})})}function d(e){return n(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,e.summary()];case 1:return[2,t.sent()]}})})}Object.freeze(l),t.default=l},94023:function(e,t,r){"use strict";var n,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(r(59433)),l=r(12166),u=r(44454),c=l.connectionHolder.EMPTY_CONNECTION_HOLDER,f=function(e){console.log("Uncaught error when processing result: "+e)},d=function(e){},p=function(e){},h=function(){function e(e,t,r,i,o){var a;void 0===o&&(o={high:Number.MAX_VALUE,low:Number.MAX_VALUE}),this[n]="Result",this._stack=null!=(a=Error("")).stack?a.stack.replace(/^Error(\n\r)*/,""):null,this._streamObserverPromise=e,this._p=null,this._query=t,this._parameters=null!=r?r:{},this._connectionHolder=null!=i?i:c,this._keys=null,this._summary=null,this._error=null,this._watermarks=o}return e.prototype.keys=function(){var e=this;return null!==this._keys?Promise.resolve(this._keys):null!==this._error?Promise.reject(this._error):new Promise(function(t,r){e._streamObserverPromise.then(function(n){return n.subscribe(e._decorateObserver({onKeys:function(e){return t(e)},onError:function(e){return r(e)}}))}).catch(r)})},e.prototype.summary=function(){var e=this;return null!==this._summary?Promise.resolve(this._summary):null!==this._error?Promise.reject(this._error):new Promise(function(t,r){e._streamObserverPromise.then(function(n){n.cancel(),n.subscribe(e._decorateObserver({onCompleted:function(e){return t(e)},onError:function(e){return r(e)}}))}).catch(r)})},e.prototype._getOrCreatePromise=function(){var e=this;return null==this._p&&(this._p=new Promise(function(t,r){var n=[];e.subscribe({onNext:function(e){n.push(e)},onCompleted:function(e){t({records:n,summary:e})},onError:function(e){r(e)}})})),this._p},e.prototype[Symbol.asyncIterator]=function(){var e=this;if(!this.isOpen()){var t=(0,u.newError)("Result is already consumed");return{next:function(){return Promise.reject(t)},peek:function(){return Promise.reject(t)}}}var r={paused:!0,firstRun:!0,finished:!1},n=function(){if(null!=r.streaming){var t,n,i=null!==(n=null===(t=r.queuedObserver)||void 0===t?void 0:t.size)&&void 0!==n?n:0,o=i>=e._watermarks.high,a=i<=e._watermarks.low;o&&!r.paused?(r.paused=!0,r.streaming.pause()):(a&&r.paused||r.firstRun&&!o)&&(r.firstRun=!1,r.paused=!1,r.streaming.resume())}},a=function(){return i(e,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:if(void 0!==r.queuedObserver)return[3,2];return r.queuedObserver=this._createQueuedResultObserver(n),e=r,[4,this._subscribe(r.queuedObserver,!0).catch(function(){})];case 1:e.streaming=t.sent(),n(),t.label=2;case 2:return[2,r.queuedObserver]}})})},s=function(e){if(void 0===e)throw(0,u.newError)("InvalidState: Result stream finished without Summary",u.PROTOCOL_ERROR);return!0};return{next:function(){return i(e,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:if(r.finished&&s(r.summary))return[2,{done:!0,value:r.summary}];return[4,a()];case 1:return[4,t.sent().dequeue()];case 2:return!0===(e=t.sent()).done&&(r.finished=e.done,r.summary=e.value),[2,e]}})})},return:function(t){return i(e,void 0,void 0,function(){var e,n;return o(this,function(i){switch(i.label){case 0:if(r.finished&&s(r.summary))return[2,{done:!0,value:null!=t?t:r.summary}];return null===(n=r.streaming)||void 0===n||n.cancel(),[4,a()];case 1:return[4,i.sent().dequeueUntilDone()];case 2:return e=i.sent(),r.finished=!0,e.value=null!=t?t:e.value,r.summary=e.value,[2,e]}})})},peek:function(){return i(e,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:if(r.finished&&s(r.summary))return[2,{done:!0,value:r.summary}];return[4,a()];case 1:return[4,e.sent().head()];case 2:return[2,e.sent()]}})})}}},e.prototype.then=function(e,t){return this._getOrCreatePromise().then(e,t)},e.prototype.catch=function(e){return this._getOrCreatePromise().catch(e)},e.prototype.finally=function(e){return this._getOrCreatePromise().finally(e)},e.prototype.subscribe=function(e){this._subscribe(e).catch(function(){})},e.prototype.isOpen=function(){return null===this._summary&&null===this._error},e.prototype._subscribe=function(e,t){void 0===t&&(t=!1);var r=this._decorateObserver(e);return this._streamObserverPromise.then(function(e){return t&&e.pause(),e.subscribe(r),e}).catch(function(e){return null!=r.onError&&r.onError(e),Promise.reject(e)})},e.prototype._decorateObserver=function(e){var t,r,n,i=this,o=null!==(t=e.onCompleted)&&void 0!==t?t:d,a=null!==(r=e.onError)&&void 0!==r?r:f,s=null!==(n=e.onKeys)&&void 0!==n?n:p;return{onNext:null!=e.onNext?e.onNext.bind(e):void 0,onKeys:function(t){return i._keys=t,s.call(e,t)},onCompleted:function(t){i._releaseConnectionAndGetSummary(t).then(function(t){return null!==i._summary?o.call(e,i._summary):(i._summary=t,o.call(e,t))}).catch(a)},onError:function(t){i._connectionHolder.releaseConnection().then(function(){var r;null!=(r=i._stack)&&(t.stack=t.toString()+"\n"+r),i._error=t,a.call(e,t)}).catch(a)}}},e.prototype._cancel=function(){null===this._summary&&null===this._error&&this._streamObserverPromise.then(function(e){return e.cancel()}).catch(function(){})},e.prototype._releaseConnectionAndGetSummary=function(e){var t=l.util.validateQueryAndParameters(this._query,this._parameters,{skipAsserts:!0}),r=t.validatedQuery,n=t.params,i=this._connectionHolder;return i.getConnection().then(function(e){return i.releaseConnection().then(function(){return null==e?void 0:e.getProtocolVersion()})},function(e){}).then(function(t){return new s.default(r,n,e,t)})},e.prototype._createQueuedResultObserver=function(e){var t=this;function r(){var e={};return e.promise=new Promise(function(t,r){e.resolve=t,e.reject=r}),e}function n(e){return e instanceof Error}function a(){var t;return i(this,void 0,void 0,function(){var i;return o(this,function(o){switch(o.label){case 0:if(s.length>0){if(i=null!==(t=s.shift())&&void 0!==t?t:(0,u.newError)("Unexpected empty buffer",u.PROTOCOL_ERROR),e(),n(i))throw i;return[2,i]}return l.resolvable=r(),[4,l.resolvable.promise];case 1:return[2,o.sent()]}})})}var s=[],l={resolvable:null},c={onNext:function(e){c._push({done:!1,value:e})},onCompleted:function(e){c._push({done:!0,value:e})},onError:function(e){c._push(e)},_push:function(t){if(null!==l.resolvable){var r=l.resolvable;l.resolvable=null,n(t)?r.reject(t):r.resolve(t)}else s.push(t),e()},dequeue:a,dequeueUntilDone:function(){return i(t,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return[4,a()];case 1:if(!0===(e=t.sent()).done)return[2,e];return[3,0];case 2:return[2]}})})},head:function(){return i(t,void 0,void 0,function(){var t,i;return o(this,function(o){switch(o.label){case 0:if(s.length>0){if(n(t=s[0]))throw t;return[2,t]}l.resolvable=r(),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,l.resolvable.promise];case 2:return t=o.sent(),s.unshift(t),[2,t];case 3:throw i=o.sent(),s.unshift(i),i;case 4:return e(),[7];case 5:return[2]}})})},get size(){return s.length}};return c},e}();n=Symbol.toStringTag,t.default=h},7423:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=r(63628),u=r(30225),c=r(21386),f=r(44454),d=s(r(94023)),p=r(14426),h=r(85237),y=r(98732),b=r(92074),g=s(r(87657)),m=s(r(918)),v=function(){function e(e){var t,r,n=e.mode,i=e.connectionProvider,o=e.bookmarks,a=e.database,s=e.config,l=e.reactive,u=e.fetchSize,f=e.impersonatedUser,d=e.bookmarkManager,b=e.notificationFilter,g=e.auth,m=e.log;this._mode=n,this._database=a,this._reactive=l,this._fetchSize=u,this._onDatabaseNameResolved=this._onDatabaseNameResolved.bind(this),this._getConnectionAcquistionBookmarks=this._getConnectionAcquistionBookmarks.bind(this),this._readConnectionHolder=new p.ConnectionHolder({mode:c.ACCESS_MODE_READ,auth:g,database:a,bookmarks:o,connectionProvider:i,impersonatedUser:f,onDatabaseNameResolved:this._onDatabaseNameResolved,getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks,log:m}),this._writeConnectionHolder=new p.ConnectionHolder({mode:c.ACCESS_MODE_WRITE,auth:g,database:a,bookmarks:o,connectionProvider:i,impersonatedUser:f,onDatabaseNameResolved:this._onDatabaseNameResolved,getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks,log:m}),this._open=!0,this._hasTx=!1,this._impersonatedUser=f,this._lastBookmarks=null!=o?o:y.Bookmarks.empty(),this._configuredBookmarks=this._lastBookmarks,this._transactionExecutor=(r=null!==(t=null==s?void 0:s.maxTransactionRetryTime)&&void 0!==t?t:null,new h.TransactionExecutor(r)),this._databaseNameResolved=""!==this._database;var v=this._calculateWatermaks();this._lowRecordWatermark=v.low,this._highRecordWatermark=v.high,this._results=[],this._bookmarkManager=d,this._notificationFilter=b,this._log=m}return e.prototype.run=function(e,t,r){var o=this,a=(0,u.validateQueryAndParameters)(e,t),s=a.validatedQuery,l=a.params,f=null!=r?new b.TxConfig(r,this._log):b.TxConfig.empty(),d=this._run(s,l,function(e){return n(o,void 0,void 0,function(){var t,r=this;return i(this,function(n){switch(n.label){case 0:return[4,this._bookmarks()];case 1:return t=n.sent(),this._assertSessionIsOpen(),[2,e.run(s,l,{bookmarks:t,txConfig:f,mode:this._mode,database:this._database,apiTelemetryConfig:{api:c.TELEMETRY_APIS.AUTO_COMMIT_TRANSACTION},impersonatedUser:this._impersonatedUser,afterComplete:function(e){return r._onCompleteCallback(e,t)},reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter})]}})})});return this._results.push(d),d},e.prototype._run=function(e,t,r){var n=this._acquireAndConsumeConnection(r),i=n.connectionHolder,o=n.resultPromise.catch(function(e){return Promise.resolve(new l.FailedObserver({error:e}))}),a={high:this._highRecordWatermark,low:this._lowRecordWatermark};return new d.default(o,e,t,i,a)},e.prototype._acquireConnection=function(e){var t=this,r=this._acquireAndConsumeConnection(e),o=r.connectionHolder;return r.resultPromise.then(function(e){return n(t,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,o.releaseConnection()];case 1:return t.sent(),[2,e]}})})})},e.prototype._acquireAndConsumeConnection=function(e){var t,r=this._connectionHolderWithMode(this._mode);return t=this._open?!this._hasTx&&r.initializeConnection()?r.getConnection().then(function(t){return e(t)}):Promise.reject((0,f.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")):Promise.reject((0,f.newError)("Cannot run query in a closed session.")),{connectionHolder:r,resultPromise:t}},e.prototype.beginTransaction=function(e){var t=b.TxConfig.empty();return null!=e&&(t=new b.TxConfig(e,this._log)),this._beginTransaction(this._mode,t,{api:c.TELEMETRY_APIS.UNMANAGED_TRANSACTION})},e.prototype._beginTransaction=function(t,r,n){var i=this;if(!this._open)throw(0,f.newError)("Cannot begin a transaction on a closed session.");if(this._hasTx)throw(0,f.newError)("You cannot begin a transaction on a session with an open transaction; either run from within the transaction or use a different session.");var o=e._validateSessionMode(t),a=this._connectionHolderWithMode(o);a.initializeConnection(),this._hasTx=!0;var s=new g.default({connectionHolder:a,impersonatedUser:this._impersonatedUser,onClose:this._transactionClosed.bind(this),onBookmarks:function(e,t,r){return i._updateBookmarks(e,t,r)},onConnection:this._assertSessionIsOpen.bind(this),reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter,apiTelemetryConfig:n});return s._begin(function(){return i._bookmarks()},r),s},e.prototype._assertSessionIsOpen=function(){if(!this._open)throw(0,f.newError)("You cannot run more transactions on a closed session.")},e.prototype._transactionClosed=function(){this._hasTx=!1},e.prototype.lastBookmark=function(){return this.lastBookmarks()},e.prototype.lastBookmarks=function(){return this._lastBookmarks.values()},e.prototype._bookmarks=function(){var e;return n(this,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:return[4,null===(e=this._bookmarkManager)||void 0===e?void 0:e.getBookmarks()];case 1:if(void 0===(t=r.sent()))return[2,this._lastBookmarks];return[2,new y.Bookmarks(a(a([],o(t),!1),o(this._configuredBookmarks),!1))]}})})},e.prototype.readTransaction=function(e,t){var r=new b.TxConfig(t,this._log);return this._runTransaction(c.ACCESS_MODE_READ,r,e)},e.prototype.writeTransaction=function(e,t){var r=new b.TxConfig(t,this._log);return this._runTransaction(c.ACCESS_MODE_WRITE,r,e)},e.prototype._runTransaction=function(e,t,r){var n=this;return this._transactionExecutor.execute(function(r){return n._beginTransaction(e,t,r)},r)},e.prototype.executeRead=function(e,t){var r=new b.TxConfig(t,this._log);return this._executeInTransaction(c.ACCESS_MODE_READ,r,e)},e.prototype.executeWrite=function(e,t){var r=new b.TxConfig(t,this._log);return this._executeInTransaction(c.ACCESS_MODE_WRITE,r,e)},e.prototype._executeInTransaction=function(e,t,r){var n=this;return this._transactionExecutor.execute(function(r){return n._beginTransaction(e,t,r)},r,m.default.fromTransaction)},e.prototype._onDatabaseNameResolved=function(e){if(!this._databaseNameResolved){var t=null!=e?e:"";this._database=t,this._readConnectionHolder.setDatabase(t),this._writeConnectionHolder.setDatabase(t),this._databaseNameResolved=!0}},e.prototype._getConnectionAcquistionBookmarks=function(){var e;return n(this,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:return[4,null===(e=this._bookmarkManager)||void 0===e?void 0:e.getBookmarks()];case 1:if(void 0===(t=r.sent()))return[2,this._lastBookmarks];return[2,new y.Bookmarks(a(a([],o(this._configuredBookmarks),!1),o(t),!1))]}})})},e.prototype._updateBookmarks=function(e,t,r){var n,i,o;null==e||e.isEmpty()||(null===(n=this._bookmarkManager)||void 0===n||n.updateBookmarks(null!==(i=null==t?void 0:t.values())&&void 0!==i?i:[],null!==(o=null==e?void 0:e.values())&&void 0!==o?o:[]).catch(function(){}),this._lastBookmarks=e,this._configuredBookmarks=y.Bookmarks.empty())},e.prototype.close=function(){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:if(!this._open)return[3,3];return this._open=!1,this._results.forEach(function(e){return e._cancel()}),this._transactionExecutor.close(),[4,this._readConnectionHolder.close(this._hasTx)];case 1:return e.sent(),[4,this._writeConnectionHolder.close(this._hasTx)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},e.prototype[Symbol.asyncDispose]=function(){return this.close()},e.prototype._connectionHolderWithMode=function(e){if(e===c.ACCESS_MODE_READ)return this._readConnectionHolder;if(e===c.ACCESS_MODE_WRITE)return this._writeConnectionHolder;throw(0,f.newError)("Unknown access mode: "+e)},e.prototype._onCompleteCallback=function(e,t){this._updateBookmarks(new y.Bookmarks(e.bookmark),t,e.db)},e.prototype._calculateWatermaks=function(){return this._fetchSize===c.FETCH_ALL?{low:Number.MAX_VALUE,high:Number.MAX_VALUE}:{low:.3*this._fetchSize,high:.7*this._fetchSize}},e.prototype._configureTransactionExecutor=function(e,t){this._transactionExecutor.pipelineBegin=e,this._transactionExecutor.telemetryApi=t},e._validateSessionMode=function(e){var t=null!=e?e:c.ACCESS_MODE_WRITE;if(t!==c.ACCESS_MODE_READ&&t!==c.ACCESS_MODE_WRITE)throw(0,f.newError)("Illegal session mode "+t);return t},e}();t.default=v},36783:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPoint=t.Point=void 0;var n=r(30225),i="__isPoint__",o=function(){function e(e,t,r,i){this.srid=(0,n.assertNumberOrInteger)(e,"SRID"),this.x=(0,n.assertNumber)(t,"X coordinate"),this.y=(0,n.assertNumber)(r,"Y coordinate"),this.z=null==i?i:(0,n.assertNumber)(i,"Z coordinate"),Object.freeze(this)}return e.prototype.toString=function(){return null==this.z||isNaN(this.z)?"Point{srid=".concat(a(this.srid),", x=").concat(a(this.x),", y=").concat(a(this.y),"}"):"Point{srid=".concat(a(this.srid),", x=").concat(a(this.x),", y=").concat(a(this.y),", z=").concat(a(this.z),"}")},e}();function a(e){return Number.isInteger(e)?e.toString()+".0":e.toString()}t.Point=o,Object.defineProperty(o.prototype,i,{value:!0,enumerable:!1,configurable:!1,writable:!1}),t.isPoint=function(e){return null!=e&&!0===e[i]}},22787:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.isDateTime=t.DateTime=t.isLocalDateTime=t.LocalDateTime=t.isDate=t.Date=t.isTime=t.Time=t.isLocalTime=t.LocalTime=t.isDuration=t.Duration=void 0;var s=o(r(65281)),l=r(30225),u=r(44454),c=o(r(88355)),f={value:!0,enumerable:!1,configurable:!1,writable:!1},d="__isDuration__",p="__isLocalTime__",h="__isTime__",y="__isDate__",b="__isLocalDateTime__",g="__isDateTime__",m=function(){function e(e,t,r,n){this.months=(0,l.assertNumberOrInteger)(e,"Months"),this.days=(0,l.assertNumberOrInteger)(t,"Days"),(0,l.assertNumberOrInteger)(r,"Seconds"),(0,l.assertNumberOrInteger)(n,"Nanoseconds"),this.seconds=s.normalizeSecondsForDuration(r,n),this.nanoseconds=s.normalizeNanosecondsForDuration(n),Object.freeze(this)}return e.prototype.toString=function(){return s.durationToIsoString(this.months,this.days,this.seconds,this.nanoseconds)},e}();t.Duration=m,Object.defineProperty(m.prototype,d,f),t.isDuration=function(e){return E(e,d)};var v=function(){function e(e,t,r,n){this.hour=s.assertValidHour(e),this.minute=s.assertValidMinute(t),this.second=s.assertValidSecond(r),this.nanosecond=s.assertValidNanosecond(n),Object.freeze(this)}return e.fromStandardDate=function(t,r){P(t,r);var n=s.totalNanoseconds(t,r);return new e(t.getHours(),t.getMinutes(),t.getSeconds(),n instanceof c.default?n.toInt():"bigint"==typeof n?(0,c.int)(n).toInt():n)},e.prototype.toString=function(){return s.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)},e}();t.LocalTime=v,Object.defineProperty(v.prototype,p,f),t.isLocalTime=function(e){return E(e,p)};var _=function(){function e(e,t,r,n,i){this.hour=s.assertValidHour(e),this.minute=s.assertValidMinute(t),this.second=s.assertValidSecond(r),this.nanosecond=s.assertValidNanosecond(n),this.timeZoneOffsetSeconds=(0,l.assertNumberOrInteger)(i,"Time zone offset in seconds"),Object.freeze(this)}return e.fromStandardDate=function(t,r){return P(t,r),new e(t.getHours(),t.getMinutes(),t.getSeconds(),(0,c.toNumber)(s.totalNanoseconds(t,r)),s.timeZoneOffsetInSeconds(t))},e.prototype.toString=function(){return s.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)+s.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds)},e}();t.Time=_,Object.defineProperty(_.prototype,h,f),t.isTime=function(e){return E(e,h)};var O=function(){function e(e,t,r){this.year=s.assertValidYear(e),this.month=s.assertValidMonth(t),this.day=s.assertValidDay(r),Object.freeze(this)}return e.fromStandardDate=function(t){return P(t),new e(t.getFullYear(),t.getMonth()+1,t.getDate())},e.prototype.toStandardDate=function(){return s.isoStringToStandardDate(this.toString())},e.prototype.toString=function(){return s.dateToIsoString(this.year,this.month,this.day)},e}();t.Date=O,Object.defineProperty(O.prototype,y,f),t.isDate=function(e){return E(e,y)};var w=function(){function e(e,t,r,n,i,o,a){this.year=s.assertValidYear(e),this.month=s.assertValidMonth(t),this.day=s.assertValidDay(r),this.hour=s.assertValidHour(n),this.minute=s.assertValidMinute(i),this.second=s.assertValidSecond(o),this.nanosecond=s.assertValidNanosecond(a),Object.freeze(this)}return e.fromStandardDate=function(t,r){return P(t,r),new e(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),(0,c.toNumber)(s.totalNanoseconds(t,r)))},e.prototype.toStandardDate=function(){return s.isoStringToStandardDate(this.toString())},e.prototype.toString=function(){return x(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)},e}();t.LocalDateTime=w,Object.defineProperty(w.prototype,b,f),t.isLocalDateTime=function(e){return E(e,b)};var S=function(){function e(e,t,r,n,i,o,c,f,d){this.year=s.assertValidYear(e),this.month=s.assertValidMonth(t),this.day=s.assertValidDay(r),this.hour=s.assertValidHour(n),this.minute=s.assertValidMinute(i),this.second=s.assertValidSecond(o),this.nanosecond=s.assertValidNanosecond(c);var p=a(function(e,t){var r=null!=e,n=null!=t&&""!==t;if(!r&&!n)throw(0,u.newError)("Unable to create DateTime without either time zone offset or id. Please specify either of them. Given offset: ".concat(e," and id: ").concat(t));var i=[void 0,void 0];return r&&((0,l.assertNumberOrInteger)(e,"Time zone offset in seconds"),i[0]=e),n&&((0,l.assertString)(t,"Time zone ID"),s.assertValidZoneId("Time zone ID",t),i[1]=t),i}(f,d),2),h=p[0],y=p[1];this.timeZoneOffsetSeconds=h,this.timeZoneId=null!=y?y:void 0,Object.freeze(this)}return e.fromStandardDate=function(t,r){return P(t,r),new e(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),(0,c.toNumber)(s.totalNanoseconds(t,r)),s.timeZoneOffsetInSeconds(t),null)},e.prototype.toStandardDate=function(){return s.toStandardDate(this._toUTC())},e.prototype.toString=function(){var e;return x(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)+(null!=this.timeZoneOffsetSeconds?s.timeZoneOffsetToIsoString(null!==(e=this.timeZoneOffsetSeconds)&&void 0!==e?e:0):"")+(null!=this.timeZoneId?"[".concat(this.timeZoneId,"]"):"")},e.prototype._toUTC=function(){if(void 0===this.timeZoneOffsetSeconds)throw Error("Requires DateTime created with time zone offset");var e,t=s.localDateTimeToEpochSecond(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond).subtract(null!==(e=this.timeZoneOffsetSeconds)&&void 0!==e?e:0);return(0,c.int)(t).multiply(1e3).add((0,c.int)(this.nanosecond).div(1e6)).toNumber()},e}();function E(e,t){return null!=e&&!0===e[t]}function x(e,t,r,n,i,o,a){return s.dateToIsoString(e,t,r)+"T"+s.timeToIsoString(n,i,o,a)}function P(e,t){(0,l.assertValidDate)(e,"Standard date"),null!=t&&(0,l.assertNumberOrInteger)(t,"Nanosecond")}t.DateTime=S,Object.defineProperty(S.prototype,g,f),t.isDateTime=function(e){return E(e,g)}},918:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=e.run;this._run=t}return e.fromTransaction=function(t){return new e({run:t.run.bind(t)})},e.prototype.run=function(e,t){return this._run(e,t)},e}();t.default=r},87657:function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){function t(t){var r=t.connectionHolder,n=t.onClose,o=t.onBookmarks,a=t.onConnection,s=t.reactive,l=t.fetchSize,u=t.impersonatedUser,c=t.highRecordWatermark,f=t.lowRecordWatermark,d=t.notificationFilter,p=t.apiTelemetryConfig,h=e.call(this,{connectionHolder:r,onClose:n,onBookmarks:o,onConnection:a,reactive:s,fetchSize:l,impersonatedUser:u,highRecordWatermark:c,lowRecordWatermark:f,notificationFilter:d,apiTelemetryConfig:p})||this;return h[i]="TransactionPromise",h}return o(t,e),t.prototype.then=function(e,t){return this._getOrCreateBeginPromise().then(e,t)},t.prototype.catch=function(e){return this._getOrCreateBeginPromise().catch(e)},t.prototype.finally=function(e){return this._getOrCreateBeginPromise().finally(e)},t.prototype._getOrCreateBeginPromise=function(){var e=this;return null==this._beginPromise&&(this._beginPromise=new Promise(function(t,r){e._resolve=t,e._reject=r,null!=e._beginError&&r(e._beginError),null!=e._beginMetadata&&t(e._toTransaction())})),this._beginPromise},t.prototype._toTransaction=function(){return a(a({},this),{run:e.prototype.run.bind(this),commit:e.prototype.commit.bind(this),rollback:e.prototype.rollback.bind(this),close:e.prototype.close.bind(this),isOpen:e.prototype.isOpen.bind(this),_begin:this._begin.bind(this)})},t.prototype._begin=function(t,r){return e.prototype._begin.call(this,t,r,{onError:this._onBeginError.bind(this),onComplete:this._onBeginMetadata.bind(this)})},t.prototype._onBeginError=function(e){this._beginError=e,null!=this._reject&&this._reject(e)},t.prototype._onBeginMetadata=function(e){this._beginMetadata=null!=e?e:{},null!=this._resolve&&this._resolve(this._toTransaction())},t}(s(r(6139)).default);i=Symbol.toStringTag,t.default=l},6139:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(30225),s=r(14426),l=r(98732),u=r(92074),c=r(63628),f=r(44454),d=o(r(94023)),p=function(){function e(e){var t=e.connectionHolder,r=e.onClose,n=e.onBookmarks,i=e.onConnection,o=e.reactive,a=e.fetchSize,s=e.impersonatedUser,u=e.highRecordWatermark,c=e.lowRecordWatermark,f=e.notificationFilter,d=e.apiTelemetryConfig,p=this;this._connectionHolder=t,this._reactive=o,this._state=h.ACTIVE,this._onClose=r,this._onBookmarks=n,this._onConnection=i,this._onError=this._onErrorCallback.bind(this),this._fetchSize=a,this._onComplete=this._onCompleteCallback.bind(this),this._results=[],this._impersonatedUser=s,this._lowRecordWatermak=c,this._highRecordWatermark=u,this._bookmarks=l.Bookmarks.empty(),this._notificationFilter=f,this._apiTelemetryConfig=d,this._acceptActive=function(){},this._activePromise=new Promise(function(e,t){p._acceptActive=e})}return e.prototype._begin=function(e,t,r){var o=this;this._connectionHolder.getConnection().then(function(a){return n(o,void 0,void 0,function(){var n,o=this;return i(this,function(i){switch(i.label){case 0:if(this._onConnection(),!(null!=a))return[3,2];return n=this,[4,e()];case 1:return n._bookmarks=i.sent(),[2,a.beginTransaction({bookmarks:this._bookmarks,txConfig:t,mode:this._connectionHolder.mode(),database:this._connectionHolder.database(),impersonatedUser:this._impersonatedUser,notificationFilter:this._notificationFilter,apiTelemetryConfig:this._apiTelemetryConfig,beforeError:function(e){null!=r&&r.onError(e),o._onError(e).catch(function(){})},afterComplete:function(e){null!=r&&r.onComplete(e),o._onComplete(e)}})];case 2:throw(0,f.newError)("No connection available")}})})}).catch(function(e){null!=r&&r.onError(e),o._onError(e).catch(function(){})}).finally(function(){return o._acceptActive()})},e.prototype.run=function(e,t){var r=(0,a.validateQueryAndParameters)(e,t),n=r.validatedQuery,i=r.params,o=this._state.run(n,i,{connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,reactive:this._reactive,fetchSize:this._fetchSize,highRecordWatermark:this._highRecordWatermark,lowRecordWatermark:this._lowRecordWatermak,preparationJob:this._activePromise});return this._results.push(o),o},e.prototype.commit=function(){var e=this,t=this._state.commit({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:function(t){return e._onCompleteCallback(t,e._bookmarks)},onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=t.state,this._onClose(),new Promise(function(e,r){t.result.subscribe({onCompleted:function(){return e()},onError:function(e){return r(e)}})})},e.prototype.rollback=function(){var e=this._state.rollback({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=e.state,this._onClose(),new Promise(function(t,r){e.result.subscribe({onCompleted:function(){return t()},onError:function(e){return r(e)}})})},e.prototype.isOpen=function(){return this._state===h.ACTIVE},e.prototype.close=function(){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:if(!this.isOpen())return[3,2];return[4,this.rollback()];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype[Symbol.asyncDispose]=function(){return this.close()},e.prototype._onErrorCallback=function(e){return this._state===h.FAILED?Promise.resolve(null):(this._state=h.FAILED,this._onClose(),this._results.forEach(function(t){t.isOpen()&&t._streamObserverPromise.then(function(t){return t.onError(e)}).catch(function(e){})}),this._connectionHolder.releaseConnection())},e.prototype._onCompleteCallback=function(e,t){this._onBookmarks(new l.Bookmarks(null==e?void 0:e.bookmark),null!=t?t:l.Bookmarks.empty(),null==e?void 0:e.db)},e}(),h={ACTIVE:{commit:function(e){return{result:y(!0,e.connectionHolder,e.onError,e.onComplete,e.onConnection,e.pendingResults,e.preparationJob),state:h.SUCCEEDED}},rollback:function(e){return{result:y(!1,e.connectionHolder,e.onError,e.onComplete,e.onConnection,e.pendingResults,e.preparationJob),state:h.ROLLED_BACK}},run:function(e,t,r){var n=r.connectionHolder,i=r.onError,o=r.onComplete,a=r.onConnection,s=r.reactive,d=r.fetchSize,p=r.highRecordWatermark,h=r.lowRecordWatermark,y=r.preparationJob,g=null!=y?y:Promise.resolve();return b(n.getConnection().then(function(e){return g.then(function(){return e})}).then(function(r){if(a(),null!=r)return r.run(e,t,{bookmarks:l.Bookmarks.empty(),txConfig:u.TxConfig.empty(),beforeError:i,afterComplete:o,reactive:s,fetchSize:d,highRecordWatermark:p,lowRecordWatermark:h});throw(0,f.newError)("No connection available")}).catch(function(e){return new c.FailedObserver({error:e,onError:i})}),e,t,n,p,h)}},FAILED:{commit:function(e){var t=e.connectionHolder,r=e.onError;return e.onComplete,{result:b(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has been rolled back either because of an error or explicit termination."),onError:r}),"COMMIT",{},t,0,0),state:h.FAILED}},rollback:function(e){var t=e.connectionHolder;return e.onError,e.onComplete,{result:b(new c.CompletedObserver,"ROLLBACK",{},t,0,0),state:h.FAILED}},run:function(e,t,r){var n=r.connectionHolder,i=r.onError;return r.onComplete,b(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has been rolled back either because of an error or explicit termination."),onError:i}),e,t,n,0,0)}},SUCCEEDED:{commit:function(e){var t=e.connectionHolder,r=e.onError;return e.onComplete,{result:b(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has already been committed."),onError:r}),"COMMIT",{},s.EMPTY_CONNECTION_HOLDER,0,0),state:h.SUCCEEDED,connectionHolder:t}},rollback:function(e){var t=e.connectionHolder,r=e.onError;return e.onComplete,{result:b(new c.FailedObserver({error:(0,f.newError)("Cannot rollback this transaction, because it has already been committed."),onError:r}),"ROLLBACK",{},s.EMPTY_CONNECTION_HOLDER,0,0),state:h.SUCCEEDED,connectionHolder:t}},run:function(e,t,r){var n=r.connectionHolder,i=r.onError;return r.onComplete,b(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has already been committed."),onError:i}),e,t,n,0,0)}},ROLLED_BACK:{commit:function(e){var t=e.connectionHolder,r=e.onError;return e.onComplete,{result:b(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has already been rolled back."),onError:r}),"COMMIT",{},t,0,0),state:h.ROLLED_BACK}},rollback:function(e){var t=e.connectionHolder;return e.onError,e.onComplete,{result:b(new c.FailedObserver({error:(0,f.newError)("Cannot rollback this transaction, because it has already been rolled back.")}),"ROLLBACK",{},t,0,0),state:h.ROLLED_BACK}},run:function(e,t,r){var n=r.connectionHolder,i=r.onError;return r.onComplete,b(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has already been rolled back."),onError:i}),e,t,n,0,0)}}};function y(e,t,r,n,i,o,a){var s=null!=a?a:Promise.resolve(),l=t.getConnection().then(function(e){return s.then(function(){return e})}).then(function(t){return i(),o.forEach(function(e){return e._cancel()}),Promise.all(o.map(function(e){return e.summary()})).then(function(i){if(null!=t)return e?t.commitTransaction({beforeError:r,afterComplete:n}):t.rollbackTransaction({beforeError:r,afterComplete:n});throw(0,f.newError)("No connection available")})}).catch(function(e){return new c.FailedObserver({error:e,onError:r})});return new d.default(l,e?"COMMIT":"ROLLBACK",{},t,{high:Number.MAX_VALUE,low:Number.MAX_VALUE})}function b(e,t,r,n,i,o){return void 0===n&&(n=s.EMPTY_CONNECTION_HOLDER),new d.default(Promise.resolve(e),t,r,new s.ReadOnlyConnectionHolder(null!=n?n:s.EMPTY_CONNECTION_HOLDER),{low:o,high:i})}t.default=p},47124:function(e,t){"use strict";var r,n=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.InternalConfig=t.Config=void 0;var i=function(){this.encrypted=void 0,this.trust=void 0,this.trustedCertificates=[],this.maxConnectionPoolSize=100,this.maxConnectionLifetime=36e5,this.connectionAcquisitionTimeout=6e4,this.maxTransactionRetryTime=3e4,this.connectionLivenessCheckTimeout=void 0,this.connectionTimeout=3e4,this.disableLosslessIntegers=!1,this.useBigInt=!1,this.logging=void 0,this.resolver=void 0,this.notificationFilter=void 0,this.userAgent=void 0,this.telemetryDisabled=!1,this.clientCertificate=void 0};t.Config=i;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(i);t.InternalConfig=o},66424:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WRITE=t.READ=t.Driver=void 0;var a=r(56214),s=o(r(75502)),l=a.internal.constants.FETCH_ALL,u=a.driver.READ,c=a.driver.WRITE;t.READ=u,t.WRITE=c;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.rxSession=function(e){var t=void 0===e?{}:e,r=t.defaultAccessMode,n=void 0===r?c:r,i=t.bookmarks,o=t.database,a=t.fetchSize,u=t.impersonatedUser,f=t.bookmarkManager,d=t.notificationFilter,p=t.auth;return new s.default({session:this._newSession({defaultAccessMode:n,bookmarkOrBookmarks:i,database:void 0===o?"":o,impersonatedUser:u,auth:p,reactive:!1,fetchSize:function(e,t){var r=parseInt(e,10);if(r>0||r===l)return r;if(0!==r&&!(r<0))return t;throw Error("The fetch size can only be a positive value or ".concat(l," for ALL. However fetchSize = ").concat(r))}(a,this._config.fetchSize),bookmarkManager:f,notificationFilter:d,log:this._log}),config:this._config,log:this._log})},t}(a.Driver);t.Driver=f,t.default=f},24397:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UnboundRelationship=t.Relationship=t.Node=t.Record=t.ServerInfo=t.GqlStatusObject=t.Notification=t.QueryStatistics=t.ProfiledPlan=t.Plan=t.ResultSummary=t.RxResult=t.RxManagedTransaction=t.RxTransaction=t.RxSession=t.EagerResult=t.Result=t.ManagedTransaction=t.Transaction=t.Session=t.Driver=t.temporal=t.spatial=t.graph=t.error=t.routing=t.session=t.types=t.logging=t.auth=t.isRetryableError=t.Neo4jError=t.integer=t.isUnboundRelationship=t.isRelationship=t.isPathSegment=t.isPath=t.isNode=t.isDateTime=t.isLocalDateTime=t.isDate=t.isTime=t.isLocalTime=t.isDuration=t.isPoint=t.isInt=t.int=t.hasReachableServer=t.driver=t.authTokenManagers=void 0,t.clientCertificateProviders=t.notificationFilterMinimumSeverityLevel=t.notificationFilterDisabledClassification=t.notificationFilterDisabledCategory=t.notificationSeverityLevel=t.notificationClassification=t.notificationCategory=t.resultTransformers=t.bookmarkManager=t.DateTime=t.LocalDateTime=t.Date=t.Time=t.LocalTime=t.Duration=t.Integer=t.Point=t.PathSegment=t.Path=void 0;var a=r(66424);Object.defineProperty(t,"Driver",{enumerable:!0,get:function(){return a.Driver}});var s=o(r(85095)),l=r(56214);Object.defineProperty(t,"authTokenManagers",{enumerable:!0,get:function(){return l.authTokenManagers}}),Object.defineProperty(t,"Neo4jError",{enumerable:!0,get:function(){return l.Neo4jError}}),Object.defineProperty(t,"isRetryableError",{enumerable:!0,get:function(){return l.isRetryableError}}),Object.defineProperty(t,"error",{enumerable:!0,get:function(){return l.error}}),Object.defineProperty(t,"Integer",{enumerable:!0,get:function(){return l.Integer}}),Object.defineProperty(t,"int",{enumerable:!0,get:function(){return l.int}}),Object.defineProperty(t,"isInt",{enumerable:!0,get:function(){return l.isInt}}),Object.defineProperty(t,"isPoint",{enumerable:!0,get:function(){return l.isPoint}}),Object.defineProperty(t,"Point",{enumerable:!0,get:function(){return l.Point}}),Object.defineProperty(t,"Date",{enumerable:!0,get:function(){return l.Date}}),Object.defineProperty(t,"DateTime",{enumerable:!0,get:function(){return l.DateTime}}),Object.defineProperty(t,"Duration",{enumerable:!0,get:function(){return l.Duration}}),Object.defineProperty(t,"isDate",{enumerable:!0,get:function(){return l.isDate}}),Object.defineProperty(t,"isDateTime",{enumerable:!0,get:function(){return l.isDateTime}}),Object.defineProperty(t,"isDuration",{enumerable:!0,get:function(){return l.isDuration}}),Object.defineProperty(t,"isLocalDateTime",{enumerable:!0,get:function(){return l.isLocalDateTime}}),Object.defineProperty(t,"isLocalTime",{enumerable:!0,get:function(){return l.isLocalTime}}),Object.defineProperty(t,"isNode",{enumerable:!0,get:function(){return l.isNode}}),Object.defineProperty(t,"isPath",{enumerable:!0,get:function(){return l.isPath}}),Object.defineProperty(t,"isPathSegment",{enumerable:!0,get:function(){return l.isPathSegment}}),Object.defineProperty(t,"isRelationship",{enumerable:!0,get:function(){return l.isRelationship}}),Object.defineProperty(t,"isTime",{enumerable:!0,get:function(){return l.isTime}}),Object.defineProperty(t,"isUnboundRelationship",{enumerable:!0,get:function(){return l.isUnboundRelationship}}),Object.defineProperty(t,"LocalDateTime",{enumerable:!0,get:function(){return l.LocalDateTime}}),Object.defineProperty(t,"LocalTime",{enumerable:!0,get:function(){return l.LocalTime}}),Object.defineProperty(t,"Time",{enumerable:!0,get:function(){return l.Time}}),Object.defineProperty(t,"Node",{enumerable:!0,get:function(){return l.Node}}),Object.defineProperty(t,"Path",{enumerable:!0,get:function(){return l.Path}}),Object.defineProperty(t,"PathSegment",{enumerable:!0,get:function(){return l.PathSegment}}),Object.defineProperty(t,"Relationship",{enumerable:!0,get:function(){return l.Relationship}}),Object.defineProperty(t,"UnboundRelationship",{enumerable:!0,get:function(){return l.UnboundRelationship}}),Object.defineProperty(t,"Record",{enumerable:!0,get:function(){return l.Record}}),Object.defineProperty(t,"ResultSummary",{enumerable:!0,get:function(){return l.ResultSummary}}),Object.defineProperty(t,"Plan",{enumerable:!0,get:function(){return l.Plan}}),Object.defineProperty(t,"ProfiledPlan",{enumerable:!0,get:function(){return l.ProfiledPlan}}),Object.defineProperty(t,"QueryStatistics",{enumerable:!0,get:function(){return l.QueryStatistics}}),Object.defineProperty(t,"Notification",{enumerable:!0,get:function(){return l.Notification}}),Object.defineProperty(t,"GqlStatusObject",{enumerable:!0,get:function(){return l.GqlStatusObject}}),Object.defineProperty(t,"ServerInfo",{enumerable:!0,get:function(){return l.ServerInfo}}),Object.defineProperty(t,"Result",{enumerable:!0,get:function(){return l.Result}}),Object.defineProperty(t,"EagerResult",{enumerable:!0,get:function(){return l.EagerResult}}),Object.defineProperty(t,"auth",{enumerable:!0,get:function(){return l.auth}}),Object.defineProperty(t,"Session",{enumerable:!0,get:function(){return l.Session}}),Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return l.Transaction}}),Object.defineProperty(t,"ManagedTransaction",{enumerable:!0,get:function(){return l.ManagedTransaction}}),Object.defineProperty(t,"bookmarkManager",{enumerable:!0,get:function(){return l.bookmarkManager}}),Object.defineProperty(t,"routing",{enumerable:!0,get:function(){return l.routing}}),Object.defineProperty(t,"resultTransformers",{enumerable:!0,get:function(){return l.resultTransformers}}),Object.defineProperty(t,"notificationCategory",{enumerable:!0,get:function(){return l.notificationCategory}}),Object.defineProperty(t,"notificationClassification",{enumerable:!0,get:function(){return l.notificationClassification}}),Object.defineProperty(t,"notificationSeverityLevel",{enumerable:!0,get:function(){return l.notificationSeverityLevel}}),Object.defineProperty(t,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return l.notificationFilterDisabledCategory}}),Object.defineProperty(t,"notificationFilterDisabledClassification",{enumerable:!0,get:function(){return l.notificationFilterDisabledClassification}}),Object.defineProperty(t,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return l.notificationFilterMinimumSeverityLevel}}),Object.defineProperty(t,"clientCertificateProviders",{enumerable:!0,get:function(){return l.clientCertificateProviders}});var u=r(58135),c=o(r(75502));t.RxSession=c.default;var f=o(r(73165));t.RxTransaction=f.default;var d=o(r(25971));t.RxManagedTransaction=d.default;var p=o(r(20412));t.RxResult=p.default;var h=l.internal.util,y=h.ENCRYPTION_ON,b=h.assertString,g=h.isEmptyObjectOrNull,m=l.internal.serverAddress.ServerAddress,v=l.internal.urlUtil,_="neo4j-javascript/"+s.default;function O(e,t,r){void 0===r&&(r={}),b(e,"Bolt URL");var n,i=v.parseDatabaseUrl(e),o=!1,c=!1;switch(i.scheme){case"bolt":break;case"bolt+s":c=!0,n="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES";break;case"bolt+ssc":c=!0,n="TRUST_ALL_CERTIFICATES";break;case"neo4j":o=!0;break;case"neo4j+s":c=!0,n="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES",o=!0;break;case"neo4j+ssc":c=!0,n="TRUST_ALL_CERTIFICATES",o=!0;break;default:throw Error("Unknown scheme: ".concat(i.scheme))}if(c){if("encrypted"in r||"trust"in r)throw Error("Encryption/trust can only be configured either through URL or config, not both");r.encrypted=y,r.trust=n,r.clientCertificate=(0,l.resolveCertificateProvider)(r.clientCertificate)}var f=function(e){if("object"==typeof e&&null!=e&&"getToken"in e&&"handleSecurityException"in e&&"function"==typeof e.getToken&&"function"==typeof e.handleSecurityException)return e;var t=e;return(t=t||{}).scheme=t.scheme||"none",(0,l.staticAuthTokenManager)({authToken:t})}(t);r.userAgent=r.userAgent||_,r.boltAgent=l.internal.boltAgent.fromVersion(s.default);var d=m.fromUrl(i.hostAndPort),p={address:d,typename:o?"Routing":"Direct",routing:o};return new a.Driver(p,r,function(){if(o)return function(e,t,r,n){return new u.RoutingConnectionProvider({id:e,config:t,log:r,hostNameResolver:n,authTokenManager:f,address:d,userAgent:t.userAgent,boltAgent:t.boltAgent,routingContext:i.query})};if(!g(i.query))throw Error("Parameters are not supported with none routed scheme. Given URL: '".concat(e,"'"));return function(e,t,r){return new u.DirectConnectionProvider({id:e,config:t,log:r,authTokenManager:f,address:d,userAgent:t.userAgent,boltAgent:t.boltAgent})}}())}function w(e,t){return n(this,void 0,void 0,function(){var r;return i(this,function(n){switch(n.label){case 0:r=O(e,{scheme:"none",principal:"",credentials:""},t),n.label=1;case 1:return n.trys.push([1,,3,5]),[4,r.getNegotiatedProtocolVersion()];case 2:return n.sent(),[2,!0];case 3:return[4,r.close()];case 4:return n.sent(),[7];case 5:return[2]}})})}t.driver=O,t.hasReachableServer=w;var S={console:function(e){return{level:e,logger:function(e,t){return console.log("".concat(r.g.Date.now()," ").concat(e.toUpperCase()," ").concat(t))}}}};t.logging=S;var E={Node:l.Node,Relationship:l.Relationship,UnboundRelationship:l.UnboundRelationship,PathSegment:l.PathSegment,Path:l.Path,Result:l.Result,EagerResult:l.EagerResult,ResultSummary:l.ResultSummary,Record:l.Record,Point:l.Point,Date:l.Date,DateTime:l.DateTime,Duration:l.Duration,LocalDateTime:l.LocalDateTime,LocalTime:l.LocalTime,Time:l.Time,Integer:l.Integer};t.types=E;var x={READ:a.READ,WRITE:a.WRITE};t.session=x;var P={toNumber:l.toNumber,toString:l.toString,inSafeRange:l.inSafeRange};t.integer=P;var j={isPoint:l.isPoint};t.spatial=j;var T={isDuration:l.isDuration,isLocalTime:l.isLocalTime,isTime:l.isTime,isDate:l.isDate,isLocalDateTime:l.isLocalDateTime,isDateTime:l.isDateTime};t.temporal=T;var k={isNode:l.isNode,isPath:l.isPath,isPathSegment:l.isPathSegment,isRelationship:l.isRelationship,isUnboundRelationship:l.isUnboundRelationship};t.graph=k;var C={authTokenManagers:l.authTokenManagers,driver:O,hasReachableServer:w,int:l.int,isInt:l.isInt,isPoint:l.isPoint,isDuration:l.isDuration,isLocalTime:l.isLocalTime,isTime:l.isTime,isDate:l.isDate,isLocalDateTime:l.isLocalDateTime,isDateTime:l.isDateTime,isNode:l.isNode,isPath:l.isPath,isPathSegment:l.isPathSegment,isRelationship:l.isRelationship,isUnboundRelationship:l.isUnboundRelationship,integer:P,Neo4jError:l.Neo4jError,isRetryableError:l.isRetryableError,auth:l.auth,logging:S,types:E,session:x,routing:l.routing,error:l.error,graph:k,spatial:j,temporal:T,Driver:a.Driver,Session:l.Session,Transaction:l.Transaction,ManagedTransaction:l.ManagedTransaction,Result:l.Result,EagerResult:l.EagerResult,RxSession:c.default,RxTransaction:f.default,RxManagedTransaction:d.default,RxResult:p.default,ResultSummary:l.ResultSummary,Plan:l.Plan,ProfiledPlan:l.ProfiledPlan,QueryStatistics:l.QueryStatistics,Notification:l.Notification,GqlStatusObject:l.GqlStatusObject,ServerInfo:l.ServerInfo,Record:l.Record,Node:l.Node,Relationship:l.Relationship,UnboundRelationship:l.UnboundRelationship,Path:l.Path,PathSegment:l.PathSegment,Point:l.Point,Integer:l.Integer,Duration:l.Duration,LocalTime:l.LocalTime,Time:l.Time,Date:l.Date,LocalDateTime:l.LocalDateTime,DateTime:l.DateTime,bookmarkManager:l.bookmarkManager,resultTransformers:l.resultTransformers,notificationCategory:l.notificationCategory,notificationSeverityLevel:l.notificationSeverityLevel,notificationFilterDisabledCategory:l.notificationFilterDisabledCategory,notificationFilterMinimumSeverityLevel:l.notificationFilterMinimumSeverityLevel,clientCertificateProviders:l.clientCertificateProviders};t.default=C},30544:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(56214),i=r(4988),o=r(44627);n.internal.logger.Logger;var a=n.error.SERVICE_UNAVAILABLE,s=function(){function e(e){var t=void 0===e?{}:e,r=t.maxRetryTimeout,n=t.initialDelay,i=t.delayMultiplier,o=t.delayJitter,a=t.logger;this._maxRetryTimeout=l(void 0===r?3e4:r,3e4),this._initialDelay=l(void 0===n?1e3:n,1e3),this._delayMultiplier=l(void 0===i?2:i,2),this._delayJitter=l(void 0===o?.2:o,.2),this._logger=void 0===a?null:a}return e.prototype.retry=function(e){var t=this;return e.pipe((0,o.retryWhen)(function(e){var r=[],s=Date.now(),l=1,u=t._initialDelay;return e.pipe((0,o.mergeMap)(function(e){if(!(0,n.isRetriableError)(e))return(0,i.throwError)(function(){return e});if(r.push(e),l>=2&&Date.now()-s>=t._maxRetryTimeout){var c=(0,n.newError)("Failed after retried for ".concat(l," times in ").concat(t._maxRetryTimeout," ms. Make sure that your database is online and retry again."),a);return c.seenErrors=r,(0,i.throwError)(function(){return c})}var f=t._computeNextDelay(u);return u*=t._delayMultiplier,l++,t._logger&&t._logger.warn("Transaction failed and will be retried in ".concat(f)),(0,i.of)(1).pipe((0,o.delay)(f))}))}))},e.prototype._computeNextDelay=function(e){var t=e*this._delayJitter;return e-t+2*t*Math.random()},e}();function l(e,t){return e||0===e?e:t}t.default=s},20412:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(56214),a=r(4988),s=r(44627),l={READY:0,STREAMING:1,COMPLETED:2},u=function(){function e(e,t){var r=e.pipe((0,s.publishReplay)(1),(0,s.refCount)());this._result=r,this._keys=r.pipe((0,s.mergeMap)(function(e){return(0,a.from)(e.keys())}),(0,s.publishReplay)(1),(0,s.refCount)()),this._records=void 0,this._controls=new c,this._summary=new a.ReplaySubject,this._state=t||l.READY}return e.prototype.keys=function(){return this._keys},e.prototype.records=function(){var e=this,t=this._result.pipe((0,s.mergeMap)(function(t){return new a.Observable(function(r){return e._startStreaming({result:t,recordsObserver:r})})}));return t.push=function(){return e._push()},t},e.prototype.consume=function(){var e=this;return this._result.pipe((0,s.mergeMap)(function(t){return new a.Observable(function(r){return e._startStreaming({result:t,summaryObserver:r})})}))},e.prototype.pause=function(){this._controls.pause()},e.prototype.resume=function(){return this._controls.resume()},e.prototype.push=function(){return this._controls.push()},e.prototype._startStreaming=function(e){var t=void 0===e?{}:e,r=t.result,n=t.recordsObserver,i=void 0===n?null:n,a=t.summaryObserver,s=void 0===a?null:a,u=[];return s&&u.push(this._summary.subscribe(s)),this._state<l.STREAMING?(this._state=l.STREAMING,this._setupRecordsStream(r),i?u.push(this._records.subscribe(i)):r._cancel(),u.push({unsubscribe:function(){r._cancel&&r._cancel()}})):i&&i.error((0,o.newError)("Streaming has already started/consumed with a previous records or summary subscription.")),function(){u.forEach(function(e){return e.unsubscribe()})}},e.prototype._toObservable=function(){var t=this;return new a.Observable(function(r){t._result.subscribe({complete:function(){return r.complete()},next:function(n){return r.next(new e(new a.Observable(function(e){e.next(n),e.complete()})),t._state)},error:function(e){return r.error(e)}})})},e.prototype._setupRecordsStream=function(e){var t=this;return this._records||(this._records=function(e,t,r){var o=this;void 0===r&&(r=new c);var s=new a.Subject,l=function(a){return n(o,void 0,void 0,function(){var n,o,u,c;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),r.pushing=!0,[4,a];case 1:return o=(n=i.sent()).done,u=n.value,o?(s.complete(),t.complete()):(s.next(u),r.paused||l(e.next()).catch(function(){})),[3,4];case 2:return c=i.sent(),s.error(c),t.error(c),[3,4];case 3:return r.pushing=!1,[7];case 4:return[2]}})})};function u(t){return n(this,void 0,void 0,function(){return i(this,function(r){switch(r.label){case 0:return[4,l(e.next(t))];case 1:return r.sent(),[2]}})})}return r.pusher=u,u(),s}(e[Symbol.asyncIterator](),{complete:function(){return n(t,void 0,void 0,function(){var t,r;return i(this,function(n){switch(n.label){case 0:return this._state=l.COMPLETED,r=(t=this._summary).next,[4,e.summary()];case 1:return r.apply(t,[n.sent()]),this._summary.complete(),[2]}})})},error:function(e){t._state=l.COMPLETED,t._summary.error(e)}},this._controls)),this._records},e}();t.default=u;var c=function(){function e(e){void 0===e&&(e=function(){return n(t,void 0,void 0,function(){return i(this,function(e){return[2]})})});var t=this;this._paused=!1,this._pushing=!1,this._push=e}return e.prototype.pause=function(){this._paused=!0},Object.defineProperty(e.prototype,"paused",{get:function(){return this._paused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pushing",{get:function(){return this._pushing},set:function(e){this._pushing=e},enumerable:!1,configurable:!0}),e.prototype.resume=function(){return n(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:if(e=this._paused,this._paused=!1,!(e&&!this._pushing))return[3,2];return[4,this._push()];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.push=function(){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return this.pause(),[4,this._push()];case 1:return[2,e.sent()]}})})},Object.defineProperty(e.prototype,"pusher",{get:function(){return this._push},set:function(e){this._push=e},enumerable:!1,configurable:!0}),e}()},75502:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(4988),o=r(44627),a=n(r(20412)),s=r(56214),l=n(r(73165)),u=n(r(25971)),c=n(r(30544)),f=s.internal.constants,d=f.ACCESS_MODE_READ,p=f.ACCESS_MODE_WRITE,h=f.TELEMETRY_APIS,y=s.internal.txConfig.TxConfig,b=function(){function e(e){var t,r=void 0===e?{}:e,n=r.session,i=r.config,o=r.log;this._session=n,this._retryLogic=(t=i&&i.maxTransactionRetryTime?i.maxTransactionRetryTime:null,new c.default({maxRetryTimeout:t})),this._log=o}return e.prototype.run=function(e,t,r){var n=this;return new a.default(new i.Observable(function(i){try{i.next(n._session.run(e,t,r)),i.complete()}catch(e){i.error(e)}return function(){}}))},e.prototype.beginTransaction=function(e){return this._beginTransaction(this._session._mode,e,{api:h.UNMANAGED_TRANSACTION})},e.prototype.readTransaction=function(e,t){return this._runTransaction(d,e,t)},e.prototype.writeTransaction=function(e,t){return this._runTransaction(p,e,t)},e.prototype.executeRead=function(e,t){return this._executeInTransaction(d,e,t)},e.prototype.executeWrite=function(e,t){return this._executeInTransaction(p,e,t)},e.prototype._executeInTransaction=function(e,t,r){return this._runTransaction(e,t,r,function(e){return new u.default({run:e.run.bind(e)})})},e.prototype.close=function(){var e=this;return new i.Observable(function(t){e._session.close().then(function(){t.complete()}).catch(function(e){return t.error(e)})})},e.prototype[Symbol.asyncDispose]=function(){return this.close()},e.prototype.lastBookmark=function(){return this.lastBookmarks()},e.prototype.lastBookmarks=function(){return this._session.lastBookmarks()},e.prototype._beginTransaction=function(e,t,r){var n=this,o=y.empty();return t&&(o=new y(t,this._log)),new i.Observable(function(t){try{n._session._beginTransaction(e,o,r).then(function(e){t.next(new l.default(e)),t.complete()}).catch(function(e){return t.error(e)})}catch(e){t.error(e)}return function(){}})},e.prototype._runTransaction=function(e,t,r,n){var a=this;void 0===n&&(n=function(e){return e});var s=y.empty();r&&(s=new y(r));var l={apiTelemetryConfig:{api:h.MANAGED_TRANSACTION,onTelemetrySuccess:function(){l.apiTelemetryConfig=void 0}}};return this._retryLogic.retry((0,i.of)(1).pipe((0,o.mergeMap)(function(){return a._beginTransaction(e,s,l.apiTelemetryConfig)}),(0,o.mergeMap)(function(e){return(0,i.defer)(function(){try{return t(n(e))}catch(e){return(0,i.throwError)(function(){return e})}}).pipe((0,o.catchError)(function(t){return e.rollback().pipe((0,o.concatWith)((0,i.throwError)(function(){return t})))}),(0,o.concatWith)(e.commit()))})))},e}();t.default=b},25971:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(r(20412)),n(r(73165));var i=function(){function e(e){var t=e.run;this._run=t}return e.fromTransaction=function(t){return new e({run:t.run.bind(t)})},e.prototype.run=function(e,t){return this._run(e,t)},e}();t.default=i},73165:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(4988),o=n(r(20412));n(r(56214));var a=function(){function e(e){this._txc=e}return e.prototype.run=function(e,t){var r=this;return new o.default(new i.Observable(function(n){try{n.next(r._txc.run(e,t)),n.complete()}catch(e){n.error(e)}return function(){}}))},e.prototype.commit=function(){var e=this;return new i.Observable(function(t){e._txc.commit().then(function(){t.complete()}).catch(function(e){return t.error(e)})})},e.prototype.rollback=function(){var e=this;return new i.Observable(function(t){e._txc.rollback().then(function(){t.complete()}).catch(function(e){return t.error(e)})})},e.prototype.isOpen=function(){return this._txc.isOpen()},e.prototype.close=function(){var e=this;return new i.Observable(function(t){e._txc.close().then(function(){t.complete()}).catch(function(e){return t.error(e)})})},e}();t.default=a},85095:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="5.25.0"},7461:(e,t,r)=>{"use strict";let n;let{SymbolDispose:i}=r(41795),{AbortError:o,codes:a}=r(46809),{isNodeStream:s,isWebStream:l,kControllerErrorFunction:u}=r(72171),c=r(57159),{ERR_INVALID_ARG_TYPE:f}=a,d=(e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new f(t,"AbortSignal",e)};e.exports.addAbortSignal=function(t,r){if(d(t,"signal"),!s(r)&&!l(r))throw new f("stream",["ReadableStream","WritableStream","Stream"],r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;let a=s(t)?()=>{t.destroy(new o(void 0,{cause:e.reason}))}:()=>{t[u](new o(void 0,{cause:e.reason}))};return e.aborted?a():c(t,(n=n||r(21777).addAbortListener)(e,a)[i]),t}},6557:(e,t,r)=>{"use strict";let{StringPrototypeSlice:n,SymbolIterator:i,TypedArrayPrototypeSet:o,Uint8Array:a}=r(41795),{Buffer:s}=r(15313),{inspect:l}=r(21777);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){let t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;let e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return s.alloc(0);let t=s.allocUnsafe(e>>>0),r=this.head,n=0;for(;r;)o(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){let r=this.head.data;if(e<r.length){let t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,i=0;do{let o=r.data;if(e>o.length)t+=o,e-=o.length;else{e===o.length?(t+=o,++i,r.next?this.head=r.next:this.head=this.tail=null):(t+=n(o,0,e),this.head=r,r.data=n(o,e));break}++i}while(null!==(r=r.next));return this.length-=i,t}_getBuffer(e){let t=s.allocUnsafe(e),r=e,n=this.head,i=0;do{let s=n.data;if(e>s.length)o(t,s,r-e),e-=s.length;else{e===s.length?(o(t,s,r-e),++i,n.next?this.head=n.next:this.head=this.tail=null):(o(t,new a(s.buffer,s.byteOffset,e),r-e),this.head=n,n.data=s.slice(e));break}++i}while(null!==(n=n.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return l(this,{...t,depth:0,customInspect:!1})}}},95804:(e,t,r)=>{"use strict";let{pipeline:n}=r(22779),i=r(10272),{destroyer:o}=r(21666),{isNodeStream:a,isReadable:s,isWritable:l,isWebStream:u,isTransformStream:c,isWritableStream:f,isReadableStream:d}=r(72171),{AbortError:p,codes:{ERR_INVALID_ARG_VALUE:h,ERR_MISSING_ARGS:y}}=r(46809),b=r(57159);e.exports=function(...e){let t,r,g,m,v;if(0===e.length)throw new y("streams");if(1===e.length)return i.from(e[0]);let _=[...e];if("function"==typeof e[0]&&(e[0]=i.from(e[0])),"function"==typeof e[e.length-1]){let t=e.length-1;e[t]=i.from(e[t])}for(let t=0;t<e.length;++t)if(a(e[t])||u(e[t])){if(t<e.length-1&&!(s(e[t])||d(e[t])||c(e[t])))throw new h(`streams[${t}]`,_[t],"must be readable");if(t>0&&!(l(e[t])||f(e[t])||c(e[t])))throw new h(`streams[${t}]`,_[t],"must be writable")}let O=e[0],w=n(e,function(e){let t=m;m=null,t?t(e):e?v.destroy(e):E||S||v.destroy()}),S=!!(l(O)||f(O)||c(O)),E=!!(s(w)||d(w)||c(w));if(v=new i({writableObjectMode:!!(null!=O&&O.writableObjectMode),readableObjectMode:!!(null!=w&&w.readableObjectMode),writable:S,readable:E}),S){if(a(O))v._write=function(e,r,n){O.write(e,r)?n():t=n},v._final=function(e){O.end(),r=e},O.on("drain",function(){if(t){let e=t;t=null,e()}});else if(u(O)){let e=(c(O)?O.writable:O).getWriter();v._write=async function(t,r,n){try{await e.ready,e.write(t).catch(()=>{}),n()}catch(e){n(e)}},v._final=async function(t){try{await e.ready,e.close().catch(()=>{}),r=t}catch(e){t(e)}}}b(c(w)?w.readable:w,()=>{if(r){let e=r;r=null,e()}})}if(E){if(a(w))w.on("readable",function(){if(g){let e=g;g=null,e()}}),w.on("end",function(){v.push(null)}),v._read=function(){for(;;){let e=w.read();if(null===e){g=v._read;return}if(!v.push(e))return}};else if(u(w)){let e=(c(w)?w.readable:w).getReader();v._read=async function(){for(;;)try{let{value:t,done:r}=await e.read();if(!v.push(t))return;if(r){v.push(null);return}}catch{return}}}}return v._destroy=function(e,n){e||null===m||(e=new p),g=null,t=null,r=null,null===m?n(e):(m=n,a(w)&&o(w,e))},v}},21666:(e,t,r)=>{"use strict";let n=r(73656),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:a}=r(46809),{Symbol:s}=r(41795),{kIsDestroyed:l,isDestroyed:u,isFinished:c,isServerRequest:f}=r(72171),d=s("kDestroy"),p=s("kConstruct");function h(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function y(e,t,r){let i=!1;function o(t){if(i)return;i=!0;let o=e._readableState,a=e._writableState;h(t,a,o),a&&(a.closed=!0),o&&(o.closed=!0),"function"==typeof r&&r(t),t?n.nextTick(b,e,t):n.nextTick(g,e)}try{e._destroy(t||null,o)}catch(e){o(e)}}function b(e,t){m(e,t),g(e)}function g(e){let t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function m(e,t){let r=e._readableState,n=e._writableState;null!=n&&n.errorEmitted||null!=r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function v(e,t,r){let i=e._readableState,o=e._writableState;if(null!=o&&o.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),i&&!i.errored&&(i.errored=t),r?n.nextTick(m,e,t):m(e,t))}function _(e){let t=!1;function r(r){if(t){v(e,null!=r?r:new o);return}t=!0;let i=e._readableState,a=e._writableState,s=a||i;i&&(i.constructed=!0),a&&(a.constructed=!0),s.destroyed?e.emit(d,r):r?v(e,r,!0):n.nextTick(O,e)}try{e._construct(e=>{n.nextTick(r,e)})}catch(e){n.nextTick(r,e)}}function O(e){e.emit(p)}function w(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function S(e){e.emit("close")}function E(e,t){e.emit("error",t),n.nextTick(S,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;let r=e._readableState,i=e._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),e.once(p,t),e.listenerCount(p)>1||n.nextTick(_,e)},destroyer:function(e,t){!(!e||u(e))&&(t||c(e)||(t=new a),f(e)?(e.socket=null,e.destroy(t)):w(e)?e.abort():w(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?n.nextTick(E,e,t):n.nextTick(S,e),e.destroyed||(e[l]=!0))},destroy:function(e,t){let r=this._readableState,n=this._writableState,o=n||r;return null!=n&&n.destroyed||null!=r&&r.destroyed?"function"==typeof t&&t():(h(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?y(this,e,t):this.once(d,function(r){y(this,i(r,e),t)})),this},undestroy:function(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:v}},10272:(e,t,r)=>{"use strict";let n,i;let{ObjectDefineProperties:o,ObjectGetOwnPropertyDescriptor:a,ObjectKeys:s,ObjectSetPrototypeOf:l}=r(41795);e.exports=f;let u=r(80735),c=r(15746);l(f.prototype,u.prototype),l(f,u);{let e=s(c.prototype);for(let t=0;t<e.length;t++){let r=e[t];f.prototype[r]||(f.prototype[r]=c.prototype[r])}}function f(e){if(!(this instanceof f))return new f(e);u.call(this,e),c.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}function d(){return void 0===n&&(n={}),n}o(f.prototype,{writable:{__proto__:null,...a(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...a(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...a(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...a(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...a(c.prototype,"writableLength")},writableFinished:{__proto__:null,...a(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...a(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...a(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...a(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),f.fromWeb=function(e,t){return d().newStreamDuplexFromReadableWritablePair(e,t)},f.toWeb=function(e){return d().newReadableWritablePairFromDuplex(e)},f.from=function(e){return i||(i=r(8322)),i(e,"body")}},8322:(e,t,r)=>{"use strict";let n=r(73656),i=r(15313),{isReadable:o,isWritable:a,isIterable:s,isNodeStream:l,isReadableNodeStream:u,isWritableNodeStream:c,isDuplexNodeStream:f,isReadableStream:d,isWritableStream:p}=r(72171),h=r(57159),{AbortError:y,codes:{ERR_INVALID_ARG_TYPE:b,ERR_INVALID_RETURN_VALUE:g}}=r(46809),{destroyer:m}=r(21666),v=r(10272),_=r(80735),O=r(15746),{createDeferredPromise:w}=r(21777),S=r(45906),E=globalThis.Blob||i.Blob,x=void 0!==E?function(e){return e instanceof E}:function(e){return!1},P=globalThis.AbortController||r(73019).AbortController,{FunctionPrototypeCall:j}=r(41795);class T extends v{constructor(e){super(e),(null==e?void 0:e.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(null==e?void 0:e.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function k(e){let t,r,n,i,s;let l=e.readable&&"function"!=typeof e.readable.read?_.wrap(e.readable):e.readable,u=e.writable,c=!!o(l),f=!!a(u);function d(e){let t=i;i=null,t?t(e):e&&s.destroy(e)}return s=new T({readableObjectMode:!!(null!=l&&l.readableObjectMode),writableObjectMode:!!(null!=u&&u.writableObjectMode),readable:c,writable:f}),f&&(h(u,e=>{f=!1,e&&m(l,e),d(e)}),s._write=function(e,r,n){u.write(e,r)?n():t=n},s._final=function(e){u.end(),r=e},u.on("drain",function(){if(t){let e=t;t=null,e()}}),u.on("finish",function(){if(r){let e=r;r=null,e()}})),c&&(h(l,e=>{c=!1,e&&m(l,e),d(e)}),l.on("readable",function(){if(n){let e=n;n=null,e()}}),l.on("end",function(){s.push(null)}),s._read=function(){for(;;){let e=l.read();if(null===e){n=s._read;return}if(!s.push(e))return}}),s._destroy=function(e,o){e||null===i||(e=new y),n=null,t=null,r=null,null===i?o(e):(i=o,m(u,e),m(l,e))},s}e.exports=function e(t,r){if(f(t))return t;if(u(t))return k({readable:t});if(c(t))return k({writable:t});if(l(t))return k({writable:!1,readable:!1});if(d(t))return k({readable:_.fromWeb(t)});if(p(t))return k({writable:O.fromWeb(t)});if("function"==typeof t){let{value:e,write:i,final:o,destroy:a}=function(e){let{promise:t,resolve:r}=w(),i=new P,o=i.signal;return{value:e(async function*(){for(;;){let e=t;t=null;let{chunk:i,done:a,cb:s}=await e;if(n.nextTick(s),a)return;if(o.aborted)throw new y(void 0,{cause:o.reason});({promise:t,resolve:r}=w()),yield i}}(),{signal:o}),write(e,t,n){let i=r;r=null,i({chunk:e,done:!1,cb:n})},final(e){let t=r;r=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(s(e))return S(T,e,{objectMode:!0,write:i,final:o,destroy:a});let l=null==e?void 0:e.then;if("function"==typeof l){let t;let r=j(l,e,e=>{if(null!=e)throw new g("nully","body",e)},e=>{m(t,e)});return t=new T({objectMode:!0,readable:!1,write:i,final(e){o(async()=>{try{await r,n.nextTick(e,null)}catch(t){n.nextTick(e,t)}})},destroy:a})}throw new g("Iterable, AsyncIterable or AsyncFunction",r,e)}if(x(t))return e(t.arrayBuffer());if(s(t))return S(T,t,{objectMode:!0,writable:!1});if(d(null==t?void 0:t.readable)&&p(null==t?void 0:t.writable))return T.fromWeb(t);if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable))return k({readable:null!=t&&t.readable?u(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?c(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0});let i=null==t?void 0:t.then;if("function"==typeof i){let e;return j(i,t,t=>{null!=t&&e.push(t),e.push(null)},t=>{m(e,t)}),e=new T({objectMode:!0,writable:!1,read(){}})}throw new b(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},57159:(e,t,r)=>{let n;"use strict";let i=r(73656),{AbortError:o,codes:a}=r(46809),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:l}=a,{kEmptyObject:u,once:c}=r(21777),{validateAbortSignal:f,validateFunction:d,validateObject:p,validateBoolean:h}=r(15095),{Promise:y,PromisePrototypeThen:b,SymbolDispose:g}=r(41795),{isClosed:m,isReadable:v,isReadableNodeStream:_,isReadableStream:O,isReadableFinished:w,isReadableErrored:S,isWritable:E,isWritableNodeStream:x,isWritableStream:P,isWritableFinished:j,isWritableErrored:T,isNodeStream:k,willEmitClose:C,kIsClosedPromise:A}=r(72171),R=()=>{};function M(e,t,a){var h,y;if(2==arguments.length?(a=t,t=u):null==t?t=u:p(t,"options"),d(a,"callback"),f(t.signal,"options.signal"),a=c(a),O(e)||P(e))return function(e,t,a){let s=!1,l=R;if(t.signal){if(l=()=>{s=!0,a.call(e,new o(void 0,{cause:t.signal.reason}))},t.signal.aborted)i.nextTick(l);else{let i=(n=n||r(21777).addAbortListener)(t.signal,l),o=a;a=c((...t)=>{i[g](),o.apply(e,t)})}}let u=(...t)=>{s||i.nextTick(()=>a.apply(e,t))};return b(e[A].promise,u,u),R}(e,t,a);if(!k(e))throw new s("stream",["ReadableStream","WritableStream","Stream"],e);let M=null!==(h=t.readable)&&void 0!==h?h:_(e),I=null!==(y=t.writable)&&void 0!==y?y:x(e),N=e._writableState,L=e._readableState,D=()=>{e.writable||B()},z=C(e)&&_(e)===M&&x(e)===I,F=j(e,!1),B=()=>{F=!0,e.destroyed&&(z=!1),z&&(!e.readable||M)||M&&!U||a.call(e)},U=w(e,!1),W=()=>{U=!0,e.destroyed&&(z=!1),z&&(!e.writable||I)||I&&!F||a.call(e)},Z=t=>{a.call(e,t)},V=m(e),q=()=>{V=!0;let t=T(e)||S(e);return t&&"boolean"!=typeof t?a.call(e,t):M&&!U&&_(e,!0)&&!w(e,!1)||I&&!F&&!j(e,!1)?a.call(e,new l):void a.call(e)},$=()=>{V=!0;let t=T(e)||S(e);if(t&&"boolean"!=typeof t)return a.call(e,t);a.call(e)},H=()=>{e.req.on("finish",B)};e.setHeader&&"function"==typeof e.abort?(e.on("complete",B),z||e.on("abort",q),e.req?H():e.on("request",H)):I&&!N&&(e.on("end",D),e.on("close",D)),z||"boolean"!=typeof e.aborted||e.on("aborted",q),e.on("end",W),e.on("finish",B),!1!==t.error&&e.on("error",Z),e.on("close",q),V?i.nextTick(q):null!=N&&N.errorEmitted||null!=L&&L.errorEmitted?z||i.nextTick($):!M&&(!z||v(e))&&(F||!1===E(e))?i.nextTick($):!I&&(!z||E(e))&&(U||!1===v(e))?i.nextTick($):L&&e.req&&e.aborted&&i.nextTick($);let G=()=>{a=R,e.removeListener("aborted",q),e.removeListener("complete",B),e.removeListener("abort",q),e.removeListener("request",H),e.req&&e.req.removeListener("finish",B),e.removeListener("end",D),e.removeListener("close",D),e.removeListener("finish",B),e.removeListener("end",W),e.removeListener("error",Z),e.removeListener("close",q)};if(t.signal&&!V){let s=()=>{let r=a;G(),r.call(e,new o(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)i.nextTick(s);else{let i=(n=n||r(21777).addAbortListener)(t.signal,s),o=a;a=c((...t)=>{i[g](),o.apply(e,t)})}}return G}e.exports=M,e.exports.finished=function(e,t){var r;let n=!1;return null===t&&(t=u),null!==(r=t)&&void 0!==r&&r.cleanup&&(h(t.cleanup,"cleanup"),n=t.cleanup),new y((r,i)=>{let o=M(e,t,e=>{n&&o(),e?i(e):r()})})}},45906:(e,t,r)=>{"use strict";let n=r(73656),{PromisePrototypeThen:i,SymbolAsyncIterator:o,SymbolIterator:a}=r(41795),{Buffer:s}=r(15313),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:u}=r(46809).codes;e.exports=function(e,t,r){let c,f;if("string"==typeof t||t instanceof s)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});if(t&&t[o])f=!0,c=t[o]();else if(t&&t[a])f=!1,c=t[a]();else throw new l("iterable",["Iterable"],t);let d=new e({objectMode:!0,highWaterMark:1,...r}),p=!1;async function h(e){let t=null!=e,r="function"==typeof c.throw;if(t&&r){let{value:t,done:r}=await c.throw(e);if(await t,r)return}if("function"==typeof c.return){let{value:e}=await c.return();await e}}async function y(){for(;;){try{let{value:e,done:t}=f?await c.next():c.next();if(t)d.push(null);else{let t=e&&"function"==typeof e.then?await e:e;if(null===t)throw p=!1,new u;if(d.push(t))continue;p=!1}}catch(e){d.destroy(e)}break}}return d._read=function(){p||(p=!0,y())},d._destroy=function(e,t){i(h(e),()=>n.nextTick(t,e),r=>n.nextTick(t,r||e))},d}},63668:(e,t,r)=>{"use strict";let{ArrayIsArray:n,ObjectSetPrototypeOf:i}=r(41795),{EventEmitter:o}=r(47324);function a(e){o.call(this,e)}function s(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}i(a.prototype,o.prototype),i(a,o),a.prototype.pipe=function(e,t){let r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",l),r.on("close",u));let a=!1;function l(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){f(),0===o.listenerCount(this,"error")&&this.emit("error",e)}function f(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",l),r.removeListener("close",u),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",f),r.removeListener("close",f),e.removeListener("close",f)}return s(r,"error",c),s(e,"error",c),r.on("end",f),r.on("close",f),e.on("close",f),e.emit("pipe",r),e},e.exports={Stream:a,prependListener:s}},87181:(e,t,r)=>{"use strict";let n=globalThis.AbortController||r(73019).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:s},AbortError:l}=r(46809),{validateAbortSignal:u,validateInteger:c,validateObject:f}=r(15095),d=r(41795).Symbol("kWeak"),p=r(41795).Symbol("kResistStopPropagation"),{finished:h}=r(57159),y=r(95804),{addAbortSignalNoValidate:b}=r(7461),{isWritable:g,isNodeStream:m}=r(72171),{deprecate:v}=r(21777),{ArrayPrototypePush:_,Boolean:O,MathFloor:w,Number:S,NumberIsNaN:E,Promise:x,PromiseReject:P,PromiseResolve:j,PromisePrototypeThen:T,Symbol:k}=r(41795),C=k("kEmpty"),A=k("kEof");function R(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);null!=t&&f(t,"options"),(null==t?void 0:t.signal)!=null&&u(t.signal,"options.signal");let n=1;(null==t?void 0:t.concurrency)!=null&&(n=w(t.concurrency));let i=n-1;return(null==t?void 0:t.highWaterMark)!=null&&(i=w(t.highWaterMark)),c(n,"options.concurrency",1),c(i,"options.highWaterMark",0),i+=n,(async function*(){let o,a;let s=r(21777).AbortSignalAny([null==t?void 0:t.signal].filter(O)),u=this,c=[],f={signal:s},d=!1,p=0;function h(){d=!0,y()}function y(){p-=1,b()}function b(){a&&!d&&p<n&&c.length<i&&(a(),a=null)}(async function(){try{for await(let t of u){if(d)return;if(s.aborted)throw new l;try{if((t=e(t,f))===C)continue;t=j(t)}catch(e){t=P(e)}p+=1,T(t,y,h),c.push(t),o&&(o(),o=null),!d&&(c.length>=i||p>=n)&&await new x(e=>{a=e})}c.push(A)}catch(t){let e=P(t);T(e,y,h),c.push(e)}finally{d=!0,o&&(o(),o=null)}})();try{for(;;){for(;c.length>0;){let e=await c[0];if(e===A)return;if(s.aborted)throw new l;e!==C&&(yield e),c.shift(),b()}await new x(e=>{o=e})}}finally{d=!0,a&&(a(),a=null)}}).call(this)}async function M(e,t){for await(let r of D.call(this,e,t))return!0;return!1}async function I(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);return!await M.call(this,async(...t)=>!await e(...t),t)}async function N(e,t){for await(let r of D.call(this,e,t))return r}async function L(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);async function r(t,r){return await e(t,r),C}for await(let e of R.call(this,r,t));}function D(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);async function r(t,r){return await e(t,r)?t:C}return R.call(this,r,t)}class z extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function F(e,t,r){var i,a;if("function"!=typeof e)throw new o("reducer",["Function","AsyncFunction"],e);null!=r&&f(r,"options"),(null==r?void 0:r.signal)!=null&&u(r.signal,"options.signal");let s=arguments.length>1;if(null!=r&&null!==(i=r.signal)&&void 0!==i&&i.aborted){let e=new l(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await h(this.destroy(e)),e}let c=new n,y=c.signal;null!=r&&r.signal&&r.signal.addEventListener("abort",()=>c.abort(),{once:!0,[d]:this,[p]:!0});let b=!1;try{for await(let n of this){if(b=!0,null!=r&&null!==(a=r.signal)&&void 0!==a&&a.aborted)throw new l;s?t=await e(t,n,{signal:y}):(t=n,s=!0)}if(!b&&!s)throw new z}finally{c.abort()}return t}async function B(e){null!=e&&f(e,"options"),(null==e?void 0:e.signal)!=null&&u(e.signal,"options.signal");let t=[];for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new l(void 0,{cause:e.signal.reason});_(t,n)}return t}function U(e){if(E(e=S(e)))return 0;if(e<0)throw new s("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:v(function(e){return null!=e&&f(e,"options"),(null==e?void 0:e.signal)!=null&&u(e.signal,"options.signal"),(async function*(){let t=0;for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new l({cause:e.signal.reason});yield[t++,n]}}).call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(e,t){return null!=t&&f(t,"options"),(null==t?void 0:t.signal)!=null&&u(t.signal,"options.signal"),e=U(e),(async function*(){var r,n;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;for await(let r of this){if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;e--<=0&&(yield r)}}).call(this)},filter:D,flatMap:function(e,t){let r=R.call(this,e,t);return(async function*(){for await(let e of r)yield*e}).call(this)},map:R,take:function(e,t){return null!=t&&f(t,"options"),(null==t?void 0:t.signal)!=null&&u(t.signal,"options.signal"),e=U(e),(async function*(){var r,n;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;for await(let r of this){if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;if(e-- >0&&(yield r),e<=0)return}}).call(this)},compose:function(e,t){if(null!=t&&f(t,"options"),(null==t?void 0:t.signal)!=null&&u(t.signal,"options.signal"),m(e)&&!g(e))throw new i("stream",e,"must be writable");let r=y(this,e);return null!=t&&t.signal&&b(t.signal,r),r}},e.exports.promiseReturningOperators={every:I,forEach:L,reduce:F,toArray:B,some:M,find:N}},34367:(e,t,r)=>{"use strict";let{ObjectSetPrototypeOf:n}=r(41795);e.exports=o;let i=r(39032);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}n(o.prototype,i.prototype),n(o,i),o.prototype._transform=function(e,t,r){r(null,e)}},22779:(e,t,r)=>{let n,i,o;"use strict";let a=r(73656),{ArrayIsArray:s,Promise:l,SymbolAsyncIterator:u,SymbolDispose:c}=r(41795),f=r(57159),{once:d}=r(21777),p=r(21666),h=r(10272),{aggregateTwoErrors:y,codes:{ERR_INVALID_ARG_TYPE:b,ERR_INVALID_RETURN_VALUE:g,ERR_MISSING_ARGS:m,ERR_STREAM_DESTROYED:v,ERR_STREAM_PREMATURE_CLOSE:_},AbortError:O}=r(46809),{validateFunction:w,validateAbortSignal:S}=r(15095),{isIterable:E,isReadable:x,isReadableNodeStream:P,isNodeStream:j,isTransformStream:T,isWebStream:k,isReadableStream:C,isReadableFinished:A}=r(72171),R=globalThis.AbortController||r(73019).AbortController;function M(e,t,r){let n=!1;return e.on("close",()=>{n=!0}),{destroy:t=>{n||(n=!0,p.destroyer(e,t||new v("pipe")))},cleanup:f(e,{readable:t,writable:r},e=>{n=!e})}}function I(e){if(E(e))return e;if(P(e))return N(e);throw new b("val",["Readable","Iterable","AsyncIterable"],e)}async function*N(e){i||(i=r(80735)),yield*i.prototype[u].call(e)}async function L(e,t,r,{end:n}){let i;let o=null,a=e=>{if(e&&(i=e),o){let e=o;o=null,e()}},s=()=>new l((e,t)=>{i?t(i):o=()=>{i?t(i):e()}});t.on("drain",a);let u=f(t,{readable:!1},a);try{for await(let r of(t.writableNeedDrain&&await s(),e))t.write(r)||await s();n&&(t.end(),await s()),r()}catch(e){r(i!==e?y(i,e):e)}finally{u(),t.off("drain",a)}}async function D(e,t,r,{end:n}){T(t)&&(t=t.writable);let i=t.getWriter();try{for await(let t of e)await i.ready,i.write(t).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(e){try{await i.abort(e),r(e)}catch(e){r(e)}}}function z(e,t,i){let l,u,d,p;if(1===e.length&&s(e[0])&&(e=e[0]),e.length<2)throw new m("streams");let y=new R,v=y.signal,w=null==i?void 0:i.signal,N=[];function z(){W(new O)}S(w,"options.signal"),o=o||r(21777).addAbortListener,w&&(l=o(w,z));let F=[],B=0;function U(e){W(e,0==--B)}function W(e,r){var n;if(e&&(!u||"ERR_STREAM_PREMATURE_CLOSE"===u.code)&&(u=e),u||r){for(;F.length;)F.shift()(u);null===(n=l)||void 0===n||n[c](),y.abort(),r&&(u||N.forEach(e=>e()),a.nextTick(t,u,d))}}for(let t=0;t<e.length;t++){let o=e[t],s=t<e.length-1,l=t>0,u=s||(null==i?void 0:i.end)!==!1,c=t===e.length-1;if(j(o)){if(u){let{destroy:e,cleanup:t}=M(o,s,l);F.push(e),x(o)&&c&&N.push(t)}function Z(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&U(e)}o.on("error",Z),x(o)&&c&&N.push(()=>{o.removeListener("error",Z)})}if(0===t){if("function"==typeof o){if(!E(p=o({signal:v})))throw new g("Iterable, AsyncIterable or Stream","source",p)}else p=E(o)||P(o)||T(o)?o:h.from(o)}else if("function"==typeof o){var V,q;if(p=o(p=T(p)?I(null===(V=p)||void 0===V?void 0:V.readable):I(p),{signal:v}),s){if(!E(p,!0))throw new g("AsyncIterable",`transform[${t-1}]`,p)}else{n||(n=r(34367));let e=new n({objectMode:!0}),t=null===(q=p)||void 0===q?void 0:q.then;if("function"==typeof t)B++,t.call(p,t=>{d=t,null!=t&&e.write(t),u&&e.end(),a.nextTick(U)},t=>{e.destroy(t),a.nextTick(U,t)});else if(E(p,!0))B++,L(p,e,U,{end:u});else if(C(p)||T(p)){let t=p.readable||p;B++,L(t,e,U,{end:u})}else throw new g("AsyncIterable or Promise","destination",p);let{destroy:i,cleanup:o}=M(p=e,!1,!0);F.push(i),c&&N.push(o)}}else if(j(o)){if(P(p)){B+=2;let e=function(e,t,r,{end:n}){let i=!1;if(t.on("close",()=>{i||r(new _)}),e.pipe(t,{end:!1}),n){function o(){i=!0,t.end()}A(e)?a.nextTick(o):e.once("end",o)}else r();return f(e,{readable:!0,writable:!1},t=>{let n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)}),f(t,{readable:!1,writable:!0},r)}(p,o,U,{end:u});x(o)&&c&&N.push(e)}else if(T(p)||C(p)){let e=p.readable||p;B++,L(e,o,U,{end:u})}else if(E(p))B++,L(p,o,U,{end:u});else throw new b("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=o}else if(k(o)){if(P(p))B++,D(I(p),o,U,{end:u});else if(C(p)||E(p))B++,D(p,o,U,{end:u});else if(T(p))B++,D(p.readable,o,U,{end:u});else throw new b("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=o}else p=h.from(o)}return(null!=v&&v.aborted||null!=w&&w.aborted)&&a.nextTick(z),p}e.exports={pipelineImpl:z,pipeline:function(...e){return z(e,d((w(e[e.length-1],"streams[stream.length - 1]"),e.pop())))}}},80735:(e,t,r)=>{let n;"use strict";let i=r(73656),{ArrayPrototypeIndexOf:o,NumberIsInteger:a,NumberIsNaN:s,NumberParseInt:l,ObjectDefineProperties:u,ObjectKeys:c,ObjectSetPrototypeOf:f,Promise:d,SafeSet:p,SymbolAsyncDispose:h,SymbolAsyncIterator:y,Symbol:b}=r(41795);e.exports=Z,Z.ReadableState=W;let{EventEmitter:g}=r(47324),{Stream:m,prependListener:v}=r(63668),{Buffer:_}=r(15313),{addAbortSignal:O}=r(7461),w=r(57159),S=r(21777).debuglog("stream",e=>{S=e}),E=r(6557),x=r(21666),{getHighWaterMark:P,getDefaultHighWaterMark:j}=r(93496),{aggregateTwoErrors:T,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:C,ERR_OUT_OF_RANGE:A,ERR_STREAM_PUSH_AFTER_EOF:R,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:M},AbortError:I}=r(46809),{validateObject:N}=r(15095),L=b("kPaused"),{StringDecoder:D}=r(23457),z=r(45906);f(Z.prototype,m.prototype),f(Z,m);let F=()=>{},{errorOrDestroy:B}=x;function U(e){return{enumerable:!1,get(){return(this.state&e)!=0},set(t){t?this.state|=e:this.state&=~e}}}function W(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(10272)),this.state=6192,e&&e.objectMode&&(this.state|=1),n&&e&&e.readableObjectMode&&(this.state|=1),this.highWaterMark=e?P(this,e,"readableHighWaterMark",n):j(!1),this.buffer=new E,this.length=0,this.pipes=[],this.flowing=null,this[L]=null,e&&!1===e.emitClose&&(this.state&=-2049),e&&!1===e.autoDestroy&&(this.state&=-4097),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new D(e.encoding),this.encoding=e.encoding)}function Z(e){if(!(this instanceof Z))return new Z(e);let t=this instanceof r(10272);this._readableState=new W(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&O(e.signal,this)),m.call(this,e),x.construct(this,()=>{this._readableState.needReadable&&Y(this,this._readableState)})}function V(e,t,r,n){let i;S("readableAddChunk",t);let o=e._readableState;if((1&o.state)==0&&("string"==typeof t?(r=r||o.defaultEncoding,o.encoding!==r&&(n&&o.encoding?t=_.from(t,r).toString(o.encoding):(t=_.from(t,r),r=""))):t instanceof _?r="":m._isUint8Array(t)?(t=m._uint8ArrayToBuffer(t),r=""):null!=t&&(i=new k("chunk",["string","Buffer","Uint8Array"],t))),i)B(e,i);else if(null===t)o.state&=-9,function(e,t){if(S("onEofChunk"),!t.ended){if(t.decoder){let e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?H(e):(t.needReadable=!1,t.emittedReadable=!0,G(e))}}(e,o);else if((1&o.state)!=0||t&&t.length>0){if(n){if((4&o.state)!=0)B(e,new M);else{if(o.destroyed||o.errored)return!1;q(e,o,t,!0)}}else if(o.ended)B(e,new R);else{if(o.destroyed||o.errored)return!1;o.state&=-9,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?q(e,o,t,!1):Y(e,o)):q(e,o,t,!1)}}else n||(o.state&=-9,Y(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function q(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?((65536&t.state)!=0?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),(64&t.state)!=0&&H(e)),Y(e,t)}function $(e,t){return e<=0||0===t.length&&t.ended?0:(1&t.state)!=0?1:s(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function H(e){let t=e._readableState;S("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(S("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(G,e))}function G(e){let t=e._readableState;S("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ee(e)}function Y(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,i.nextTick(K,e,t))}function K(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){let r=t.length;if(S("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function X(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[L]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function Q(e){S("readable nexttick read 0"),e.read(0)}function J(e,t){S("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ee(e),t.flowing&&!t.reading&&e.read(0)}function ee(e){let t=e._readableState;for(S("flow",t.flowing);t.flowing&&null!==e.read(););}function et(e,t){"function"!=typeof e.read&&(e=Z.wrap(e,{objectMode:!0}));let r=er(e,t);return r.stream=e,r}async function*er(e,t){let r,n=F;function i(t){this===e?(n(),n=F):n=t}e.on("readable",i);let o=w(e,{writable:!1},e=>{r=e?T(r,e):null,n(),n=F});try{for(;;){let t=e.destroyed?null:e.read();if(null!==t)yield t;else if(r)throw r;else{if(null===r)return;await new d(i)}}}catch(e){throw r=T(r,e)}finally{(r||(null==t?void 0:t.destroyOnReturn)!==!1)&&(void 0===r||e._readableState.autoDestroy)?x.destroyer(e,null):(e.off("readable",i),o())}}function en(e,t){let r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function ei(e){let t=e._readableState;S("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(eo,t,e))}function eo(e,t){if(S("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length){if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)i.nextTick(ea,t);else if(e.autoDestroy){let e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}}function ea(e){!e.writable||e.writableEnded||e.destroyed||e.end()}function es(){return void 0===n&&(n={}),n}u(W.prototype,{objectMode:U(1),ended:U(2),endEmitted:U(4),reading:U(8),constructed:U(16),sync:U(32),needReadable:U(64),emittedReadable:U(128),readableListening:U(256),resumeScheduled:U(512),errorEmitted:U(1024),emitClose:U(2048),autoDestroy:U(4096),destroyed:U(8192),closed:U(16384),closeEmitted:U(32768),multiAwaitDrain:U(65536),readingMore:U(131072),dataEmitted:U(262144)}),Z.prototype.destroy=x.destroy,Z.prototype._undestroy=x.undestroy,Z.prototype._destroy=function(e,t){t(e)},Z.prototype[g.captureRejectionSymbol]=function(e){this.destroy(e)},Z.prototype[h]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new I,this.destroy(e)),new d((t,r)=>w(this,n=>n&&n!==e?r(n):t(null)))},Z.prototype.push=function(e,t){return V(this,e,t,!1)},Z.prototype.unshift=function(e,t){return V(this,e,t,!0)},Z.prototype.isPaused=function(){let e=this._readableState;return!0===e[L]||!1===e.flowing},Z.prototype.setEncoding=function(e){let t=new D(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let e of r)n+=t.write(e);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this},Z.prototype.read=function(e){let t;S("read",e),void 0===e?e=NaN:a(e)||(e=l(e,10));let r=this._readableState,n=e;if(e>r.highWaterMark&&(r.highWaterMark=function(e){if(e>0x40000000)throw new A("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(r.state&=-129),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return S("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?ei(this):H(this),null;if(0===(e=$(e,r))&&r.ended)return 0===r.length&&ei(this),null;let i=(64&r.state)!=0;if(S("need readable",i),(0===r.length||r.length-e<r.highWaterMark)&&S("length less than watermark",i=!0),r.ended||r.reading||r.destroyed||r.errored||!r.constructed)S("reading, ended or constructing",i=!1);else if(i){S("do read"),r.state|=40,0===r.length&&(r.state|=64);try{this._read(r.highWaterMark)}catch(e){B(this,e)}r.state&=-33,r.reading||(e=$(n,r))}return null===(t=e>0?en(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.multiAwaitDrain?r.awaitDrainWriters.clear():r.awaitDrainWriters=null),0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&ei(this)),null===t||r.errorEmitted||r.closeEmitted||(r.dataEmitted=!0,this.emit("data",t)),t},Z.prototype._read=function(e){throw new C("_read()")},Z.prototype.pipe=function(e,t){let r;let n=this,o=this._readableState;1!==o.pipes.length||o.multiAwaitDrain||(o.multiAwaitDrain=!0,o.awaitDrainWriters=new p(o.awaitDrainWriters?[o.awaitDrainWriters]:[])),o.pipes.push(e),S("pipe count=%d opts=%j",o.pipes.length,t);let a=t&&!1===t.end||e===i.stdout||e===i.stderr?y:s;function s(){S("onend"),e.end()}o.endEmitted?i.nextTick(a):n.once("end",a),e.on("unpipe",function t(i,a){S("onunpipe"),i===n&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,S("cleanup"),e.removeListener("close",d),e.removeListener("finish",h),r&&e.removeListener("drain",r),e.removeListener("error",f),e.removeListener("unpipe",t),n.removeListener("end",s),n.removeListener("end",y),n.removeListener("data",c),l=!0,r&&o.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&r())});let l=!1;function u(){l||(1===o.pipes.length&&o.pipes[0]===e?(S("false write response, pause",0),o.awaitDrainWriters=e,o.multiAwaitDrain=!1):o.pipes.length>1&&o.pipes.includes(e)&&(S("false write response, pause",o.awaitDrainWriters.size),o.awaitDrainWriters.add(e)),n.pause()),r||(r=function(){let t=n._readableState;t.awaitDrainWriters===e?(S("pipeOnDrain",1),t.awaitDrainWriters=null):t.multiAwaitDrain&&(S("pipeOnDrain",t.awaitDrainWriters.size),t.awaitDrainWriters.delete(e)),(!t.awaitDrainWriters||0===t.awaitDrainWriters.size)&&n.listenerCount("data")&&n.resume()},e.on("drain",r))}function c(t){S("ondata");let r=e.write(t);S("dest.write",r),!1===r&&u()}function f(t){if(S("onerror",t),y(),e.removeListener("error",f),0===e.listenerCount("error")){let r=e._writableState||e._readableState;r&&!r.errorEmitted?B(e,t):e.emit("error",t)}}function d(){e.removeListener("finish",h),y()}function h(){S("onfinish"),e.removeListener("close",d),y()}function y(){S("unpipe"),n.unpipe(e)}return n.on("data",c),v(e,"error",f),e.once("close",d),e.once("finish",h),e.emit("pipe",n),!0===e.writableNeedDrain?u():o.flowing||(S("pipe resume"),n.resume()),e},Z.prototype.unpipe=function(e){let t=this._readableState;if(0===t.pipes.length)return this;if(!e){let e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}let r=o(t.pipes,e);return -1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},Z.prototype.on=function(e,t){let r=m.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"!==e||n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,S("on readable",n.length,n.reading),n.length?H(this):n.reading||i.nextTick(Q,this)),r},Z.prototype.addListener=Z.prototype.on,Z.prototype.removeListener=function(e,t){let r=m.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(X,this),r},Z.prototype.off=Z.prototype.removeListener,Z.prototype.removeAllListeners=function(e){let t=m.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&i.nextTick(X,this),t},Z.prototype.resume=function(){let e=this._readableState;return e.flowing||(S("resume"),e.flowing=!e.readableListening,e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(J,this,e))),e[L]=!1,this},Z.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[L]=!0,this},Z.prototype.wrap=function(e){let t=!1;e.on("data",r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",e=>{B(this,e)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let r=c(e);for(let t=1;t<r.length;t++){let n=r[t];void 0===this[n]&&"function"==typeof e[n]&&(this[n]=e[n].bind(e))}return this},Z.prototype[y]=function(){return et(this)},Z.prototype.iterator=function(e){return void 0!==e&&N(e,"options"),et(this,e)},u(Z.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._readableState.readable&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),u(W.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[L]},set(e){this[L]=!!e}}}),Z._fromList=en,Z.from=function(e,t){return z(Z,e,t)},Z.fromWeb=function(e,t){return es().newStreamReadableFromReadableStream(e,t)},Z.toWeb=function(e,t){return es().newReadableStreamFromStreamReadable(e,t)},Z.wrap=function(e,t){var r,n;return new Z({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){x.destroyer(e,t),r(t)}}).wrap(e)}},93496:(e,t,r)=>{"use strict";let{MathFloor:n,NumberIsInteger:i}=r(41795),{validateInteger:o}=r(15095),{ERR_INVALID_ARG_VALUE:a}=r(46809).codes,s=16384,l=16;function u(e){return e?l:s}e.exports={getHighWaterMark:function(e,t,r,o){let s=null!=t.highWaterMark?t.highWaterMark:o?t[r]:null;if(null!=s){if(!i(s)||s<0)throw new a(o?`options.${r}`:"options.highWaterMark",s);return n(s)}return u(e.objectMode)},getDefaultHighWaterMark:u,setDefaultHighWaterMark:function(e,t){o(t,"value",0),e?l=t:s=t}}},39032:(e,t,r)=>{"use strict";let{ObjectSetPrototypeOf:n,Symbol:i}=r(41795);e.exports=u;let{ERR_METHOD_NOT_IMPLEMENTED:o}=r(46809).codes,a=r(10272),{getHighWaterMark:s}=r(93496);n(u.prototype,a.prototype),n(u,a);let l=i("kCallback");function u(e){if(!(this instanceof u))return new u(e);let t=e?s(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),a.call(this,e),this._readableState.sync=!1,this[l]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function c(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}null!=r&&this.push(r),this.push(null),e&&e()})}function f(){this._final!==c&&c.call(this)}u.prototype._final=c,u.prototype._transform=function(e,t,r){throw new o("_transform()")},u.prototype._write=function(e,t,r){let n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,(e,t)=>{if(e){r(e);return}null!=t&&this.push(t),i.ended||o===n.length||n.length<n.highWaterMark?r():this[l]=r})},u.prototype._read=function(){if(this[l]){let e=this[l];this[l]=null,e()}}},72171:(e,t,r)=>{"use strict";let{SymbolAsyncIterator:n,SymbolIterator:i,SymbolFor:o}=r(41795),a=o("nodejs.stream.destroyed"),s=o("nodejs.stream.errored"),l=o("nodejs.stream.readable"),u=o("nodejs.stream.writable"),c=o("nodejs.stream.disturbed"),f=o("nodejs.webstream.isClosedPromise"),d=o("nodejs.webstream.controllerErrorFunction");function p(e,t=!1){var r;return!!(e&&"function"==typeof e.pipe&&"function"==typeof e.on&&(!t||"function"==typeof e.pause&&"function"==typeof e.resume)&&(!e._writableState||(null===(r=e._readableState)||void 0===r?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function h(e){var t;return!!(e&&"function"==typeof e.write&&"function"==typeof e.on&&(!e._readableState||(null===(t=e._writableState)||void 0===t?void 0:t.writable)!==!1))}function y(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function b(e){return!!(e&&!y(e)&&"function"==typeof e.pipeThrough&&"function"==typeof e.getReader&&"function"==typeof e.cancel)}function g(e){return!!(e&&!y(e)&&"function"==typeof e.getWriter&&"function"==typeof e.abort)}function m(e){return!!(e&&!y(e)&&"object"==typeof e.readable&&"object"==typeof e.writable)}function v(e){if(!y(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[a]||null!=n&&n.destroyed)}function _(e){if(!h(e))return null;if(!0===e.writableEnded)return!0;let t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function O(e,t){if(!p(e))return null;let r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function w(e){return e&&null!=e[l]?e[l]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!v(e)&&p(e)&&e.readable&&!O(e)}function S(e){return e&&null!=e[u]?e[u]:"boolean"!=typeof(null==e?void 0:e.writable)?null:!v(e)&&h(e)&&e.writable&&!_(e)}function E(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function x(e){return"boolean"==typeof e._sent100&&E(e)}e.exports={isDestroyed:v,kIsDestroyed:a,isDisturbed:function(e){var t;return!!(e&&(null!==(t=e[c])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:c,isErrored:function(e){var t,r,n,i,o,a,l,u,c,f;return!!(e&&(null!==(t=null!==(r=null!==(n=null!==(i=null!==(o=null!==(a=e[s])&&void 0!==a?a:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==i?i:null===(l=e._readableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==n?n:null===(u=e._writableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==r?r:null===(c=e._readableState)||void 0===c?void 0:c.errored)&&void 0!==t?t:null===(f=e._writableState)||void 0===f?void 0:f.errored))},kIsErrored:s,isReadable:w,kIsReadable:l,kIsClosedPromise:f,kControllerErrorFunction:d,kIsWritable:u,isClosed:function(e){if(!y(e))return null;if("boolean"==typeof e.closed)return e.closed;let t=e._writableState,r=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==t?void 0:t.closed)||(null==r?void 0:r.closed):"boolean"==typeof e._closed&&E(e)?e._closed:null},isDuplexNodeStream:function(e){return!!(e&&"function"==typeof e.pipe&&e._readableState&&"function"==typeof e.on&&"function"==typeof e.write)},isFinished:function(e,t){return y(e)?!!v(e)||!((null==t?void 0:t.readable)!==!1&&w(e)||(null==t?void 0:t.writable)!==!1&&S(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[n]:!1===t?"function"==typeof e[i]:"function"==typeof e[n]||"function"==typeof e[i])},isReadableNodeStream:p,isReadableStream:b,isReadableEnded:function(e){if(!p(e))return null;if(!0===e.readableEnded)return!0;let t=e._readableState;return!!t&&!t.errored&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:O,isReadableErrored:function(e){var t,r;return y(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:y,isWebStream:function(e){return b(e)||g(e)||m(e)},isWritable:S,isWritableNodeStream:h,isWritableStream:g,isWritableEnded:_,isWritableFinished:function(e,t){if(!h(e))return null;if(!0===e.writableFinished)return!0;let r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return y(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)===void 0},isServerResponse:x,willEmitClose:function(e){if(!y(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!n&&x(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:m}},15746:(e,t,r)=>{let n;"use strict";let i=r(73656),{ArrayPrototypeSlice:o,Error:a,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:l,ObjectDefineProperties:u,ObjectSetPrototypeOf:c,StringPrototypeToLowerCase:f,Symbol:d,SymbolHasInstance:p}=r(41795);e.exports=N,N.WritableState=M;let{EventEmitter:h}=r(47324),y=r(63668).Stream,{Buffer:b}=r(15313),g=r(21666),{addAbortSignal:m}=r(7461),{getHighWaterMark:v,getDefaultHighWaterMark:_}=r(93496),{ERR_INVALID_ARG_TYPE:O,ERR_METHOD_NOT_IMPLEMENTED:w,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:E,ERR_STREAM_DESTROYED:x,ERR_STREAM_ALREADY_FINISHED:P,ERR_STREAM_NULL_VALUES:j,ERR_STREAM_WRITE_AFTER_END:T,ERR_UNKNOWN_ENCODING:k}=r(46809).codes,{errorOrDestroy:C}=g;function A(){}c(N.prototype,y.prototype),c(N,y);let R=d("kOnFinished");function M(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(10272)),this.objectMode=!!(e&&e.objectMode),n&&(this.objectMode=this.objectMode||!!(e&&e.writableObjectMode)),this.highWaterMark=e?v(this,e,"writableHighWaterMark",n):_(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let i=!!(e&&!1===e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=F.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,I(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[R]=[]}function I(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function N(e){let t=this instanceof r(10272);if(!t&&!s(N,this))return new N(e);this._writableState=new M(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&m(e.signal,this)),y.call(this,e),g.construct(this,()=>{let e=this._writableState;e.writing||Z(this,e),q(this,e)})}function L(e,t,r,n){let o;let a=e._writableState;if("function"==typeof r)n=r,r=a.defaultEncoding;else{if(r){if("buffer"!==r&&!b.isEncoding(r))throw new k(r)}else r=a.defaultEncoding;"function"!=typeof n&&(n=A)}if(null===t)throw new j;if(!a.objectMode){if("string"==typeof t)!1!==a.decodeStrings&&(t=b.from(t,r),r="buffer");else if(t instanceof b)r="buffer";else if(y._isUint8Array(t))t=y._uint8ArrayToBuffer(t),r="buffer";else throw new O("chunk",["string","Buffer","Uint8Array"],t)}return(a.ending?o=new T:a.destroyed&&(o=new x("write")),o)?(i.nextTick(n,o),C(e,o,!0),o):(a.pendingcb++,function(e,t,r,n,i){let o=t.objectMode?1:r.length;t.length+=o;let a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==A&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),a&&!t.errored&&!t.destroyed}(e,a,t,r,n))}function D(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new x("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function z(e,t,r,n){--t.pendingcb,n(r),W(t),C(e,r)}function F(e,t){let r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o){C(e,new S);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),n?i.nextTick(z,e,r,t,o):z(e,r,t,o)):(r.buffered.length>r.bufferedIndex&&Z(e,r),n?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===o?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:o,stream:e,state:r},i.nextTick(B,r.afterWriteTickInfo)):U(e,r,1,o))}function B({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,U(e,t,r,n)}function U(e,t,r,n){for(t.ending||e.destroyed||0!==t.length||!t.needDrain||(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&W(t),q(e,t)}function W(e){var t,r;if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){let{chunk:n,callback:i}=e.buffered[r],o=e.objectMode?1:n.length;e.length-=o,i(null!==(t=e.errored)&&void 0!==t?t:new x("write"))}let n=e[R].splice(0);for(let t=0;t<n.length;t++)n[t](null!==(r=e.errored)&&void 0!==r?r:new x("end"));I(e)}function Z(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=t,a=r.length-n;if(!a)return;let s=n;if(t.bufferProcessing=!0,a>1&&e._writev){t.pendingcb-=a-1;let n=t.allNoop?A:e=>{for(let t=s;t<r.length;++t)r[t].callback(e)},i=t.allNoop&&0===s?r:o(r,s);i.allBuffers=t.allBuffers,D(e,t,!0,t.length,i,"",n),I(t)}else{do{let{chunk:n,encoding:o,callback:a}=r[s];r[s++]=null,D(e,t,!1,i?1:n.length,n,o,a)}while(s<r.length&&!t.writing);s===r.length?I(t):s>256?(r.splice(0,s),t.bufferedIndex=0):t.bufferedIndex=s}t.bufferProcessing=!1}function V(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function q(e,t,r){V(t)&&(t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let r=!1;function n(n){if(r){C(e,null!=n?n:S());return}if(r=!0,t.pendingcb--,n){let r=t[R].splice(0);for(let e=0;e<r.length;e++)r[e](n);C(e,n,t.sync)}else V(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,i.nextTick($,e,t))}t.sync=!0,t.pendingcb++;try{e._final(n)}catch(e){n(e)}t.sync=!1}(e,t))),0===t.pendingcb&&(r?(t.pendingcb++,i.nextTick((e,t)=>{V(t)?$(e,t):t.pendingcb--},e,t)):V(t)&&(t.pendingcb++,$(e,t))))}function $(e,t){t.pendingcb--,t.finished=!0;let r=t[R].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){let t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}M.prototype.getBuffer=function(){return o(this.buffered,this.bufferedIndex)},l(M.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),l(N,p,{__proto__:null,value:function(e){return!!s(this,e)||this===N&&e&&e._writableState instanceof M}}),N.prototype.pipe=function(){C(this,new E)},N.prototype.write=function(e,t,r){return!0===L(this,e,t,r)},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||Z(this,e))},N.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=f(e)),!b.isEncoding(e))throw new k(e);return this._writableState.defaultEncoding=e,this},N.prototype._write=function(e,t,r){if(this._writev)this._writev([{chunk:e,encoding:t}],r);else throw new w("_write()")},N.prototype._writev=null,N.prototype.end=function(e,t,r){let n;let o=this._writableState;if("function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e){let r=L(this,e,t);r instanceof a&&(n=r)}return o.corked&&(o.corked=1,this.uncork()),n||(o.errored||o.ending?o.finished?n=new P("end"):o.destroyed&&(n=new x("end")):(o.ending=!0,q(this,o,!0),o.ended=!0)),"function"==typeof r&&(n||o.finished?i.nextTick(r,n):o[R].push(r)),this},u(N.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._writableState.writable&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});let H=g.destroy;function G(){return void 0===n&&(n={}),n}N.prototype.destroy=function(e,t){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[R].length)&&i.nextTick(W,r),H.call(this,e,t),this},N.prototype._undestroy=g.undestroy,N.prototype._destroy=function(e,t){t(e)},N.prototype[h.captureRejectionSymbol]=function(e){this.destroy(e)},N.fromWeb=function(e,t){return G().newStreamWritableFromWritableStream(e,t)},N.toWeb=function(e){return G().newWritableStreamFromStreamWritable(e)}},15095:(e,t,r)=>{"use strict";let{ArrayIsArray:n,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:o,ArrayPrototypeMap:a,NumberIsInteger:s,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:u,NumberMIN_SAFE_INTEGER:c,NumberParseInt:f,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:p,String:h,StringPrototypeToUpperCase:y,StringPrototypeTrim:b}=r(41795),{hideStackFrames:g,codes:{ERR_SOCKET_BAD_PORT:m,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:_,ERR_OUT_OF_RANGE:O,ERR_UNKNOWN_SIGNAL:w}}=r(46809),{normalizeEncoding:S}=r(21777),{isAsyncFunction:E,isArrayBufferView:x}=r(21777).types,P={},j=/^[0-7]+$/,T=g((e,t,r=c,n=u)=>{if("number"!=typeof e)throw new v(t,"number",e);if(!s(e))throw new O(t,"an integer",e);if(e<r||e>n)throw new O(t,`>= ${r} && <= ${n}`,e)}),k=g((e,t,r=-0x80000000,n=0x7fffffff)=>{if("number"!=typeof e)throw new v(t,"number",e);if(!s(e))throw new O(t,"an integer",e);if(e<r||e>n)throw new O(t,`>= ${r} && <= ${n}`,e)}),C=g((e,t,r=!1)=>{if("number"!=typeof e)throw new v(t,"number",e);if(!s(e))throw new O(t,"an integer",e);let n=r?1:0;if(e<n||e>0xffffffff)throw new O(t,`>= ${n} && <= 4294967295`,e)});function A(e,t){if("string"!=typeof e)throw new v(t,"string",e)}let R=g((e,t,r)=>{if(!i(r,e))throw new _(t,e,"must be one of: "+o(a(r,e=>"string"==typeof e?`'${e}'`:h(e)),", "))});function M(e,t){if("boolean"!=typeof e)throw new v(t,"boolean",e)}function I(e,t,r){return null!=e&&d(e,t)?e[t]:r}let N=g((e,t,r=null)=>{let i=I(r,"allowArray",!1),o=I(r,"allowFunction",!1);if(!I(r,"nullable",!1)&&null===e||!i&&n(e)||"object"!=typeof e&&(!o||"function"!=typeof e))throw new v(t,"Object",e)}),L=g((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new v(t,"a dictionary",e)}),D=g((e,t,r=0)=>{if(!n(e))throw new v(t,"Array",e);if(e.length<r)throw new _(t,e,`must be longer than ${r}`)}),z=g((e,t="buffer")=>{if(!x(e))throw new v(t,["Buffer","TypedArray","DataView"],e)}),F=g((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new v(t,"AbortSignal",e)}),B=g((e,t)=>{if("function"!=typeof e)throw new v(t,"Function",e)}),U=g((e,t)=>{if("function"!=typeof e||E(e))throw new v(t,"Function",e)}),W=g((e,t)=>{if(void 0!==e)throw new v(t,"undefined",e)}),Z=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function V(e,t){if(void 0===e||!p(Z,e))throw new _(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(void 0===e&&(e=r),"string"==typeof e){if(null===p(j,e))throw new _(t,e,"must be a 32-bit unsigned integer or an octal string");e=f(e,8)}return C(e,t),e},validateArray:D,validateStringArray:function(e,t){D(e,t);for(let r=0;r<e.length;r++)A(e[r],`${t}[${r}]`)},validateBooleanArray:function(e,t){D(e,t);for(let r=0;r<e.length;r++)M(e[r],`${t}[${r}]`)},validateAbortSignalArray:function(e,t){D(e,t);for(let r=0;r<e.length;r++){let n=e[r],i=`${t}[${r}]`;if(null==n)throw new v(i,"AbortSignal",n);F(n,i)}},validateBoolean:M,validateBuffer:z,validateDictionary:L,validateEncoding:function(e,t){let r=S(t),n=e.length;if("hex"===r&&n%2!=0)throw new _("encoding",t,`is invalid for data of length ${n}`)},validateFunction:B,validateInt32:k,validateInteger:T,validateNumber:function(e,t,r,n){if("number"!=typeof e)throw new v(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&l(e))throw new O(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:N,validateOneOf:R,validatePlainFunction:U,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===b(e).length||+e!=+e>>>0||e>65535||0===e&&!r)throw new m(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(A(e,t),void 0===P[e]){if(void 0!==P[y(e)])throw new w(e+" (signals must use all capital letters)");throw new w(e)}},validateString:A,validateUint32:C,validateUndefined:W,validateUnion:function(e,t,r){if(!i(r,e))throw new v(t,`('${o(r,"|")}')`,e)},validateAbortSignal:F,validateLinkHeaderValue:function(e){if("string"==typeof e)return V(e,"hints"),e;if(n(e)){let t=e.length,r="";if(0===t)return r;for(let n=0;n<t;n++){let i=e[n];V(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new _("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},75517:(e,t,r)=>{"use strict";let n=r(14017),i=r(61126),o=n.Readable.destroy;e.exports=n.Readable,e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.destroy=o,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get:()=>i}),e.exports.Stream=n.Stream,e.exports.default=e.exports},46809:(e,t,r)=>{"use strict";let{format:n,inspect:i,AggregateError:o}=r(21777),a=globalThis.AggregateError||o,s=Symbol("kIsNodeError"),l=["string","function","number","object","Function","Object","boolean","bigint","symbol"],u=/^([A-Z][a-z0-9]*)+$/,c={};function f(e,t){if(!e)throw new c.ERR_INTERNAL_ASSERTION(t)}function d(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function p(e,t,r){r||(r=Error);class i extends r{constructor(...r){super(function(e,t,r){if("function"==typeof t)return f(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);let i=(t.match(/%[dfijoOs]/g)||[]).length;return(f(i===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),0===r.length)?t:n(t,...r)}(e,t,r))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[s]=!0,c[e]=i}function h(e){let t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class y extends Error{constructor(e="The operation was aborted",t){if(void 0!==t&&"object"!=typeof t)throw new c.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}p("ERR_ASSERTION","%s",Error),p("ERR_INVALID_ARG_TYPE",(e,t,r)=>{f("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";let o=[],a=[],s=[];for(let e of t)f("string"==typeof e,"All expected entries have to be of type string"),l.includes(e)?o.push(e.toLowerCase()):u.test(e)?a.push(e):(f("object"!==e,'The value "object" should be written as "Object"'),s.push(e));if(a.length>0){let e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),a.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{let e=o.pop();n+=`one of type ${o.join(", ")}, or ${e}`}}(a.length>0||s.length>0)&&(n+=" or ")}if(a.length>0){switch(a.length){case 1:n+=`an instance of ${a[0]}`;break;case 2:n+=`an instance of ${a[0]} or ${a[1]}`;break;default:{let e=a.pop();n+=`an instance of ${a.join(", ")}, or ${e}`}}s.length>0&&(n+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(n+="an "),n+=`${s[0]}`;break;case 2:n+=`one of ${s[0]} or ${s[1]}`;break;default:{let e=s.pop();n+=`one of ${s.join(", ")}, or ${e}`}}if(null==r)n+=`. Received ${r}`;else if("function"==typeof r&&r.name)n+=`. Received function ${r.name}`;else if("object"==typeof r){var c;if(null!==(c=r.constructor)&&void 0!==c&&c.name)n+=`. Received an instance of ${r.constructor.name}`;else{let e=i(r,{depth:-1});n+=`. Received ${e}`}}else{let e=i(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),n+=`. Received type ${typeof r} (${e})`}return n},TypeError),p("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=i(t);n.length>128&&(n=n.slice(0,128)+"...");let o=e.includes(".")?"property":"argument";return`The ${o} '${e}' ${r}. Received ${n}`},TypeError),p("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;let i=null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${i}.`},TypeError),p("ERR_MISSING_ARGS",(...e)=>{let t;f(e.length>0,"At least one arg needs to be specified");let r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(e=>`"${e}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`},TypeError),p("ERR_OUT_OF_RANGE",(e,t,r)=>{let n;return f(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>0x100000000?n=d(String(r)):"bigint"==typeof r?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=d(n)),n+="n"):n=i(r),`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),p("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),p("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),p("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),p("ERR_STREAM_WRITE_AFTER_END","write after end",Error),p("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:y,aggregateTwoErrors:h(function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let r=new a([t,e],t.message);return r.code=t.code,r}return e||t}),hideStackFrames:h,codes:c}},41795:e=>{"use strict";e.exports={ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Boolean:Boolean,Uint8Array}},21777:(e,t,r)=>{"use strict";let n=r(15313),{kResistStopPropagation:i,SymbolDispose:o}=r(41795),AbortSignal=globalThis.AbortSignal||r(73019).AbortSignal,a=globalThis.AbortController||r(73019).AbortController,s=Object.getPrototypeOf(async function(){}).constructor,l=globalThis.Blob||n.Blob,u=(e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new ERR_INVALID_ARG_TYPE(t,"AbortSignal",e)},c=(e,t)=>{if("function"!=typeof e)throw new ERR_INVALID_ARG_TYPE(t,"Function",e)};class f extends Error{constructor(e){if(!Array.isArray(e))throw TypeError(`Expected input to be an Array, got ${typeof e}`);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}
`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:f,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}},promisify:e=>new Promise((t,r)=>{e((e,...n)=>e?r(e):t(...n))}),debuglog:()=>function(){},format:(e,...t)=>e.replace(/%([sdifj])/g,function(...[e,r]){let n=t.shift();if("f"===r)return n.toFixed(6);if("j"===r)return JSON.stringify(n);if("s"!==r||"object"!=typeof n)return n.toString();{let e=n.constructor!==Object?n.constructor.name:"";return`${e} {}`.trim()}}),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":if(isNaN(e))return"NaN";if(Object.is(e,-0))return String(e);return e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction:e=>e instanceof s,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:void 0!==l?function(e){return e instanceof l}:function(e){return!1},deprecate:(e,t)=>e,addAbortListener:r(47324).addAbortListener||function(e,t){let r;if(void 0===e)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",e);return u(e,"signal"),c(t,"listener"),e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[i]:!0}),r=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[o](){var e;null===(e=r)||void 0===e||e()}}},AbortSignalAny:AbortSignal.any||function(e){if(1===e.length)return e[0];let t=new a,r=()=>t.abort();return e.forEach(e=>{u(e,"signals"),e.addEventListener("abort",r,{once:!0})}),t.signal.addEventListener("abort",()=>{e.forEach(e=>e.removeEventListener("abort",r))},{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},14017:(e,t,r)=>{"use strict";let{Buffer:n}=r(15313),{ObjectDefineProperty:i,ObjectKeys:o,ReflectApply:a}=r(41795),{promisify:{custom:s}}=r(21777),{streamReturningOperators:l,promiseReturningOperators:u}=r(87181),{codes:{ERR_ILLEGAL_CONSTRUCTOR:c}}=r(46809),f=r(95804),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:p}=r(93496),{pipeline:h}=r(22779),{destroyer:y}=r(21666),b=r(57159),g=r(61126),m=r(72171),v=e.exports=r(63668).Stream;for(let e of(v.isDestroyed=m.isDestroyed,v.isDisturbed=m.isDisturbed,v.isErrored=m.isErrored,v.isReadable=m.isReadable,v.isWritable=m.isWritable,v.Readable=r(80735),o(l))){let t=l[e];function _(...e){if(new.target)throw c();return v.Readable.from(a(t,this,e))}i(_,"name",{__proto__:null,value:t.name}),i(_,"length",{__proto__:null,value:t.length}),i(v.Readable.prototype,e,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}for(let e of o(u)){let t=u[e];function _(...e){if(new.target)throw c();return a(t,this,e)}i(_,"name",{__proto__:null,value:t.name}),i(_,"length",{__proto__:null,value:t.length}),i(v.Readable.prototype,e,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}v.Writable=r(15746),v.Duplex=r(10272),v.Transform=r(39032),v.PassThrough=r(34367),v.pipeline=h;let{addAbortSignal:O}=r(7461);v.addAbortSignal=O,v.finished=b,v.destroy=y,v.compose=f,v.setDefaultHighWaterMark=d,v.getDefaultHighWaterMark=p,i(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>g}),i(h,s,{__proto__:null,enumerable:!0,get:()=>g.pipeline}),i(b,s,{__proto__:null,enumerable:!0,get:()=>g.finished}),v.Stream=v,v._isUint8Array=function(e){return e instanceof Uint8Array},v._uint8ArrayToBuffer=function(e){return n.from(e.buffer,e.byteOffset,e.byteLength)}},61126:(e,t,r)=>{"use strict";let{ArrayPrototypePop:n,Promise:i}=r(41795),{isIterable:o,isNodeStream:a,isWebStream:s}=r(72171),{pipelineImpl:l}=r(22779),{finished:u}=r(57159);r(14017),e.exports={finished:u,pipeline:function(...e){return new i((t,r)=>{let i,u;let c=e[e.length-1];if(c&&"object"==typeof c&&!a(c)&&!o(c)&&!s(c)){let t=n(e);i=t.signal,u=t.end}l(e,(e,n)=>{e?r(e):t(n)},{signal:i,end:u})})}}},4988:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.interval=t.iif=t.generate=t.fromEventPattern=t.fromEvent=t.from=t.forkJoin=t.empty=t.defer=t.connectable=t.concat=t.combineLatest=t.bindNodeCallback=t.bindCallback=t.UnsubscriptionError=t.TimeoutError=t.SequenceError=t.ObjectUnsubscribedError=t.NotFoundError=t.EmptyError=t.ArgumentOutOfRangeError=t.firstValueFrom=t.lastValueFrom=t.isObservable=t.identity=t.noop=t.pipe=t.NotificationKind=t.Notification=t.Subscriber=t.Subscription=t.Scheduler=t.VirtualAction=t.VirtualTimeScheduler=t.animationFrameScheduler=t.animationFrame=t.queueScheduler=t.queue=t.asyncScheduler=t.async=t.asapScheduler=t.asap=t.AsyncSubject=t.ReplaySubject=t.BehaviorSubject=t.Subject=t.animationFrames=t.observable=t.ConnectableObservable=t.Observable=void 0,t.filter=t.expand=t.exhaustMap=t.exhaustAll=t.exhaust=t.every=t.endWith=t.elementAt=t.distinctUntilKeyChanged=t.distinctUntilChanged=t.distinct=t.dematerialize=t.delayWhen=t.delay=t.defaultIfEmpty=t.debounceTime=t.debounce=t.count=t.connect=t.concatWith=t.concatMapTo=t.concatMap=t.concatAll=t.combineLatestWith=t.combineLatestAll=t.combineAll=t.catchError=t.bufferWhen=t.bufferToggle=t.bufferTime=t.bufferCount=t.buffer=t.auditTime=t.audit=t.config=t.NEVER=t.EMPTY=t.scheduled=t.zip=t.using=t.timer=t.throwError=t.range=t.race=t.partition=t.pairs=t.onErrorResumeNext=t.of=t.never=t.merge=void 0,t.switchMap=t.switchAll=t.subscribeOn=t.startWith=t.skipWhile=t.skipUntil=t.skipLast=t.skip=t.single=t.shareReplay=t.share=t.sequenceEqual=t.scan=t.sampleTime=t.sample=t.refCount=t.retryWhen=t.retry=t.repeatWhen=t.repeat=t.reduce=t.raceWith=t.publishReplay=t.publishLast=t.publishBehavior=t.publish=t.pluck=t.pairwise=t.onErrorResumeNextWith=t.observeOn=t.multicast=t.min=t.mergeWith=t.mergeScan=t.mergeMapTo=t.mergeMap=t.flatMap=t.mergeAll=t.max=t.materialize=t.mapTo=t.map=t.last=t.isEmpty=t.ignoreElements=t.groupBy=t.first=t.findIndex=t.find=t.finalize=void 0,t.zipWith=t.zipAll=t.withLatestFrom=t.windowWhen=t.windowToggle=t.windowTime=t.windowCount=t.window=t.toArray=t.timestamp=t.timeoutWith=t.timeout=t.timeInterval=t.throwIfEmpty=t.throttleTime=t.throttle=t.tap=t.takeWhile=t.takeUntil=t.takeLast=t.take=t.switchScan=t.switchMapTo=void 0;var o=r(23199);Object.defineProperty(t,"Observable",{enumerable:!0,get:function(){return o.Observable}});var a=r(13322);Object.defineProperty(t,"ConnectableObservable",{enumerable:!0,get:function(){return a.ConnectableObservable}});var s=r(95833);Object.defineProperty(t,"observable",{enumerable:!0,get:function(){return s.observable}});var l=r(50024);Object.defineProperty(t,"animationFrames",{enumerable:!0,get:function(){return l.animationFrames}});var u=r(23141);Object.defineProperty(t,"Subject",{enumerable:!0,get:function(){return u.Subject}});var c=r(78762);Object.defineProperty(t,"BehaviorSubject",{enumerable:!0,get:function(){return c.BehaviorSubject}});var f=r(41986);Object.defineProperty(t,"ReplaySubject",{enumerable:!0,get:function(){return f.ReplaySubject}});var d=r(14436);Object.defineProperty(t,"AsyncSubject",{enumerable:!0,get:function(){return d.AsyncSubject}});var p=r(49401);Object.defineProperty(t,"asap",{enumerable:!0,get:function(){return p.asap}}),Object.defineProperty(t,"asapScheduler",{enumerable:!0,get:function(){return p.asapScheduler}});var h=r(3459);Object.defineProperty(t,"async",{enumerable:!0,get:function(){return h.async}}),Object.defineProperty(t,"asyncScheduler",{enumerable:!0,get:function(){return h.asyncScheduler}});var y=r(65382);Object.defineProperty(t,"queue",{enumerable:!0,get:function(){return y.queue}}),Object.defineProperty(t,"queueScheduler",{enumerable:!0,get:function(){return y.queueScheduler}});var b=r(8610);Object.defineProperty(t,"animationFrame",{enumerable:!0,get:function(){return b.animationFrame}}),Object.defineProperty(t,"animationFrameScheduler",{enumerable:!0,get:function(){return b.animationFrameScheduler}});var g=r(19637);Object.defineProperty(t,"VirtualTimeScheduler",{enumerable:!0,get:function(){return g.VirtualTimeScheduler}}),Object.defineProperty(t,"VirtualAction",{enumerable:!0,get:function(){return g.VirtualAction}});var m=r(42847);Object.defineProperty(t,"Scheduler",{enumerable:!0,get:function(){return m.Scheduler}});var v=r(25453);Object.defineProperty(t,"Subscription",{enumerable:!0,get:function(){return v.Subscription}});var _=r(60861);Object.defineProperty(t,"Subscriber",{enumerable:!0,get:function(){return _.Subscriber}});var O=r(70236);Object.defineProperty(t,"Notification",{enumerable:!0,get:function(){return O.Notification}}),Object.defineProperty(t,"NotificationKind",{enumerable:!0,get:function(){return O.NotificationKind}});var w=r(64092);Object.defineProperty(t,"pipe",{enumerable:!0,get:function(){return w.pipe}});var S=r(2752);Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return S.noop}});var E=r(61490);Object.defineProperty(t,"identity",{enumerable:!0,get:function(){return E.identity}});var x=r(59295);Object.defineProperty(t,"isObservable",{enumerable:!0,get:function(){return x.isObservable}});var P=r(1023);Object.defineProperty(t,"lastValueFrom",{enumerable:!0,get:function(){return P.lastValueFrom}});var j=r(11193);Object.defineProperty(t,"firstValueFrom",{enumerable:!0,get:function(){return j.firstValueFrom}});var T=r(50376);Object.defineProperty(t,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return T.ArgumentOutOfRangeError}});var k=r(5245);Object.defineProperty(t,"EmptyError",{enumerable:!0,get:function(){return k.EmptyError}});var C=r(83505);Object.defineProperty(t,"NotFoundError",{enumerable:!0,get:function(){return C.NotFoundError}});var A=r(13331);Object.defineProperty(t,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return A.ObjectUnsubscribedError}});var R=r(74520);Object.defineProperty(t,"SequenceError",{enumerable:!0,get:function(){return R.SequenceError}});var M=r(71934);Object.defineProperty(t,"TimeoutError",{enumerable:!0,get:function(){return M.TimeoutError}});var I=r(11251);Object.defineProperty(t,"UnsubscriptionError",{enumerable:!0,get:function(){return I.UnsubscriptionError}});var N=r(76381);Object.defineProperty(t,"bindCallback",{enumerable:!0,get:function(){return N.bindCallback}});var L=r(59138);Object.defineProperty(t,"bindNodeCallback",{enumerable:!0,get:function(){return L.bindNodeCallback}});var D=r(26839);Object.defineProperty(t,"combineLatest",{enumerable:!0,get:function(){return D.combineLatest}});var z=r(33824);Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return z.concat}});var F=r(99680);Object.defineProperty(t,"connectable",{enumerable:!0,get:function(){return F.connectable}});var B=r(48177);Object.defineProperty(t,"defer",{enumerable:!0,get:function(){return B.defer}});var U=r(26692);Object.defineProperty(t,"empty",{enumerable:!0,get:function(){return U.empty}});var W=r(40683);Object.defineProperty(t,"forkJoin",{enumerable:!0,get:function(){return W.forkJoin}});var Z=r(35079);Object.defineProperty(t,"from",{enumerable:!0,get:function(){return Z.from}});var V=r(55789);Object.defineProperty(t,"fromEvent",{enumerable:!0,get:function(){return V.fromEvent}});var q=r(50881);Object.defineProperty(t,"fromEventPattern",{enumerable:!0,get:function(){return q.fromEventPattern}});var $=r(84014);Object.defineProperty(t,"generate",{enumerable:!0,get:function(){return $.generate}});var H=r(28386);Object.defineProperty(t,"iif",{enumerable:!0,get:function(){return H.iif}});var G=r(70634);Object.defineProperty(t,"interval",{enumerable:!0,get:function(){return G.interval}});var Y=r(12285);Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return Y.merge}});var K=r(81869);Object.defineProperty(t,"never",{enumerable:!0,get:function(){return K.never}});var X=r(57664);Object.defineProperty(t,"of",{enumerable:!0,get:function(){return X.of}});var Q=r(28375);Object.defineProperty(t,"onErrorResumeNext",{enumerable:!0,get:function(){return Q.onErrorResumeNext}});var J=r(30701);Object.defineProperty(t,"pairs",{enumerable:!0,get:function(){return J.pairs}});var ee=r(3128);Object.defineProperty(t,"partition",{enumerable:!0,get:function(){return ee.partition}});var et=r(26666);Object.defineProperty(t,"race",{enumerable:!0,get:function(){return et.race}});var er=r(7786);Object.defineProperty(t,"range",{enumerable:!0,get:function(){return er.range}});var en=r(26395);Object.defineProperty(t,"throwError",{enumerable:!0,get:function(){return en.throwError}});var ei=r(22418);Object.defineProperty(t,"timer",{enumerable:!0,get:function(){return ei.timer}});var eo=r(57590);Object.defineProperty(t,"using",{enumerable:!0,get:function(){return eo.using}});var ea=r(93810);Object.defineProperty(t,"zip",{enumerable:!0,get:function(){return ea.zip}});var es=r(2123);Object.defineProperty(t,"scheduled",{enumerable:!0,get:function(){return es.scheduled}});var el=r(26692);Object.defineProperty(t,"EMPTY",{enumerable:!0,get:function(){return el.EMPTY}});var eu=r(81869);Object.defineProperty(t,"NEVER",{enumerable:!0,get:function(){return eu.NEVER}}),i(r(8983),t);var ec=r(14990);Object.defineProperty(t,"config",{enumerable:!0,get:function(){return ec.config}});var ef=r(22066);Object.defineProperty(t,"audit",{enumerable:!0,get:function(){return ef.audit}});var ed=r(30341);Object.defineProperty(t,"auditTime",{enumerable:!0,get:function(){return ed.auditTime}});var ep=r(72782);Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return ep.buffer}});var eh=r(78717);Object.defineProperty(t,"bufferCount",{enumerable:!0,get:function(){return eh.bufferCount}});var ey=r(43436);Object.defineProperty(t,"bufferTime",{enumerable:!0,get:function(){return ey.bufferTime}});var eb=r(46465);Object.defineProperty(t,"bufferToggle",{enumerable:!0,get:function(){return eb.bufferToggle}});var eg=r(64695);Object.defineProperty(t,"bufferWhen",{enumerable:!0,get:function(){return eg.bufferWhen}});var em=r(27365);Object.defineProperty(t,"catchError",{enumerable:!0,get:function(){return em.catchError}});var ev=r(79026);Object.defineProperty(t,"combineAll",{enumerable:!0,get:function(){return ev.combineAll}});var e_=r(57151);Object.defineProperty(t,"combineLatestAll",{enumerable:!0,get:function(){return e_.combineLatestAll}});var eO=r(52606);Object.defineProperty(t,"combineLatestWith",{enumerable:!0,get:function(){return eO.combineLatestWith}});var ew=r(41602);Object.defineProperty(t,"concatAll",{enumerable:!0,get:function(){return ew.concatAll}});var eS=r(27997);Object.defineProperty(t,"concatMap",{enumerable:!0,get:function(){return eS.concatMap}});var eE=r(82217);Object.defineProperty(t,"concatMapTo",{enumerable:!0,get:function(){return eE.concatMapTo}});var ex=r(32353);Object.defineProperty(t,"concatWith",{enumerable:!0,get:function(){return ex.concatWith}});var eP=r(25034);Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return eP.connect}});var ej=r(91402);Object.defineProperty(t,"count",{enumerable:!0,get:function(){return ej.count}});var eT=r(34511);Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return eT.debounce}});var ek=r(20790);Object.defineProperty(t,"debounceTime",{enumerable:!0,get:function(){return ek.debounceTime}});var eC=r(39124);Object.defineProperty(t,"defaultIfEmpty",{enumerable:!0,get:function(){return eC.defaultIfEmpty}});var eA=r(95745);Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return eA.delay}});var eR=r(89737);Object.defineProperty(t,"delayWhen",{enumerable:!0,get:function(){return eR.delayWhen}});var eM=r(76088);Object.defineProperty(t,"dematerialize",{enumerable:!0,get:function(){return eM.dematerialize}});var eI=r(59757);Object.defineProperty(t,"distinct",{enumerable:!0,get:function(){return eI.distinct}});var eN=r(38620);Object.defineProperty(t,"distinctUntilChanged",{enumerable:!0,get:function(){return eN.distinctUntilChanged}});var eL=r(84742);Object.defineProperty(t,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return eL.distinctUntilKeyChanged}});var eD=r(81943);Object.defineProperty(t,"elementAt",{enumerable:!0,get:function(){return eD.elementAt}});var ez=r(78596);Object.defineProperty(t,"endWith",{enumerable:!0,get:function(){return ez.endWith}});var eF=r(64385);Object.defineProperty(t,"every",{enumerable:!0,get:function(){return eF.every}});var eB=r(80406);Object.defineProperty(t,"exhaust",{enumerable:!0,get:function(){return eB.exhaust}});var eU=r(80115);Object.defineProperty(t,"exhaustAll",{enumerable:!0,get:function(){return eU.exhaustAll}});var eW=r(92464);Object.defineProperty(t,"exhaustMap",{enumerable:!0,get:function(){return eW.exhaustMap}});var eZ=r(70045);Object.defineProperty(t,"expand",{enumerable:!0,get:function(){return eZ.expand}});var eV=r(4079);Object.defineProperty(t,"filter",{enumerable:!0,get:function(){return eV.filter}});var eq=r(15378);Object.defineProperty(t,"finalize",{enumerable:!0,get:function(){return eq.finalize}});var e$=r(3604);Object.defineProperty(t,"find",{enumerable:!0,get:function(){return e$.find}});var eH=r(46711);Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return eH.findIndex}});var eG=r(10759);Object.defineProperty(t,"first",{enumerable:!0,get:function(){return eG.first}});var eY=r(34725);Object.defineProperty(t,"groupBy",{enumerable:!0,get:function(){return eY.groupBy}});var eK=r(28198);Object.defineProperty(t,"ignoreElements",{enumerable:!0,get:function(){return eK.ignoreElements}});var eX=r(12236);Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return eX.isEmpty}});var eQ=r(82101);Object.defineProperty(t,"last",{enumerable:!0,get:function(){return eQ.last}});var eJ=r(52311);Object.defineProperty(t,"map",{enumerable:!0,get:function(){return eJ.map}});var e0=r(93918);Object.defineProperty(t,"mapTo",{enumerable:!0,get:function(){return e0.mapTo}});var e1=r(543);Object.defineProperty(t,"materialize",{enumerable:!0,get:function(){return e1.materialize}});var e2=r(92767);Object.defineProperty(t,"max",{enumerable:!0,get:function(){return e2.max}});var e5=r(54435);Object.defineProperty(t,"mergeAll",{enumerable:!0,get:function(){return e5.mergeAll}});var e4=r(76064);Object.defineProperty(t,"flatMap",{enumerable:!0,get:function(){return e4.flatMap}});var e3=r(27444);Object.defineProperty(t,"mergeMap",{enumerable:!0,get:function(){return e3.mergeMap}});var e6=r(18916);Object.defineProperty(t,"mergeMapTo",{enumerable:!0,get:function(){return e6.mergeMapTo}});var e8=r(84061);Object.defineProperty(t,"mergeScan",{enumerable:!0,get:function(){return e8.mergeScan}});var e9=r(80343);Object.defineProperty(t,"mergeWith",{enumerable:!0,get:function(){return e9.mergeWith}});var e7=r(11789);Object.defineProperty(t,"min",{enumerable:!0,get:function(){return e7.min}});var te=r(64417);Object.defineProperty(t,"multicast",{enumerable:!0,get:function(){return te.multicast}});var tt=r(63493);Object.defineProperty(t,"observeOn",{enumerable:!0,get:function(){return tt.observeOn}});var tr=r(9804);Object.defineProperty(t,"onErrorResumeNextWith",{enumerable:!0,get:function(){return tr.onErrorResumeNextWith}});var tn=r(60200);Object.defineProperty(t,"pairwise",{enumerable:!0,get:function(){return tn.pairwise}});var ti=r(26301);Object.defineProperty(t,"pluck",{enumerable:!0,get:function(){return ti.pluck}});var to=r(89429);Object.defineProperty(t,"publish",{enumerable:!0,get:function(){return to.publish}});var ta=r(31711);Object.defineProperty(t,"publishBehavior",{enumerable:!0,get:function(){return ta.publishBehavior}});var ts=r(40454);Object.defineProperty(t,"publishLast",{enumerable:!0,get:function(){return ts.publishLast}});var tl=r(78982);Object.defineProperty(t,"publishReplay",{enumerable:!0,get:function(){return tl.publishReplay}});var tu=r(11785);Object.defineProperty(t,"raceWith",{enumerable:!0,get:function(){return tu.raceWith}});var tc=r(19901);Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return tc.reduce}});var tf=r(9410);Object.defineProperty(t,"repeat",{enumerable:!0,get:function(){return tf.repeat}});var td=r(89638);Object.defineProperty(t,"repeatWhen",{enumerable:!0,get:function(){return td.repeatWhen}});var tp=r(3555);Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return tp.retry}});var th=r(32655);Object.defineProperty(t,"retryWhen",{enumerable:!0,get:function(){return th.retryWhen}});var ty=r(66349);Object.defineProperty(t,"refCount",{enumerable:!0,get:function(){return ty.refCount}});var tb=r(57996);Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return tb.sample}});var tg=r(68432);Object.defineProperty(t,"sampleTime",{enumerable:!0,get:function(){return tg.sampleTime}});var tm=r(2539);Object.defineProperty(t,"scan",{enumerable:!0,get:function(){return tm.scan}});var tv=r(33121);Object.defineProperty(t,"sequenceEqual",{enumerable:!0,get:function(){return tv.sequenceEqual}});var t_=r(72023);Object.defineProperty(t,"share",{enumerable:!0,get:function(){return t_.share}});var tO=r(1405);Object.defineProperty(t,"shareReplay",{enumerable:!0,get:function(){return tO.shareReplay}});var tw=r(59247);Object.defineProperty(t,"single",{enumerable:!0,get:function(){return tw.single}});var tS=r(28072);Object.defineProperty(t,"skip",{enumerable:!0,get:function(){return tS.skip}});var tE=r(59114);Object.defineProperty(t,"skipLast",{enumerable:!0,get:function(){return tE.skipLast}});var tx=r(5463);Object.defineProperty(t,"skipUntil",{enumerable:!0,get:function(){return tx.skipUntil}});var tP=r(41920);Object.defineProperty(t,"skipWhile",{enumerable:!0,get:function(){return tP.skipWhile}});var tj=r(31956);Object.defineProperty(t,"startWith",{enumerable:!0,get:function(){return tj.startWith}});var tT=r(53498);Object.defineProperty(t,"subscribeOn",{enumerable:!0,get:function(){return tT.subscribeOn}});var tk=r(62707);Object.defineProperty(t,"switchAll",{enumerable:!0,get:function(){return tk.switchAll}});var tC=r(13676);Object.defineProperty(t,"switchMap",{enumerable:!0,get:function(){return tC.switchMap}});var tA=r(20397);Object.defineProperty(t,"switchMapTo",{enumerable:!0,get:function(){return tA.switchMapTo}});var tR=r(61055);Object.defineProperty(t,"switchScan",{enumerable:!0,get:function(){return tR.switchScan}});var tM=r(18);Object.defineProperty(t,"take",{enumerable:!0,get:function(){return tM.take}});var tI=r(7090);Object.defineProperty(t,"takeLast",{enumerable:!0,get:function(){return tI.takeLast}});var tN=r(98425);Object.defineProperty(t,"takeUntil",{enumerable:!0,get:function(){return tN.takeUntil}});var tL=r(54711);Object.defineProperty(t,"takeWhile",{enumerable:!0,get:function(){return tL.takeWhile}});var tD=r(72770);Object.defineProperty(t,"tap",{enumerable:!0,get:function(){return tD.tap}});var tz=r(3071);Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return tz.throttle}});var tF=r(45467);Object.defineProperty(t,"throttleTime",{enumerable:!0,get:function(){return tF.throttleTime}});var tB=r(64192);Object.defineProperty(t,"throwIfEmpty",{enumerable:!0,get:function(){return tB.throwIfEmpty}});var tU=r(10239);Object.defineProperty(t,"timeInterval",{enumerable:!0,get:function(){return tU.timeInterval}});var tW=r(71934);Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){return tW.timeout}});var tZ=r(82637);Object.defineProperty(t,"timeoutWith",{enumerable:!0,get:function(){return tZ.timeoutWith}});var tV=r(19611);Object.defineProperty(t,"timestamp",{enumerable:!0,get:function(){return tV.timestamp}});var tq=r(81164);Object.defineProperty(t,"toArray",{enumerable:!0,get:function(){return tq.toArray}});var t$=r(63421);Object.defineProperty(t,"window",{enumerable:!0,get:function(){return t$.window}});var tH=r(31305);Object.defineProperty(t,"windowCount",{enumerable:!0,get:function(){return tH.windowCount}});var tG=r(60322);Object.defineProperty(t,"windowTime",{enumerable:!0,get:function(){return tG.windowTime}});var tY=r(54315);Object.defineProperty(t,"windowToggle",{enumerable:!0,get:function(){return tY.windowToggle}});var tK=r(7167);Object.defineProperty(t,"windowWhen",{enumerable:!0,get:function(){return tK.windowWhen}});var tX=r(5547);Object.defineProperty(t,"withLatestFrom",{enumerable:!0,get:function(){return tX.withLatestFrom}});var tQ=r(48513);Object.defineProperty(t,"zipAll",{enumerable:!0,get:function(){return tQ.zipAll}});var tJ=r(65517);Object.defineProperty(t,"zipWith",{enumerable:!0,get:function(){return tJ.zipWith}})},14436:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncSubject=void 0;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return i(t,e),t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,r=this._hasValue,n=this._value,i=this.thrownError,o=this.isStopped,a=this._isComplete;t?e.error(i):(o||a)&&(r&&e.next(n),e.complete())},t.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},t.prototype.complete=function(){var t=this._hasValue,r=this._value;this._isComplete||(this._isComplete=!0,t&&e.prototype.next.call(this,r),e.prototype.complete.call(this))},t}(r(23141).Subject);t.AsyncSubject=o},78762:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.BehaviorSubject=void 0;var o=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return i(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r.closed||t.next(this._value),r},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,r=this._value;if(e)throw t;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(r(23141).Subject);t.BehaviorSubject=o},70236:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observeNotification=t.Notification=t.NotificationKind=void 0;var n=r(26692),i=r(57664),o=r(26395),a=r(48193);!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(t.NotificationKind||(t.NotificationKind={}));var s=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){return l(this,e)},e.prototype.do=function(e,t,r){var n=this.kind,i=this.value,o=this.error;return"N"===n?null==e?void 0:e(i):"E"===n?null==t?void 0:t(o):null==r?void 0:r()},e.prototype.accept=function(e,t,r){return a.isFunction(null==e?void 0:e.next)?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){var e=this.kind,t=this.value,r=this.error,a="N"===e?i.of(t):"E"===e?o.throwError(function(){return r}):"C"===e?n.EMPTY:0;if(!a)throw TypeError("Unexpected notification kind "+e);return a},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function l(e,t){var r,n,i,o=e.kind,a=e.value,s=e.error;if("string"!=typeof o)throw TypeError('Invalid notification, missing "kind"');"N"===o?null===(r=t.next)||void 0===r||r.call(t,a):"E"===o?null===(n=t.error)||void 0===n||n.call(t,s):null===(i=t.complete)||void 0===i||i.call(t)}t.Notification=s,t.observeNotification=l},69605:(e,t)=>{"use strict";function r(e,t,r){return{kind:e,value:t,error:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.createNotification=t.nextNotification=t.errorNotification=t.COMPLETE_NOTIFICATION=void 0,t.COMPLETE_NOTIFICATION=r("C",void 0,void 0),t.errorNotification=function(e){return r("E",void 0,e)},t.nextNotification=function(e){return r("N",e,void 0)},t.createNotification=r},23199:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var n=r(60861),i=r(25453),o=r(95833),a=r(64092),s=r(14990),l=r(48193),u=r(39154),c=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var o,a=this,s=(o=e)&&o instanceof n.Subscriber||o&&l.isFunction(o.next)&&l.isFunction(o.error)&&l.isFunction(o.complete)&&i.isSubscription(o)?e:new n.SafeSubscriber(e,t,r);return u.errorContext(function(){var e=a.operator,t=a.source;s.add(e?e.call(s,t):t?a._subscribe(s):a._trySubscribe(s))}),s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=f(t))(function(t,i){var o=new n.SafeSubscriber({next:function(t){try{e(t)}catch(e){i(e),o.unsubscribe()}},error:i,complete:t});r.subscribe(o)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[o.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=f(e))(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function f(e){var t;return null!==(t=null!=e?e:s.config.Promise)&&void 0!==t?t:Promise}t.Observable=c},41986:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ReplaySubject=void 0;var o=r(23141),a=r(1620),s=function(e){function t(t,r,n){void 0===t&&(t=1/0),void 0===r&&(r=1/0),void 0===n&&(n=a.dateTimestampProvider);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=r,i._timestampProvider=n,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,r),i}return i(t,e),t.prototype.next=function(t){var r=this.isStopped,n=this._buffer,i=this._infiniteTimeWindow,o=this._timestampProvider,a=this._windowTime;!r&&(n.push(t),i||n.push(o.now()+a)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),r=this._infiniteTimeWindow,n=this._buffer.slice(),i=0;i<n.length&&!e.closed;i+=r?1:2)e.next(n[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this._bufferSize,t=this._timestampProvider,r=this._buffer,n=this._infiniteTimeWindow,i=(n?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!n){for(var o=t.now(),a=0,s=1;s<r.length&&r[s]<=o;s+=2)a=s;a&&r.splice(0,a+1)}},t}(o.Subject);t.ReplaySubject=s},42847:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scheduler=void 0;var n=r(1620),i=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=n.dateTimestampProvider.now,e}();t.Scheduler=i},23141:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousSubject=t.Subject=void 0;var a=r(23199),s=r(25453),l=r(13331),u=r(93013),c=r(39154),f=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return i(t,e),t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new l.ObjectUnsubscribedError},t.prototype.next=function(e){var t=this;c.errorContext(function(){var r,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=o(t.currentObservers),a=i.next();!a.done;a=i.next())a.value.next(e)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}})},t.prototype.error=function(e){var t=this;c.errorContext(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}})},t.prototype.complete=function(){var e=this;c.errorContext(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this.hasError,n=this.isStopped,i=this.observers;return r||n?s.EMPTY_SUBSCRIPTION:(this.currentObservers=null,i.push(e),new s.Subscription(function(){t.currentObservers=null,u.arrRemove(i,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,r=this.thrownError,n=this.isStopped;t?e.error(r):n&&e.complete()},t.prototype.asObservable=function(){var e=new a.Observable;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(a.Observable);t.Subject=f;var d=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return i(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:s.EMPTY_SUBSCRIPTION},t}(f);t.AnonymousSubject=d},60861:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_OBSERVER=t.SafeSubscriber=t.Subscriber=void 0;var o=r(48193),a=r(25453),s=r(14990),l=r(36304),u=r(2752),c=r(69605),f=r(62823),d=r(39154),p=function(e){function r(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,a.isSubscription(r)&&r.add(n)):n.destination=t.EMPTY_OBSERVER,n}return i(r,e),r.create=function(e,t,r){return new g(e,t,r)},r.prototype.next=function(e){this.isStopped?v(c.nextNotification(e),this):this._next(e)},r.prototype.error=function(e){this.isStopped?v(c.errorNotification(e),this):(this.isStopped=!0,this._error(e))},r.prototype.complete=function(){this.isStopped?v(c.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(e){this.destination.next(e)},r.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r}(a.Subscription);t.Subscriber=p;var h=Function.prototype.bind;function y(e,t){return h.call(e,t)}var b=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){m(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){m(e)}else m(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){m(e)}},e}(),g=function(e){function t(t,r,n){var i,a,l=e.call(this)||this;return o.isFunction(t)||!t?i={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:l&&s.config.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return l.unsubscribe()},i={next:t.next&&y(t.next,a),error:t.error&&y(t.error,a),complete:t.complete&&y(t.complete,a)}):i=t,l.destination=new b(i),l}return i(t,e),t}(p);function m(e){s.config.useDeprecatedSynchronousErrorHandling?d.captureError(e):l.reportUnhandledError(e)}function v(e,t){var r=s.config.onStoppedNotification;r&&f.timeoutProvider.setTimeout(function(){return r(e,t)})}t.SafeSubscriber=g,t.EMPTY_OBSERVER={closed:!0,next:u.noop,error:function(e){throw e},complete:u.noop}},25453:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.isSubscription=t.EMPTY_SUBSCRIPTION=t.Subscription=void 0;var a=r(48193),s=r(11251),l=r(93013),u=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,r,l,u,f=this._parentage;if(f){if(this._parentage=null,Array.isArray(f))try{for(var d=n(f),p=d.next();!p.done;p=d.next())p.value.remove(this)}catch(t){e={error:t}}finally{try{p&&!p.done&&(t=d.return)&&t.call(d)}finally{if(e)throw e.error}}else f.remove(this)}var h=this.initialTeardown;if(a.isFunction(h))try{h()}catch(e){u=e instanceof s.UnsubscriptionError?e.errors:[e]}var y=this._finalizers;if(y){this._finalizers=null;try{for(var b=n(y),g=b.next();!g.done;g=b.next()){var m=g.value;try{c(m)}catch(e){u=null!=u?u:[],e instanceof s.UnsubscriptionError?u=o(o([],i(u)),i(e.errors)):u.push(e)}}}catch(e){r={error:e}}finally{try{g&&!g.done&&(l=b.return)&&l.call(b)}finally{if(r)throw r.error}}}if(u)throw new s.UnsubscriptionError(u)}},t.prototype.add=function(e){var r;if(e&&e!==this){if(this.closed)c(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&l.arrRemove(t,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&l.arrRemove(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}();function c(e){a.isFunction(e)?e():e.unsubscribe()}t.Subscription=u,t.EMPTY_SUBSCRIPTION=u.EMPTY,t.isSubscription=function(e){return e instanceof u||e&&"closed"in e&&a.isFunction(e.remove)&&a.isFunction(e.add)&&a.isFunction(e.unsubscribe)}},14990:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},11193:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.firstValueFrom=void 0;var n=r(5245),i=r(60861);t.firstValueFrom=function(e,t){var r="object"==typeof t;return new Promise(function(o,a){var s=new i.SafeSubscriber({next:function(e){o(e),s.unsubscribe()},error:a,complete:function(){r?o(t.defaultValue):a(new n.EmptyError)}});e.subscribe(s)})}},1023:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lastValueFrom=void 0;var n=r(5245);t.lastValueFrom=function(e,t){var r="object"==typeof t;return new Promise(function(i,o){var a,s=!1;e.subscribe({next:function(e){a=e,s=!0},error:o,complete:function(){s?i(a):r?i(t.defaultValue):o(new n.EmptyError)}})})}},13322:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectableObservable=void 0;var o=r(23199),a=r(25453),s=r(66349),l=r(59854),u=r(65229),c=function(e){function t(t,r){var n=e.call(this)||this;return n.source=t,n.subjectFactory=r,n._subject=null,n._refCount=0,n._connection=null,u.hasLift(t)&&(n.lift=t.lift),n}return i(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new a.Subscription;var r=this.getSubject();t.add(this.source.subscribe(l.createOperatorSubscriber(r,void 0,function(){e._teardown(),r.complete()},function(t){e._teardown(),r.error(t)},function(){return e._teardown()}))),t.closed&&(this._connection=null,t=a.Subscription.EMPTY)}return t},t.prototype.refCount=function(){return s.refCount()(this)},t}(o.Observable);t.ConnectableObservable=c},76381:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindCallback=void 0;var n=r(60535);t.bindCallback=function(e,t,r){return n.bindCallbackInternals(!1,e,t,r)}},60535:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.bindCallbackInternals=void 0;var o=r(28728),a=r(23199),s=r(53498),l=r(39381),u=r(63493),c=r(14436);t.bindCallbackInternals=function e(t,r,f,d){if(f){if(!o.isScheduler(f))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e(t,r,d).apply(this,n).pipe(l.mapOneOrManyArgs(f))};d=f}return d?function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e(t,r).apply(this,n).pipe(s.subscribeOn(d),u.observeOn(d))}:function(){for(var e=this,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var l=new c.AsyncSubject,u=!0;return new a.Observable(function(a){var s=l.subscribe(a);if(u){u=!1;var c=!1,f=!1;r.apply(e,i(i([],n(o)),[function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(t){var n=e.shift();if(null!=n){l.error(n);return}}l.next(1<e.length?e:e[0]),f=!0,c&&l.complete()}])),f&&l.complete(),c=!0}return s})}}},59138:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindNodeCallback=void 0;var n=r(60535);t.bindNodeCallback=function(e,t,r){return n.bindCallbackInternals(!0,e,t,r)}},26839:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestInit=t.combineLatest=void 0;var n=r(23199),i=r(71944),o=r(35079),a=r(61490),s=r(39381),l=r(31613),u=r(31240),c=r(59854),f=r(71805);function d(e,t,r){return void 0===r&&(r=a.identity),function(n){p(t,function(){for(var i=e.length,a=Array(i),s=i,l=i,u=function(i){p(t,function(){var u=o.from(e[i],t),f=!1;u.subscribe(c.createOperatorSubscriber(n,function(e){a[i]=e,!f&&(f=!0,l--),l||n.next(r(a.slice()))},function(){--s||n.complete()}))},n)},f=0;f<i;f++)u(f)},n)}}function p(e,t,r){e?f.executeSchedule(r,e,t):t()}t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=l.popScheduler(e),c=l.popResultSelector(e),f=i.argsArgArrayOrObject(e),p=f.args,h=f.keys;if(0===p.length)return o.from([],r);var y=new n.Observable(d(p,r,h?function(e){return u.createObject(h,e)}:a.identity));return c?y.pipe(s.mapOneOrManyArgs(c)):y},t.combineLatestInit=d},33824:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var n=r(41602),i=r(31613),o=r(35079);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.concatAll()(o.from(e,i.popScheduler(e)))}},99680:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connectable=void 0;var n=r(23141),i=r(23199),o=r(48177),a={connector:function(){return new n.Subject},resetOnDisconnect:!0};t.connectable=function(e,t){void 0===t&&(t=a);var r=null,n=t.connector,s=t.resetOnDisconnect,l=void 0===s||s,u=n(),c=new i.Observable(function(e){return u.subscribe(e)});return c.connect=function(){return(!r||r.closed)&&(r=o.defer(function(){return e}).subscribe(u),l&&r.add(function(){return u=n()})),r},c}},48177:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defer=void 0;var n=r(23199),i=r(25287);t.defer=function(e){return new n.Observable(function(t){i.innerFrom(e()).subscribe(t)})}},50024:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrames=void 0;var n=r(23199),i=r(44958),o=r(36559);function a(e){return new n.Observable(function(t){var r=e||i.performanceTimestampProvider,n=r.now(),a=0,s=function(){t.closed||(a=o.animationFrameProvider.requestAnimationFrame(function(i){a=0;var o=r.now();t.next({timestamp:e?o:i,elapsed:o-n}),s()}))};return s(),function(){a&&o.animationFrameProvider.cancelAnimationFrame(a)}})}t.animationFrames=function(e){return e?a(e):s};var s=a()},26692:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.empty=t.EMPTY=void 0;var n=r(23199);t.EMPTY=new n.Observable(function(e){return e.complete()}),t.empty=function(e){return e?new n.Observable(function(t){return e.schedule(function(){return t.complete()})}):t.EMPTY}},40683:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forkJoin=void 0;var n=r(23199),i=r(71944),o=r(25287),a=r(31613),s=r(59854),l=r(39381),u=r(31240);t.forkJoin=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=a.popResultSelector(e),c=i.argsArgArrayOrObject(e),f=c.args,d=c.keys,p=new n.Observable(function(e){var t=f.length;if(!t){e.complete();return}for(var r=Array(t),n=t,i=t,a=function(t){var a=!1;o.innerFrom(f[t]).subscribe(s.createOperatorSubscriber(e,function(e){!a&&(a=!0,i--),r[t]=e},function(){return n--},void 0,function(){n&&a||(i||e.next(d?u.createObject(d,r):r),e.complete())}))},l=0;l<t;l++)a(l)});return r?p.pipe(l.mapOneOrManyArgs(r)):p}},35079:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.from=void 0;var n=r(2123),i=r(25287);t.from=function(e,t){return t?n.scheduled(e,t):i.innerFrom(e)}},55789:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.fromEvent=void 0;var i=r(25287),o=r(23199),a=r(27444),s=r(92962),l=r(48193),u=r(39381),c=["addListener","removeListener"],f=["addEventListener","removeEventListener"],d=["on","off"];function p(e,t){return function(r){return function(n){return e[r](t,n)}}}t.fromEvent=function e(t,r,h,y){if(l.isFunction(h)&&(y=h,h=void 0),y)return e(t,r,h).pipe(u.mapOneOrManyArgs(y));var b=n(l.isFunction(t.addEventListener)&&l.isFunction(t.removeEventListener)?f.map(function(e){return function(n){return t[e](r,n,h)}}):l.isFunction(t.addListener)&&l.isFunction(t.removeListener)?c.map(p(t,r)):l.isFunction(t.on)&&l.isFunction(t.off)?d.map(p(t,r)):[],2),g=b[0],m=b[1];if(!g&&s.isArrayLike(t))return a.mergeMap(function(t){return e(t,r,h)})(i.innerFrom(t));if(!g)throw TypeError("Invalid event target");return new o.Observable(function(e){var t=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1<t.length?t:t[0])};return g(t),function(){return m(t)}})}},50881:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromEventPattern=void 0;var n=r(23199),i=r(48193),o=r(39381);t.fromEventPattern=function e(t,r,a){return a?e(t,r).pipe(o.mapOneOrManyArgs(a)):new n.Observable(function(e){var n=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1===t.length?t[0]:t)},o=t(n);return i.isFunction(r)?function(){return r(n,o)}:void 0})}},86189:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromSubscribable=void 0;var n=r(23199);t.fromSubscribable=function(e){return new n.Observable(function(t){return e.subscribe(t)})}},84014:function(e,t,r){"use strict";var n=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.generate=void 0;var i=r(61490),o=r(28728),a=r(48177),s=r(57465);t.generate=function(e,t,r,l,u){var c,f,d;function p(){var e;return n(this,function(n){switch(n.label){case 0:e=d,n.label=1;case 1:if(!(!t||t(e)))return[3,4];return[4,f(e)];case 2:n.sent(),n.label=3;case 3:return e=r(e),[3,1];case 4:return[2]}})}return 1==arguments.length?(d=e.initialState,t=e.condition,r=e.iterate,f=void 0===(c=e.resultSelector)?i.identity:c,u=e.scheduler):(d=e,!l||o.isScheduler(l)?(f=i.identity,u=l):f=l),a.defer(u?function(){return s.scheduleIterable(p(),u)}:p)}},28386:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iif=void 0;var n=r(48177);t.iif=function(e,t,r){return n.defer(function(){return e()?t:r})}},25287:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof a?a(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.fromReadableStreamLike=t.fromAsyncIterable=t.fromIterable=t.fromPromise=t.fromArrayLike=t.fromInteropObservable=t.innerFrom=void 0;var s=r(92962),l=r(88066),u=r(23199),c=r(82223),f=r(47845),d=r(1486),p=r(67854),h=r(27161),y=r(48193),b=r(36304),g=r(95833);function m(e){return new u.Observable(function(t){var r=e[g.observable]();if(y.isFunction(r.subscribe))return r.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")})}function v(e){return new u.Observable(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function _(e){return new u.Observable(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,b.reportUnhandledError)})}function O(e){return new u.Observable(function(t){var r,n;try{for(var i=a(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(t.next(s),t.closed)return}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.complete()})}function w(e){return new u.Observable(function(t){(function(e,t){var r,a,s,l;return n(this,void 0,void 0,function(){var n;return i(this,function(i){switch(i.label){case 0:i.trys.push([0,5,6,11]),r=o(e),i.label=1;case 1:return[4,r.next()];case 2:if((a=i.sent()).done)return[3,4];if(n=a.value,t.next(n),t.closed)return[2];i.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s={error:i.sent()},[3,11];case 6:if(i.trys.push([6,,9,10]),!(a&&!a.done&&(l=r.return)))return[3,8];return[4,l.call(r)];case 7:i.sent(),i.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}function S(e){return w(h.readableStreamLikeToAsyncGenerator(e))}t.innerFrom=function(e){if(e instanceof u.Observable)return e;if(null!=e){if(c.isInteropObservable(e))return m(e);if(s.isArrayLike(e))return v(e);if(l.isPromise(e))return _(e);if(f.isAsyncIterable(e))return w(e);if(p.isIterable(e))return O(e);if(h.isReadableStreamLike(e))return S(e)}throw d.createInvalidObservableTypeError(e)},t.fromInteropObservable=m,t.fromArrayLike=v,t.fromPromise=_,t.fromIterable=O,t.fromAsyncIterable=w,t.fromReadableStreamLike=S},70634:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.interval=void 0;var n=r(3459),i=r(22418);t.interval=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=n.asyncScheduler),e<0&&(e=0),i.timer(e,e,t)}},12285:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;var n=r(54435),i=r(25287),o=r(26692),a=r(31613),s=r(35079);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=a.popScheduler(e),l=a.popNumber(e,1/0);return e.length?1===e.length?i.innerFrom(e[0]):n.mergeAll(l)(s.from(e,r)):o.EMPTY}},81869:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.never=t.NEVER=void 0;var n=r(23199),i=r(2752);t.NEVER=new n.Observable(i.noop),t.never=function(){return t.NEVER}},57664:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.of=void 0;var n=r(31613),i=r(35079);t.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=n.popScheduler(e);return i.from(e,r)}},28375:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onErrorResumeNext=void 0;var n=r(23199),i=r(82440),o=r(59854),a=r(2752),s=r(25287);t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.argsOrArgArray(e);return new n.Observable(function(e){var t=0,n=function(){if(t<r.length){var i=void 0;try{i=s.innerFrom(r[t++])}catch(e){n();return}var l=new o.OperatorSubscriber(e,void 0,a.noop,a.noop);i.subscribe(l),l.add(n)}else e.complete()};n()})}},30701:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pairs=void 0;var n=r(35079);t.pairs=function(e,t){return n.from(Object.entries(e),t)}},3128:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.partition=void 0;var n=r(80293),i=r(4079),o=r(25287);t.partition=function(e,t,r){return[i.filter(t,r)(o.innerFrom(e)),i.filter(n.not(t,r))(o.innerFrom(e))]}},26666:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.raceInit=t.race=void 0;var n=r(23199),i=r(25287),o=r(82440),a=r(59854);function s(e){return function(t){for(var r=[],n=function(n){r.push(i.innerFrom(e[n]).subscribe(a.createOperatorSubscriber(t,function(e){if(r){for(var i=0;i<r.length;i++)i!==n&&r[i].unsubscribe();r=null}t.next(e)})))},o=0;r&&!t.closed&&o<e.length;o++)n(o)}}t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=o.argsOrArgArray(e)).length?i.innerFrom(e[0]):new n.Observable(s(e))},t.raceInit=s},7786:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.range=void 0;var n=r(23199),i=r(26692);t.range=function(e,t,r){if(null==t&&(t=e,e=0),t<=0)return i.EMPTY;var o=t+e;return new n.Observable(r?function(t){var n=e;return r.schedule(function(){n<o?(t.next(n++),this.schedule()):t.complete()})}:function(t){for(var r=e;r<o&&!t.closed;)t.next(r++);t.complete()})}},26395:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwError=void 0;var n=r(23199),i=r(48193);t.throwError=function(e,t){var r=i.isFunction(e)?e:function(){return e},o=function(e){return e.error(r())};return new n.Observable(t?function(e){return t.schedule(o,0,e)}:o)}},22418:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timer=void 0;var n=r(23199),i=r(3459),o=r(28728),a=r(12677);t.timer=function(e,t,r){void 0===e&&(e=0),void 0===r&&(r=i.async);var s=-1;return null!=t&&(o.isScheduler(t)?r=t:s=t),new n.Observable(function(t){var n=a.isValidDate(e)?+e-r.now():e;n<0&&(n=0);var i=0;return r.schedule(function(){t.closed||(t.next(i++),0<=s?this.schedule(void 0,s):t.complete())},n)})}},57590:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.using=void 0;var n=r(23199),i=r(25287),o=r(26692);t.using=function(e,t){return new n.Observable(function(r){var n=e(),a=t(n);return(a?i.innerFrom(a):o.EMPTY).subscribe(r),function(){n&&n.unsubscribe()}})}},93810:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var o=r(23199),a=r(25287),s=r(82440),l=r(26692),u=r(59854),c=r(31613);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=c.popResultSelector(e),f=s.argsOrArgArray(e);return f.length?new o.Observable(function(e){var t=f.map(function(){return[]}),o=f.map(function(){return!1});e.add(function(){t=o=null});for(var s=function(s){a.innerFrom(f[s]).subscribe(u.createOperatorSubscriber(e,function(a){if(t[s].push(a),t.every(function(e){return e.length})){var l=t.map(function(e){return e.shift()});e.next(r?r.apply(void 0,i([],n(l))):l),t.some(function(e,t){return!e.length&&o[t]})&&e.complete()}},function(){o[s]=!0,t[s].length||e.complete()}))},l=0;!e.closed&&l<f.length;l++)s(l);return function(){t=o=null}}):l.EMPTY}},59854:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.OperatorSubscriber=t.createOperatorSubscriber=void 0;var o=r(60861);t.createOperatorSubscriber=function(e,t,r,n,i){return new a(e,t,r,n,i)};var a=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t)||this;return s.onFinalize=o,s.shouldUnsubscribe=a,s._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return i(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),r||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(o.Subscriber);t.OperatorSubscriber=a},22066:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.audit=void 0;var n=r(65229),i=r(25287),o=r(59854);t.audit=function(e){return n.operate(function(t,r){var n=!1,a=null,s=null,l=!1,u=function(){if(null==s||s.unsubscribe(),s=null,n){n=!1;var e=a;a=null,r.next(e)}l&&r.complete()},c=function(){s=null,l&&r.complete()};t.subscribe(o.createOperatorSubscriber(r,function(t){n=!0,a=t,s||i.innerFrom(e(t)).subscribe(s=o.createOperatorSubscriber(r,u,c))},function(){l=!0,n&&s&&!s.closed||r.complete()}))})}},30341:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.auditTime=void 0;var n=r(3459),i=r(22066),o=r(22418);t.auditTime=function(e,t){return void 0===t&&(t=n.asyncScheduler),i.audit(function(){return o.timer(e,t)})}},72782:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buffer=void 0;var n=r(65229),i=r(2752),o=r(59854),a=r(25287);t.buffer=function(e){return n.operate(function(t,r){var n=[];return t.subscribe(o.createOperatorSubscriber(r,function(e){return n.push(e)},function(){r.next(n),r.complete()})),a.innerFrom(e).subscribe(o.createOperatorSubscriber(r,function(){var e=n;n=[],r.next(e)},i.noop)),function(){n=null}})}},78717:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferCount=void 0;var i=r(65229),o=r(59854),a=r(93013);t.bufferCount=function(e,t){return void 0===t&&(t=null),t=null!=t?t:e,i.operate(function(r,i){var s=[],l=0;r.subscribe(o.createOperatorSubscriber(i,function(r){var o,u,c,f,d=null;l++%t==0&&s.push([]);try{for(var p=n(s),h=p.next();!h.done;h=p.next()){var y=h.value;y.push(r),e<=y.length&&(d=null!=d?d:[]).push(y)}}catch(e){o={error:e}}finally{try{h&&!h.done&&(u=p.return)&&u.call(p)}finally{if(o)throw o.error}}if(d)try{for(var b=n(d),g=b.next();!g.done;g=b.next()){var y=g.value;a.arrRemove(s,y),i.next(y)}}catch(e){c={error:e}}finally{try{g&&!g.done&&(f=b.return)&&f.call(b)}finally{if(c)throw c.error}}},function(){var e,t;try{for(var r=n(s),o=r.next();!o.done;o=r.next()){var a=o.value;i.next(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}i.complete()},void 0,function(){s=null}))})}},43436:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferTime=void 0;var i=r(25453),o=r(65229),a=r(59854),s=r(93013),l=r(3459),u=r(31613),c=r(71805);t.bufferTime=function(e){for(var t,r,f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var p=null!==(t=u.popScheduler(f))&&void 0!==t?t:l.asyncScheduler,h=null!==(r=f[0])&&void 0!==r?r:null,y=f[1]||1/0;return o.operate(function(t,r){var o=[],l=!1,u=function(e){var t=e.buffer;e.subs.unsubscribe(),s.arrRemove(o,e),r.next(t),l&&f()},f=function(){if(o){var t=new i.Subscription;r.add(t);var n={buffer:[],subs:t};o.push(n),c.executeSchedule(t,p,function(){return u(n)},e)}};null!==h&&h>=0?c.executeSchedule(r,p,f,h,!0):l=!0,f();var d=a.createOperatorSubscriber(r,function(e){var t,r,i=o.slice();try{for(var a=n(i),s=a.next();!s.done;s=a.next()){var l=s.value,c=l.buffer;c.push(e),y<=c.length&&u(l)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}},function(){for(;null==o?void 0:o.length;)r.next(o.shift().buffer);null==d||d.unsubscribe(),r.complete(),r.unsubscribe()},void 0,function(){return o=null});t.subscribe(d)})}},46465:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferToggle=void 0;var i=r(25453),o=r(65229),a=r(25287),s=r(59854),l=r(2752),u=r(93013);t.bufferToggle=function(e,t){return o.operate(function(r,o){var c=[];a.innerFrom(e).subscribe(s.createOperatorSubscriber(o,function(e){var r=[];c.push(r);var n=new i.Subscription;n.add(a.innerFrom(t(e)).subscribe(s.createOperatorSubscriber(o,function(){u.arrRemove(c,r),o.next(r),n.unsubscribe()},l.noop)))},l.noop)),r.subscribe(s.createOperatorSubscriber(o,function(e){var t,r;try{for(var i=n(c),o=i.next();!o.done;o=i.next())o.value.push(e)}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},function(){for(;c.length>0;)o.next(c.shift());o.complete()}))})}},64695:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bufferWhen=void 0;var n=r(65229),i=r(2752),o=r(59854),a=r(25287);t.bufferWhen=function(e){return n.operate(function(t,r){var n=null,s=null,l=function(){null==s||s.unsubscribe();var t=n;n=[],t&&r.next(t),a.innerFrom(e()).subscribe(s=o.createOperatorSubscriber(r,l,i.noop))};l(),t.subscribe(o.createOperatorSubscriber(r,function(e){return null==n?void 0:n.push(e)},function(){n&&r.next(n),r.complete()},void 0,function(){return n=s=null}))})}},27365:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.catchError=void 0;var n=r(25287),i=r(59854),o=r(65229);t.catchError=function e(t){return o.operate(function(r,o){var a,s=null,l=!1;s=r.subscribe(i.createOperatorSubscriber(o,void 0,void 0,function(i){a=n.innerFrom(t(i,e(t)(r))),s?(s.unsubscribe(),s=null,a.subscribe(o)):l=!0})),l&&(s.unsubscribe(),s=null,a.subscribe(o))})}},79026:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineAll=void 0;var n=r(57151);t.combineAll=n.combineLatestAll},1341:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatest=void 0;var o=r(26839),a=r(65229),s=r(82440),l=r(39381),u=r(64092),c=r(31613);t.combineLatest=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var f=c.popResultSelector(t);return f?u.pipe(e.apply(void 0,i([],n(t))),l.mapOneOrManyArgs(f)):a.operate(function(e,r){o.combineLatestInit(i([e],n(s.argsOrArgArray(t))))(r)})}},57151:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestAll=void 0;var n=r(26839),i=r(54893);t.combineLatestAll=function(e){return i.joinAllInternals(n.combineLatest,e)}},52606:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestWith=void 0;var o=r(1341);t.combineLatestWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.combineLatest.apply(void 0,i([],n(e)))}},49946:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var o=r(65229),a=r(41602),s=r(31613),l=r(35079);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=s.popScheduler(e);return o.operate(function(t,o){a.concatAll()(l.from(i([t],n(e)),r)).subscribe(o)})}},41602:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatAll=void 0;var n=r(54435);t.concatAll=function(){return n.mergeAll(1)}},27997:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatMap=void 0;var n=r(27444),i=r(48193);t.concatMap=function(e,t){return i.isFunction(t)?n.mergeMap(e,t,1):n.mergeMap(e,1)}},82217:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatMapTo=void 0;var n=r(27997),i=r(48193);t.concatMapTo=function(e,t){return i.isFunction(t)?n.concatMap(function(){return e},t):n.concatMap(function(){return e})}},32353:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.concatWith=void 0;var o=r(49946);t.concatWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.concat.apply(void 0,i([],n(e)))}},25034:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connect=void 0;var n=r(23141),i=r(25287),o=r(65229),a=r(86189),s={connector:function(){return new n.Subject}};t.connect=function(e,t){void 0===t&&(t=s);var r=t.connector;return o.operate(function(t,n){var o=r();i.innerFrom(e(a.fromSubscribable(o))).subscribe(n),n.add(t.subscribe(o))})}},91402:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.count=void 0;var n=r(19901);t.count=function(e){return n.reduce(function(t,r,n){return!e||e(r,n)?t+1:t},0)}},34511:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0;var n=r(65229),i=r(2752),o=r(59854),a=r(25287);t.debounce=function(e){return n.operate(function(t,r){var n=!1,s=null,l=null,u=function(){if(null==l||l.unsubscribe(),l=null,n){n=!1;var e=s;s=null,r.next(e)}};t.subscribe(o.createOperatorSubscriber(r,function(t){null==l||l.unsubscribe(),n=!0,s=t,l=o.createOperatorSubscriber(r,u,i.noop),a.innerFrom(e(t)).subscribe(l)},function(){u(),r.complete()},void 0,function(){s=l=null}))})}},20790:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounceTime=void 0;var n=r(3459),i=r(65229),o=r(59854);t.debounceTime=function(e,t){return void 0===t&&(t=n.asyncScheduler),i.operate(function(r,n){var i=null,a=null,s=null,l=function(){if(i){i.unsubscribe(),i=null;var e=a;a=null,n.next(e)}};function u(){var r=s+e,o=t.now();if(o<r){i=this.schedule(void 0,r-o),n.add(i);return}l()}r.subscribe(o.createOperatorSubscriber(n,function(r){a=r,s=t.now(),i||(i=t.schedule(u,e),n.add(i))},function(){l(),n.complete()},void 0,function(){a=i=null}))})}},39124:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultIfEmpty=void 0;var n=r(65229),i=r(59854);t.defaultIfEmpty=function(e){return n.operate(function(t,r){var n=!1;t.subscribe(i.createOperatorSubscriber(r,function(e){n=!0,r.next(e)},function(){n||r.next(e),r.complete()}))})}},95745:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0;var n=r(3459),i=r(89737),o=r(22418);t.delay=function(e,t){void 0===t&&(t=n.asyncScheduler);var r=o.timer(e,t);return i.delayWhen(function(){return r})}},89737:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delayWhen=void 0;var n=r(33824),i=r(18),o=r(28198),a=r(93918),s=r(27444),l=r(25287);t.delayWhen=function e(t,r){return r?function(a){return n.concat(r.pipe(i.take(1),o.ignoreElements()),a.pipe(e(t)))}:s.mergeMap(function(e,r){return l.innerFrom(t(e,r)).pipe(i.take(1),a.mapTo(e))})}},76088:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dematerialize=void 0;var n=r(70236),i=r(65229),o=r(59854);t.dematerialize=function(){return i.operate(function(e,t){e.subscribe(o.createOperatorSubscriber(t,function(e){return n.observeNotification(e,t)}))})}},59757:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distinct=void 0;var n=r(65229),i=r(59854),o=r(2752),a=r(25287);t.distinct=function(e,t){return n.operate(function(r,n){var s=new Set;r.subscribe(i.createOperatorSubscriber(n,function(t){var r=e?e(t):t;s.has(r)||(s.add(r),n.next(t))})),t&&a.innerFrom(t).subscribe(i.createOperatorSubscriber(n,function(){return s.clear()},o.noop))})}},38620:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilChanged=void 0;var n=r(61490),i=r(65229),o=r(59854);function a(e,t){return e===t}t.distinctUntilChanged=function(e,t){return void 0===t&&(t=n.identity),e=null!=e?e:a,i.operate(function(r,n){var i,a=!0;r.subscribe(o.createOperatorSubscriber(n,function(r){var o=t(r);(a||!e(i,o))&&(a=!1,i=o,n.next(r))}))})}},84742:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilKeyChanged=void 0;var n=r(38620);t.distinctUntilKeyChanged=function(e,t){return n.distinctUntilChanged(function(r,n){return t?t(r[e],n[e]):r[e]===n[e]})}},81943:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementAt=void 0;var n=r(50376),i=r(4079),o=r(64192),a=r(39124),s=r(18);t.elementAt=function(e,t){if(e<0)throw new n.ArgumentOutOfRangeError;var r=arguments.length>=2;return function(l){return l.pipe(i.filter(function(t,r){return r===e}),s.take(1),r?a.defaultIfEmpty(t):o.throwIfEmpty(function(){return new n.ArgumentOutOfRangeError}))}}},78596:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.endWith=void 0;var o=r(33824),a=r(57664);t.endWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return o.concat(t,a.of.apply(void 0,i([],n(e))))}}},64385:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.every=void 0;var n=r(65229),i=r(59854);t.every=function(e,t){return n.operate(function(r,n){var o=0;r.subscribe(i.createOperatorSubscriber(n,function(i){e.call(t,i,o++,r)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}},80406:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exhaust=void 0;var n=r(80115);t.exhaust=n.exhaustAll},80115:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustAll=void 0;var n=r(92464),i=r(61490);t.exhaustAll=function(){return n.exhaustMap(i.identity)}},92464:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustMap=void 0;var n=r(52311),i=r(25287),o=r(65229),a=r(59854);t.exhaustMap=function e(t,r){return r?function(o){return o.pipe(e(function(e,o){return i.innerFrom(t(e,o)).pipe(n.map(function(t,n){return r(e,t,o,n)}))}))}:o.operate(function(e,r){var n=0,o=null,s=!1;e.subscribe(a.createOperatorSubscriber(r,function(e){o||(o=a.createOperatorSubscriber(r,void 0,function(){o=null,s&&r.complete()}),i.innerFrom(t(e,n++)).subscribe(o))},function(){s=!0,o||r.complete()}))})}},70045:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expand=void 0;var n=r(65229),i=r(52249);t.expand=function(e,t,r){return void 0===t&&(t=1/0),t=1>(t||0)?1/0:t,n.operate(function(n,o){return i.mergeInternals(n,o,e,t,void 0,!0,r)})}},4079:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filter=void 0;var n=r(65229),i=r(59854);t.filter=function(e,t){return n.operate(function(r,n){var o=0;r.subscribe(i.createOperatorSubscriber(n,function(r){return e.call(t,r,o++)&&n.next(r)}))})}},15378:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.finalize=void 0;var n=r(65229);t.finalize=function(e){return n.operate(function(t,r){try{t.subscribe(r)}finally{r.add(e)}})}},3604:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFind=t.find=void 0;var n=r(65229),i=r(59854);function o(e,t,r){var n="index"===r;return function(r,o){var a=0;r.subscribe(i.createOperatorSubscriber(o,function(i){var s=a++;e.call(t,i,s,r)&&(o.next(n?s:i),o.complete())},function(){o.next(n?-1:void 0),o.complete()}))}}t.find=function(e,t){return n.operate(o(e,t,"value"))},t.createFind=o},46711:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findIndex=void 0;var n=r(65229),i=r(3604);t.findIndex=function(e,t){return n.operate(i.createFind(e,t,"index"))}},10759:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.first=void 0;var n=r(5245),i=r(4079),o=r(18),a=r(39124),s=r(64192),l=r(61490);t.first=function(e,t){var r=arguments.length>=2;return function(u){return u.pipe(e?i.filter(function(t,r){return e(t,r,u)}):l.identity,o.take(1),r?a.defaultIfEmpty(t):s.throwIfEmpty(function(){return new n.EmptyError}))}}},76064:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flatMap=void 0;var n=r(27444);t.flatMap=n.mergeMap},34725:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupBy=void 0;var n=r(23199),i=r(25287),o=r(23141),a=r(65229),s=r(59854);t.groupBy=function(e,t,r,l){return a.operate(function(a,u){t&&"function"!=typeof t?(r=t.duration,c=t.element,l=t.connector):c=t;var c,f=new Map,d=function(e){f.forEach(e),e(u)},p=function(e){return d(function(t){return t.error(e)})},h=0,y=!1,b=new s.OperatorSubscriber(u,function(t){try{var a=e(t),d=f.get(a);if(!d){f.set(a,d=l?l():new o.Subject);var g,m,v=(g=d,(m=new n.Observable(function(e){h++;var t=g.subscribe(e);return function(){t.unsubscribe(),0==--h&&y&&b.unsubscribe()}})).key=a,m);if(u.next(v),r){var _=s.createOperatorSubscriber(d,function(){d.complete(),null==_||_.unsubscribe()},void 0,void 0,function(){return f.delete(a)});b.add(i.innerFrom(r(v)).subscribe(_))}}d.next(c?c(t):t)}catch(e){p(e)}},function(){return d(function(e){return e.complete()})},p,function(){return f.clear()},function(){return y=!0,0===h});a.subscribe(b)})}},28198:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ignoreElements=void 0;var n=r(65229),i=r(59854),o=r(2752);t.ignoreElements=function(){return n.operate(function(e,t){e.subscribe(i.createOperatorSubscriber(t,o.noop))})}},12236:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var n=r(65229),i=r(59854);t.isEmpty=function(){return n.operate(function(e,t){e.subscribe(i.createOperatorSubscriber(t,function(){t.next(!1),t.complete()},function(){t.next(!0),t.complete()}))})}},54893:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinAllInternals=void 0;var n=r(61490),i=r(39381),o=r(64092),a=r(27444),s=r(81164);t.joinAllInternals=function(e,t){return o.pipe(s.toArray(),a.mergeMap(function(t){return e(t)}),t?i.mapOneOrManyArgs(t):n.identity)}},82101:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.last=void 0;var n=r(5245),i=r(4079),o=r(7090),a=r(64192),s=r(39124),l=r(61490);t.last=function(e,t){var r=arguments.length>=2;return function(u){return u.pipe(e?i.filter(function(t,r){return e(t,r,u)}):l.identity,o.takeLast(1),r?s.defaultIfEmpty(t):a.throwIfEmpty(function(){return new n.EmptyError}))}}},52311:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.map=void 0;var n=r(65229),i=r(59854);t.map=function(e,t){return n.operate(function(r,n){var o=0;r.subscribe(i.createOperatorSubscriber(n,function(r){n.next(e.call(t,r,o++))}))})}},93918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapTo=void 0;var n=r(52311);t.mapTo=function(e){return n.map(function(){return e})}},543:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.materialize=void 0;var n=r(70236),i=r(65229),o=r(59854);t.materialize=function(){return i.operate(function(e,t){e.subscribe(o.createOperatorSubscriber(t,function(e){t.next(n.Notification.createNext(e))},function(){t.next(n.Notification.createComplete()),t.complete()},function(e){t.next(n.Notification.createError(e)),t.complete()}))})}},92767:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.max=void 0;var n=r(19901),i=r(48193);t.max=function(e){return n.reduce(i.isFunction(e)?function(t,r){return e(t,r)>0?t:r}:function(e,t){return e>t?e:t})}},55402:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;var o=r(65229),a=r(82440),s=r(54435),l=r(31613),u=r(35079);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=l.popScheduler(e),c=l.popNumber(e,1/0);return e=a.argsOrArgArray(e),o.operate(function(t,o){s.mergeAll(c)(u.from(i([t],n(e)),r)).subscribe(o)})}},54435:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAll=void 0;var n=r(27444),i=r(61490);t.mergeAll=function(e){return void 0===e&&(e=1/0),n.mergeMap(i.identity,e)}},52249:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeInternals=void 0;var n=r(25287),i=r(71805),o=r(59854);t.mergeInternals=function(e,t,r,a,s,l,u,c){var f=[],d=0,p=0,h=!1,y=function(){!h||f.length||d||t.complete()},b=function(e){return d<a?g(e):f.push(e)},g=function(e){l&&t.next(e),d++;var c=!1;n.innerFrom(r(e,p++)).subscribe(o.createOperatorSubscriber(t,function(e){null==s||s(e),l?b(e):t.next(e)},function(){c=!0},void 0,function(){if(c)try{for(d--;f.length&&d<a;)!function(){var e=f.shift();u?i.executeSchedule(t,u,function(){return g(e)}):g(e)}();y()}catch(e){t.error(e)}}))};return e.subscribe(o.createOperatorSubscriber(t,b,function(){h=!0,y()})),function(){null==c||c()}}},27444:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMap=void 0;var n=r(52311),i=r(25287),o=r(65229),a=r(52249),s=r(48193);t.mergeMap=function e(t,r,l){return(void 0===l&&(l=1/0),s.isFunction(r))?e(function(e,o){return n.map(function(t,n){return r(e,t,o,n)})(i.innerFrom(t(e,o)))},l):("number"==typeof r&&(l=r),o.operate(function(e,r){return a.mergeInternals(e,r,t,l)}))}},18916:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMapTo=void 0;var n=r(27444),i=r(48193);t.mergeMapTo=function(e,t,r){return(void 0===r&&(r=1/0),i.isFunction(t))?n.mergeMap(function(){return e},t,r):("number"==typeof t&&(r=t),n.mergeMap(function(){return e},r))}},84061:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeScan=void 0;var n=r(65229),i=r(52249);t.mergeScan=function(e,t,r){return void 0===r&&(r=1/0),n.operate(function(n,o){var a=t;return i.mergeInternals(n,o,function(t,r){return e(a,t,r)},r,function(e){a=e},!1,void 0,function(){return a=null})})}},80343:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mergeWith=void 0;var o=r(55402);t.mergeWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.merge.apply(void 0,i([],n(e)))}},11789:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.min=void 0;var n=r(19901),i=r(48193);t.min=function(e){return n.reduce(i.isFunction(e)?function(t,r){return 0>e(t,r)?t:r}:function(e,t){return e<t?e:t})}},64417:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multicast=void 0;var n=r(13322),i=r(48193),o=r(25034);t.multicast=function(e,t){var r=i.isFunction(e)?e:function(){return e};return i.isFunction(t)?o.connect(t,{connector:r}):function(e){return new n.ConnectableObservable(e,r)}}},63493:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observeOn=void 0;var n=r(71805),i=r(65229),o=r(59854);t.observeOn=function(e,t){return void 0===t&&(t=0),i.operate(function(r,i){r.subscribe(o.createOperatorSubscriber(i,function(r){return n.executeSchedule(i,e,function(){return i.next(r)},t)},function(){return n.executeSchedule(i,e,function(){return i.complete()},t)},function(r){return n.executeSchedule(i,e,function(){return i.error(r)},t)}))})}},9804:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.onErrorResumeNext=t.onErrorResumeNextWith=void 0;var o=r(82440),a=r(28375);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=o.argsOrArgArray(e);return function(e){return a.onErrorResumeNext.apply(void 0,i([e],n(r)))}}t.onErrorResumeNextWith=s,t.onErrorResumeNext=s},60200:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pairwise=void 0;var n=r(65229),i=r(59854);t.pairwise=function(){return n.operate(function(e,t){var r,n=!1;e.subscribe(i.createOperatorSubscriber(t,function(e){var i=r;r=e,n&&t.next([i,e]),n=!0}))})}},56850:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.partition=void 0;var n=r(80293),i=r(4079);t.partition=function(e,t){return function(r){return[i.filter(e,t)(r),i.filter(n.not(e,t))(r)]}}},26301:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pluck=void 0;var n=r(52311);t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(0===r)throw Error("list of properties cannot be empty.");return n.map(function(t){for(var n=t,i=0;i<r;i++){var o=null==n?void 0:n[e[i]];if(void 0===o)return;n=o}return n})}},89429:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publish=void 0;var n=r(23141),i=r(64417),o=r(25034);t.publish=function(e){return e?function(t){return o.connect(e)(t)}:function(e){return i.multicast(new n.Subject)(e)}}},31711:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publishBehavior=void 0;var n=r(78762),i=r(13322);t.publishBehavior=function(e){return function(t){var r=new n.BehaviorSubject(e);return new i.ConnectableObservable(t,function(){return r})}}},40454:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publishLast=void 0;var n=r(14436),i=r(13322);t.publishLast=function(){return function(e){var t=new n.AsyncSubject;return new i.ConnectableObservable(e,function(){return t})}}},78982:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publishReplay=void 0;var n=r(41986),i=r(64417),o=r(48193);t.publishReplay=function(e,t,r,a){r&&!o.isFunction(r)&&(a=r);var s=o.isFunction(r)?r:void 0;return function(r){return i.multicast(new n.ReplaySubject(e,t,a),s)(r)}}},69621:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.race=void 0;var o=r(82440),a=r(11785);t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.raceWith.apply(void 0,i([],n(o.argsOrArgArray(e))))}},11785:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.raceWith=void 0;var o=r(26666),a=r(65229),s=r(61490);t.raceWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?a.operate(function(t,r){o.raceInit(i([t],n(e)))(r)}):s.identity}},19901:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reduce=void 0;var n=r(24422),i=r(65229);t.reduce=function(e,t){return i.operate(n.scanInternals(e,t,arguments.length>=2,!1,!0))}},66349:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.refCount=void 0;var n=r(65229),i=r(59854);t.refCount=function(){return n.operate(function(e,t){var r=null;e._refCount++;var n=i.createOperatorSubscriber(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){r=null;return}var n=e._connection,i=r;r=null,n&&(!i||n===i)&&n.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}},9410:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.repeat=void 0;var n=r(26692),i=r(65229),o=r(59854),a=r(25287),s=r(22418);t.repeat=function(e){var t,r,l=1/0;return null!=e&&("object"==typeof e?(l=void 0===(t=e.count)?1/0:t,r=e.delay):l=e),l<=0?function(){return n.EMPTY}:i.operate(function(e,t){var n,i=0,u=function(){if(null==n||n.unsubscribe(),n=null,null!=r){var e="number"==typeof r?s.timer(r):a.innerFrom(r(i)),l=o.createOperatorSubscriber(t,function(){l.unsubscribe(),c()});e.subscribe(l)}else c()},c=function(){var r=!1;n=e.subscribe(o.createOperatorSubscriber(t,void 0,function(){++i<l?n?u():r=!0:t.complete()})),r&&u()};c()})}},89638:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.repeatWhen=void 0;var n=r(25287),i=r(23141),o=r(65229),a=r(59854);t.repeatWhen=function(e){return o.operate(function(t,r){var o,s,l=!1,u=!1,c=!1,f=function(){return c&&u&&(r.complete(),!0)},d=function(){c=!1,o=t.subscribe(a.createOperatorSubscriber(r,void 0,function(){c=!0,f()||(s||(s=new i.Subject,n.innerFrom(e(s)).subscribe(a.createOperatorSubscriber(r,function(){o?d():l=!0},function(){u=!0,f()}))),s).next()})),l&&(o.unsubscribe(),o=null,l=!1,d())};d()})}},3555:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retry=void 0;var n=r(65229),i=r(59854),o=r(61490),a=r(22418),s=r(25287);t.retry=function(e){void 0===e&&(e=1/0);var t,r=(t=e&&"object"==typeof e?e:{count:e}).count,l=void 0===r?1/0:r,u=t.delay,c=t.resetOnSuccess,f=void 0!==c&&c;return l<=0?o.identity:n.operate(function(e,t){var r,n=0,o=function(){var c=!1;r=e.subscribe(i.createOperatorSubscriber(t,function(e){f&&(n=0),t.next(e)},void 0,function(e){if(n++<l){var f=function(){r?(r.unsubscribe(),r=null,o()):c=!0};if(null!=u){var d="number"==typeof u?a.timer(u):s.innerFrom(u(e,n)),p=i.createOperatorSubscriber(t,function(){p.unsubscribe(),f()},function(){t.complete()});d.subscribe(p)}else f()}else t.error(e)})),c&&(r.unsubscribe(),r=null,o())};o()})}},32655:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retryWhen=void 0;var n=r(25287),i=r(23141),o=r(65229),a=r(59854);t.retryWhen=function(e){return o.operate(function(t,r){var o,s,l=!1,u=function(){o=t.subscribe(a.createOperatorSubscriber(r,void 0,void 0,function(t){s||(s=new i.Subject,n.innerFrom(e(s)).subscribe(a.createOperatorSubscriber(r,function(){return o?u():l=!0}))),s&&s.next(t)})),l&&(o.unsubscribe(),o=null,l=!1,u())};u()})}},57996:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sample=void 0;var n=r(25287),i=r(65229),o=r(2752),a=r(59854);t.sample=function(e){return i.operate(function(t,r){var i=!1,s=null;t.subscribe(a.createOperatorSubscriber(r,function(e){i=!0,s=e})),n.innerFrom(e).subscribe(a.createOperatorSubscriber(r,function(){if(i){i=!1;var e=s;s=null,r.next(e)}},o.noop))})}},68432:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sampleTime=void 0;var n=r(3459),i=r(57996),o=r(70634);t.sampleTime=function(e,t){return void 0===t&&(t=n.asyncScheduler),i.sample(o.interval(e,t))}},2539:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scan=void 0;var n=r(65229),i=r(24422);t.scan=function(e,t){return n.operate(i.scanInternals(e,t,arguments.length>=2,!0))}},24422:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scanInternals=void 0;var n=r(59854);t.scanInternals=function(e,t,r,i,o){return function(a,s){var l=r,u=t,c=0;a.subscribe(n.createOperatorSubscriber(s,function(t){var r=c++;u=l?e(u,t,r):(l=!0,t),i&&s.next(u)},o&&function(){l&&s.next(u),s.complete()}))}}},33121:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sequenceEqual=void 0;var n=r(65229),i=r(59854),o=r(25287);function a(){return{buffer:[],complete:!1}}t.sequenceEqual=function(e,t){return void 0===t&&(t=function(e,t){return e===t}),n.operate(function(r,n){var s=a(),l=a(),u=function(e){n.next(e),n.complete()},c=function(e,r){var o=i.createOperatorSubscriber(n,function(n){var i=r.buffer,o=r.complete;0===i.length?o?u(!1):e.buffer.push(n):t(n,i.shift())||u(!1)},function(){e.complete=!0;var t=r.complete,n=r.buffer;t&&u(0===n.length),null==o||o.unsubscribe()});return o};r.subscribe(c(s,l)),o.innerFrom(e).subscribe(c(l,s))})}},72023:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.share=void 0;var o=r(25287),a=r(23141),s=r(60861),l=r(65229);function u(e,t){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];if(!0===t){e();return}if(!1!==t){var l=new s.SafeSubscriber({next:function(){l.unsubscribe(),e()}});return o.innerFrom(t.apply(void 0,i([],n(r)))).subscribe(l)}}t.share=function(e){void 0===e&&(e={});var t=e.connector,r=void 0===t?function(){return new a.Subject}:t,n=e.resetOnError,i=void 0===n||n,c=e.resetOnComplete,f=void 0===c||c,d=e.resetOnRefCountZero,p=void 0===d||d;return function(e){var t,n,a,c=0,d=!1,h=!1,y=function(){null==n||n.unsubscribe(),n=void 0},b=function(){y(),t=a=void 0,d=h=!1},g=function(){var e=t;b(),null==e||e.unsubscribe()};return l.operate(function(e,l){c++,h||d||y();var m=a=null!=a?a:r();l.add(function(){0!=--c||h||d||(n=u(g,p))}),m.subscribe(l),!t&&c>0&&(t=new s.SafeSubscriber({next:function(e){return m.next(e)},error:function(e){h=!0,y(),n=u(b,i,e),m.error(e)},complete:function(){d=!0,y(),n=u(b,f),m.complete()}}),o.innerFrom(e).subscribe(t))})(e)}}},1405:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shareReplay=void 0;var n=r(41986),i=r(72023);t.shareReplay=function(e,t,r){var o,a,s,l,u=!1;return e&&"object"==typeof e?(l=void 0===(o=e.bufferSize)?1/0:o,t=void 0===(a=e.windowTime)?1/0:a,u=void 0!==(s=e.refCount)&&s,r=e.scheduler):l=null!=e?e:1/0,i.share({connector:function(){return new n.ReplaySubject(l,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}},59247:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.single=void 0;var n=r(5245),i=r(74520),o=r(83505),a=r(65229),s=r(59854);t.single=function(e){return a.operate(function(t,r){var a,l=!1,u=!1,c=0;t.subscribe(s.createOperatorSubscriber(r,function(n){u=!0,(!e||e(n,c++,t))&&(l&&r.error(new i.SequenceError("Too many matching values")),l=!0,a=n)},function(){l?(r.next(a),r.complete()):r.error(u?new o.NotFoundError("No matching values"):new n.EmptyError)}))})}},28072:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.skip=void 0;var n=r(4079);t.skip=function(e){return n.filter(function(t,r){return e<=r})}},59114:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.skipLast=void 0;var n=r(61490),i=r(65229),o=r(59854);t.skipLast=function(e){return e<=0?n.identity:i.operate(function(t,r){var n=Array(e),i=0;return t.subscribe(o.createOperatorSubscriber(r,function(t){var o=i++;if(o<e)n[o]=t;else{var a=o%e,s=n[a];n[a]=t,r.next(s)}})),function(){n=null}})}},5463:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.skipUntil=void 0;var n=r(65229),i=r(59854),o=r(25287),a=r(2752);t.skipUntil=function(e){return n.operate(function(t,r){var n=!1,s=i.createOperatorSubscriber(r,function(){null==s||s.unsubscribe(),n=!0},a.noop);o.innerFrom(e).subscribe(s),t.subscribe(i.createOperatorSubscriber(r,function(e){return n&&r.next(e)}))})}},41920:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.skipWhile=void 0;var n=r(65229),i=r(59854);t.skipWhile=function(e){return n.operate(function(t,r){var n=!1,o=0;t.subscribe(i.createOperatorSubscriber(r,function(t){return(n||(n=!e(t,o++)))&&r.next(t)}))})}},31956:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startWith=void 0;var n=r(33824),i=r(31613),o=r(65229);t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.popScheduler(e);return o.operate(function(t,i){(r?n.concat(e,t,r):n.concat(e,t)).subscribe(i)})}},53498:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeOn=void 0;var n=r(65229);t.subscribeOn=function(e,t){return void 0===t&&(t=0),n.operate(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}},62707:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchAll=void 0;var n=r(13676),i=r(61490);t.switchAll=function(){return n.switchMap(i.identity)}},13676:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchMap=void 0;var n=r(25287),i=r(65229),o=r(59854);t.switchMap=function(e,t){return i.operate(function(r,i){var a=null,s=0,l=!1,u=function(){return l&&!a&&i.complete()};r.subscribe(o.createOperatorSubscriber(i,function(r){null==a||a.unsubscribe();var l=0,c=s++;n.innerFrom(e(r,c)).subscribe(a=o.createOperatorSubscriber(i,function(e){return i.next(t?t(r,e,c,l++):e)},function(){a=null,u()}))},function(){l=!0,u()}))})}},20397:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchMapTo=void 0;var n=r(13676),i=r(48193);t.switchMapTo=function(e,t){return i.isFunction(t)?n.switchMap(function(){return e},t):n.switchMap(function(){return e})}},61055:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchScan=void 0;var n=r(13676),i=r(65229);t.switchScan=function(e,t){return i.operate(function(r,i){var o=t;return n.switchMap(function(t,r){return e(o,t,r)},function(e,t){return o=t,t})(r).subscribe(i),function(){o=null}})}},18:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.take=void 0;var n=r(26692),i=r(65229),o=r(59854);t.take=function(e){return e<=0?function(){return n.EMPTY}:i.operate(function(t,r){var n=0;t.subscribe(o.createOperatorSubscriber(r,function(t){++n<=e&&(r.next(t),e<=n&&r.complete())}))})}},7090:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.takeLast=void 0;var i=r(26692),o=r(65229),a=r(59854);t.takeLast=function(e){return e<=0?function(){return i.EMPTY}:o.operate(function(t,r){var i=[];t.subscribe(a.createOperatorSubscriber(r,function(t){i.push(t),e<i.length&&i.shift()},function(){var e,t;try{for(var o=n(i),a=o.next();!a.done;a=o.next()){var s=a.value;r.next(s)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}r.complete()},void 0,function(){i=null}))})}},98425:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.takeUntil=void 0;var n=r(65229),i=r(59854),o=r(25287),a=r(2752);t.takeUntil=function(e){return n.operate(function(t,r){o.innerFrom(e).subscribe(i.createOperatorSubscriber(r,function(){return r.complete()},a.noop)),r.closed||t.subscribe(r)})}},54711:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.takeWhile=void 0;var n=r(65229),i=r(59854);t.takeWhile=function(e,t){return void 0===t&&(t=!1),n.operate(function(r,n){var o=0;r.subscribe(i.createOperatorSubscriber(n,function(r){var i=e(r,o++);(i||t)&&n.next(r),i||n.complete()}))})}},72770:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tap=void 0;var n=r(48193),i=r(65229),o=r(59854),a=r(61490);t.tap=function(e,t,r){var s=n.isFunction(e)||t||r?{next:e,error:t,complete:r}:e;return s?i.operate(function(e,t){null===(r=s.subscribe)||void 0===r||r.call(s);var r,n=!0;e.subscribe(o.createOperatorSubscriber(t,function(e){var r;null===(r=s.next)||void 0===r||r.call(s,e),t.next(e)},function(){var e;n=!1,null===(e=s.complete)||void 0===e||e.call(s),t.complete()},function(e){var r;n=!1,null===(r=s.error)||void 0===r||r.call(s,e),t.error(e)},function(){var e,t;n&&(null===(e=s.unsubscribe)||void 0===e||e.call(s)),null===(t=s.finalize)||void 0===t||t.call(s)}))}):a.identity}},3071:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=void 0;var n=r(65229),i=r(59854),o=r(25287);t.throttle=function(e,t){return n.operate(function(r,n){var a=null!=t?t:{},s=a.leading,l=void 0===s||s,u=a.trailing,c=void 0!==u&&u,f=!1,d=null,p=null,h=!1,y=function(){null==p||p.unsubscribe(),p=null,c&&(m(),h&&n.complete())},b=function(){p=null,h&&n.complete()},g=function(t){return p=o.innerFrom(e(t)).subscribe(i.createOperatorSubscriber(n,y,b))},m=function(){if(f){f=!1;var e=d;d=null,n.next(e),h||g(e)}};r.subscribe(i.createOperatorSubscriber(n,function(e){f=!0,d=e,p&&!p.closed||(l?m():g(e))},function(){h=!0,c&&f&&p&&!p.closed||n.complete()}))})}},45467:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttleTime=void 0;var n=r(3459),i=r(3071),o=r(22418);t.throttleTime=function(e,t,r){void 0===t&&(t=n.asyncScheduler);var a=o.timer(e,t);return i.throttle(function(){return a},r)}},64192:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwIfEmpty=void 0;var n=r(5245),i=r(65229),o=r(59854);function a(){return new n.EmptyError}t.throwIfEmpty=function(e){return void 0===e&&(e=a),i.operate(function(t,r){var n=!1;t.subscribe(o.createOperatorSubscriber(r,function(e){n=!0,r.next(e)},function(){return n?r.complete():r.error(e())}))})}},10239:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeInterval=t.timeInterval=void 0;var n=r(3459),i=r(65229),o=r(59854);t.timeInterval=function(e){return void 0===e&&(e=n.asyncScheduler),i.operate(function(t,r){var n=e.now();t.subscribe(o.createOperatorSubscriber(r,function(t){var i=e.now(),o=i-n;n=i,r.next(new a(t,o))}))})};var a=function(e,t){this.value=e,this.interval=t};t.TimeInterval=a},71934:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeout=t.TimeoutError=void 0;var n=r(3459),i=r(12677),o=r(65229),a=r(25287),s=r(10659),l=r(59854),u=r(71805);function c(e){throw new t.TimeoutError(e)}t.TimeoutError=s.createErrorClass(function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}}),t.timeout=function(e,t){var r=i.isValidDate(e)?{first:e}:"number"==typeof e?{each:e}:e,s=r.first,f=r.each,d=r.with,p=void 0===d?c:d,h=r.scheduler,y=void 0===h?null!=t?t:n.asyncScheduler:h,b=r.meta,g=void 0===b?null:b;if(null==s&&null==f)throw TypeError("No timeout provided.");return o.operate(function(e,t){var r,n,i=null,o=0,c=function(e){n=u.executeSchedule(t,y,function(){try{r.unsubscribe(),a.innerFrom(p({meta:g,lastValue:i,seen:o})).subscribe(t)}catch(e){t.error(e)}},e)};r=e.subscribe(l.createOperatorSubscriber(t,function(e){null==n||n.unsubscribe(),o++,t.next(i=e),f>0&&c(f)},void 0,void 0,function(){(null==n?void 0:n.closed)||null==n||n.unsubscribe(),i=null})),o||c(null!=s?"number"==typeof s?s:+s-y.now():f)})}},82637:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutWith=void 0;var n=r(3459),i=r(12677),o=r(71934);t.timeoutWith=function(e,t,r){var a,s,l;if(r=null!=r?r:n.async,i.isValidDate(e)?a=e:"number"==typeof e&&(s=e),t)l=function(){return t};else throw TypeError("No observable provided to switch to");if(null==a&&null==s)throw TypeError("No timeout provided.");return o.timeout({first:a,each:s,scheduler:r,with:l})}},19611:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timestamp=void 0;var n=r(1620),i=r(52311);t.timestamp=function(e){return void 0===e&&(e=n.dateTimestampProvider),i.map(function(t){return{value:t,timestamp:e.now()}})}},81164:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toArray=void 0;var n=r(19901),i=r(65229),o=function(e,t){return e.push(t),e};t.toArray=function(){return i.operate(function(e,t){n.reduce(o,[])(e).subscribe(t)})}},63421:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.window=void 0;var n=r(23141),i=r(65229),o=r(59854),a=r(2752),s=r(25287);t.window=function(e){return i.operate(function(t,r){var i=new n.Subject;r.next(i.asObservable());var l=function(e){i.error(e),r.error(e)};return t.subscribe(o.createOperatorSubscriber(r,function(e){return null==i?void 0:i.next(e)},function(){i.complete(),r.complete()},l)),s.innerFrom(e).subscribe(o.createOperatorSubscriber(r,function(){i.complete(),r.next(i=new n.Subject)},a.noop,l)),function(){null==i||i.unsubscribe(),i=null}})}},31305:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowCount=void 0;var i=r(23141),o=r(65229),a=r(59854);t.windowCount=function(e,t){void 0===t&&(t=0);var r=t>0?t:e;return o.operate(function(t,o){var s=[new i.Subject],l=0;o.next(s[0].asObservable()),t.subscribe(a.createOperatorSubscriber(o,function(t){try{for(var a,u,c=n(s),f=c.next();!f.done;f=c.next())f.value.next(t)}catch(e){a={error:e}}finally{try{f&&!f.done&&(u=c.return)&&u.call(c)}finally{if(a)throw a.error}}var d=l-e+1;if(d>=0&&d%r==0&&s.shift().complete(),++l%r==0){var p=new i.Subject;s.push(p),o.next(p.asObservable())}},function(){for(;s.length>0;)s.shift().complete();o.complete()},function(e){for(;s.length>0;)s.shift().error(e);o.error(e)},function(){s=null}))})}},60322:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.windowTime=void 0;var n=r(23141),i=r(3459),o=r(25453),a=r(65229),s=r(59854),l=r(93013),u=r(31613),c=r(71805);t.windowTime=function(e){for(var t,r,f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var p=null!==(t=u.popScheduler(f))&&void 0!==t?t:i.asyncScheduler,h=null!==(r=f[0])&&void 0!==r?r:null,y=f[1]||1/0;return a.operate(function(t,r){var i=[],a=!1,u=function(e){var t=e.window,r=e.subs;t.complete(),r.unsubscribe(),l.arrRemove(i,e),a&&f()},f=function(){if(i){var t=new o.Subscription;r.add(t);var a=new n.Subject,s={window:a,subs:t,seen:0};i.push(s),r.next(a.asObservable()),c.executeSchedule(t,p,function(){return u(s)},e)}};null!==h&&h>=0?c.executeSchedule(r,p,f,h,!0):a=!0,f();var d=function(e){return i.slice().forEach(e)},b=function(e){d(function(t){return e(t.window)}),e(r),r.unsubscribe()};return t.subscribe(s.createOperatorSubscriber(r,function(e){d(function(t){t.window.next(e),y<=++t.seen&&u(t)})},function(){return b(function(e){return e.complete()})},function(e){return b(function(t){return t.error(e)})})),function(){i=null}})}},54315:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowToggle=void 0;var i=r(23141),o=r(25453),a=r(65229),s=r(25287),l=r(59854),u=r(2752),c=r(93013);t.windowToggle=function(e,t){return a.operate(function(r,a){var f=[],d=function(e){for(;0<f.length;)f.shift().error(e);a.error(e)};s.innerFrom(e).subscribe(l.createOperatorSubscriber(a,function(e){var r,n=new i.Subject;f.push(n);var p=new o.Subscription;try{r=s.innerFrom(t(e))}catch(e){d(e);return}a.next(n.asObservable()),p.add(r.subscribe(l.createOperatorSubscriber(a,function(){c.arrRemove(f,n),n.complete(),p.unsubscribe()},u.noop,d)))},u.noop)),r.subscribe(l.createOperatorSubscriber(a,function(e){var t,r,i=f.slice();try{for(var o=n(i),a=o.next();!a.done;a=o.next())a.value.next(e)}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},function(){for(;0<f.length;)f.shift().complete();a.complete()},d,function(){for(;0<f.length;)f.shift().unsubscribe()}))})}},7167:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.windowWhen=void 0;var n=r(23141),i=r(65229),o=r(59854),a=r(25287);t.windowWhen=function(e){return i.operate(function(t,r){var i,s,l=function(e){i.error(e),r.error(e)},u=function(){var t;null==s||s.unsubscribe(),null==i||i.complete(),i=new n.Subject,r.next(i.asObservable());try{t=a.innerFrom(e())}catch(e){l(e);return}t.subscribe(s=o.createOperatorSubscriber(r,u,u,l))};u(),t.subscribe(o.createOperatorSubscriber(r,function(e){return i.next(e)},function(){i.complete(),r.complete()},l,function(){null==s||s.unsubscribe(),i=null}))})}},5547:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.withLatestFrom=void 0;var o=r(65229),a=r(59854),s=r(25287),l=r(61490),u=r(2752),c=r(31613);t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=c.popResultSelector(e);return o.operate(function(t,o){for(var c=e.length,f=Array(c),d=e.map(function(){return!1}),p=!1,h=function(t){s.innerFrom(e[t]).subscribe(a.createOperatorSubscriber(o,function(e){f[t]=e,!p&&!d[t]&&(d[t]=!0,(p=d.every(l.identity))&&(d=null))},u.noop))},y=0;y<c;y++)h(y);t.subscribe(a.createOperatorSubscriber(o,function(e){if(p){var t=i([e],n(f));o.next(r?r.apply(void 0,i([],n(t))):t)}}))})}},7722:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var o=r(93810),a=r(65229);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.operate(function(t,r){o.zip.apply(void 0,i([t],n(e))).subscribe(r)})}},48513:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zipAll=void 0;var n=r(93810),i=r(54893);t.zipAll=function(e){return i.joinAllInternals(n.zip,e)}},65517:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zipWith=void 0;var o=r(7722);t.zipWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.zip.apply(void 0,i([],n(e)))}},21967:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleArray=void 0;var n=r(23199);t.scheduleArray=function(e,t){return new n.Observable(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}},46032:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleAsyncIterable=void 0;var n=r(23199),i=r(71805);t.scheduleAsyncIterable=function(e,t){if(!e)throw Error("Iterable cannot be null");return new n.Observable(function(r){i.executeSchedule(r,t,function(){var n=e[Symbol.asyncIterator]();i.executeSchedule(r,t,function(){n.next().then(function(e){e.done?r.complete():r.next(e.value)})},0,!0)})})}},57465:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleIterable=void 0;var n=r(23199),i=r(98474),o=r(48193),a=r(71805);t.scheduleIterable=function(e,t){return new n.Observable(function(r){var n;return a.executeSchedule(r,t,function(){n=e[i.iterator](),a.executeSchedule(r,t,function(){var e,t,i;try{t=(e=n.next()).value,i=e.done}catch(e){r.error(e);return}i?r.complete():r.next(t)},0,!0)}),function(){return o.isFunction(null==n?void 0:n.return)&&n.return()}})}},78212:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleObservable=void 0;var n=r(25287),i=r(63493),o=r(53498);t.scheduleObservable=function(e,t){return n.innerFrom(e).pipe(o.subscribeOn(t),i.observeOn(t))}},50717:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.schedulePromise=void 0;var n=r(25287),i=r(63493),o=r(53498);t.schedulePromise=function(e,t){return n.innerFrom(e).pipe(o.subscribeOn(t),i.observeOn(t))}},26620:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleReadableStreamLike=void 0;var n=r(46032),i=r(27161);t.scheduleReadableStreamLike=function(e,t){return n.scheduleAsyncIterable(i.readableStreamLikeToAsyncGenerator(e),t)}},2123:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduled=void 0;var n=r(78212),i=r(50717),o=r(21967),a=r(57465),s=r(46032),l=r(82223),u=r(88066),c=r(92962),f=r(67854),d=r(47845),p=r(1486),h=r(27161),y=r(26620);t.scheduled=function(e,t){if(null!=e){if(l.isInteropObservable(e))return n.scheduleObservable(e,t);if(c.isArrayLike(e))return o.scheduleArray(e,t);if(u.isPromise(e))return i.schedulePromise(e,t);if(d.isAsyncIterable(e))return s.scheduleAsyncIterable(e,t);if(f.isIterable(e))return a.scheduleIterable(e,t);if(h.isReadableStreamLike(e))return y.scheduleReadableStreamLike(e,t)}throw p.createInvalidObservableTypeError(e)}},92730:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;var o=function(e){function t(t,r){return e.call(this)||this}return i(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(r(25453).Subscription);t.Action=o},58584:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationFrameAction=void 0;var o=r(19588),a=r(36559),s=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return i(t,e),t.prototype.requestAsyncId=function(t,r,n){return(void 0===n&&(n=0),null!==n&&n>0)?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t._scheduled||(t._scheduled=a.animationFrameProvider.requestAnimationFrame(function(){return t.flush(void 0)})))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!=n?n>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);var i,o=t.actions;null!=r&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==r&&(a.animationFrameProvider.cancelAnimationFrame(r),t._scheduled=void 0)},t}(o.AsyncAction);t.AnimationFrameAction=s},96863:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationFrameScheduler=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.flush=function(e){this._active=!0;var t,r=this._scheduled;this._scheduled=void 0;var n=this.actions;e=e||n.shift();do if(t=e.execute(e.state,e.delay))break;while((e=n[0])&&e.id===r&&n.shift());if(this._active=!1,t){for(;(e=n[0])&&e.id===r&&n.shift();)e.unsubscribe();throw t}},t}(r(99904).AsyncScheduler);t.AnimationFrameScheduler=o},75304:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsapAction=void 0;var o=r(19588),a=r(35871),s=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return i(t,e),t.prototype.requestAsyncId=function(t,r,n){return(void 0===n&&(n=0),null!==n&&n>0)?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t._scheduled||(t._scheduled=a.immediateProvider.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!=n?n>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);var i,o=t.actions;null!=r&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==r&&(a.immediateProvider.clearImmediate(r),t._scheduled===r&&(t._scheduled=void 0))},t}(o.AsyncAction);t.AsapAction=s},80002:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsapScheduler=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.flush=function(e){this._active=!0;var t,r=this._scheduled;this._scheduled=void 0;var n=this.actions;e=e||n.shift();do if(t=e.execute(e.state,e.delay))break;while((e=n[0])&&e.id===r&&n.shift());if(this._active=!1,t){for(;(e=n[0])&&e.id===r&&n.shift();)e.unsubscribe();throw t}},t}(r(99904).AsyncScheduler);t.AsapScheduler=o},19588:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncAction=void 0;var o=r(92730),a=r(35988),s=r(93013),l=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return i(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r,n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),a.intervalProvider.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&a.intervalProvider.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(e){n=!0,r=e||Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,s.arrRemove(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(o.Action);t.AsyncAction=l},99904:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncScheduler=void 0;var o=r(42847),a=function(e){function t(t,r){void 0===r&&(r=o.Scheduler.now);var n=e.call(this,t,r)||this;return n.actions=[],n._active=!1,n}return i(t,e),t.prototype.flush=function(e){var t,r=this.actions;if(this._active){r.push(e);return}this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=r.shift());if(this._active=!1,t){for(;e=r.shift();)e.unsubscribe();throw t}},t}(o.Scheduler);t.AsyncScheduler=a},82421:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.QueueAction=void 0;var o=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return i(t,e),t.prototype.schedule=function(t,r){return(void 0===r&&(r=0),r>0)?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,n){return(void 0===n&&(n=0),null!=n&&n>0||null==n&&this.delay>0)?e.prototype.requestAsyncId.call(this,t,r,n):(t.flush(this),0)},t}(r(19588).AsyncAction);t.QueueAction=o},42373:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.QueueScheduler=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r(99904).AsyncScheduler);t.QueueScheduler=o},19637:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualAction=t.VirtualTimeScheduler=void 0;var o=r(19588),a=r(25453),s=function(e){function t(t,r){void 0===t&&(t=l),void 0===r&&(r=1/0);var n=e.call(this,t,function(){return n.frame})||this;return n.maxFrames=r,n.frame=0,n.index=-1,n}return i(t,e),t.prototype.flush=function(){for(var e,t,r=this.actions,n=this.maxFrames;(t=r[0])&&t.delay<=n&&(r.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(r(99904).AsyncScheduler);t.VirtualTimeScheduler=s;var l=function(e){function t(t,r,n){void 0===n&&(n=t.index+=1);var i=e.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.index=n,i.active=!0,i.index=t.index=n,i}return i(t,e),t.prototype.schedule=function(r,n){if(void 0===n&&(n=0),!Number.isFinite(n))return a.Subscription.EMPTY;if(!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},t.prototype.requestAsyncId=function(e,r,n){void 0===n&&(n=0),this.delay=e.frame+n;var i=e.actions;return i.push(this),i.sort(t.sortActions),1},t.prototype.recycleAsyncId=function(e,t,r){void 0===r&&(r=0)},t.prototype._execute=function(t,r){if(!0===this.active)return e.prototype._execute.call(this,t,r)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(o.AsyncAction);t.VirtualAction=l},8610:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrame=t.animationFrameScheduler=void 0;var n=r(58584),i=r(96863);t.animationFrameScheduler=new i.AnimationFrameScheduler(n.AnimationFrameAction),t.animationFrame=t.animationFrameScheduler},36559:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrameProvider=void 0;var o=r(25453);t.animationFrameProvider={schedule:function(e){var r=requestAnimationFrame,n=cancelAnimationFrame,i=t.animationFrameProvider.delegate;i&&(r=i.requestAnimationFrame,n=i.cancelAnimationFrame);var a=r(function(t){n=void 0,e(t)});return new o.Subscription(function(){return null==n?void 0:n(a)})},requestAnimationFrame:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=t.animationFrameProvider.delegate;return((null==o?void 0:o.requestAnimationFrame)||requestAnimationFrame).apply(void 0,i([],n(e)))},cancelAnimationFrame:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=t.animationFrameProvider.delegate;return((null==o?void 0:o.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,i([],n(e)))},delegate:void 0}},49401:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asap=t.asapScheduler=void 0;var n=r(75304),i=r(80002);t.asapScheduler=new i.AsapScheduler(n.AsapAction),t.asap=t.asapScheduler},3459:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.async=t.asyncScheduler=void 0;var n=r(19588),i=r(99904);t.asyncScheduler=new i.AsyncScheduler(n.AsyncAction),t.async=t.asyncScheduler},1620:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dateTimestampProvider=void 0,t.dateTimestampProvider={now:function(){return(t.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},35871:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.immediateProvider=void 0;var o=r(91201),a=o.Immediate.setImmediate,s=o.Immediate.clearImmediate;t.immediateProvider={setImmediate:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=t.immediateProvider.delegate;return((null==o?void 0:o.setImmediate)||a).apply(void 0,i([],n(e)))},clearImmediate:function(e){var r=t.immediateProvider.delegate;return((null==r?void 0:r.clearImmediate)||s)(e)},delegate:void 0}},35988:function(e,t){"use strict";var r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.intervalProvider=void 0,t.intervalProvider={setInterval:function(e,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var s=t.intervalProvider.delegate;return(null==s?void 0:s.setInterval)?s.setInterval.apply(s,n([e,i],r(o))):setInterval.apply(void 0,n([e,i],r(o)))},clearInterval:function(e){var r=t.intervalProvider.delegate;return((null==r?void 0:r.clearInterval)||clearInterval)(e)},delegate:void 0}},44958:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.performanceTimestampProvider=void 0,t.performanceTimestampProvider={now:function(){return(t.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}},65382:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queue=t.queueScheduler=void 0;var n=r(82421),i=r(42373);t.queueScheduler=new i.QueueScheduler(n.QueueAction),t.queue=t.queueScheduler},62823:function(e,t){"use strict";var r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutProvider=void 0,t.timeoutProvider={setTimeout:function(e,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var s=t.timeoutProvider.delegate;return(null==s?void 0:s.setTimeout)?s.setTimeout.apply(s,n([e,i],r(o))):setTimeout.apply(void 0,n([e,i],r(o)))},clearTimeout:function(e){var r=t.timeoutProvider.delegate;return((null==r?void 0:r.clearTimeout)||clearTimeout)(e)},delegate:void 0}},98474:(e,t)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(t,"__esModule",{value:!0}),t.iterator=t.getSymbolIterator=void 0,t.getSymbolIterator=r,t.iterator=r()},95833:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observable=void 0,t.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},8983:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},50376:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArgumentOutOfRangeError=void 0;var n=r(10659);t.ArgumentOutOfRangeError=n.createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})},5245:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyError=void 0;var n=r(10659);t.EmptyError=n.createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}})},91201:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestTools=t.Immediate=void 0;var r,n=1,i={};function o(e){return e in i&&(delete i[e],!0)}t.Immediate={setImmediate:function(e){var t=n++;return i[t]=!0,r||(r=Promise.resolve()),r.then(function(){return o(t)&&e()}),t},clearImmediate:function(e){o(e)}},t.TestTools={pending:function(){return Object.keys(i).length}}},83505:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotFoundError=void 0;var n=r(10659);t.NotFoundError=n.createErrorClass(function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}})},13331:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectUnsubscribedError=void 0;var n=r(10659);t.ObjectUnsubscribedError=n.createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})},74520:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SequenceError=void 0;var n=r(10659);t.SequenceError=n.createErrorClass(function(e){return function(t){e(this),this.name="SequenceError",this.message=t}})},11251:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnsubscriptionError=void 0;var n=r(10659);t.UnsubscriptionError=n.createErrorClass(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}})},31613:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.popNumber=t.popScheduler=t.popResultSelector=void 0;var n=r(48193),i=r(28728);function o(e){return e[e.length-1]}t.popResultSelector=function(e){return n.isFunction(o(e))?e.pop():void 0},t.popScheduler=function(e){return i.isScheduler(o(e))?e.pop():void 0},t.popNumber=function(e,t){return"number"==typeof o(e)?e.pop():t}},71944:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.argsArgArrayOrObject=void 0;var r=Array.isArray,n=Object.getPrototypeOf,i=Object.prototype,o=Object.keys;t.argsArgArrayOrObject=function(e){if(1===e.length){var t=e[0];if(r(t))return{args:t,keys:null};if(t&&"object"==typeof t&&n(t)===i){var a=o(t);return{args:a.map(function(e){return t[e]}),keys:a}}}return{args:e,keys:null}}},82440:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.argsOrArgArray=void 0;var r=Array.isArray;t.argsOrArgArray=function(e){return 1===e.length&&r(e[0])?e[0]:e}},93013:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrRemove=void 0,t.arrRemove=function(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}},10659:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createErrorClass=void 0,t.createErrorClass=function(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}},31240:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createObject=void 0,t.createObject=function(e,t){return e.reduce(function(e,r,n){return e[r]=t[n],e},{})}},39154:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.captureError=t.errorContext=void 0;var n=r(14990),i=null;t.errorContext=function(e){if(n.config.useDeprecatedSynchronousErrorHandling){var t=!i;if(t&&(i={errorThrown:!1,error:null}),e(),t){var r=i,o=r.errorThrown,a=r.error;if(i=null,o)throw a}}else e()},t.captureError=function(e){n.config.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=e)}},71805:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.executeSchedule=void 0,t.executeSchedule=function(e,t,r,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var o=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}},61490:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.identity=void 0,t.identity=function(e){return e}},92962:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArrayLike=void 0,t.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},47845:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=void 0;var n=r(48193);t.isAsyncIterable=function(e){return Symbol.asyncIterator&&n.isFunction(null==e?void 0:e[Symbol.asyncIterator])}},12677:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidDate=void 0,t.isValidDate=function(e){return e instanceof Date&&!isNaN(e)}},48193:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=void 0,t.isFunction=function(e){return"function"==typeof e}},82223:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInteropObservable=void 0;var n=r(95833),i=r(48193);t.isInteropObservable=function(e){return i.isFunction(e[n.observable])}},67854:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIterable=void 0;var n=r(98474),i=r(48193);t.isIterable=function(e){return i.isFunction(null==e?void 0:e[n.iterator])}},59295:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObservable=void 0;var n=r(23199),i=r(48193);t.isObservable=function(e){return!!e&&(e instanceof n.Observable||i.isFunction(e.lift)&&i.isFunction(e.subscribe))}},88066:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPromise=void 0;var n=r(48193);t.isPromise=function(e){return n.isFunction(null==e?void 0:e.then)}},27161:function(e,t,r){"use strict";var n=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=this&&this.__await||function(e){return this instanceof i?(this.v=e,this):new i(e)},o=this&&this.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),a=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){o[e]&&(n[e]=function(t){return new Promise(function(r,n){a.push([e,t,r,n])>1||l(e,t)})})}function l(e,t){try{var r;(r=o[e](t)).value instanceof i?Promise.resolve(r.value.v).then(u,c):f(a[0][2],r)}catch(e){f(a[0][3],e)}}function u(e){l("next",e)}function c(e){l("throw",e)}function f(e,t){e(t),a.shift(),a.length&&l(a[0][0],a[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.isReadableStreamLike=t.readableStreamLikeToAsyncGenerator=void 0;var a=r(48193);t.readableStreamLikeToAsyncGenerator=function(e){return o(this,arguments,function(){var t,r,o;return n(this,function(n){switch(n.label){case 0:t=e.getReader(),n.label=1;case 1:n.trys.push([1,,9,10]),n.label=2;case 2:return[4,i(t.read())];case 3:if(o=(r=n.sent()).value,!r.done)return[3,5];return[4,i(void 0)];case 4:return[2,n.sent()];case 5:return[4,i(o)];case 6:return[4,n.sent()];case 7:return n.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})},t.isReadableStreamLike=function(e){return a.isFunction(null==e?void 0:e.getReader)}},28728:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isScheduler=void 0;var n=r(48193);t.isScheduler=function(e){return e&&n.isFunction(e.schedule)}},65229:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.operate=t.hasLift=void 0;var n=r(48193);function i(e){return n.isFunction(null==e?void 0:e.lift)}t.hasLift=i,t.operate=function(e){return function(t){if(i(t))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}},39381:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mapOneOrManyArgs=void 0;var o=r(52311),a=Array.isArray;t.mapOneOrManyArgs=function(e){return o.map(function(t){return a(t)?e.apply(void 0,i([],n(t))):e(t)})}},2752:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noop=void 0,t.noop=function(){}},80293:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.not=void 0,t.not=function(e,t){return function(r,n){return!e.call(t,r,n)}}},64092:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pipeFromArray=t.pipe=void 0;var n=r(61490);function i(e){return 0===e.length?n.identity:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)},t.pipeFromArray=i},36304:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportUnhandledError=void 0;var n=r(14990),i=r(62823);t.reportUnhandledError=function(e){i.timeoutProvider.setTimeout(function(){var t=n.config.onUnhandledError;if(t)t(e);else throw e})}},1486:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInvalidObservableTypeError=void 0,t.createInvalidObservableTypeError=function(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},44627:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAll=t.merge=t.max=t.materialize=t.mapTo=t.map=t.last=t.isEmpty=t.ignoreElements=t.groupBy=t.first=t.findIndex=t.find=t.finalize=t.filter=t.expand=t.exhaustMap=t.exhaustAll=t.exhaust=t.every=t.endWith=t.elementAt=t.distinctUntilKeyChanged=t.distinctUntilChanged=t.distinct=t.dematerialize=t.delayWhen=t.delay=t.defaultIfEmpty=t.debounceTime=t.debounce=t.count=t.connect=t.concatWith=t.concatMapTo=t.concatMap=t.concatAll=t.concat=t.combineLatestWith=t.combineLatest=t.combineLatestAll=t.combineAll=t.catchError=t.bufferWhen=t.bufferToggle=t.bufferTime=t.bufferCount=t.buffer=t.auditTime=t.audit=void 0,t.timeInterval=t.throwIfEmpty=t.throttleTime=t.throttle=t.tap=t.takeWhile=t.takeUntil=t.takeLast=t.take=t.switchScan=t.switchMapTo=t.switchMap=t.switchAll=t.subscribeOn=t.startWith=t.skipWhile=t.skipUntil=t.skipLast=t.skip=t.single=t.shareReplay=t.share=t.sequenceEqual=t.scan=t.sampleTime=t.sample=t.refCount=t.retryWhen=t.retry=t.repeatWhen=t.repeat=t.reduce=t.raceWith=t.race=t.publishReplay=t.publishLast=t.publishBehavior=t.publish=t.pluck=t.partition=t.pairwise=t.onErrorResumeNext=t.observeOn=t.multicast=t.min=t.mergeWith=t.mergeScan=t.mergeMapTo=t.mergeMap=t.flatMap=void 0,t.zipWith=t.zipAll=t.zip=t.withLatestFrom=t.windowWhen=t.windowToggle=t.windowTime=t.windowCount=t.window=t.toArray=t.timestamp=t.timeoutWith=t.timeout=void 0;var n=r(22066);Object.defineProperty(t,"audit",{enumerable:!0,get:function(){return n.audit}});var i=r(30341);Object.defineProperty(t,"auditTime",{enumerable:!0,get:function(){return i.auditTime}});var o=r(72782);Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return o.buffer}});var a=r(78717);Object.defineProperty(t,"bufferCount",{enumerable:!0,get:function(){return a.bufferCount}});var s=r(43436);Object.defineProperty(t,"bufferTime",{enumerable:!0,get:function(){return s.bufferTime}});var l=r(46465);Object.defineProperty(t,"bufferToggle",{enumerable:!0,get:function(){return l.bufferToggle}});var u=r(64695);Object.defineProperty(t,"bufferWhen",{enumerable:!0,get:function(){return u.bufferWhen}});var c=r(27365);Object.defineProperty(t,"catchError",{enumerable:!0,get:function(){return c.catchError}});var f=r(79026);Object.defineProperty(t,"combineAll",{enumerable:!0,get:function(){return f.combineAll}});var d=r(57151);Object.defineProperty(t,"combineLatestAll",{enumerable:!0,get:function(){return d.combineLatestAll}});var p=r(1341);Object.defineProperty(t,"combineLatest",{enumerable:!0,get:function(){return p.combineLatest}});var h=r(52606);Object.defineProperty(t,"combineLatestWith",{enumerable:!0,get:function(){return h.combineLatestWith}});var y=r(49946);Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return y.concat}});var b=r(41602);Object.defineProperty(t,"concatAll",{enumerable:!0,get:function(){return b.concatAll}});var g=r(27997);Object.defineProperty(t,"concatMap",{enumerable:!0,get:function(){return g.concatMap}});var m=r(82217);Object.defineProperty(t,"concatMapTo",{enumerable:!0,get:function(){return m.concatMapTo}});var v=r(32353);Object.defineProperty(t,"concatWith",{enumerable:!0,get:function(){return v.concatWith}});var _=r(25034);Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return _.connect}});var O=r(91402);Object.defineProperty(t,"count",{enumerable:!0,get:function(){return O.count}});var w=r(34511);Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return w.debounce}});var S=r(20790);Object.defineProperty(t,"debounceTime",{enumerable:!0,get:function(){return S.debounceTime}});var E=r(39124);Object.defineProperty(t,"defaultIfEmpty",{enumerable:!0,get:function(){return E.defaultIfEmpty}});var x=r(95745);Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return x.delay}});var P=r(89737);Object.defineProperty(t,"delayWhen",{enumerable:!0,get:function(){return P.delayWhen}});var j=r(76088);Object.defineProperty(t,"dematerialize",{enumerable:!0,get:function(){return j.dematerialize}});var T=r(59757);Object.defineProperty(t,"distinct",{enumerable:!0,get:function(){return T.distinct}});var k=r(38620);Object.defineProperty(t,"distinctUntilChanged",{enumerable:!0,get:function(){return k.distinctUntilChanged}});var C=r(84742);Object.defineProperty(t,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return C.distinctUntilKeyChanged}});var A=r(81943);Object.defineProperty(t,"elementAt",{enumerable:!0,get:function(){return A.elementAt}});var R=r(78596);Object.defineProperty(t,"endWith",{enumerable:!0,get:function(){return R.endWith}});var M=r(64385);Object.defineProperty(t,"every",{enumerable:!0,get:function(){return M.every}});var I=r(80406);Object.defineProperty(t,"exhaust",{enumerable:!0,get:function(){return I.exhaust}});var N=r(80115);Object.defineProperty(t,"exhaustAll",{enumerable:!0,get:function(){return N.exhaustAll}});var L=r(92464);Object.defineProperty(t,"exhaustMap",{enumerable:!0,get:function(){return L.exhaustMap}});var D=r(70045);Object.defineProperty(t,"expand",{enumerable:!0,get:function(){return D.expand}});var z=r(4079);Object.defineProperty(t,"filter",{enumerable:!0,get:function(){return z.filter}});var F=r(15378);Object.defineProperty(t,"finalize",{enumerable:!0,get:function(){return F.finalize}});var B=r(3604);Object.defineProperty(t,"find",{enumerable:!0,get:function(){return B.find}});var U=r(46711);Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return U.findIndex}});var W=r(10759);Object.defineProperty(t,"first",{enumerable:!0,get:function(){return W.first}});var Z=r(34725);Object.defineProperty(t,"groupBy",{enumerable:!0,get:function(){return Z.groupBy}});var V=r(28198);Object.defineProperty(t,"ignoreElements",{enumerable:!0,get:function(){return V.ignoreElements}});var q=r(12236);Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return q.isEmpty}});var $=r(82101);Object.defineProperty(t,"last",{enumerable:!0,get:function(){return $.last}});var H=r(52311);Object.defineProperty(t,"map",{enumerable:!0,get:function(){return H.map}});var G=r(93918);Object.defineProperty(t,"mapTo",{enumerable:!0,get:function(){return G.mapTo}});var Y=r(543);Object.defineProperty(t,"materialize",{enumerable:!0,get:function(){return Y.materialize}});var K=r(92767);Object.defineProperty(t,"max",{enumerable:!0,get:function(){return K.max}});var X=r(55402);Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return X.merge}});var Q=r(54435);Object.defineProperty(t,"mergeAll",{enumerable:!0,get:function(){return Q.mergeAll}});var J=r(76064);Object.defineProperty(t,"flatMap",{enumerable:!0,get:function(){return J.flatMap}});var ee=r(27444);Object.defineProperty(t,"mergeMap",{enumerable:!0,get:function(){return ee.mergeMap}});var et=r(18916);Object.defineProperty(t,"mergeMapTo",{enumerable:!0,get:function(){return et.mergeMapTo}});var er=r(84061);Object.defineProperty(t,"mergeScan",{enumerable:!0,get:function(){return er.mergeScan}});var en=r(80343);Object.defineProperty(t,"mergeWith",{enumerable:!0,get:function(){return en.mergeWith}});var ei=r(11789);Object.defineProperty(t,"min",{enumerable:!0,get:function(){return ei.min}});var eo=r(64417);Object.defineProperty(t,"multicast",{enumerable:!0,get:function(){return eo.multicast}});var ea=r(63493);Object.defineProperty(t,"observeOn",{enumerable:!0,get:function(){return ea.observeOn}});var es=r(9804);Object.defineProperty(t,"onErrorResumeNext",{enumerable:!0,get:function(){return es.onErrorResumeNext}});var el=r(60200);Object.defineProperty(t,"pairwise",{enumerable:!0,get:function(){return el.pairwise}});var eu=r(56850);Object.defineProperty(t,"partition",{enumerable:!0,get:function(){return eu.partition}});var ec=r(26301);Object.defineProperty(t,"pluck",{enumerable:!0,get:function(){return ec.pluck}});var ef=r(89429);Object.defineProperty(t,"publish",{enumerable:!0,get:function(){return ef.publish}});var ed=r(31711);Object.defineProperty(t,"publishBehavior",{enumerable:!0,get:function(){return ed.publishBehavior}});var ep=r(40454);Object.defineProperty(t,"publishLast",{enumerable:!0,get:function(){return ep.publishLast}});var eh=r(78982);Object.defineProperty(t,"publishReplay",{enumerable:!0,get:function(){return eh.publishReplay}});var ey=r(69621);Object.defineProperty(t,"race",{enumerable:!0,get:function(){return ey.race}});var eb=r(11785);Object.defineProperty(t,"raceWith",{enumerable:!0,get:function(){return eb.raceWith}});var eg=r(19901);Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return eg.reduce}});var em=r(9410);Object.defineProperty(t,"repeat",{enumerable:!0,get:function(){return em.repeat}});var ev=r(89638);Object.defineProperty(t,"repeatWhen",{enumerable:!0,get:function(){return ev.repeatWhen}});var e_=r(3555);Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return e_.retry}});var eO=r(32655);Object.defineProperty(t,"retryWhen",{enumerable:!0,get:function(){return eO.retryWhen}});var ew=r(66349);Object.defineProperty(t,"refCount",{enumerable:!0,get:function(){return ew.refCount}});var eS=r(57996);Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return eS.sample}});var eE=r(68432);Object.defineProperty(t,"sampleTime",{enumerable:!0,get:function(){return eE.sampleTime}});var ex=r(2539);Object.defineProperty(t,"scan",{enumerable:!0,get:function(){return ex.scan}});var eP=r(33121);Object.defineProperty(t,"sequenceEqual",{enumerable:!0,get:function(){return eP.sequenceEqual}});var ej=r(72023);Object.defineProperty(t,"share",{enumerable:!0,get:function(){return ej.share}});var eT=r(1405);Object.defineProperty(t,"shareReplay",{enumerable:!0,get:function(){return eT.shareReplay}});var ek=r(59247);Object.defineProperty(t,"single",{enumerable:!0,get:function(){return ek.single}});var eC=r(28072);Object.defineProperty(t,"skip",{enumerable:!0,get:function(){return eC.skip}});var eA=r(59114);Object.defineProperty(t,"skipLast",{enumerable:!0,get:function(){return eA.skipLast}});var eR=r(5463);Object.defineProperty(t,"skipUntil",{enumerable:!0,get:function(){return eR.skipUntil}});var eM=r(41920);Object.defineProperty(t,"skipWhile",{enumerable:!0,get:function(){return eM.skipWhile}});var eI=r(31956);Object.defineProperty(t,"startWith",{enumerable:!0,get:function(){return eI.startWith}});var eN=r(53498);Object.defineProperty(t,"subscribeOn",{enumerable:!0,get:function(){return eN.subscribeOn}});var eL=r(62707);Object.defineProperty(t,"switchAll",{enumerable:!0,get:function(){return eL.switchAll}});var eD=r(13676);Object.defineProperty(t,"switchMap",{enumerable:!0,get:function(){return eD.switchMap}});var ez=r(20397);Object.defineProperty(t,"switchMapTo",{enumerable:!0,get:function(){return ez.switchMapTo}});var eF=r(61055);Object.defineProperty(t,"switchScan",{enumerable:!0,get:function(){return eF.switchScan}});var eB=r(18);Object.defineProperty(t,"take",{enumerable:!0,get:function(){return eB.take}});var eU=r(7090);Object.defineProperty(t,"takeLast",{enumerable:!0,get:function(){return eU.takeLast}});var eW=r(98425);Object.defineProperty(t,"takeUntil",{enumerable:!0,get:function(){return eW.takeUntil}});var eZ=r(54711);Object.defineProperty(t,"takeWhile",{enumerable:!0,get:function(){return eZ.takeWhile}});var eV=r(72770);Object.defineProperty(t,"tap",{enumerable:!0,get:function(){return eV.tap}});var eq=r(3071);Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return eq.throttle}});var e$=r(45467);Object.defineProperty(t,"throttleTime",{enumerable:!0,get:function(){return e$.throttleTime}});var eH=r(64192);Object.defineProperty(t,"throwIfEmpty",{enumerable:!0,get:function(){return eH.throwIfEmpty}});var eG=r(10239);Object.defineProperty(t,"timeInterval",{enumerable:!0,get:function(){return eG.timeInterval}});var eY=r(71934);Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){return eY.timeout}});var eK=r(82637);Object.defineProperty(t,"timeoutWith",{enumerable:!0,get:function(){return eK.timeoutWith}});var eX=r(19611);Object.defineProperty(t,"timestamp",{enumerable:!0,get:function(){return eX.timestamp}});var eQ=r(81164);Object.defineProperty(t,"toArray",{enumerable:!0,get:function(){return eQ.toArray}});var eJ=r(63421);Object.defineProperty(t,"window",{enumerable:!0,get:function(){return eJ.window}});var e0=r(31305);Object.defineProperty(t,"windowCount",{enumerable:!0,get:function(){return e0.windowCount}});var e1=r(60322);Object.defineProperty(t,"windowTime",{enumerable:!0,get:function(){return e1.windowTime}});var e2=r(54315);Object.defineProperty(t,"windowToggle",{enumerable:!0,get:function(){return e2.windowToggle}});var e5=r(7167);Object.defineProperty(t,"windowWhen",{enumerable:!0,get:function(){return e5.windowWhen}});var e4=r(5547);Object.defineProperty(t,"withLatestFrom",{enumerable:!0,get:function(){return e4.withLatestFrom}});var e3=r(7722);Object.defineProperty(t,"zip",{enumerable:!0,get:function(){return e3.zip}});var e6=r(48513);Object.defineProperty(t,"zipAll",{enumerable:!0,get:function(){return e6.zipAll}});var e8=r(65517);Object.defineProperty(t,"zipWith",{enumerable:!0,get:function(){return e8.zipWith}})},21607:(e,t,r)=>{var n=r(15313),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},23457:(e,t,r)=>{"use strict";var n=r(21607).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=f,t=3;break;default:this.write=d,this.end=p;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,""}}(this,e,0);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},35088:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return l.default}});var n=d(r(49576)),i=d(r(93377)),o=d(r(70703)),a=d(r(73681)),s=d(r(47112)),l=d(r(10997)),u=d(r(29783)),c=d(r(29483)),f=d(r(9283));function d(e){return e&&e.__esModule?e:{default:e}}},24688:(e,t)=>{"use strict";function r(e){return(e+64>>>9<<4)+14+1}function n(e,t){let r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function i(e,t,r,i,o,a){var s;return n((s=n(n(t,e),n(i,a)))<<o|s>>>32-o,r)}function o(e,t,r,n,o,a,s){return i(t&r|~t&n,e,t,o,a,s)}function a(e,t,r,n,o,a,s){return i(t&n|r&~n,e,t,o,a,s)}function s(e,t,r,n,o,a,s){return i(t^r^n,e,t,o,a,s)}function l(e,t,r,n,o,a,s){return i(r^(t|~n),e,t,o,a,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){if("string"==typeof e){let t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){let t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){let r=e[i>>5]>>>i%32&255,o=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;let i=0x67452301,u=-0x10325477,c=-0x67452302,f=0x10325476;for(let t=0;t<e.length;t+=16){let r=i,d=u,p=c,h=f;i=o(i,u,c,f,e[t],7,-0x28955b88),f=o(f,i,u,c,e[t+1],12,-0x173848aa),c=o(c,f,i,u,e[t+2],17,0x242070db),u=o(u,c,f,i,e[t+3],22,-0x3e423112),i=o(i,u,c,f,e[t+4],7,-0xa83f051),f=o(f,i,u,c,e[t+5],12,0x4787c62a),c=o(c,f,i,u,e[t+6],17,-0x57cfb9ed),u=o(u,c,f,i,e[t+7],22,-0x2b96aff),i=o(i,u,c,f,e[t+8],7,0x698098d8),f=o(f,i,u,c,e[t+9],12,-0x74bb0851),c=o(c,f,i,u,e[t+10],17,-42063),u=o(u,c,f,i,e[t+11],22,-0x76a32842),i=o(i,u,c,f,e[t+12],7,0x6b901122),f=o(f,i,u,c,e[t+13],12,-0x2678e6d),c=o(c,f,i,u,e[t+14],17,-0x5986bc72),u=o(u,c,f,i,e[t+15],22,0x49b40821),i=a(i,u,c,f,e[t+1],5,-0x9e1da9e),f=a(f,i,u,c,e[t+6],9,-0x3fbf4cc0),c=a(c,f,i,u,e[t+11],14,0x265e5a51),u=a(u,c,f,i,e[t],20,-0x16493856),i=a(i,u,c,f,e[t+5],5,-0x29d0efa3),f=a(f,i,u,c,e[t+10],9,0x2441453),c=a(c,f,i,u,e[t+15],14,-0x275e197f),u=a(u,c,f,i,e[t+4],20,-0x182c0438),i=a(i,u,c,f,e[t+9],5,0x21e1cde6),f=a(f,i,u,c,e[t+14],9,-0x3cc8f82a),c=a(c,f,i,u,e[t+3],14,-0xb2af279),u=a(u,c,f,i,e[t+8],20,0x455a14ed),i=a(i,u,c,f,e[t+13],5,-0x561c16fb),f=a(f,i,u,c,e[t+2],9,-0x3105c08),c=a(c,f,i,u,e[t+7],14,0x676f02d9),u=a(u,c,f,i,e[t+12],20,-0x72d5b376),i=s(i,u,c,f,e[t+5],4,-378558),f=s(f,i,u,c,e[t+8],11,-0x788e097f),c=s(c,f,i,u,e[t+11],16,0x6d9d6122),u=s(u,c,f,i,e[t+14],23,-0x21ac7f4),i=s(i,u,c,f,e[t+1],4,-0x5b4115bc),f=s(f,i,u,c,e[t+4],11,0x4bdecfa9),c=s(c,f,i,u,e[t+7],16,-0x944b4a0),u=s(u,c,f,i,e[t+10],23,-0x41404390),i=s(i,u,c,f,e[t+13],4,0x289b7ec6),f=s(f,i,u,c,e[t],11,-0x155ed806),c=s(c,f,i,u,e[t+3],16,-0x2b10cf7b),u=s(u,c,f,i,e[t+6],23,0x4881d05),i=s(i,u,c,f,e[t+9],4,-0x262b2fc7),f=s(f,i,u,c,e[t+12],11,-0x1924661b),c=s(c,f,i,u,e[t+15],16,0x1fa27cf8),u=s(u,c,f,i,e[t+2],23,-0x3b53a99b),i=l(i,u,c,f,e[t],6,-0xbd6ddbc),f=l(f,i,u,c,e[t+7],10,0x432aff97),c=l(c,f,i,u,e[t+14],15,-0x546bdc59),u=l(u,c,f,i,e[t+5],21,-0x36c5fc7),i=l(i,u,c,f,e[t+12],6,0x655b59c3),f=l(f,i,u,c,e[t+3],10,-0x70f3336e),c=l(c,f,i,u,e[t+10],15,-1051523),u=l(u,c,f,i,e[t+1],21,-0x7a7ba22f),i=l(i,u,c,f,e[t+8],6,0x6fa87e4f),f=l(f,i,u,c,e[t+15],10,-0x1d31920),c=l(c,f,i,u,e[t+6],15,-0x5cfebcec),u=l(u,c,f,i,e[t+13],21,0x4e0811a1),i=l(i,u,c,f,e[t+4],6,-0x8ac817e),f=l(f,i,u,c,e[t+11],10,-0x42c50dcb),c=l(c,f,i,u,e[t+2],15,0x2ad7d2bb),u=l(u,c,f,i,e[t+9],21,-0x14792c6f),i=n(i,r),u=n(u,d),c=n(c,p),f=n(f,h)}return[i,u,c,f]}(function(e){if(0===e.length)return[];let t=8*e.length,n=new Uint32Array(r(t));for(let r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}},10009:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);t.default={randomUUID:r}},47112:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="00000000-0000-0000-0000-000000000000"},9283:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(29783));t.default=function(e){let t;if(!(0,n.default)(e))throw TypeError("Invalid UUID");let r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/0x10000000000&255,r[11]=t/0x100000000&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}},13031:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},18891:(e,t)=>{"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)};let n=new Uint8Array(16)},92278:(e,t)=>{"use strict";function r(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){let t=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6],n=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0];if("string"==typeof e){let t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);let i=Math.ceil((e.length/4+2)/16),o=Array(i);for(let t=0;t<i;++t){let r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];o[t]=r}o[i-1][14]=(e.length-1)*8/0x100000000,o[i-1][14]=Math.floor(o[i-1][14]),o[i-1][15]=(e.length-1)*8&0xffffffff;for(let e=0;e<i;++e){let i=new Uint32Array(80);for(let t=0;t<16;++t)i[t]=o[e][t];for(let e=16;e<80;++e)i[e]=r(i[e-3]^i[e-8]^i[e-14]^i[e-16],1);let a=n[0],s=n[1],l=n[2],u=n[3],c=n[4];for(let e=0;e<80;++e){let n=Math.floor(e/20),o=r(a,5)+function(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}(n,s,l,u)+c+t[n]+i[e]>>>0;c=u,u=l,l=r(s,30)>>>0,s=a,a=o}n[0]=n[0]+a>>>0,n[1]=n[1]+s>>>0,n[2]=n[2]+l>>>0,n[3]=n[3]+u>>>0,n[4]=n[4]+c>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}},29483:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=o;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(29783));let i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));function o(e,t=0){return i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]}t.default=function(e,t=0){let r=o(e,t);if(!(0,n.default)(r))throw TypeError("Stringified UUID is invalid");return r}},49576:(e,t,r)=>{"use strict";let n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(r(18891)),a=r(29483);let s=0,l=0;t.default=function(e,t,r){let u=t&&r||0,c=t||Array(16),f=(e=e||{}).node||n,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){let t=e.random||(e.rng||o.default)();null==f&&(f=n=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==d&&(d=i=(t[6]<<8|t[7])&16383)}let p=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:l+1,y=p-s+(h-l)/1e4;if(y<0&&void 0===e.clockseq&&(d=d+1&16383),(y<0||p>s)&&void 0===e.nsecs&&(h=0),h>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,l=h,i=d;let b=((0xfffffff&(p+=122192928e5))*1e4+h)%0x100000000;c[u++]=b>>>24&255,c[u++]=b>>>16&255,c[u++]=b>>>8&255,c[u++]=255&b;let g=p/0x100000000*1e4&0xfffffff;c[u++]=g>>>8&255,c[u++]=255&g,c[u++]=g>>>24&15|16,c[u++]=g>>>16&255,c[u++]=d>>>8|128,c[u++]=255&d;for(let e=0;e<6;++e)c[u+e]=f[e];return t||(0,a.unsafeStringify)(c)}},93377:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(43271)),i=o(r(24688));function o(e){return e&&e.__esModule?e:{default:e}}let a=(0,n.default)("v3",48,i.default);t.default=a},43271:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,r){function s(e,o,a,s){var l;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof o&&(o=(0,i.default)(o)),(null===(l=o)||void 0===l?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(o),u.set(e,o.length),(u=r(u))[6]=15&u[6]|t,u[8]=63&u[8]|128,a){s=s||0;for(let e=0;e<16;++e)a[s+e]=u[e];return a}return(0,n.unsafeStringify)(u)}try{s.name=e}catch(e){}return s.DNS=o,s.URL=a,s};var n=r(29483),i=function(e){return e&&e.__esModule?e:{default:e}}(r(9283));let o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=o;let a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=a},70703:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(10009)),i=a(r(18891)),o=r(29483);function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();let a=(e=e||{}).random||(e.rng||i.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=a[e];return t}return(0,o.unsafeStringify)(a)}},73681:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(43271)),i=o(r(92278));function o(e){return e&&e.__esModule?e:{default:e}}let a=(0,n.default)("v5",80,i.default);t.default=a},29783:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(13031));t.default=function(e){return"string"==typeof e&&n.default.test(e)}},10997:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(29783));t.default=function(e){if(!(0,n.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},94154:(e,t,r)=>{"use strict";r.d(t,{CR:()=>c,Jh:()=>l,XA:()=>u,ZT:()=>i,_T:()=>a,ev:()=>f,mG:()=>s,pi:()=>o});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function s(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})}function l(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function f(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError}}]);