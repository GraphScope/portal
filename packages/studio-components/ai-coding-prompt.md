# AI 辅助组件优化与开发协作 Prompt

## 组件优化指南

以下是一个用于指导 AI 助手优化 React 组件的 prompt 模板，基于我们在 `EditableText` 组件优化过程中的经验总结：

```
请帮我优化 [组件名称] 组件，重点关注以下几个方面：

1. 状态管理优化：
   - 合并相关状态到一个统一的状态对象中
   - 使用 TypeScript 接口定义状态类型
   - 确保状态更新逻辑清晰且一致

2. 性能优化：
   - 减少不必要的重渲染
   - 使用 useMemo 和 useCallback 优化函数和计算
   - 优化 useEffect 依赖项

3. 用户体验优化：
   - 增强视觉反馈
   - 优化交互体验
   - 确保无障碍性

4. 代码质量提升：
   - 添加清晰的类型定义
   - 添加详细的注释
   - 遵循一致的代码风格
   - 提取可复用的逻辑到自定义 hooks

5. 样式优化：
   - 使用设计系统的 token（如 Ant Design）
   - 确保响应式设计
   - 优化动画和过渡效果

6. 文档完善：
   - 创建中英文文档
   - 提供使用示例
   - 详细说明 API 和属性

请逐步优化，每次专注于一个方面，并在每次更改后等待我的反馈。
```

## 开发协作模式

以下是我们与 AI 助手协作开发的有效模式：

### 1. 渐进式优化

- 一次专注于一个方面的优化
- 每次更改后等待反馈
- 根据反馈调整优化方向

### 2. 代码审查流程

- AI 提供优化建议
- 开发者审查并给出反馈
- AI 根据反馈进行调整
- 最终确认后提交代码

### 3. 文档同步

- 代码更改与文档更新同步进行
- 确保中英文文档一致
- 提供详细的使用示例

### 4. Git 工作流

- 使用清晰的英文提交信息
- 遵循 conventional commits 规范
- 相关文件一起提交（组件代码、文档等）

## 实际案例：EditableText 组件优化

我们通过以下步骤优化了 `EditableText` 组件：

1. **状态管理优化**：

   - 将 `isHovered` 和 `textWidth` 合并到 `EditableTextState` 接口中
   - 使用 `setState` 统一管理状态更新

2. **视觉反馈增强**：

   - 使用 Ant Design 的 token 增强禁用状态视觉效果
   - 添加悬停效果
   - 优化编辑状态的视觉反馈

3. **代码结构优化**：

   - 提取样式逻辑到独立函数
   - 添加详细的类型定义和注释
   - 优化事件处理函数

4. **文档完善**：
   - 创建中英文文档
   - 提供使用示例
   - 详细说明 API 和属性

## 使用建议

1. **明确需求**：在开始优化前，明确说明需要优化的具体方面
2. **渐进式改进**：一次专注于一个方面，避免一次性做太多更改
3. **及时反馈**：对 AI 的每次更改给出及时反馈，指导优化方向
4. **保持一致性**：确保代码风格、文档格式和提交信息的一致性
5. **同步文档**：代码更改与文档更新同步进行

通过遵循这个 prompt 和协作模式，您可以更有效地利用 AI 助手优化组件，提高开发效率和代码质量。
