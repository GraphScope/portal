<!--
Demo Overview:

This demo implements two services:
1. HTTP API Service:
    - Built with Express.
    - Listens on port 3000.
    - Exposes an `/api` endpoint.
2. WebSocket Log Service:
    - Built with native WebSocket (no third-party libraries).
    - Listens on port 3002.
    - Pushes real-time logs generated by the API service to connected clients.

Usage Example:

- The server uses `createLoggerServer({ port: 3002 })` to start the log server.
- API requests to `/api?containerId=xxx` trigger log messages.
- The logger supports a Winston-compatible API (e.g., `logger.info`).

Client Behavior:

- Multiple clients can connect, each with a different `containerId`.
- Each client receives only the logs relevant to its `containerId`.
- Example:
  - Client 1 (`containerId=1111`) sees: "hello world", "hello 1111"
  - Client 2 (`containerId=2222`) sees: "hello world", "hello 2222"

Technical Notes:

- No third-party libraries for WebSocket or logging.
- All implementations use native Node.js and Express APIs for educational purposes.
- The logger API is designed to be compatible with Winston's interface.
-->

我想让你做一个demo：有两个服务，一个是 http API 服务，一个是 ws Log 服务。

- http API 服务请使用 express，端口 3000，监听 `/api` 接口
- ws Log 服务请使用原生websocket 实现，端口 3002，能够实时推送 API 服务产生的日志

期待的用法如下:

服务端：

```js
import { createLoggerServer } from './logger';

const logger = createLoggerServer({ port: 3002 });
// logger listen on 3002

app.get('/api', (req, res) => {
  const { containerId } = req.query;

  logger.info('hello world');
  logger.info(`hello ${containerId}`, { containerId });
});
```

客户端：

假设用户在前端页面开了两个页面，根据URL的containerId参数不通，分别在前端发起两个http的api请求，如下：

- http://localhost:3000/api?contaierId=1111
- http://localhost:3000/api?contaierId=2222

此时页面中的 LoggerView 区域，应该显示如下：

- 页面1： hello world hello 1111
- 页面2： hello world hello 2222

技术注意点：

- 请不要使用任何第三方库，比如：socket.io，express-ws，express-ws 等等，尽可能都适用原生技术，这有教学意义
- logger 的 api 可以和 Winston 兼容
- 考虑在 nginx 部署上，断连的情况处理
